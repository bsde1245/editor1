var Liquid={author:"M@ McCray <darthapo@gmail.com>",version:"1.2.1",readTemplateFile:function(){throw"This liquid context does not allow includes."},registerFilters:function(e){Liquid.Template.registerFilter(e)},parse:function(e){return Liquid.Template.parse(e)}};Array.prototype.indexOf||(Array.prototype.indexOf=function(e){for(var t=0;t<this.length;t++)if(this[t]==e)return t;return-1}),Array.prototype.clear||(Array.prototype.clear=function(){this.length=0}),Array.prototype.map||(Array.prototype.map=function(e){var t=this.length;if("function"!=typeof e)throw"Array.map requires first argument to be a function";for(var n=new Array(t),r=arguments[1],i=0;t>i;i++)i in this&&(n[i]=e.call(r,this[i],i,this));return n}),Array.prototype.first||(Array.prototype.first=function(){return this[0]}),Array.prototype.last||(Array.prototype.last=function(){return this[this.length-1]}),Array.prototype.flatten||(Array.prototype.flatten=function(){for(var e=this.length,t=[],n=0;e>n;n++)this[n]instanceof Array?t=t.concat(this[n]):t.push(this[n]);return t}),Array.prototype.each||(Array.prototype.each=function(e){var t=this.length;if("function"!=typeof e)throw"Array.each requires first argument to be a function";for(var n=arguments[1],r=0;t>r;r++)r in this&&e.call(n,this[r],r,this);return null}),Array.prototype.include||(Array.prototype.include=function(e){this.length;return this.indexOf(e)>=0}),String.prototype.capitalize||(String.prototype.capitalize=function(){return this.charAt(0).toUpperCase()+this.substring(1).toLowerCase()}),String.prototype.strip||(String.prototype.strip=function(){return this.replace(/^\s+/,"").replace(/\s+$/,"")}),Liquid.extensions={},Liquid.extensions.object={},Liquid.extensions.object.update=function(e){for(var t in e)this[t]=e[t];return this},Liquid.extensions.object.hasKey=function(e){return!!this[e]},Liquid.extensions.object.hasValue=function(e){for(var t in this)if(this[t]==e)return!0;return!1},function(){var e=!1,t=/xyz/.test(function(){})?/\b_super\b/:/.*/;this.Class=function(){},Class.extend=function(n){function r(){!e&&this.init&&this.init.apply(this,arguments)}var i=this.prototype;e=!0;var o=new this;e=!1;for(var a in n)o[a]="function"==typeof n[a]&&"function"==typeof i[a]&&t.test(n[a])?function(e,t){return function(){var n=this._super;this._super=i[e];var r=t.apply(this,arguments);return this._super=n,r}}(a,n[a]):n[a];return r.prototype=o,r.prototype.constructor=r,r.extend=arguments.callee,r}}(),Liquid.Tag=Class.extend({init:function(e,t,n){this.tagName=e,this.markup=t,this.nodelist=this.nodelist||[],this.parse(n)},parse:function(){},render:function(){return""}}),Liquid.Block=Liquid.Tag.extend({init:function(e,t,n){this.blockName=e,this.blockDelimiter="end"+this.blockName,this._super(e,t,n)},parse:function(e){this.nodelist||(this.nodelist=[]),this.nodelist.clear();var t=e.shift();for(e.push("");e.length;){if(/^\{\%/.test(t)){var n=t.match(/^\{\%\s*(\w+)\s*(.*)?\%\}$/);if(!n)throw"Tag '"+t+"' was not properly terminated with: %}";if(this.blockDelimiter==n[1])return this.endTag(),void 0;n[1]in Liquid.Template.tags?this.nodelist.push(new Liquid.Template.tags[n[1]](n[1],n[2],e)):this.unknownTag(n[1],n[2],e)}else/^\{\{/.test(t)?this.nodelist.push(this.createVariable(t)):this.nodelist.push(t);t=e.shift()}this.assertMissingDelimitation()},endTag:function(){},unknownTag:function(e){switch(e){case"else":throw this.blockName+" tag does not expect else tag";case"end":throw"'end' is not a valid delimiter for "+this.blockName+" tags. use "+this.blockDelimiter;default:throw"Unknown tag: "+e}},createVariable:function(e){var t=e.match(/^\{\{(.*)\}\}$/);if(t)return new Liquid.Variable(t[1]);throw"Variable '"+e+"' was not properly terminated with: }}"},render:function(e){return this.renderAll(this.nodelist,e)},renderAll:function(e,t){return(e||[]).map(function(e){var n="";try{n=e.render?e.render(t):e}catch(r){n=t.handleError(r)}return n})},assertMissingDelimitation:function(){throw this.blockName+" tag was never closed"}}),Liquid.Document=Liquid.Block.extend({init:function(e){this.blockDelimiter=[],this.parse(e)},assertMissingDelimitation:function(){}}),Liquid.Strainer=Class.extend({init:function(e){this.context=e},respondTo:function(e){return e=e.toString(),e.match(/^__/)?!1:Liquid.Strainer.requiredMethods.include(e)?!1:e in this}}),Liquid.Strainer.filters={},Liquid.Strainer.globalFilter=function(e){for(var t in e)Liquid.Strainer.filters[t]=e[t]},Liquid.Strainer.requiredMethods=["respondTo","context"],Liquid.Strainer.create=function(e){var t=new Liquid.Strainer(e);for(var n in Liquid.Strainer.filters)t[n]=Liquid.Strainer.filters[n];return t},Liquid.Context=Class.extend({init:function(e,t,n){this.scopes=[e?e:{}],this.registers=t?t:{},this.errors=[],this.rethrowErrors=n,this.strainer=Liquid.Strainer.create(this)},get:function(e){return this.resolve(e)},set:function(e,t){this.scopes[0][e]=t},hasKey:function(e){return this.resolve(e)?!0:!1},push:function(){var e={};return this.scopes.unshift(e),e},merge:function(e){return Liquid.extensions.object.update.call(this.scopes[0],e)},pop:function(){if(1==this.scopes.length)throw"Context stack error";return this.scopes.shift()},stack:function(e,t){var n=null;this.push();try{n=e.apply(t?t:this.strainer)}finally{this.pop()}return n},invoke:function(e,t){if(this.strainer.respondTo(e)){var n=this.strainer[e].apply(this.strainer,t);return n}return 0==t.length?null:t[0]},resolve:function(e){switch(e){case null:case"nil":case"null":case"":return null;case"true":return!0;case"false":return!1;case"blank":case"empty":return"";default:if(/^'(.*)'$/.test(e))return e.replace(/^'(.*)'$/,"$1");if(/^"(.*)"$/.test(e))return e.replace(/^"(.*)"$/,"$1");if(/^(\d+)$/.test(e))return parseInt(e.replace(/^(\d+)$/,"$1"));if(/^(\d[\d\.]+)$/.test(e))return parseFloat(e.replace(/^(\d[\d\.]+)$/,"$1"));if(/^\((\S+)\.\.(\S+)\)$/.test(e)){var t=e.match(/^\((\S+)\.\.(\S+)\)$/),n=parseInt(t[1]),r=parseInt(t[2]),i=[];if(isNaN(n)||isNaN(r)){n=t[1].charCodeAt(0),r=t[2].charCodeAt(0);for(var o=r-n+1,a=0;o>a;a++)i.push(String.fromCharCode(a+n))}else for(var o=r-n+1,a=0;o>a;a++)i.push(a+n);return i}var s=this.variable(e);return s}},findVariable:function(e){for(var t=0;t<this.scopes.length;t++){var n=this.scopes[t];if(n&&"undefined"!=typeof n[e]){var r=n[e];return"function"==typeof r&&(r=r.apply(this),n[e]=r),r&&this._isObject(r)&&"toLiquid"in r&&(r=r.toLiquid()),r&&this._isObject(r)&&"setContext"in r&&r.setContext(self),r}}return null},variable:function(e){if("string"!=typeof e)return null;var t=e.match(/\[[^\]]+\]|(?:[\w\-]\??)+/g),n=t.shift(),r=n.match(/^\[(.*)\]$/);r&&(n=this.resolve(r[1]));var i=this.findVariable(n),o=this;return i&&t.each(function(e){var t=e.match(/^\[(.*)\]$/);if(t){var e=o.resolve(t[1]);"function"==typeof i[e]&&(i[e]=i[e].apply(this)),i=i[e],o._isObject(i)&&"toLiquid"in i&&(i=i.toLiquid())}else{if((o._isObject(i)||"hash"==typeof i)&&e in i){var n=i[e];"function"==typeof n&&(n=i[e]=n.apply(o)),i=o._isObject(n)&&"toLiquid"in n?n.toLiquid():n}else if(/^\d+$/.test(e)){var r=parseInt(e);"function"==typeof i[r]&&(i[r]=i[r].apply(o)),i=o._isObject(i)&&o._isObject(i[r])&&"toLiquid"in i[r]?i[r].toLiquid():i[r]}else{if(!i||"function"!=typeof i[e]||!["length","size","first","last"].include(e))return i=null;i=i[e].apply(e),"toLiquid"in i&&(i=i.toLiquid())}o._isObject(i)&&"setContext"in i&&i.setContext(o)}}),i},addFilters:function(e){e=e.flatten(),e.each(function(e){if(!this._isObject(e))throw"Expected object but got: "+typeof e;this.strainer.addMethods(e)})},handleError:function(e){if(this.errors.push(e),this.rethrowErrors)throw e;return"Liquid error: "+(e.message?e.message:e.description?e.description:e)},_isObject:function(e){return null!=e&&"object"==typeof e}}),Liquid.Template=Class.extend({init:function(){this.root=null,this.registers={},this.assigns={},this.errors=[],this.rethrowErrors=!1},parse:function(e){return this.root=new Liquid.Document(Liquid.Template.tokenize(e)),this},render:function(){if(!this.root)return"";var e={ctx:arguments[0],filters:arguments[1],registers:arguments[2]},t=null;e.ctx instanceof Liquid.Context?(t=e.ctx,this.assigns=t.assigns,this.registers=t.registers):(e.ctx&&Liquid.extensions.object.update.call(this.assigns,e.ctx),e.registers&&Liquid.extensions.object.update.call(this.registers,e.registers),t=new Liquid.Context(this.assigns,this.registers,this.rethrowErrors)),e.filters&&t.addFilters(arg.filters);try{return this.root.render(t).join("")}finally{this.errors=t.errors}},renderWithErrors:function(){var e=this.rethrowErrors;this.rethrowErrors=!0;var t=this.render.apply(this,arguments);return this.rethrowErrors=e,t}}),Liquid.Template.tags={},Liquid.Template.registerTag=function(e,t){Liquid.Template.tags[e]=t},Liquid.Template.registerFilter=function(e){Liquid.Strainer.globalFilter(e)},Liquid.Template.tokenize=function(e){var t=e.split(/(\{\%.*?\%\}|\{\{.*?\}\}?)/);return""==t[0]&&t.shift(),t},Liquid.Template.parse=function(e){return(new Liquid.Template).parse(e)},Liquid.Variable=Class.extend({init:function(e){this.markup=e,this.name=null,this.filters=[];var t=this,n=e.match(/\s*("[^"]+"|'[^']+'|[^\s,|]+)/);if(n){this.name=n[1];var r=e.match(/\|\s*(.*)/);if(r){var i=r[1].split(/\|/);i.each(function(e){var n=e.match(/\s*(\w+)/);if(n){var r=n[1],i=[];(e.match(/(?:[:|,]\s*)("[^"]+"|'[^']+'|[^\s,|]+)/g)||[]).flatten().each(function(e){var t=e.match(/^[\s|:|,]*(.*?)[\s]*$/);t&&i.push(t[1])}),t.filters.push([r,i])}})}}},render:function(e){if(null==this.name)return"";var t=e.get(this.name);return this.filters.each(function(n){var r=n[0],i=(n[1]||[]).map(function(t){return e.get(t)});i.unshift(t),t=e.invoke(r,i)}),t}}),Liquid.Condition=Class.extend({init:function(e,t,n){this.left=e,this.operator=t,this.right=n,this.childRelation=null,this.childCondition=null,this.attachment=null},evaluate:function(e){e=e||new Liquid.Context;var t=this.interpretCondition(this.left,this.right,this.operator,e);switch(this.childRelation){case"or":return t||this.childCondition.evaluate(e);case"and":return t&&this.childCondition.evaluate(e);default:return t}},or:function(e){this.childRelation="or",this.childCondition=e},and:function(e){this.childRelation="and",this.childCondition=e},attach:function(e){return this.attachment=e,this.attachment},isElse:!1,interpretCondition:function(e,t,n,r){if(!n)return r.get(e);if(e=r.get(e),t=r.get(t),n=Liquid.Condition.operators[n],!n)throw"Unknown operator "+n;var i=n(e,t);return i},toString:function(){return"<Condition "+this.left+" "+this.operator+" "+this.right+">"}}),Liquid.Condition.operators={"==":function(e,t){return e==t},"=":function(e,t){return e==t},"!=":function(e,t){return e!=t},"<>":function(e,t){return e!=t},"<":function(e,t){return t>e},">":function(e,t){return e>t},"<=":function(e,t){return t>=e},">=":function(e,t){return e>=t},contains:function(e,t){return e.match(t)},hasKey:function(e,t){return Liquid.extensions.object.hasKey.call(e,t)},hasValue:function(e,t){return Liquid.extensions.object.hasValue.call(e,t)}},Liquid.ElseCondition=Liquid.Condition.extend({isElse:!0,evaluate:function(){return!0},toString:function(){return"<ElseCondition>"}}),Liquid.Drop=Class.extend({setContext:function(e){this.context=e},beforeMethod:function(){},invokeDrop:function(e){var t=this.beforeMethod();return!t&&e in this&&(t=this[e].apply(this)),t},hasKey:function(){return!0}});var hackObjectEach=function(e){if("function"!=typeof e)throw"Object.each requires first argument to be a function";var t=0,n=arguments[1];for(var r in this){var i=this[r],o=[r,i];o.key=r,o.value=i,e.call(n,o,t,this),t++}return null};Liquid.Template.registerTag("assign",Liquid.Tag.extend({tagSyntax:/((?:\(?[\w\-\.\[\]]\)?)+)\s*=\s*((?:"[^"]+"|'[^']+'|[^\s,|]+)+)/,init:function(e,t,n){var r=t.match(this.tagSyntax);if(!r)throw"Syntax error in 'assign' - Valid syntax: assign [var] = [source]";this.to=r[1],this.from=r[2],this._super(e,t,n)},render:function(e){return e.scopes.last()[this.to.toString()]=e.get(this.from),""}})),Liquid.Template.registerTag("cache",Liquid.Block.extend({tagSyntax:/(\w+)/,init:function(e,t,n){var r=t.match(this.tagSyntax);if(!r)throw"Syntax error in 'cache' - Valid syntax: cache [var]";this.to=r[1],this._super(e,t,n)},render:function(e){var t=this._super(e);return e.scopes.last()[this.to]=[t].flatten().join(""),""}})),Liquid.Template.registerTag("capture",Liquid.Block.extend({tagSyntax:/(\w+)/,init:function(e,t,n){var r=t.match(this.tagSyntax);if(!r)throw"Syntax error in 'capture' - Valid syntax: capture [var]";this.to=r[1],this._super(e,t,n)},render:function(e){var t=this._super(e);return e.set(this.to,[t].flatten().join("")),""}})),Liquid.Template.registerTag("case",Liquid.Block.extend({tagSyntax:/("[^"]+"|'[^']+'|[^\s,|]+)/,tagWhenSyntax:/("[^"]+"|'[^']+'|[^\s,|]+)(?:(?:\s+or\s+|\s*\,\s*)("[^"]+"|'[^']+'|[^\s,|]+.*))?/,init:function(e,t,n){this.blocks=[],this.nodelist=[];var r=t.match(this.tagSyntax);if(!r)throw"Syntax error in 'case' - Valid syntax: case [condition]";this.left=r[1],this._super(e,t,n)},unknownTag:function(e,t,n){switch(e){case"when":this.recordWhenCondition(t);break;case"else":this.recordElseCondition(t);break;default:this._super(e,t,n)}},render:function(e){var t=this,n=[],r=!0;return e.stack(function(){for(var i=0;i<t.blocks.length;i++){var o=t.blocks[i];if(o.isElse)return 1==r&&(n=[n,t.renderAll(o.attachment,e)].flatten()),n;o.evaluate(e)&&(r=!1,n=[n,t.renderAll(o.attachment,e)].flatten())}}),n},recordWhenCondition:function(e){for(;e;){var t=e.match(this.tagWhenSyntax);if(!t)throw"Syntax error in tag 'case' - Valid when condition: {% when [condition] [or condition2...] %} ";e=t[2];var n=new Liquid.Condition(this.left,"==",t[1]);this.blocks.push(n),this.nodelist=n.attach([])}},recordElseCondition:function(e){if(""!=(e||"").strip())throw"Syntax error in tag 'case' - Valid else condition: {% else %} (no parameters) ";var t=new Liquid.ElseCondition;this.blocks.push(t),this.nodelist=t.attach([])}})),Liquid.Template.registerTag("comment",Liquid.Block.extend({render:function(){return""}})),Liquid.Template.registerTag("cycle",Liquid.Tag.extend({tagSimpleSyntax:/"[^"]+"|'[^']+'|[^\s,|]+/,tagNamedSyntax:/("[^"]+"|'[^']+'|[^\s,|]+)\s*\:\s*(.*)/,init:function(e,t,n){var r;if(r=t.match(this.tagNamedSyntax))this.variables=this.variablesFromString(r[2]),this.name=r[1];else{if(r=t.match(this.tagSimpleSyntax),!r)throw"Syntax error in 'cycle' - Valid syntax: cycle [name :] var [, var2, var3 ...]";this.variables=this.variablesFromString(t),this.name="'"+this.variables.toString()+"'"}this._super(e,t,n)},render:function(e){var t=this,n=e.get(t.name),r="";return e.registers.cycle||(e.registers.cycle={}),e.registers.cycle[n]||(e.registers.cycle[n]=0),e.stack(function(){var i=e.registers.cycle[n],o=e.get(t.variables[i]);i+=1,i==t.variables.length&&(i=0),e.registers.cycle[n]=i,r=o}),r},variablesFromString:function(e){return e.split(",").map(function(e){var t=e.match(/\s*("[^"]+"|'[^']+'|[^\s,|]+)\s*/);return t[1]?t[1]:null})}})),Liquid.Template.registerTag("for",Liquid.Block.extend({tagSyntax:/(\w+)\s+in\s+((?:\(?[\w\-\.\[\]]\)?)+)/,init:function(e,t,n){var r=t.match(this.tagSyntax);if(!r)throw"Syntax error in 'for loop' - Valid syntax: for [item] in [collection]";this.variableName=r[1],this.collectionName=r[2],this.name=this.variableName+"-"+this.collectionName,this.attributes={};var i=(t.replace(this.tagSyntax,""),t.match(/(\w*?)\s*\:\s*("[^"]+"|'[^']+'|[^\s,|]+)/g));i&&i.each(function(e){e=e.split(":"),this.attributes[e[0].strip()]=e[1].strip()},this),this._super(e,t,n)},render:function(e){var t=this,n=[],r=e.get(this.collectionName)||[],i=[0,r.length];if(e.registers["for"]||(e.registers["for"]={}),this.attributes.limit||this.attributes.offset){var o=0,a=0,s=0,l=null;o="continue"==this.attributes.offset?e.registers["for"][this.name]:e.get(this.attributes.offset)||0,a=e.get(this.attributes.limit),s=a?o+a+1:r.length,i=[o,s-1],e.registers["for"][this.name]=s}return l=r.slice(i[0],i[1]),l&&0!=l.length?(e.stack(function(){var r=l.length;l.each(function(i,o){e.set(t.variableName,i),e.set("forloop",{name:t.name,length:r,index:o+1,index0:o,rindex:r-o,rindex0:r-o-1,first:0==o,last:o==r-1}),n.push((t.renderAll(t.nodelist,e)||[]).join(""))})}),[n].flatten().join("")):""}})),Liquid.Template.registerTag("if",Liquid.Block.extend({tagSyntax:/("[^"]+"|'[^']+'|[^\s,|]+)\s*([=!<>a-z_]+)?\s*("[^"]+"|'[^']+'|[^\s,|]+)?/,init:function(e,t,n){this.nodelist=[],this.blocks=[],this.pushBlock("if",t),this._super(e,t,n)},unknownTag:function(e,t,n){["elsif","else"].include(e)?this.pushBlock(e,t):this._super(e,t,n)},render:function(e){var t=this,n="";return e.stack(function(){for(var r=0;r<t.blocks.length;r++){var i=t.blocks[r];if(i.evaluate(e))return n=t.renderAll(i.attachment,e),void 0}}),[n].flatten().join("")},pushBlock:function(e,t){var n;if("else"==e)n=new Liquid.ElseCondition;else{var r=t.split(/\b(and|or)\b/).reverse(),i=r.shift().match(this.tagSyntax);if(!i)throw"Syntax Error in tag '"+e+"' - Valid syntax: "+e+" [expression]";for(var o=new Liquid.Condition(i[1],i[2],i[3]);r.length>0;){var a=r.shift(),i=r.shift().match(this.tagSyntax);if(!i)throw"Syntax Error in tag '"+e+"' - Valid syntax: "+e+" [expression]";var s=new Liquid.Condition(i[1],i[2],i[3]);s[a](o),o=s}n=o}n.attach([]),this.blocks.push(n),this.nodelist=n.attachment}})),Liquid.Template.registerTag("ifchanged",Liquid.Block.extend({render:function(e){var t=this,n="";return e.stack(function(){var r=t.renderAll(t.nodelist,e).join("");r!=e.registers.ifchanged&&(n=r,e.registers.ifchanged=n)}),n}})),Liquid.Template.registerTag("include",Liquid.Tag.extend({tagSyntax:/((?:"[^"]+"|'[^']+'|[^\s,|]+)+)(\s+(?:with|for)\s+((?:"[^"]+"|'[^']+'|[^\s,|]+)+))?/,init:function(e,t,n){var r=(t||"").match(this.tagSyntax);if(!r)throw"Error in tag 'include' - Valid syntax: include '[template]' (with|for) [object|collection]";this.templateName=r[1],this.templateNameVar=this.templateName.substring(1,this.templateName.length-1),this.variableName=r[3],this.attributes={};var i=t.match(/(\w*?)\s*\:\s*("[^"]+"|'[^']+'|[^\s,|]+)/g);i&&i.each(function(e){e=e.split(":"),this.attributes[e[0].strip()]=e[1].strip()},this),this._super(e,t,n)},render:function(e){var t=this,n=Liquid.readTemplateFile(e.get(this.templateName)),r=Liquid.parse(n),i=e.get(this.variableName||this.templateNameVar),o="";return e.stack(function(){t.attributes.each=hackObjectEach,t.attributes.each(function(t){e.set(t.key,e.get(t.value))}),i instanceof Array?o=i.map(function(n){return e.set(t.templateNameVar,n),r.render(e)}):(e.set(t.templateNameVar,i),o=r.render(e))}),o=[o].flatten().join("")}})),Liquid.Template.registerTag("unless",Liquid.Template.tags["if"].extend({render:function(e){var t=this,n="";return e.stack(function(){var r=t.blocks[0];if(!r.evaluate(e))return n=t.renderAll(r.attachment,e),void 0;for(var i=1;i<t.blocks.length;i++){var r=t.blocks[i];if(r.evaluate(e))return n=t.renderAll(r.attachment,e),void 0}}),[n].flatten().join("")}})),Liquid.Template.registerTag("raw",Liquid.Block.extend({parse:function(e){this.nodelist||(this.nodelist=[]),this.nodelist.clear();var t=e.shift();for(e.push("");e.length;){if(/^\{\%/.test(t)){var n=t.match(/^\{\%\s*(\w+)\s*(.*)?\%\}$/);if(n&&this.blockDelimiter==n[1])return this.endTag(),void 0}this.nodelist.push(t||""),t=e.shift()}this.assertMissingDelimitation()},render:function(){return this.nodelist.join("")}})),Liquid.Template.registerFilter({_HTML_ESCAPE_MAP:{"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#39;"},size:function(e){return e.length?e.length:0},downcase:function(e){return e.toString().toLowerCase()},upcase:function(e){return e.toString().toUpperCase()},capitalize:function(e){return e.toString().capitalize()},escape:function(e){var t=this;return e.replace(/[&<>"']/g,function(e){return t._HTML_ESCAPE_MAP[e]})},h:function(e){var t=this;return e.replace(/[&<>"']/g,function(e){return t._HTML_ESCAPE_MAP[e]})},truncate:function(e,t,n){if(!e||""==e)return"";t=t||50,n=n||"...";e.slice(0,t);return e.length>t?e.slice(0,t)+n:e},truncatewords:function(e,t,n){if(!e||""==e)return"";t=parseInt(t||15),n=n||"...";var r=e.toString().split(" "),i=Math.max(t,0);return r.length>i?r.slice(0,i).join(" ")+n:e},truncate_words:function(e,t,n){if(!e||""==e)return"";t=parseInt(t||15),n=n||"...";var r=e.toString().split(" "),i=Math.max(t,0);return r.length>i?r.slice(0,i).join(" ")+n:e},strip_html:function(e){return e.toString().replace(/<.*?>/g,"")},strip_newlines:function(e){return e.toString().replace(/\n/g,"")},join:function(e,t){return t=t||" ",e.join(t)},split:function(e,t){return t=t||" ",e.split(t)},sort:function(e){return e.sort()},reverse:function(e){return e.reverse()},replace:function(e,t,n){return n=n||"",e.toString().replace(new RegExp(t,"g"),n)},replace_first:function(e,t,n){return n=n||"",e.toString().replace(new RegExp(t,""),n)},newline_to_br:function(e){return e.toString().replace(/\n/g,"<br/>\n")},date:function(e,t){var n;return e instanceof Date&&(n=e),n instanceof Date||"now"!=e||(n=new Date),n instanceof Date||"number"!=typeof e||(n=new Date(1e3*e)),n instanceof Date||"string"!=typeof e||(n=new Date(Date.parse(e))),n instanceof Date?n.strftime(t):e},first:function(e){return e[0]},last:function(e){return e=e,e[e.length-1]},minus:function(e,t){return(Number(e)||0)-(Number(t)||0)},plus:function(e,t){return(Number(e)||0)+(Number(t)||0)},times:function(e,t){return(Number(e)||0)*(Number(t)||0)},divided_by:function(e,t){return(Number(e)||0)/(Number(t)||0)},modulo:function(e,t){return(Number(e)||0)%(Number(t)||0)},map:function(e,t){e=e||[];for(var n=[],r=0;r<e.length;r++)n.push(e[r][t]);return n},escape_once:function(e){var t=this;return e.replace(/["><']|&(?!([a-zA-Z]+|(#\d+));)/g,function(e){return t._HTML_ESCAPE_MAP[e]})},remove:function(e,t){return e.toString().replace(new RegExp(t,"g"),"")},remove_first:function(e,t){return e.toString().replace(t,"")},prepend:function(e,t){return""+(t||"").toString()+(e||"").toString()},append:function(e,t){return""+(e||"").toString()+(t||"").toString()}}),(new Date).strftime||!function(){Date.ext={},Date.ext.util={},Date.ext.util.xPad=function(e,t,n){for("undefined"==typeof n&&(n=10);parseInt(e,10)<n&&n>1;n/=10)e=t.toString()+e;return e.toString()},Date.prototype.locale="en-GB",document.getElementsByTagName("html")&&document.getElementsByTagName("html")[0].lang&&(Date.prototype.locale=document.getElementsByTagName("html")[0].lang),Date.ext.locales={},Date.ext.locales.en={a:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],A:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],b:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],B:["January","February","March","April","May","June","July","August","September","October","November","December"],c:"%a %d %b %Y %T %Z",p:["AM","PM"],P:["am","pm"],x:"%d/%m/%y",X:"%T"},Date.ext.locales["en-US"]=Date.ext.locales.en,Date.ext.locales["en-US"].c="%a %d %b %Y %r %Z",Date.ext.locales["en-US"].x="%D",Date.ext.locales["en-US"].X="%r",Date.ext.locales["en-GB"]=Date.ext.locales.en,Date.ext.locales["en-AU"]=Date.ext.locales["en-GB"],Date.ext.formats={a:function(e){return Date.ext.locales[e.locale].a[e.getDay()]},A:function(e){return Date.ext.locales[e.locale].A[e.getDay()]},b:function(e){return Date.ext.locales[e.locale].b[e.getMonth()]},B:function(e){return Date.ext.locales[e.locale].B[e.getMonth()]},c:"toLocaleString",C:function(e){return Date.ext.util.xPad(parseInt(e.getFullYear()/100,10),0)},d:["getDate","0"],e:["getDate"," "],g:function(e){return Date.ext.util.xPad(parseInt(Date.ext.util.G(e)/100,10),0)},G:function(e){var t=e.getFullYear(),n=parseInt(Date.ext.formats.V(e),10),r=parseInt(Date.ext.formats.W(e),10);return r>n?t++:0===r&&n>=52&&t--,t},H:["getHours","0"],I:function(e){var t=e.getHours()%12;return Date.ext.util.xPad(0===t?12:t,0)},j:function(e){var t=e-new Date(""+e.getFullYear()+"/1/1 GMT");t+=6e4*e.getTimezoneOffset();var n=parseInt(t/6e4/60/24,10)+1;return Date.ext.util.xPad(n,0,100)},m:function(e){return Date.ext.util.xPad(e.getMonth()+1,0)},M:["getMinutes","0"],p:function(e){return Date.ext.locales[e.locale].p[e.getHours()>=12?1:0]},P:function(e){return Date.ext.locales[e.locale].P[e.getHours()>=12?1:0]},S:["getSeconds","0"],u:function(e){var t=e.getDay();return 0===t?7:t},U:function(e){var t=parseInt(Date.ext.formats.j(e),10),n=6-e.getDay(),r=parseInt((t+n)/7,10);return Date.ext.util.xPad(r,0)},V:function(e){var t=parseInt(Date.ext.formats.W(e),10),n=new Date(""+e.getFullYear()+"/1/1").getDay(),r=t+(n>4||1>=n?0:1);return 53==r&&new Date(""+e.getFullYear()+"/12/31").getDay()<4?r=1:0===r&&(r=Date.ext.formats.V(new Date(""+(e.getFullYear()-1)+"/12/31"))),Date.ext.util.xPad(r,0)},w:"getDay",W:function(e){var t=parseInt(Date.ext.formats.j(e),10),n=7-Date.ext.formats.u(e),r=parseInt((t+n)/7,10);return Date.ext.util.xPad(r,0,10)},y:function(e){return Date.ext.util.xPad(e.getFullYear()%100,0)},Y:"getFullYear",z:function(e){var t=e.getTimezoneOffset(),n=Date.ext.util.xPad(parseInt(Math.abs(t/60),10),0),r=Date.ext.util.xPad(t%60,0);return(t>0?"-":"+")+n+r},Z:function(e){return e.toString().replace(/^.*\(([^)]+)\)$/,"$1")},"%":function(){return"%"}},Date.ext.aggregates={c:"locale",D:"%m/%d/%y",h:"%b",n:"\n",r:"%I:%M:%S %p",R:"%H:%M",t:"	",T:"%H:%M:%S",x:"locale",X:"locale"},Date.ext.aggregates.z=Date.ext.formats.z(new Date),Date.ext.aggregates.Z=Date.ext.formats.Z(new Date),Date.ext.unsupported={},Date.prototype.strftime=function(e){this.locale in Date.ext.locales||(this.locale=this.locale.replace(/-[a-zA-Z]+$/,"")in Date.ext.locales?this.locale.replace(/-[a-zA-Z]+$/,""):"en-GB");for(var t=this;e.match(/%[cDhnrRtTxXzZ]/);)e=e.replace(/%([cDhnrRtTxXzZ])/g,function(e,n){var r=Date.ext.aggregates[n];return"locale"==r?Date.ext.locales[t.locale][n]:r});var n=e.replace(/%([aAbBCdegGHIjmMpPSuUVwWyY%])/g,function(e,n){var r=Date.ext.formats[n];return"string"==typeof r?t[r]():"function"==typeof r?r.call(t,t):"object"==typeof r&&"string"==typeof r[0]?Date.ext.util.xPad(t[r[0]](),r[1]):n});return t=null,n}}();var split;split=split||function(e){var t,n=String.prototype.split,r=/()??/.exec("")[1]===e;return t=function(t,i,o){if("[object RegExp]"!==Object.prototype.toString.call(i))return n.call(t,i,o);var a,s,l,u,c=[],h=(i.ignoreCase?"i":"")+(i.multiline?"m":"")+(i.extended?"x":"")+(i.sticky?"y":""),d=0,i=new RegExp(i.source,h+"g");for(t+="",r||(a=new RegExp("^"+i.source+"$(?!\\s)",h)),o=o===e?-1>>>0:o>>>0;(s=i.exec(t))&&(l=s.index+s[0].length,!(l>d&&(c.push(t.slice(d,s.index)),!r&&s.length>1&&s[0].replace(a,function(){for(var t=1;t<arguments.length-2;t++)arguments[t]===e&&(s[t]=e)}),s.length>1&&s.index<t.length&&Array.prototype.push.apply(c,s.slice(1)),u=s[0].length,d=l,c.length>=o)));)i.lastIndex===s.index&&i.lastIndex++;return d===t.length?(u||!i.test(""))&&c.push(""):c.push(t.slice(d)),c.length>o?c.slice(0,o):c},String.prototype.split=function(e,n){return t(this,e,n)},t}(),function(){function e(t,n,r){function i(a,s){if(!n[a]){if(!t[a]){var l="function"==typeof require&&require;if(!s&&l)return l(a,!0);if(o)return o(a,!0);var u=new Error("Cannot find module '"+a+"'");throw u.code="MODULE_NOT_FOUND",u}var c=n[a]={exports:{}};t[a][0].call(c.exports,function(e){var n=t[a][1][e];return i(n?n:e)},c,c.exports,e,t,n,r)}return n[a].exports}for(var o="function"==typeof require&&require,a=0;a<r.length;a++)i(r[a]);return i}return e}()({1:[function(e,n){function r(){if(!1 in new XMLHttpRequest){var e=new h({message:t("main.upgrade.content"),options:[{title:t("main.upgrade.download"),link:"https://www.google.com/intl/en/chrome/browser"}]});return m.html(e.render().el),void 0}var n=d.get("lang");n&&(app.locale=n),app.locale&&"en"!==app.locale&&$.getJSON("./translations/locales/"+app.locale+".json",function(e){window.locale[app.locale]=e,window.locale.current(app.locale)});var r=new u({user:g}),o=d.get("oauth-token");if(o)i(o);else{var s=window.location.href.match(/\?code=([a-z0-9]*)/);s?$.ajax({url:f.gatekeeper+"/authenticate/"+s[1],success:function(e){if(e.error)return a(null,new Error(e.error));d.set("oauth-token",e.token);var t=new RegExp("(?:\\/)?\\?code="+s[1]);window.location.href=window.location.href.replace(t,"")}}):l.history.start()}return r}function i(e){var t={};t.Authorization="gitlab"===p?"Bearer "+e:"token "+e,$.ajaxSetup({headers:t}),m.addClass("authenticated"),g.set({id:d.get("id"),login:d.get("login")}),g.fetch({success:o,error:a})}function o(){d.set("id",g.get("id")),d.set("login",g.get("login")),l.history.start()}function a(e,t){"bad_code"===t.message?s():"gitlab"===p?s({status:401===t.status?"good":"bad"}):"github"===p&&$.ajax({type:"GET",url:"https://status.github.com/api/status.json?callback=?",dataType:"jsonp",success:s})}function s(e){e=e||{};var n=t("notification.error.github");"github"!==p&&(n=n.replace("Github",f.host));var r={message:n,options:[{title:t("notification.back"),link:f.prose}]};if(e.status){var i=t("notification.githubStatus",{status:e.status});"github"!==p&&(i=i.replace("GitHub",f.host)),r.options.push({title:i,link:f.apiStatus,className:e.status})}m.html(new h(r).render().el),console.error("Problem authenticating using oauth"),console.error("Report issues at https://github.com/prose/prose/issues"),d.clear()}var l=e("backbone");$=l.$;var u=e("./router"),c=e("./models/user"),h=e("./views/notification"),d=e("./cookie"),f=e("./config"),p=e("./util").getApiFlavor(),m=$("#prose"),g=new c;n.exports=r},{"./config":9,"./cookie":10,"./models/user":18,"./router":19,"./util":22,"./views/notification":42,backbone:60}],2:[function(e,t){e("codemirror/mode/clike/clike"),e("codemirror/mode/css/css"),e("codemirror/mode/gfm/gfm"),e("codemirror/mode/htmlmixed/htmlmixed"),e("codemirror/mode/javascript/javascript"),e("codemirror/mode/markdown/markdown"),e("codemirror/mode/ruby/ruby"),e("codemirror/mode/xml/xml"),e("codemirror/mode/yaml/yaml"),t.exports=!0},{"codemirror/mode/clike/clike":69,"codemirror/mode/css/css":70,"codemirror/mode/gfm/gfm":71,"codemirror/mode/htmlmixed/htmlmixed":72,"codemirror/mode/javascript/javascript":73,"codemirror/mode/markdown/markdown":74,"codemirror/mode/ruby/ruby":76,"codemirror/mode/xml/xml":77,"codemirror/mode/yaml/yaml":78}],3:[function(e,t){var n=e("underscore"),r=e("backbone"),i=e("../models/branch"),o=e("../util");t.exports=r.Collection.extend({model:i,initialize:function(e,t){this.repo=t.repo},parse:function(e){var t="gitlab"===o.getApiFlavor(),r=this.repo;return n.map(e,function(e){var n=e.commit;return n.sha||(n.sha=n.id),{repo:r,name:e.name,commit:n,"protected":t?e["protected"]:e.protection?e.protection.enabled:!1}})},url:function(){return this.repo.branchesUrl()}})},{"../models/branch":12,"../util":22,backbone:60,underscore:129}],4:[function(e,t){{var n=e("underscore"),r=e("backbone"),i=e("../models/commit");e("../util")}t.exports=r.Collection.extend({model:i,initialize:function(e,t){this.repo=t.repo},setBranch:function(e){this.branch=e},parse:function(e){var t=this.repo;return n.each(e,function(e){e.repo=t}),e},url:function(){return this.repo.commitsUrl(this.branch)}})},{"../models/commit":13,"../util":22,backbone:60,underscore:129}],5:[function(e,t){var n=e("underscore"),r=e("js-yaml"),i=e("queue-async"),o=e("backbone"),a=e("../models/file"),s=e("../models/folder"),l=(e("../cookie"),e("../util")),u=e("ignore"),c=l.getApiFlavor();t.exports=o.Collection.extend({model:function(e,t){switch(e.type){case"tree":return new s(e,t);case"blob":return new a(e,t);default:return new a(e,t)}},initialize:function(e,t){this.repo=t.repo,this.branch=t.branch,this.sha=t.sha,this.comparator=function(e,t){var n=e.get("type"),r=t.get("type"),i=e.get("path"),o=t.get("path"),a=/^_posts\/.*$/;if(n===r&&"file"===n&&a.test(i)&&a.test(o))return o>i?1:-1;if(n===r)return o>i?-1:1;switch(n){case"tree":case"folder":return-1;case"file":return"folder"===r||"tree"===r?1:-1}}},parse:function(e){var t="gitlab"===c,r=t?e:e.tree;return n.map(r,function(e){return n.extend(e,{branch:this.branch,collection:this,repo:this.repo,path:e.path||e.name})}.bind(this))},parseConfig:function(e,t){var o=e.get("content");try{e=r.safeLoad(o)
}catch(a){console.log("Error parsing YAML"),console.log(a)}if(this.config={},e&&e.prose)if(this.config=n.extend(e,e.prose),e.prose.ignore&&this.parseIgnore(e.prose.ignore),e.prose.metadata){var s=e.prose.metadata,l=i(1);n.each(s,function(e,t){l.defer(function(o){var a,l=i();if(n.isObject(e))a=e,n.each(a,function(e){var t=/^https?:\/\//;e&&e.field&&e.field.options&&n.isString(e.field.options)&&t.test(e.field.options)&&l.defer(function(t){$.ajax({cache:!0,dataType:"jsonp",jsonp:!1,jsonpCallback:e.field.options.split("?callback=")[1]||"callback",timeout:5e3,url:e.field.options,success:function(r){e.field.options=n.compact(r),t()}.bind(this)})}),e&&e.field&&"CURRENT_DATETIME"===e.field.value&&(e.field.value=(new Date).format("Y-m-d H:i O"))});else if(n.isString(e))try{if(a=r.safeLoad(e),"CURRENT_DATETIME"===a.date){var u=(new Date).format("Y-m-d H:i O");a.date=u,e=e.replace("CURRENT_DATETIME",u)}}catch(c){console.log("Error parsing default values."),console.log(c)}l.awaitAll(function(){s[t]=a,o()})})}),l.awaitAll(function(){this.defaults=s,n.isFunction(t.success)&&t.success.apply(this,t.args)}.bind(this))}else n.isFunction(t.success)&&t.success.apply(this,t.args);else n.isFunction(t.success)&&t.success.apply(this,t.args)},parseIgnore:function(e){var t=u().addPattern(e).createFilter();this.filteredModel=new o.Collection(this.filter(function(e){return t(e.id)}))},fetch:function(e){e=n.clone(e)||{};var t=e.success,r=e.args;o.Collection.prototype.fetch.call(this,n.extend(e,{success:function(){var e=this.findWhere({path:"_prose.yml"})||this.findWhere({path:"_config.yml"});e?e.fetch({success:function(){this.parseConfig(e,{success:t,args:r})}.bind(this)}):n.isFunction(t)&&t.apply(this,r)}.bind(this)}))},restore:function(e,t){t=t?n.clone(t):{};var r=e.filename,i=t.success;$.ajax({type:"GET",url:e.contents_url,headers:{Accept:"application/vnd.github.v3.raw"},success:function(e){var o=new a({branch:this.branch,collection:this,content:e,path:r,repo:this.repo}),s=l.extractFilename(r)[1];o.set("placeholder",l.commitMessage(!0,s)),o.save({success:function(e,t,r){e.set(t.content),this.add(e),n.isFunction(i)&&i(e,t,r)}.bind(this),error:t.error})}.bind(this),error:t.error})},upload:function(e,t,r,i){{var o,s=i.success;e.type.split("/").pop()}r||(o=e.name,r=this.assetsDirectory?this.assetsDirectory+"/"+o:this.model.path?this.model.path+"/"+o:o);var u=this.findWhere({path:r});u?(u.set("content",t),u.set("placeholder",l.commitMessage(!1,e.name))):(u=new a({branch:this.branch,collection:this,content:t,path:r,repo:this.repo}),u.set("placeholder",l.commitMessage(!0,e.name))),u.save({success:function(e,t,r){e.set(t.content),this.add(e),n.isFunction(s)&&s(e,t,r)}.bind(this),error:i.error})},url:function(){return this.repo.filesUrl(this.sha)}})},{"../cookie":10,"../models/file":14,"../models/folder":15,"../util":22,backbone:60,ignore:85,"js-yaml":88,"queue-async":128,underscore:129}],6:[function(e,t){var n=e("underscore"),r=e("backbone"),i=e("../models/org"),o=e("../config"),a=e("../util");t.exports=r.Collection.extend({model:i,initialize:function(e,t){t=n.clone(t)||{},this.user=t.user,this.api=a.getApiFlavor()},parse:function(e){return"gitlab"===this.api&&e.forEach(function(e){e.login=e.path}),e},url:function(){return"gitlab"===this.api?o.api+"/groups":this.user?o.api+"/users/"+this.user.get("login")+"/orgs":"/user/orgs"}})},{"../config":9,"../models/org":16,"../util":22,backbone:60,underscore:129}],7:[function(e,t){var n=(e("underscore"),e("url")),r=e("backbone"),i=e("../models/repo"),o=e("../config"),a=e("../cookie"),s=e("../util");t.exports=r.Collection.extend({model:i,initialize:function(e,t){this.user=t.user,this.comparator=function(e){return-new Date(e.get("updated_at")).getTime()},this.api=s.getApiFlavor()},url:function(){var e=a.get("id"),t=this.user.get("type");if("gitlab"===this.api){var r=a.get("scope"),i={};return"public_repo"===r&&(i.scope="public"),o.api+"/projects"+n.format({query:i})}var s;switch(t){case"User":s=e&&this.user.get("id")===e?"/user":"/users/"+this.user.get("login");break;case"Organization":s="/orgs/"+this.user.get("login")}return o.api+s+"/repos?per_page=100"}})},{"../config":9,"../cookie":10,"../models/repo":17,"../util":22,backbone:60,underscore:129,url:130}],8:[function(e,t){var n=e("backbone"),r=e("../models/user");t.exports=n.Collection.extend({model:r})},{"../models/user":18,backbone:60}],9:[function(e,t){(function(n){var r=e("./cookie"),i=e("../oauth.json");t.exports={api:n.env.API_URL||i.api||"https://api.github.com",apiStatus:n.env.API_STATUS_URL||i.status||"https://status.github.com",host:n.env.OAUTH_HOST||i.host||"github.com",id:n.env.OAUTH_CLIENT_ID||i.clientId,gatekeeper:n.env.GATEKEEPER_URL||i.gatekeeperUrl,username:r.get("username"),redirect:n.env.REDIRECT_URL||"http://localhost:3000/",gitlab:!0,prose:n.env.PROSE_URL||"/"}}).call(this,e("_process"))},{"../oauth.json":135,"./cookie":10,_process:123}],10:[function(e,t){function n(e){try{return JSON.parse(e)}catch(t){}return e}function r(e){return"object"==typeof e&&JSON.stringify?JSON.stringify(e):e}var i={};i.set=function(e,t,n,o,a){var s=escape(e)+"="+escape(r(t));return n&&(n.constructor===Number?s+=";max-age="+n:n.constructor===String?s+=";expires="+n:n.constructor===Date&&(s+=";expires="+n.toUTCString())),s+=";path="+(o?o:"/"),a&&(s+=";domain="+a),document.cookie=s,i},i.setObject=function(e,t,n,r){for(var o in e)i.set(o,e[o],expires,n,r);return i},i.get=function(e){var t=i.getObject();return t[e]},i.getObject=function(){var e,t=document.cookie.split(/;\s?/i),r={};for(var i in t)if("string"==typeof t[i]){if(e=t[i].split("="),e.length<=1)continue;r[unescape(e[0])]=n(unescape(e[1]))}return r},i.unset=function(e){var t=new Date(0);return document.cookie=e+"=; expires="+t.toUTCString(),i},i.clear=function(){var e=i.getObject();for(var t in e)i.unset(t);return e},t.exports=i},{}],11:[function(e){e("./codemirror-syntax-highlights");var t=e("../dist/en.js");window.locale.en=t,window.locale.current("en"),window.app={},window.Backbone=n;var n=(e("jquery"),e("backbone"));window.$=n.$,e("chosen-jquery-browserify");var r=e("./boot");window.router=r()},{"../dist/en.js":58,"./boot":1,"./codemirror-syntax-highlights":2,backbone:60,"chosen-jquery-browserify":64,jquery:87}],12:[function(e,t){var n=e("backbone"),r=e("../collections/files");t.exports=n.Model.extend({defaults:{name:"",commit:null,"protected":null},initialize:function(e){this.repo=e.repo,this.set("name",e.name);var t=e.commit.sha;this.set("sha",t),this.files=new r([],{repo:this.repo,branch:this,sha:t})},url:function(){return this.repo.url()+"/branches/"+this.get("name")}})},{"../collections/files":5,backbone:60}],13:[function(e,t){var n=(e("underscore"),e("backbone")),r=e("../util");t.exports=n.Model.extend({initialize:function(e){this.repo=e.repo,this.api=r.getApiFlavor()},defaults:{sha:"",commit:{},author:{}},parse:function(e){return"gitlab"===this.api?{repo:this.repo,sha:e.id,commit:{author:{name:e.author_name,email:e.author_email,date:e.committed_date}}}:{repo:this.repo,sha:e.sha,commit:e.commit,author:e.author}},url:function(){return this.repo.commitUrl(this.get("sha"))}})},{"../util":22,backbone:60,underscore:129}],14:[function(e,n){var r=e("underscore"),i=(e("marked"),e("backbone")),o=e("js-yaml"),a=e("../util");n.exports=i.Model.extend({constructor:function(e,t){this.api=t&&t.api?t.api:a.getApiFlavor();var n="gitlab"===this.api?this.pickGitlab(e):e;i.Model.call(this,n,t)},pickGitlab:function(e){var t=e.id||e.blob_id;return r.extend({sha:t},e)},idAttribute:"path",getPlaceholder:function(){return(new Date).format("Y-m-d")+"-your-filename.md"},initialize:function(e,n){n=n||{};var i=!e.sha&&!this.get("sha"),o=this.getPlaceholder(),s=e.path.split("?")[0],l=e.collection.get(s);i&&(!s||"_drafts"===s||l&&"tree"===l.get("type"))&&(s=s?s+"/"+o:o);var u=a.extension(s),c=e.repo?e.repo.get("permissions"):void 0,h=i||"blob"===e.type?"file":e.type;this.set({binary:a.isBinary(s),clone:!!n.clone,collection:e.collection,content:r.isUndefined(e.content)?t("main.new.body"):e.content,content_url:e.url,draft:function(){var e=this.get("path");return a.draft(e)},extension:u,lang:a.mode(u),media:a.isMedia(u),markdown:a.isMarkdown(u),name:a.extractFilename(s)[1],oldpath:s,path:s,type:h,writable:c?c.push:!1})},get:function(e){var t=i.Model.prototype.get.call(this,e);return r.isFunction(t)?t.call(this):t},isNew:function(){return null==this.get("sha")},isClone:function(){return this.get("clone")},parse:function(e){e="gitlab"===this.api?this.pickGitlab(e):e;var t=e.content;return t?(t="base64"===e.encoding?this.decode(t):t,r.extend({},e,this.parseContent(t))):e},parseContent:function(e){e=e.replace(/\r\n/g,"\n").replace(/\s*$/,"\n");var t=!!a.hasMetadata(e);if(!t)return{content:e,metadata:!1,previous:e};var n={previous:e};return n.content=e.replace(/^(---\n)((.|\n)*?)---\n?/,function(e,t,r){var i=/published: false/;try{n.metadata=o.safeLoad(r),n.metadata.published=!i.test(r)}catch(a){console.log("ERROR encoding YAML"),console.log(a)}return""}),n},getContentSync:function(e){return e=e||{},i.Model.prototype.fetch.call(this,r.extend({},e,{async:!1,dataType:"text",headers:{Accept:"application/vnd.github.v3.raw"},url:this.get("content_url")}))},serialize:function(){var e,t=this.get("metadata"),n=this.get("content")||"";if(t){try{e=o.safeDump(t).trim()}catch(r){throw r}return["---",e,"---"].join("\n")+"\n"+n}return n},encode:function(e){return window.btoa(window.unescape(window.encodeURIComponent(e)))},decode:function(e){return window.decodeURIComponent(window.escape(window.atob(e)))},getAttributes:function(){var e={};return r.each(this.attributes,function(t,n){e[n]=this.get(n)},this),e},toJSON:function(){var e,t=this.attributes,n=t.path||t.oldpath,r=t.binary?window.btoa(this.serialize()):this.encode(this.serialize()),i=t.message||t.placeholder,o=t.branch.get("name");if("gitlab"===this.api)e={file_path:n,commit_message:i,content:r,branch_name:o,encoding:"base64"};else{e={path:n,message:messsage,content:r,branch:o};var a=t.sha;a&&(e.sha=a)}return e},clone:function(e,t){var n={clone:!0};return t&&(n=r.extend({},t,n)),new this.constructor(r.extend(r.pick(this.attributes,["branch","collection","content","metadata","repo"]),e),n)},save:function(e){e=e||{};var t="gitlab"===this.api,n=this.isNew(),o="PUT";t&&n&&(o="POST"),e.type=o;var a=e.success;e.success=function(e,t){e.set(r.extend(t.content,{previous:e.serialize()})),r.isFunction(a)&&a.apply(e,arguments)},i.Model.prototype.save.call(this,void 0,e)},patch:function(e){e=r.clone(e)||{};var t=e.success,i=e.error,o=this.get("collection");o.repo.fork({success:function(e,r){e.ref({ref:"refs/heads/"+r,sha:o.branch.get("sha"),success:function(){e.branches.fetch({cache:!1,success:function(o){o=e.branches,r=o.findWhere({name:r});var a=new n.exports({branch:r,collection:o,content:this.get("content"),path:this.get("path"),repo:e,sha:this.get("sha"),message:this.get("message")||this.get("placeholder"),metadata:this.get("metadata"),defaults:this.get("defaults")});a.save({success:function(n,a){n.set(a.content),r.files.add(n),$.ajax({type:"POST",url:o.repo.url()+"/pulls",data:JSON.stringify({title:a.commit.message,body:"This pull request has been automatically generated by prose.io.",base:o.branch.get("name"),head:e.get("owner").login+":"+r.get("name")}),success:t,error:i})}.bind(this),error:i})}.bind(this),error:i})}.bind(this),error:i})}.bind(this),error:i})},destroy:function(e){e=r.clone(e)||{};var n=this.get("path"),o={path:n,message:t("actions.commits.deleted",{filename:n}),sha:this.get("sha"),branch:this.get("collection").branch.get("name")},a=this.url().split("?")[0],s=r.map(r.pairs(o),function(e){return e.join("=")}).join("&");i.Model.prototype.destroy.call(this,r.extend(e,{url:a+"?"+s,error:function(e,t,n){console.log(e,t,n)},wait:!0}))},url:function(){var e=this.get("collection");return e.repo.fileUrl(e.branch.get("name"),this.get("path"))},validate:function(e){if(this.get("collection").where({path:e.path}).length>1)return t("actions.save.fileNameExists");var n=a.extractFilename(e.path)[1];return n===this.getPlaceholder()?"File name is default":void 0}})},{"../util":22,backbone:60,"js-yaml":88,marked:120,underscore:129}],15:[function(e,t){var n=(e("underscore"),e("backbone")),r=e(".././util");t.exports=n.Model.extend({idAttribute:"path",initialize:function(e){this.branch=e.branch,this.collection=e.collection,this.repo=e.repo,this.set({name:r.extractFilename(e.path)[1],path:e.path,type:e.type})},url:function(){return this.repo.url()+"/contents/"+this.get("path")+"?ref="+this.branch.get("name")}})},{".././util":22,backbone:60,underscore:129}],16:[function(e,t){var n=e("backbone");t.exports=n.Model.extend({defaults:{login:"",id:0}})},{backbone:60}],17:[function(e,t){var n=e("underscore"),r=e("backbone"),i=e("../collections/branches"),o=e("../collections/commits"),a=e("../config"),s=e("../util"),l=e("url");t.exports=r.Model.extend({constructor:function(e,t){this.api=t&&t.api?t.api:s.getApiFlavor();var n="gitlab"===this.api?this.pickGitlab(e):this.pickGithub(e);r.Model.call(this,n)},parse:function(e){return"gitlab"===this.api?this.pickGitlab(e):this.pickGithub(e)},gitlabPermissions:function(e){if(!e)return null;var t=e.group_access,n=e.project_access,r=0,i="access_level";return t&&n?r=t[i]>n[i]?t[i]:n[i]:t?r=t[i]:n&&(r=n[i]),r=parseInt(r,0),{admin:50===r,pull:r>0,push:r>10}},pickGitlab:function(e){var t=this.gitlabPermissions(e.permissions);return{id:e.id,description:e.description,fork:!1,homepage:e.web_url,default_branch:e.default_branch,name:e.name,owner:{id:e.owner?e.owner.id:e.namespace?e.namespace.owner_id:"",login:e.owner?e.owner.username:e.namespace?e.namespace.name:""},permissions:t,"private":!e.public,updated_at:e.last_activity_at}},pickGithub:function(e){return{id:e.id,description:e.description,fork:e.fork,homepage:e.homepage,default_branch:e.default_branch,name:e.name,owner:{id:e.owner.id,login:e.owner.login},permissions:e.permissions,"private":e.private,updated_at:e.updated_at,issue_count:e.open_issues_count}},initialize:function(){this.branches=new i([],{repo:this}),this.commits=new o([],{repo:this,branch:this.branch})},ref:function(e){e=n.clone(e)||{},$.ajax({type:"POST",url:this.url()+"/git/refs",data:JSON.stringify({ref:e.ref,sha:e.sha}),success:e.success,error:e.error})},fork:function(e){e=n.clone(e)||{};var r=e.success;$.ajax({type:"POST",url:this.url()+"/forks",success:function(i){var o=new t.exports(i);o.branches.fetch({success:function(){var e="prose-patch-",t=o.branches.filter(function(t){return 0===t.get("name").indexOf(e)}).map(function(t){return parseInt(t.get("name").split(e)[1])}),i=e+(t.length?n.max(t)+1:1);n.isFunction(r)&&r(o,i)}.bind(this),error:e.error})}.bind(this),error:e.error})},url:function(){if("gitlab"===this.api){var e=this.id||this.get("owner").login+"%2F"+this.get("name");return a.api+"/projects/"+e}return a.api+"/repos/"+this.get("owner").login+"/"+this.get("name")},branchesUrl:function(){var e="gitlab"===this.api?"/repository/branches":"/branches?per_page=100";return this.url()+e},commitsUrl:function(e){var t="gitlab"===this.api?"/repository/commits?ref_name="+e:"/commits?sha="+e;return this.url()+t},commitUrl:function(e){var t="gitlab"===this.api?"/repository/commits/"+e:"/commits/"+e;return this.url()+t},filesUrl:function(e){var t="gitlab"===this.api?"/repository/tree?ref_name="+e:"/git/trees/"+e+"?recursive=1";return this.url()+t},fileUrl:function(e,t){var n={ref:e};"gitlab"===this.api&&(n.file_path=t);var r="gitlab"===this.api?"/repository/files"+l.format({query:n}):"/contents/"+t+l.format({query:n});return this.url()+r}})},{"../collections/branches":3,"../collections/commits":4,"../config":9,"../util":22,backbone:60,underscore:129,url:130}],18:[function(e,t){var n=e("underscore"),r=e("backbone"),i=e("../collections/repos"),o=e("../collections/orgs"),a=e("../config"),s=e("../cookie"),l=e("../util");t.exports=r.Model.extend({defaults:{login:"",id:0,type:"User",avatar_url:""},initialize:function(){this.repos=new i([],{user:this}),this.orgs=new o([],{user:this}),this.api=l.getApiFlavor()},parse:function(e){return"gitlab"===this.api?n.extend(e,{login:e.username}):e},url:function(){var e=s.get("id"),t=s.get("oauth-token");if("gitlab"===this.api)return a.api+"/user";var n=t&&!e||e&&this.get("id")===e?"/user":"/users/"+this.get("login");return a.api+n}})},{"../collections/orgs":6,"../collections/repos":7,"../config":9,"../cookie":10,"../util":22,backbone:60,underscore:129}],19:[function(e,n){function r(e,t){return new l({name:e,owner:{login:t,username:t}})}var i=e("underscore"),o=e("backbone"),a=e("./models/user"),s=e("./collections/users"),l=(e("./collections/orgs"),e("./models/repo")),u=(e("./models/file"),e("./views/app")),c=e("./views/notification"),h=e("./views/start"),d=e("./views/profile"),f=e("./views/search"),p=e("./views/repos"),m=e("./views/repo"),g=e("./views/file"),v=e("./views/documentation"),y=e("./views/chooselanguage"),b=e("./util"),w=e("./config"),C=e("./cookie");w.scope=C.get("scope")||"repo",n.exports=o.Router.extend({routes:{"about(/)":"about","chooselanguage(/)":"chooseLanguage",":user(/)":"profile",":user/:repo(/)":"repo",":user/:repo/*path(/)":"path","*default":"start"},initialize:function(e){e=i.clone(e)||{},this.users=new s,e.user&&(this.user=e.user,this.users.add(this.user)),this.app=new u({el:"#prose",model:{},user:this.user}),this.app.render(),this.app.loader.done()},chooseLanguage:function(){this.view&&this.view.remove(),this.app.loader.start(t("loading.file")),this.app.nav.mode(""),this.view=new y,this.app.$el.find("#main").html(this.view.render().el),this.app.loader.done()},about:function(){this.view&&this.view.remove(),this.app.loader.start(t("loading.file")),this.app.nav.mode(""),this.view=new v,this.app.$el.find("#main").html(this.view.render().el),this.app.loader.done()},profile:function(e){this.view&&this.view.remove();var n=this.app.loader;n.start(t("loading.repos")),this.app.nav.mode("repos"),b.documentTitle(e);var r=this.users.findWhere({login:e});i.isUndefined(r)&&(r=new a({login:e}),this.users.add(r));var o=new f({model:r.repos,mode:"repos"}),s=new p({model:r.repos,search:o}),l=new d({auth:this.user,search:o,sidebar:this.app.sidebar,repos:s,router:this,user:r});this.view=l;var u=function(e,t){n.stop(),this.error(t)}.bind(this);r.fetch({success:function(e){this.app.$el.find("#main").html(l.render().el),e.repos.fetch({success:function(){s.render(),n.stop()},error:u})}.bind(this),error:u})},repo:function(e,n,o,s){if(this.view instanceof m&&this.view.model.get("owner").login===e&&this.view.model.get("name")===n&&(this.view.branch===o||i.isUndefined(o)&&this.view.branch===this.view.model.get("default_branch")))return this.view.files.path=s||"",this.view.files.render();this.view&&this.view.remove();var l=this.app.loader;l.start(t("loading.repo")),this.app.nav.mode("repo");var u=o?u=n+": /"+s+" at "+o:n;b.documentTitle(u);var c=this.users.findWhere({login:e});i.isUndefined(c)&&(c=new a({login:e}),this.users.add(c));var h,d=c.repos.filter(function(e){return e.get("name")===n});1===d.length?h=d[0]:d.length>1&&(h=i.find(d,function(t){return t.get("owner").login===e})),i.isUndefined(h)&&(h=r(n,e),c.repos.add(h)),h.fetch({success:function(){var e=new m({app:this.app,branch:o,model:h,nav:this.app.nav,path:s,router:this,sidebar:this.app.sidebar});this.view=e,this.app.$el.find("#main").html(e.render().el),l.stop()}.bind(this),error:function(e,t){l.stop(),this.error(t)}.bind(this)})},path:function(e,t,n){var r=b.extractURL(n);switch(r.mode){case"tree":this.repo(e,t,r.branch,r.path);break;case"new":case"blob":case"edit":case"preview":this.post(e,t,r.mode,r.branch,r.path);break;default:throw r.mode}},post:function(e,n,o,s,l){this.view&&this.view.remove(),this.app.nav.mode("file");var u=this.app.loader;switch(o){case"new":u.start(t("loading.creating"));break;case"edit":u.start(t("loading.file"));break;case"preview":u.start(t("loading.preview"))}var c=this.users.findWhere({login:e});i.isUndefined(c)&&(c=new a({login:e}),this.users.add(c));var h=c.repos.findWhere({name:n});i.isUndefined(h)&&(h=r(n,e),c.repos.add(h));var d={app:this.app,branch:s,branches:h.branches,mode:o,nav:this.app.nav,name:b.extractFilename(l)[1],path:l,repo:h,router:this,sidebar:this.app.sidebar};c.fetch({success:function(){h.fetch({success:function(){this.view=new g(d),this.app.$el.find("#main").html(this.view.el),u.stop()}.bind(this),error:f})}.bind(this),error:f});var f=function(e,t){this.error(t),u.stop()}.bind(this)},preview:function(e,n,o,s,l){this.view&&this.view.remove();var u=this.app.loader;u.start(t("loading.preview"));var c=this.users.findWhere({login:e});i.isUndefined(c)&&(c=new a({login:e}),this.users.add(c));var h=c.repos.findWhere({name:n});i.isUndefined(h)&&(h=r(n,e),c.repos.add(h));var d={branch:s,branches:h.branches,mode:o,nav:this.app.nav,name:b.extractFilename(l)[1],path:l,repo:h,router:this,sidebar:this.app.sidebar};h.fetch({success:function(){this.view=new Preview(d),this.app.$el.find("#main").html(this.view.el),u.stop()}.bind(this),error:function(e,t){this.error(t),u.stop()}.bind(this)})},start:function(){this.view&&this.view.remove(),this.user.get("login")?this.navigate(this.user.get("login"),{trigger:!0,replace:!0}):(this.app.nav.mode("start"),this.view=new h,this.app.$el.find("#main").html(this.view.render().el))},notify:function(e,t,n){this.view&&this.view.remove(),this.view=new c({message:e,error:t,options:n}),this.app.$el.find("#main").html(this.view.render().el),this.app.loader.stop()},error:function(e){var n=[e.status,e.statusText].join(" "),r=b.xhrErrorMessage(e),i=[{title:t("notification.home"),link:w.prose}];404!==e.status||this.user||(r=t("notification.404"),i.unshift({title:t("login"),link:b.oauthUrl(b.getApiFlavor(),w.scope)})),C.clear(),console.error("There was a problem retrieving data\nYou may need to re-authenticate\nReport issues at https://github.com/prose/prose/issues\nDumping cookies"),this.notify(n,r,i)}})},{"./collections/orgs":6,"./collections/users":8,"./config":9,"./cookie":10,"./models/file":14,"./models/repo":17,"./models/user":18,"./util":22,"./views/app":23,"./views/chooselanguage":24,"./views/documentation":25,"./views/file":26,"./views/notification":42,"./views/profile":43,"./views/repo":44,"./views/repos":45,"./views/search":46,"./views/start":56,backbone:60,underscore:129}],20:[function(e,n){n.exports=function(){return{help:[{menuName:t("dialogs.help.blockElements.title"),content:[{menuName:t("dialogs.help.blockElements.content.paragraphs.title"),data:t("dialogs.help.blockElements.content.paragraphs.content")},{menuName:t("dialogs.help.blockElements.content.headers.title"),data:t("dialogs.help.blockElements.content.headers.content")},{menuName:t("dialogs.help.blockElements.content.blockquotes.title"),data:t("dialogs.help.blockElements.content.blockquotes.content")},{menuName:t("dialogs.help.blockElements.content.lists.title"),data:t("dialogs.help.blockElements.content.lists.content")},{menuName:t("dialogs.help.blockElements.content.codeBlocks.title"),data:t("dialogs.help.blockElements.content.codeBlocks.content")},{menuName:t("dialogs.help.blockElements.content.horizontalRules.title"),data:t("dialogs.help.blockElements.content.horizontalRules.content")}]},{menuName:t("dialogs.help.spanElements.title"),content:[{menuName:t("dialogs.help.spanElements.content.links.title"),data:t("dialogs.help.spanElements.content.links.content")},{menuName:t("dialogs.help.spanElements.content.emphasis.title"),data:t("dialogs.help.spanElements.content.emphasis.content")},{menuName:t("dialogs.help.spanElements.content.code.title"),data:t("dialogs.help.spanElements.content.code.content")},{menuName:t("dialogs.help.spanElements.content.images.title"),data:t("dialogs.help.spanElements.content.images.content")}]},{menuName:t("dialogs.help.miscellaneous.title"),content:[{menuName:t("dialogs.help.miscellaneous.content.automaticLinks.title"),data:t("dialogs.help.miscellaneous.content.automaticLinks.content")},{menuName:t("dialogs.help.miscellaneous.content.escaping.title"),data:t("dialogs.help.miscellaneous.content.escaping.content")},{menuName:t("dialogs.help.miscellaneous.content.shortcuts.title"),data:t("dialogs.help.miscellaneous.content.shortcuts.content")}]}]}}},{}],21:[function(e,t){t.exports={dragEnter:function(e){return $(e.currentTarget).addClass("drag-over"),e.stopPropagation(),e.preventDefault(),!1},dragOver:function(e){return e.originalEvent.dataTransfer.dropEffect="copy",e.stopPropagation(),e.preventDefault(),!1},dragLeave:function(e,t){return e.removeClass("drag-over"),t.stopPropagation(),t.preventDefault(),!1},dragDrop:function(e,t){e.on("dragenter",function(e){this.dragEnter(e)}.bind(this)).on("dragover",this.dragOver),e.find("#drop").on("dragleave",function(t){this.dragLeave(e,t)}.bind(this)).on("drop",function(n){this.drop(e,n,t)}.bind(this))},fileSelect:function(e,t){var n=e.target.files;this.compileResult(n,t)},drop:function(e,t,n){t.preventDefault(),e.removeClass("drag-over"),t=t.originalEvent;var r=t.dataTransfer.files;this.compileResult(r,n)},compileResult:function(e,t){for(var n,r=0;n=e[r];r++)if(/image/.test(n.type)){var i=new FileReader;i.onload=function(e){return function(n){t(n,e,n.target.result)}}(n),i.readAsBinaryString(n)}}}},{}],22:[function(e,n){var r=e("jquery"),i=e("underscore"),o=(e("chrono"),e("./config")),a=e("url");n.exports={stringToUrl:function(e){return e.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/-*$/,"")},extractDate:function(e){var t=e.match(/^\d{4}-\d{2}-\d{2}/);return t?t[0]:""},extractFilename:function(e){var t=/\//;if(!t.test(e))return["",e];var n=e.match(/(.*)\/(.*)$/);return[n[1],n[2]]},validPathname:function(e){var t=/^([a-zA-Z0-9_\-]|\.)+$/;return i.all(e.split("/"),function(e){return!!t.test(e)})},parentPath:function(e){return e.replace(/\/?[a-zA-Z0-9_\-]*$/,"")},extractURL:function(e){return e=e.split("/"),{mode:e[0],branch:e[1],path:(e.slice(2)||[]).join("/")}},mode:function(e){return this.isMarkdown(e)?"gfm":i.include(["js","json"],e)?"javascript":"html"===e?"htmlmixed":"rb"===e?"ruby":/(yml|yaml)/.test(e)?"yaml":i.include(["java","c","cpp","cs","php"],e)?"clike":e},hasMetadata:function(e){var t=/^(---\n)((.|\n)*?)\n---\n?/;return e=e.replace(/\r\n/g,"\n"),t.test(e)},extension:function(e){var t=e.match(/\.(\w+)$/);return t?t[1]:null},draft:function(e){return"_drafts"===e.split("/")[0]?!0:!1},markdown:function(e){var t=new RegExp(/.(md|mkdn?|mdown|markdown)$/);return!!t.test(e)},chunkedPath:function(e){var t=e.split("/");return i.map(t,function(e,n){for(var r=[],i=0;n>=i;i++)r.push(t[i]);return{url:r.join("/"),name:e}})},isBinary:function(e){var t=new RegExp(".(jpeg|jpg|gif|png|ico|eot|ttf|woff|otf|zip|swf|mov|dbf|index|prj|shp|shx|DS_Store|crx|glyphs)$","i");return!!t.test(e)},isMarkdown:function(e){var t=new RegExp("^(md|mkdn?|mdown|markdown)$","i");return!!t.test(e)},isMedia:function(e){var t=new RegExp("^(jpeg|jpg|gif|png|swf|mov)$","i");return!!t.test(e)},isImage:function(e){var t=new RegExp("^(jpeg|jpg|gif|png|svg*)$","i");return!!t.test(e)},absolutePath:function(e){return/^https?:\/\//i.test(e)},filepath:function(e,t){return(e?e+"/":"")+t},filename:function(e){return e.replace(/\.[^\/.]+$/,"")},trim:function(e){return e.replace(/^\s\s*/,"").replace(/\s\s*$/,"")},lTrim:function(e){return e.replace(/^\s\s*/,"")},documentTitle:function(e){document.title=e+" · Prose"},fixedScroll:function(e,t){r(window).scroll(function(){var n=r(this).scrollTop();n>=t?e.addClass("fixed"):e.removeClass("fixed")})},pageListing:function(e){function t(e){var t=e.offset().top,n=r(window).height();return t>n?!1:!0}if(r(".item").hasClass("active")){var n,i=parseInt(r(".item.active").data("index"),10);if(r(".item.active").removeClass("active"),"k"===e){0!==i&&--i;{var o=r(".item[data-index="+i+"]");o.offset().top+o.height()}t(o)?r("html, body").animate({scrollTop:0},0):(n=o.height(),r("html, body").animate({scrollTop:o.offset().top+(o.height()-n)},0)),o.addClass("active")}else{i<r("#content li").length-1&&++i;{var a=r(".item[data-index="+i+"]");a.offset().top+a.height()}n=a.height(),t(a)||r("html, body").animate({scrollTop:a.offset().top+(a.height()-n)},0),a.addClass("active")}}else r(".item[data-index=0]").addClass("active")},goToFile:function(){var e=r(".item.active").data("navigate");return e&&router.navigate(e,!0),!1},parseLinkHeader:function(e,t){t=i.clone(t)||{};var n=e.getResponseHeader("link");if(n){var o=n.split(","),a={};i.each(o,function(e){var t=e.split(";"),n=t[0].replace(/<(.*)>/,"$1").trim(),r=t[1].replace(/rel="(.*)"/,"$1").trim();a[r]=n}),a.next?r.ajax({type:"GET",url:a.next,success:t.success,error:t.error}):i.isFunction(t.complete)&&t.complete()}else i.isFunction(t.error)&&t.error()},xhrErrorMessage:function(e){try{return JSON.parse(e.responseText).message}catch(n){return t("notification.error.github")}},getApiFlavor:function(){return o.gitlab?"gitlab":"github"},commitMessage:function(e,n){return e?t("actions.commits.created",{filename:n}):t("actions.commits.updated",{filename:n})},oauthUrl:function(e,t){var n,r={client_id:o.id};return"gitlab"===e?(n="oauth/authorize",r.redirect_uri=o.redirect,r.response_type="code"):(n="login/oauth/authorize",r.scope=t),a.format({host:o.host,protocol:"https",pathname:n,query:r})}}},{"./config":9,chrono:65,jquery:87,underscore:129,url:130}],23:[function(e,t){var n=e("underscore"),r=e("backbone"),i=e("./loader"),o=e("./sidebar"),a=e("./nav"),s=e("../cookie"),l=e("../../templates"),u=e("../util"),c=e("keymaster");t.exports=r.View.extend({className:"application",template:l.app,subviews:{},events:{"click a.logout":"logout"},initialize:function(e){c("j, k, enter, o",function(e,t){this.$el.find(".listing")[0]&&("j"===t.key||"k"===t.key?u.pageListing(t.key):u.goToFile())}.bind(this)),c("ctrl+enter",function(){"blob"===this.nav.state?this.nav.trigger("edit"):"edit"===this.nav.state&&this.nav.trigger("blob")}.bind(this)),this.user=e.user,this.loader=new i,this.subviews.loader=this.loader,this.sidebar=new o({app:this,user:this.user}),this.subviews.sidebar=this.sidebar,this.nav=new a({app:this,sidebar:this.sidebar,user:this.user}),this.subviews.nav=this.nav},render:function(){return this.$el.html(this.template()),this.loader.setElement(this.$el.find("#loader")).render(),this.sidebar.setElement(this.$el.find("#drawer")).render(),this.nav.setElement(this.$el.find("nav")).render(),this},logout:function(){return s.unset("oauth-token"),s.unset("id"),window.location.reload(),!1},remove:function(){n.invoke(this.subviews,"remove"),this.subviews={},r.View.prototype.remove.apply(this,arguments)}})},{"../../templates":136,"../cookie":10,"../util":22,"./loader":32,"./nav":41,"./sidebar":47,backbone:60,keymaster:119,underscore:129}],24:[function(e,t){var n=e("jquery"),r=e("backbone"),i=(e("underscore"),e("../cookie")),o=e("../../templates"),a=e("../../translations/locales");t.exports=r.View.extend({className:"inner deep prose limiter",template:o.chooselanguage,events:{"click .language":"setLanguage"},render:function(){return this.$el.empty().append(this.template({languages:a,active:app.locale?app.locale:window.locale._current})),this},setLanguage:function(e){if(!n(e.target).hasClass("active")){var t=n(e.target).data("code");i.set("lang",t),app.locale=t,app.locale&&"en"!==app.locale&&n.getJSON("./translations/locales/"+app.locale+".json",function(e){window.locale[app.locale]=e,window.locale.current(app.locale)}),window.location.reload()}return!1}})},{"../../templates":136,"../../translations/locales":137,"../cookie":10,backbone:60,jquery:87,underscore:129}],25:[function(e,n){var r=e("marked"),i=e("backbone");n.exports=i.View.extend({className:"inner deep prose limiter",render:function(){return this.$el.empty().append(r(t("about.content"))),this}})},{backbone:60,marked:120}],26:[function(e,n){var r=e("codemirror"),i=e("jquery"),o=e("underscore"),a=e("queue-async"),s=e("js-yaml"),l=e("../../vendor/liquid.patch"),u=e("handsontable"),c=e("papaparse"),h=e("url").format,d=(e("path").format,e("./modal")),f=e("marked"),p=e("diff"),m=e("backbone"),g=e("../models/file"),v=e("./header"),y=e("./toolbar"),b=e("./metadata"),w=e("../config"),C=e("../util"),x=e("../upload"),k=e("../cookie"),S=e("../../templates");
n.exports=m.View.extend({id:"post",template:S.file,subviews:{},initialize:function(e){var n=e.app;n.loader.start(),l.apply(this),this.app=n,this.branch=e.branch||e.repo.get("default_branch"),this.branches=e.branches,this.mode=e.mode,this.nav=e.nav,this.path=e.path||"",this.repo=e.repo,this.router=e.router,this.sidebar=e.sidebar,this.nav.setFileState(this.mode),this.listenTo(this.nav,"edit",this.edit),this.listenTo(this.nav,"blob",this.blob),this.listenTo(this.nav,"meta",this.meta),this.listenTo(this.nav,"settings",this.settings),this.listenTo(this.nav,"save",this.showDiff),this.listenTo(this.sidebar,"destroy",this.destroy),this.listenTo(this.sidebar,"toggle-editor",this.toggleEditor),this.listenTo(this.sidebar,"draft",this.draft),this.listenTo(this.sidebar,"cancel",this.cancel),this.listenTo(this.sidebar,"confirm",this.updateFile),this.listenTo(this.sidebar,"translate",this.translate),i(window).on("pagehide",this.stashFile),window.onbeforeunload=function(e){if(this.dirty){var n=t("actions.unsaved");return(e||window.event).returnValue=n,n}}.bind(this);var r=this,o=function(t,n){e.router.error(n)};e.branches.fetch({success:function(e){var t=e.findWhere({name:r.branch}).files;t.fetch({success:r.setModel.bind(r),error:o}),r.collection=t},error:o})},setModel:function(){var e;switch(this.mode){case"edit":case"blob":e=this.collection.findWhere({path:this.path});break;case"preview":if(e=this.collection.findWhere({path:this.path}),!e){var n=this.absolutePathFromComponents(this.repo.get("owner").login,this.repo.get("name"),this.branch,this.path);this.getStashForPath(n)&&(e=this.newEmptyFile())}break;case"new":e=this.newEmptyFile()}if(this.model=e,e){e.on("invalid",this.onInvalid.bind(this));var r=this.collection.defaults;r&&e.set("defaults",r[this.nearestPath(e.get("path"),r)]),e.isNew()?this.render():e.fetch({success:this.render.bind(this)})}else this.router.notify(t("notification.error.exists"),void 0,[{title:t("notification.create"),className:"create",link:"#"},{title:t("notification.back"),link:"#"+o.compact([this.repo.get("owner").login,this.repo.get("name"),"tree",this.branch,C.extractFilename(this.path)[0]]).join("/")}]);this.app.loader.done()},newEmptyFile:function(){return new g({branch:this.branches.findWhere({name:this.branch}),collection:this.collection,path:this.path,repo:this.repo})},nearestPath:function(e,t){e=e.replace(/^(_drafts)/,"_posts");for(var n=/\/?(?!.*\/).*$/;!o.has(t,e)&&n.test(e)&&e;)e=e.replace(n,"");return e},cursor:function(){var e=C.trim(this.editor.getSelection()),t={lineBreak:/\n/,h1:/^#{1}/,h2:/^#{2}/,h3:/^#{3}/,h4:/^#{4}/,strong:/^__([\s\S]+?)__(?!_)|^\*\*([\s\S]+?)\*\*(?!\*)/,italic:/^\b_((?:__|[\s\S])+?)_\b|^\*((?:\*\*|[\s\S])+?)\*(?!\*)/,isNumber:parseInt(e.charAt(0),10)};if(t.isNumber)"."===e.charAt(1)&&" "===e.charAt(2)&&this.toolbar.highlight("numbered-list");else switch(e.charAt(0)){case"#":t.lineBreak.test(e)||(t.h3.test(e)&&!t.h4.test(e)?this.toolbar.highlight("sub-heading"):t.h2.test(e)&&!t.h3.test(e)&&this.toolbar.highlight("heading"));break;case">":this.toolbar.highlight("quote");break;case"*":case"_":t.lineBreak.test(e)||(t.strong.test(e)?this.toolbar.highlight("bold"):t.italic.test(e)&&this.toolbar.highlight("italic"));break;case"!":t.lineBreak.test(e)||"["!==e.charAt(1)||")"!==e.charAt(e.length-1)||this.toolbar.highlight("media");break;case"[":t.lineBreak.test(e)||")"!==e.charAt(e.length-1)||this.toolbar.highlight("link");break;case"-":" "===e.charAt(1)&&this.toolbar.highlight("list");break;default:this.toolbar&&this.toolbar.highlight()}},compilePreview:function(e){var t=/\!\[([^\[]*)\]\(([^\)]+)\)/g,n=/\!\[([^\[]*)\]\(([^\)]+)\)/,r=/".*?"/,i=e.match(t);return o.each(i,function(t){var i,o=n.exec(t);if(null!==o&&(i=o[2],!C.absolutePath(i))){r.test(i)&&(i=i.split(r)[0]),i=i.replace("{{site.baseurl}}/","/"),i=/^\//.test(i)?i.slice(1):C.extractFilename(this.model.get("path"))[0]+"/"+i;var a=h({host:w.host,protocol:"https",pathname:formatPath(this.repo.get("owner").login,this.repo.get("name"),"blob",this.get("branch"),window.escape(i)),query:{raw:"true"}});e=e.replace(t,"!["+o[1]+"]("+a+")")}}.bind(this)),o.escape(e)},toggleEditor:function(){k.set("disableCSVEditor",!k.get("disableCSVEditor")),this.render()},parseCSV:function(e){return c.parse(C.trim(e),{skipEmptyLines:!0})},initCSVEditor:function(){var e=this,t=this.$el.find("#csv"),n=t[0],r=this.parseCSV(this.model.get("content")),o=t.offset().top,a=i(document).height(),s=a-o;this.editor=new u(n,{data:r.data,colHeaders:!0,rowHeaders:!0,stretchH:"all",height:s,fixedRowsTop:1,manualColumnResize:!0,manualRowResize:!0,contextMenu:["row_above","row_below","col_left","col_right","remove_row","remove_col","undo","redo"],undo:!0,afterChange:function(t,n){"loadData"!==n&&e.makeDirty()},afterRemoveCol:this.makeDirty,afterRemoveRow:this.makeDirty,afterCreateCol:this.makeDirty,afterCreateRow:this.makeDirty}),this.editor.getValue=function(){return c.unparse(this.getSourceData())},this.editor.setValue=function(t){var n=e.parseCSV(t);this.loadData(n.data),e.makeDirty()},this.stashApply()},initEditor:function(){var e=this.model.get("lang"),t=this.$el.find("#code")[0];t.value=this.model.get("content")||"";var n;n=r.fromTextArea(t,{mode:e,lineWrapping:!0,lineNumbers:"gfm"===e||null===e?!1:!0,extraKeys:this.keyMap(),matchBrackets:!0,dragDrop:!1,theme:"prose-bright"}),this.editor=n,this.model.get("markdown")&&this.model.get("writable")&&x.dragDrop(this.$el,function(e,t,r){this.$el.find("#dialog").hasClass("dialog")?this.updateImageInsert(e,t,r):(n.focus(),n.replaceSelection(""),this.upload(e,t,r))}.bind(this)),"gfm"===e&&this.registerEditorEvent("cursorActivity",this.cursor),this.registerEditorEvent("change",this.makeDirty),this.registerEditorEvent("focus",this.focus),this.refreshCodeMirror(),this.stashApply()},registerEditorEvent:function(e,t){var n=t.bind(this),r=this.editor;r.on(e,n),this.editorEvents.push(function(){r.off(e,n)})},editorEvents:[],keyMap:function(){var e=this;return this.model.get("markdown")?{"Ctrl-Enter":function(){e.blob()},"Ctrl-S":function(){e.updateFile()},"Cmd-B":function(){""!==e.editor.getSelection()&&e.toolbar.bold(e.editor.getSelection())},"Ctrl-B":function(){""!==e.editor.getSelection()&&e.toolbar.bold(e.editor.getSelection())},"Cmd-I":function(){""!==e.editor.getSelection()&&e.toolbar.italic(e.editor.getSelection())},"Ctrl-I":function(){""!==e.editor.getSelection()&&e.toolbar.italic(e.editor.getSelection())}}:{"Ctrl-S":function(){e.updateFile()}}},focus:function(){this.queue=void 0,this.$el.find(".toolbar .group a").removeClass("on"),this.$el.find("#dialog").empty().removeClass()},initToolbar:function(){this.toolbar=new y({view:this,file:this.model,collection:this.collection,config:this.config}),this.subviews.toolbar=this.toolbar,this.toolbar.setElement(this.$("#toolbar")).render(),this.listenTo(this.toolbar,"updateImageInsert",this.updateImageInsert),this.listenTo(this.toolbar,"post",this.post)},titleAsHeading:function(){var e=this.model.get("metadata");if(this.model.get("markdown")){if(e&&e.title)return e.title;if(this.model.get("defaults")){var n=o(this.model.get("defaults")).find(function(e){return"title"==e.name});return n?n.field&&n.field.value?n.field.value:t("main.file.noTitle"):!1}return!1}},initSidebar:function(){this.subviews.settings=this.sidebar.initSubview("settings",{sidebar:this.sidebar,config:this.collection.config,file:this.model,fileInput:this.titleAsHeading()}).render(),this.listenTo(this.sidebar,"makeDirty",this.makeDirty),this.save=this.sidebar.initSubview("save",{sidebar:this.sidebar,file:this.model}).render(),this.subviews.save=this.save},initHeader:function(){var e=this.titleAsHeading(),t=e?e:this.model.get("path");this.header=new v({input:t,title:e?!0:!1,file:this.model,repo:this.repo,alterable:!0,placeholder:this.model.isNew()&&!this.model.translate&&!this.model.isClone()}),this.subviews.header=this.header,this.header.setElement(this.$el.find("#heading")).render(),this.listenTo(this.header,"makeDirty",this.makeDirty)},renderMetadata:function(){this.metadataEditor=new b({model:this.model,titleAsHeading:this.titleAsHeading(),view:this}),this.metadataEditor.setElement(this.$el.find("#meta")).render(),this.subviews.metadata=this.metadataEditor},render:function(){var e=this.model;if(this.app.loader.start(),"preview"===this.mode)this.preview();else{var t=(e.get("content"),-1!==["csv","tsv"].indexOf(e.get("lang"))&&!k.get("disableCSVEditor"));this.$el.empty().append(this.template(o.extend({},e.attributes,{useCSVEditor:t}))),this.config=e.get("collection").config,t?this.initCSVEditor():this.initEditor(),this.initHeader(),this.initToolbar(),this.initSidebar();var n=["file"],r=e.get("markdown"),i=/^(_posts|_drafts)/.test(this.model.get("path"));!t&&(this.model.get("metadata")||this.model.get("defaults")||r&&i)&&(this.renderMetadata(),n.push("meta")),(r||"html"===this.model.get("extension"))&&n.push("preview"),this.model.isNew()||n.push("settings"),this.nav.mode(n.join(" ")),this.updateDocumentTitle(),Liquid.Template.registerFilter({markdownify:function(e){return f(e||"")}}),r&&"blob"===this.mode?this.blob():(this.$el.find("#edit").toggleClass("active",!0),this.$el.find(".file .edit").addClass("active"),r&&C.fixedScroll(this.$el.find(".topbar"),90)),"blob"===this.mode&&this.blob()}return this.app.loader.done(),this},updateDocumentTitle:function(){var e="blob"===this.mode?t("docheader.preview"):t("docheader.editing"),n=this.model.get("path"),r=n?n:"";C.documentTitle(e+" "+r+"/"+this.model.get("name")+" at "+this.branch)},edit:function(){var e=this;this.sidebar.close(),this.editor||(this.initEditor(),this.model.get("markdown")&&o.delay(function(){C.fixedScroll(i(".topbar",e.el),90)},1)),i("#prose").toggleClass("open",!1),this.contentMode("edit"),this.mode=this.model.isNew()?"new":"edit",this.nav.setFileState(this.mode),this.updateURL()},blob:function(e){this.sidebar.close();var t=this.model.get("metadata"),n=this.config&&this.config.siteurl&&t&&t.layout;if(n&&e){this.nav.setFileState("edit"),this.stashFile();var r=this.absoluteFilepath().split("/");r.splice(2,0,"preview"),i(e.currentTarget).attr({target:"_blank",href:"#"+r.join("/")})}else e&&e.preventDefault(),this.$el.find("#preview").html(f(this.compilePreview(this.model.get("content")))),this.mode="blob",this.contentMode("preview"),this.nav.setFileState("blob"),this.updateURL()},preview:function(){function e(n){var i=c.page.layout,a=this.collection.findWhere({path:"_layouts/"+i+".html"});a.fetch({success:function(i){i.fetch({success:function(i){var a=i.get("metadata"),s=i.get("content"),l=Liquid.parse(s);c.page=o.extend(r,a),c.content=l.render({site:c.site,post:c.post,page:c.page,content:c.content}),a&&a.layout&&t.defer(e.bind(this)),n()}.bind(this),error:function(e,t){this.router.error(t)}.bind(this)})}.bind(this),error:function(e,t){this.router.error(t)}.bind(this)})}var t=a(1),n=this.getStashForPath(this.absolutePathFromFile(this.model)),r={},l="";n&&n.content?(r=n.metadata,l=n.content):(r=this.model.get("metadata")||{},l=this.model.get("content")||"");var u=Liquid.parse(this.compilePreview(l)).render({site:this.collection.config,post:r,page:r});this.model.get("markdown")&&(u=f(u));var c={site:this.collection.config,post:r,page:r,content:u||""},h=C.extractFilename(this.path)[1].split("-"),d=h[0],p=h[1],m=h[2],g=[d,p,m].join("-")+" 05:00:00";try{c.post.date=s.safeLoad(g).toDateString()}catch(v){console.log("Error parsing date"),console.log(v)}c.site&&c.site.site&&o(c.site.site).each(function(e,n){t.defer(function(t){var r=!1;i.ajax({cache:!0,dataType:"jsonp",jsonp:!1,jsonpCallback:"callback",url:e,timeout:5e3,success:function(e){c.site[n]=e,r=!0,t()},error:function(){r||t()}})})}),c.page.layout&&t.defer(e.bind(this)),t.await(function(){var e=this.collection.config,t=c.content;e&&e.siteurl&&(t=t.replace(/(<head(?:.*)>)/,function(){return arguments[1]+'<base href="'+e.siteurl+'">'}.bind(this))),document.write(t),document.close()}.bind(this))},contentMode:function(e){this.$el.find(".views .view").removeClass("active"),e?this.$el.find("#"+e).addClass("active"):"blob"===this.mode?this.$el.find("#preview").addClass("active"):this.$el.find("#edit").addClass("active")},meta:function(){this.sidebar.close(),this.contentMode("meta"),this.metadataEditor.refresh()},destroy:function(){confirm(t("actions.delete.warn"))&&this.model.destroy({success:function(){this.router.navigate([this.repo.get("owner").login,this.repo.get("name"),"tree",this.branch].join("/"),!0)}.bind(this),error:function(e,t){this.router.error(t)}.bind(this)})},updateURL:function(){var e=o.compact([this.repo.get("owner").login,this.repo.get("name"),this.mode,this.branch,this.path]);this.router.navigate(e.join("/"),{trigger:!1,replace:!0}),this.updateDocumentTitle()},makeDirty:function(){this.dirty=!0,this.editor&&this.editor.getValue&&this.model.set("content",this.editor.getValue());var e=this.model.get("writable")?t("actions.change.save"):t("actions.change.submit");this.updateSaveState(e,"save")},settings:function(){this.contentMode(),this.sidebar.mode("settings"),this.sidebar.open()},showDiff:function(){this.contentMode("diff"),this.sidebar.mode("save"),this.sidebar.open();for(var e=this.$el.find("#diff"),t=this.model.isNew()?"":o.escape(this.model.get("previous")),n=o.escape(this.model.serialize()),r=p.diffWords(t,n),i=r.length,a="",s=0;i>s;s++)a+=r[s].removed?"<del>"+r[s].value+"</del>":r[s].added?"<ins>"+r[s].value+"</ins>":r[s].value;e.find(".diff-content").html("<pre>"+a+"</pre>")},cancel:function(){this.sidebar.close(),this.nav.active(this.mode),this.contentMode()},refreshCodeMirror:function(){"function"==typeof this.editor.refresh&&this.editor.refresh()},updateMetaData:function(){return this.model.jekyll?(this.model.metadata=this.metadataEditor.getValue(),!0):!0},patch:function(){this.updateSaveState(t("actions.save.patch"),"saving"),this.model.patch({success:function(){this.updateURL(),this.sidebar.close(),this.updateSaveState(t("actions.save.submission"),"saved")}.bind(this),error:function(e,t){var n=C.xhrErrorMessage(t);this.updateSaveState(n,"error")}.bind(this)})},filepath:function(){return this.titleAsHeading()?this.sidebar.filepathGet():this.header.inputGet()},absoluteFilepath:function(){return this.absolutePathFromComponents(this.repo.get("owner").login,this.repo.get("name"),this.branch,this.filepath())},absolutePathFromFile:function(e){var t=e.get("collection");return this.absolutePathFromComponents(t.repo.get("owner").login,t.repo.get("name"),t.branch.get("name"),e.get("path"))},absolutePathFromComponents:function(e,t,n,r){var i=o.compact([e,t,n,r]);return i.join("/")},draft:function(){var e,t=this.collection.defaults||{},n=this.model.get("path").replace(/^(_posts)/,"_drafts");this.model=this.collection.get(n)||this.model.clone({path:n}),this.model&&t&&this.model.set("defaults",t[this.nearestPath(n,t)]),this.path=n,e=o.compact([this.repo.get("owner").login,this.repo.get("name"),this.mode,this.branch,this.path]),this.router.navigate(e.join("/"),{trigger:!1}),this.sidebar.close(),this.nav.active("edit"),this.listenToOnce(this.model,"change",this.render),this.model.fetch()},post:function(){var e,t=this.collection.defaults||{},n=this.model.get("metadata")||{},r=this.model.get("content")||"",i=this.model.get("path").replace(/^(_drafts)/,"_posts");this.model=this.collection.get(i)||this.model.clone({path:i}),this.model&&t&&this.model.set("defaults",t[this.nearestPath(i,t)]),this.path=i,e=o.compact([this.repo.get("owner").login,this.repo.get("name"),this.mode,this.branch,this.path]),this.router.navigate(e.join("/"),{trigger:!1}),this.model.fetch({complete:function(){this.model.set("metadata",n),this.model.set("content",r),this.render(),this.nav.active("save"),this.showDiff()}.bind(this)})},translate:function(e){var t,n=this.collection.defaults||{},r=this.model.get("metadata")||{},a=i(e.currentTarget).attr("href").substr(1),s=this.model.get("path").split("/");"en"===a?s.splice(-2,2,s[s.length-1]):"en"===r.lang?s.splice(-1,1,a,s[s.length-1]):s.splice(-2,2,a,s[s.length-1]),s=o.compact(s).join("/");var l=r.categories||[];l.unshift(a),this.model=this.collection.get(s)||this.model.clone({metadata:{categories:l,lang:a},path:s}),this.model&&n&&this.model.set("defaults",n[this.nearestPath(s,n)]),this.path=s,t=o.compact([this.repo.get("owner").login,this.repo.get("name"),this.mode,this.branch,this.path]),this.router.navigate(t.join("/"),{trigger:!1}),this.sidebar.close(),this.model.fetch({complete:this.render})},stashFile:function(e){if(e&&e.preventDefault(),!window.sessionStorage||!this.dirty)return!1;var t=window.sessionStorage,n=this.absoluteFilepath();if(n)try{t.setItem(n,JSON.stringify({sha:this.model.get("sha"),content:this.editor?this.editor.getValue():null,metadata:this.metadataEditor?this.metadataEditor.getValue():null}))}catch(r){console.log(r)}},stashApply:function(){var e=this.absolutePathFromFile(this.model),t=this.getStashForPath(e);return t?(t.sha===this.model.get("sha")?(this.editor&&this.editor.setValue&&this.editor.setValue(t.content),this.metadataEditor&&this.metadataEditor.setValue(t.metadata)):this.clearStashForPath(e),void 0):!1},getStashForPath:function(e){if(!window.sessionStorage)return!1;var t=window.sessionStorage,n=t.getItem(e);return JSON.parse(n)},clearStashForPath:function(e){if(window.sessionStorage){var t=window.sessionStorage;t.removeItem(e)}},onInvalid:function(e,t){this.updateSaveState(t,"error");var n=new d({message:t});n.setElement(this.$("#modal")),n.render()},updateFile:function(){this.updateSaveState(t("actions.save.saving"),"saving");var e=this.model.get("writable")?this.model.save:this.patch;return this.model.content=this.editor?this.editor.getValue():"",e.call(this.model,{parse:!1,success:function(e){var n,r,a;this.sidebar.close(),this.updateSaveState(t("actions.save.saved"),"saved"),this.nav.$el.addClass("settings");var s=e.get("path");this.path=s,this.dirty=!1,this.clearStashForPath(this.absoluteFilepath()),this.edit();var l=e.get("oldpath"),u=C.extractFilename(l)[1],c=s!==l;e.previous("sha")&&c?(n=e.url().replace(s,l).split("?")[0],r={path:l,message:t("actions.commits.deleted",{filename:u}),sha:e.previous("sha"),branch:this.collection.branch.get("name")},a=o.map(o.pairs(r),function(e){return e.join("=")}).join("&"),i.ajax({type:"DELETE",url:n+"?"+a,error:function(e){var t=C.xhrErrorMessage(e);this.updateSaveState(t,"error")}.bind(this),success:function(){e.set("oldpath",s)}})):c&&e.set("oldpath",s)}.bind(this),error:function(e,t){var n=C.xhrErrorMessage(t);this.updateSaveState(n,"error")}.bind(this)}),!1},updateSaveState:function(e,t,n){"save"===t&&i(this.el).hasClass("saving")||(this.sidebar&&this.sidebar.updateState(e),this.nav&&this.nav.updateState(e,t,n))},updateImageInsert:function(e,t,n){var r=this.toolbar.mediaDirectoryPath?this.toolbar.mediaDirectoryPath:C.extractFilename(this.toolbar.file.attributes.path)[0],i=r+"/"+encodeURIComponent(t.name);this.$el.find('input[name="url"]').val(i),this.$el.find('input[name="alt"]').val(""),this.toolbar.queue={e:e,file:t,content:n}},defaultUploadPath:function(e){var t=this.config&&this.config.media?this.config.media:C.extractFilename(this.model.get("path"))[0];return o.compact([t,e]).join("/")},upload:function(e,n,r,o){this.updateSaveState(t("actions.upload.uploading",{file:n.name}),"saving");var a=o||this.defaultUploadPath(n.name);this.collection.upload(n,r,a,{success:function(e,t){var n=t.content.name,r="{{site.baseurl}}/"+t.content.path,o=i('input[name="alt"]'),a=o.val(),s=a?"!["+a+"]("+r+")":"!["+n+"]("+r+")";this.editor.focus(),this.editor.replaceSelection(s+"\n","end"),this.updateSaveState("Saved","saved",!0)}.bind(this),error:function(e,t){var n=C.xhrErrorMessage(t);this.updateSaveState(n,"error")}.bind(this)})},remove:function(){window.onbeforeunload=null,i(window).off("pagehide",this.stashFile),this.dirty&&(this.stashFile(),this.model.fetch()),this.editorEvents.forEach(function(e){e()}),o.invoke(this.subviews,"remove"),this.subviews={},this.updateSaveState("",""),m.View.prototype.remove.apply(this,arguments)}})},{"../../templates":136,"../../vendor/liquid.patch":138,"../config":9,"../cookie":10,"../models/file":14,"../upload":21,"../util":22,"./header":28,"./metadata":39,"./modal":40,"./toolbar":57,backbone:60,codemirror:68,diff:80,handsontable:83,jquery:87,"js-yaml":88,marked:120,papaparse:121,path:122,"queue-async":128,underscore:129,url:130}],27:[function(e,t){function n(e){return e?"/"===e.slice(-1)?e:e+"/":""}var r=e("jquery"),i=e("underscore"),o=e("backbone"),a=e("../models/file"),s=(e("../models/folder"),e("./li/file")),l=e("./li/folder"),u=e("../../templates"),c=e(".././util");t.exports=o.View.extend({className:"listings",template:u.files,subviews:{},events:{"mouseover .item":"activeListing","mouseover .item a":"activeListing","click .breadcrumb a":"navigate","click .item a":"navigate"},initialize:function(e){var t=e.app;t.loader.start(),this.app=t,this.branch=e.branch||e.repo.get("default_branch"),this.branches=e.branches,this.history=e.history,this.nav=e.nav,this.path=e.path||"",this.repo=e.repo,this.router=e.router,this.search=e.search,this.sidebar=e.sidebar,this.branches.fetch({success:this.setCollection.bind(this),error:function(t,n){e.router.error(n)}})},setCollection:function(){var e=this.branches.findWhere({name:this.branch}).files;this.collection=e,this.listenToOnce(e,"sync",function(){var t=e.config;this.rooturl=t&&t.rooturl?t.rooturl:"",this.presentationModel=e.filteredModel||e,this.search.model=this.presentationModel,this.listenTo(this.search,"search",this.render),this.render()});var t=this.router;e.fetch({error:function(e,n){t.error(n)},reset:!0})},render:function(){var e,t=this.search&&this.search.input&&this.search.input.val(),r=n(this.rooturl),o=n(this.path),u=[this.repo.get("owner").login,this.repo.get("name"),"tree",this.branch].join("/"),h=new RegExp("^"+(o?o:r)+"[^/]*$");this.presentationModel.get("_posts")&&/^(?!_drafts)/.test(this.path)&&(e=this.sidebar.initSubview("drafts",{link:[u,"_drafts"].join("/"),sidebar:this.sidebar}),this.subviews.drafts=e,e.render());var d={path:o,parts:c.chunkedPath(this.path),rooturl:r,url:u};this.$el.html(this.template(d));var f=t?this.search.search():this.presentationModel.filter(function(e){return h.test(e.get("path"))}.bind(this)),p=document.createDocumentFragment(),m={branch:this.branch,history:this.history,repo:this.repo,router:this.router},g=this.subviews;return f.each(function(e,t){var n=i.extend({},m,{index:t,model:e}),r=e instanceof a?new s(n):new l(n);p.appendChild(r.render().el),g[e.id]=r}),this.$el.find("ul").html(p),this.app.loader.stop(),this},activeListing:function(e){var t=r(e.target);t.hasClass("item")||(t=r(e.target).closest("li")),this.$el.find(".item").removeClass("active"),t.addClass("active"),this.search.$el.blur()},navigate:function(e){var t=e.currentTarget,n=t.href.split("#")[1],r=n.match(/tree\/([^\/]*)\/?(.*)$/);e&&r&&(e.preventDefault(),this.path=r?r[2]:n,this.render(),this.router.navigate(n))},remove:function(){i.invoke(this.subviews,"remove"),this.subviews={},o.View.prototype.remove.apply(this,arguments)}})},{"../../templates":136,".././util":22,"../models/file":14,"../models/folder":15,"./li/file":29,"./li/folder":30,backbone:60,jquery:87,underscore:129}],28:[function(e,n){var r=e("jquery"),i=e("underscore"),o=e("backbone"),a=e("../util"),s=e("../../templates");n.exports=o.View.extend({template:s.header,events:{"focus input":"checkPlaceholder",'change input[data-mode="path"]':"updatePath",'change input[data-mode="title"]':"updateTitle"},initialize:function(e){this.user=e.user,this.repo=e.repo,this.file=e.file,this.input=e.input,this.title=e.title,this.placeholder=e.placeholder,this.alterable=e.alterable},render:function(){var e,n=this.user?this.user.get("login"):this.repo.get("owner").login,r=(this.repo?this.repo.get("permissions"):void 0,this.repo&&this.repo.get("private")?!0:!1),o=t("heading.explore"),a=n;if(this.user)e='<img src="'+this.user.get("avatar_url")+'" width="40" height="40" alt="Avatar" />';else if(this.file)e='<span class="ico round document '+this.file.get("lang")+'"></span>',o=this.file.get("path");else{var s=r?" private":"";o=this.repo.get("name"),a=a+"/"+o,e='<div class="avatar round"><span class="icon round repo'+s+'"></span></div>'}var l={alterable:this.alterable,avatar:e,repo:this.repo?this.repo.attributes:void 0,isPrivate:r,input:i.escape(this.input),path:i.escape(a),placeholder:this.placeholder,user:n,title:i.escape(o),mode:this.title?"title":"path",translate:this.file?this.file.get("translate"):void 0};return this.$el.empty().append(this.template(l)),this},checkPlaceholder:function(e){if(this.file.isNew()){var t=r(e.target,this.el);t.val()||t.val(t.attr("placeholder"))}},updatePath:function(e){var t=e.currentTarget.value;return this.file.set("path",t),this.trigger("makeDirty"),!1},updateTitle:function(e){if(e&&e.preventDefault(),this.file.isNew()&&!this.file.isClone()){var t=e.currentTarget.value,n=this.file.get("path"),r=n.split("/"),o=r.pop(),s=a.extractDate(o),l=o.split(".").pop();n=r.join("/")+"/"+s+"-"+a.stringToUrl(t)+"."+l,this.file.set("path",n)}var u=this.file.get("metadata")||{};this.file.set("metadata",i.extend(u,{title:e.currentTarget.value})),this.trigger("makeDirty")},inputGet:function(){return this.$el.find(".headerinput").val()},headerInputFocus:function(){this.$el.find(".headerinput").focus()}})},{"../../templates":136,"../util":22,backbone:60,jquery:87,underscore:129}],29:[function(e,n){{var r=e("underscore"),i=e("backbone"),o=e("../sidebar/li/commit"),a=e("../../../templates");e("../../util")}n.exports=i.View.extend({template:a.li.file,tagName:"li",className:"item clearfix",events:{"click a.delete":"destroy"},initialize:function(e){this.branch=e.branch,this.history=e.history,this.model=e.model,this.repo=e.repo,this.router=e.router,this.$el.attr("data-index",e.index),this.model.get("binary")||this.$el.attr("data-navigate","#"+this.repo.get("owner").login+"/"+this.repo.get("name")+"/edit/"+this.branch+"/"+this.model.get("path"))},render:function(){var e=r.extend(this.model.attributes,{branch:this.branch,repo:this.repo.attributes}),t=this.model.collection.config&&this.model.collection.config.rooturl,n=new RegExp("^"+t+"(.*)"),i=t?e.path.match(n):!1;return e.jailpath=i?i[1]:e.path,this.$el.html(this.template(e)),this},destroy:function(){return confirm(t("actions.delete.warn"))&&this.model.destroy({success:function(e,t){var n=t.commit,i=new o({branch:this.branch,file:r.extend(n,{contents_url:e.get("content_url"),filename:e.get("path"),status:"removed"}),repo:this.repo,view:this.view});this.history.$el.find("#commits").prepend(i.render().el),this.history.subviews[n.sha]=i,this.$el.fadeOut("fast")}.bind(this),error:function(e,t){this.router.error(t)}.bind(this)}),!1}})},{"../../../templates":136,"../../util":22,"../sidebar/li/commit":52,backbone:60,underscore:129}],30:[function(e,t){var n=e("underscore"),r=e("backbone"),i=e("../../../templates");t.exports=r.View.extend({tagName:"li",className:"item clearfix",template:i.li.folder,initialize:function(e){this.model=e.model,this.repo=e.repo,this.branch=e.branch,this.$el.attr("data-index",e.index),this.$el.attr("data-navigate","#"+this.repo.get("owner").login+"/"+this.repo.get("name")+"/tree/"+this.branch+"/"+this.model.get("path"))},render:function(){var e=n.extend(this.model.attributes,{branch:this.branch,repo:this.repo.attributes}),t=this.model.collection.config&&this.model.collection.config.rooturl,r=new RegExp("^"+t+"(.*)"),i=t?e.path.match(r):!1;return e.jailpath=i?i[1]:e.path,this.$el.empty().append(this.template(e)),this}})},{"../../../templates":136,backbone:60,underscore:129}],31:[function(e,t){var n=e("underscore"),r=e("backbone"),i=e("../../cookie"),o=e("../../../templates");t.exports=r.View.extend({tagName:"li",className:"item clearfix",template:o.li.repo,initialize:function(e){this.model=e.model,this.$el.attr("data-index",e.index),this.$el.attr("data-id",this.model.id),this.$el.attr("data-navigate","#"+this.model.get("owner").login+"/"+this.model.get("name"))},render:function(){return this.$el.empty().append(this.template(n.extend({},this.model.attributes,{login:i.get("login")}))),this}})},{"../../../templates":136,"../../cookie":10,backbone:60,underscore:129}],32:[function(e,t){var n=e("underscore"),r=e("backbone"),i=e("../../templates");t.exports=r.View.extend({template:i.loading,queue:0,start:function(e){this.queue++,e&&this.$el.find(".message").html(e),this.$el.show()},stop:function(){this.queue=0,this.$el.fadeOut(150)},done:function(){n.defer(function(){this.queue--,this.queue<1&&this.stop()}.bind(this))},render:function(){return this.$el.html(this.template()),this}})},{"../../templates":136,backbone:60,underscore:129}],33:[function(e,t){var n=e("jquery"),r=e("backbone"),i=(e("underscore"),e("../../../templates"));t.exports=r.View.extend({template:i.meta.button,type:"button",events:{"click button":"toggleState"},initialize:function(e){this.options=e,this.name=e.data.name,this.on=e.data.field.on,this.off=e.data.field.off},render:function(){var e=this.options.data,t={name:e.name,label:e.field.label,help:e.field.help,on:e.field.on,off:e.field.off,value:e.field.on};return this.setElement(n(this.template(t))),this.$form=this.$el.find("button"),this.$el},toggleState:function(){var e=this.$form.val()===this.on?this.off:this.on;this.$form.val(e).text(e)},getValue:function(){return this.$form.val()===this.on},setValue:function(e){this.$form.val(e===this.on)}})},{"../../../templates":136,backbone:60,jquery:87,underscore:129}],34:[function(e,t){var n=e("jquery"),r=e("backbone"),i=(e("underscore"),e("../../../templates"));t.exports=r.View.extend({template:i.meta.checkbox,type:"checkbox",initialize:function(e){this.options=e,this.name=e.data.name},render:function(){var e=this.options.data,t={name:e.name,label:e.field.label,help:e.field.help,value:e.name,checked:e.field.value};return this.setElement(n(this.template(t))),this.$form=this.$el.find("input"),this.$el},getValue:function(){return this.$form[0].checked},setValue:function(e){this.$form[0].checked=e}})},{"../../../templates":136,backbone:60,jquery:87,underscore:129}],35:[function(e,t){var n=e("jquery"),r=e("backbone"),i=e("underscore"),o=e("../../../templates");t.exports=r.View.extend({template:o.meta.multiselect,type:"multiselect",initialize:function(e){this.options=e,this.name=e.data.name},render:function(){var e=this.options.data,t={name:e.name,label:e.field.label,help:e.field.help,alterable:e.field.alterable,placeholder:e.field.placeholder,options:e.field.options,lang:e.lang};return this.setElement(n(this.template(t))),this.$form=this.$el.find("select"),this.$el},getValue:function(){var e=this.$form.val();return!e&&0!==e||i.isEmpty(e)?"":e},setValue:function(e){var t=this.$el,r=this.$form,o=i.isArray(e)?e:[e];o=o.filter(function(e){return Boolean(e)||0===e}),o.length?i.each(o,function(e){var i=t.find('option[value="'+e+'"]');i.length?i.attr("selected","selected"):r.append(n("<option />",{selected:"selected",value:e,text:e}))}):t.find("option").each(function(){n(this).attr("selected",!1)}),r.trigger("liszt:updated")}})},{"../../../templates":136,backbone:60,jquery:87,underscore:129}],36:[function(e,t){var n=e("backbone"),r=n.$,i=e("underscore"),o=e("../../../templates");t.exports=n.View.extend({template:o.meta.select,type:"select",initialize:function(e){this.name=e.data.name,this.options=e},render:function(){var e=this.options.data,t={name:e.name,label:e.field.label,help:e.field.help,placeholder:e.field.placeholder,options:e.field.options,lang:e.lang},n=r(this.template(t));return this.setElement(n),this.$form=n.find("select"),this.$el=n},getValue:function(){var e=this.$form.val();return e||0===e?e:""},setValue:function(e){var t=this.$el,n=this.$form;if(i.isArray(e)&&(e=e[0]),e||0===e){var o=t.find('option[value="'+e+'"]');o.length?n.val(e):n.append(r("<option />",{selected:"selected",value:e,text:e}))}else t.find("option").each(function(){r(this).attr("selected",!1)});n.trigger("liszt:updated")}})},{"../../../templates":136,backbone:60,underscore:129}],37:[function(e,t){var n=e("jquery"),r=e("backbone"),i=(e("underscore"),e("../../../templates"));
t.exports=r.View.extend({template:i.meta.text,type:"text",initialize:function(e){this.options=e,this.name=e.data.name},render:function(){var e=this.options.data,t={name:e.name,label:e.field.label,help:e.field.help,value:e.field.value,placeholder:e.field.placeholder,type:e.type};return this.setElement(n(this.template(t))),this.$form=this.$el.find("input"),this.$el},getValue:function(){return"number"===this.options.data.type?Number(this.$form.val()):this.$form.val()},setValue:function(e){this.$form.val(e)}})},{"../../../templates":136,backbone:60,jquery:87,underscore:129}],38:[function(e,t){{var n=e("codemirror"),r=e("jquery"),i=e("backbone"),o=(e("underscore"),e("js-yaml")),a=e("../../../templates");e("../../util")}t.exports=i.View.extend({template:a.meta.textarea,type:"textarea",initialize:function(e){this.options=e,this.id=e.data.id,this.name=e.data.name},render:function(){var e=this.options.data,t={name:e.name,id:e.id,value:e.field.value,label:e.field.label,help:e.field.help,placeholder:e.field.placeholder,type:"textarea"};return this.setElement(r(this.template(t))),this.$el},initCodeMirror:function(e){var t=this.id,r=this.name,i=document.getElementById(t),o=n(function(e){i.parentNode.replaceChild(e,i),e.id=t,e.className+=" inner ",e.setAttribute("data-name",r)},{mode:t,value:i.value,lineWrapping:!0,theme:"prose-bright"});return o.on("blur",function(){e({currentTarget:{value:o.getValue()}})}),this.codeMirror=o,this.$form=o,o},getValue:function(){try{var e=o.safeLoad(this.codeMirror.getValue());return e||0===e?e:""}catch(t){return console.log("Error parsing yaml front matter for ",this.name),console.log(t),""}},setValue:function(e){void 0!=e&&this.codeMirror.setValue(e)}})},{"../../../templates":136,"../../util":22,backbone:60,codemirror:68,jquery:87,"js-yaml":88,underscore:129}],39:[function(e,t){var n=e("codemirror"),r=e("backbone"),i=e("underscore");i.merge=e("deepmerge");var o=e("js-yaml"),a=e("../../templates"),s=e("../util"),l=r.$,u={Checkbox:e("./meta/checkbox"),TextForm:e("./meta/text"),TextArea:e("./meta/textarea"),Button:e("./meta/button"),Select:e("./meta/select"),Multiselect:e("./meta/multiselect")};t.exports=r.View.extend({template:a.metadata,events:{"change .metafield":"updateModel","click button.metafield":"updateModel","click .create-select":"createSelect","click .finish":"exit"},initialize:function(e){this.model=e.model,this.titleAsHeading=e.titleAsHeading,this.view=e.view,this.subviews=[],this.codeMirrorInstances={}},render:function(){this.$el.empty().append(this.template({}));var e=this.$el.find(".form"),t=this.model.get("metadata")||{},n=t&&t.lang?t.lang:"en";i.each(this.model.get("defaults"),function(r,o){if(!r||"title"!==r.name||!this.titleAsHeading){var a=null;if(!r||r&&!r.field){var l={label:o,value:r},c=r.name?r.name:o;a=new u.TextForm({data:{name:c,type:"text",field:l}})}else switch(r.field.element){case"button":a=new u.Button({data:r});break;case"checkbox":a=new u.Checkbox({data:r});break;case"text":a=new u.TextForm({data:i.extend({},r,{type:"text"})});break;case"textarea":a=new u.TextArea({data:i.extend({},r,{id:s.stringToUrl(r.name)})});break;case"number":a=new u.TextForm({data:i.extend({},r,{type:"number"})});break;case"select":a=new u.Select({data:i.extend({},r,{lang:n})});break;case"multiselect":a=new u.Multiselect({data:i.extend({},r,{lang:n})});break;case"hidden":var h=t[r.name],d=r.field.value||"",f={};f[r.name]=i.isArray(h)?i.difference(d,h).length?i.union(d,h):h:d,this.model.set("metadata",i.extend(f,this.model.get("metadata")))}if(null!==a&&(e.append(a.render()),this.subviews.push(a),r&&r.field&&"textarea"===r.field.element)){var p=s.stringToUrl(r.name),m=a.initCodeMirror(this.updateModel.bind(this));this.codeMirrorInstances[p]=m}}}.bind(this));var r=this.$el.find(".chzn-select");return r.chosen().change(this.updateModel.bind(this)),this.renderRawEditor(),this.setValue(this.model.get("metadata")),this.model.set("metadata",this.getValue()),this},updateModel:function(){this.model.set("metadata",this.getValue()),this.view.makeDirty()},rawKeyMap:function(){return{"Ctrl-S":this.view.updateFile}},renderRawEditor:function(){var e,t="yaml"===this.model.get("lang");t?(e=this.view.$el.find("#code"),e.empty()):(this.$el.find(".form").append(a.meta.raw({})),e=this.$el.find("#raw")),this.codeMirrorInstances.rawEditor=n(e[0],{mode:"yaml",value:"",lineWrapping:!0,lineNumbers:t,extraKeys:this.rawKeyMap(),theme:"prose-bright"}),this.codeMirrorInstances.rawEditor.on("blur",function(e){try{var t=o.safeLoad(e.getValue())}catch(n){console.log("Error parsing CodeMirror editor text"),console.log(n)}if(t){var r=this.model.get("metadata");this.model.set("metadata",i.extend(r,t)),this.view.makeDirty()}}.bind(this))},getValue:function(){var e=this.model.get("metadata")||{};if(i.chain(this.subviews).map(function(e){return{value:e.getValue(),name:e.name}}).groupBy("name").each(function(t){var n=t[0].name;e[n]=1===t.length?t[0].value:i.pluck(t,"value")}),e.published=this.view.toolbar&&this.view.toolbar.publishState()||e&&e.published?!0:!1,this.titleAsHeading&&this.view.header&&(e.title=this.view.header.inputGet()),this.codeMirrorInstances.rawEditor)try{e=i.merge(e,o.safeLoad(this.codeMirrorInstances.rawEditor.getValue())||{})}catch(t){console.log("Error parsing not defined raw yaml front matter"),console.log(t)}for(var n in e)"title"!==n&&""===e[n]&&delete e[n];return e},setValue:function(e){e=e||{};var t=this.codeMirrorInstances.rawEditor,n=this.subviews,r=this.model.get("defaults")||[],a=r.filter(function(e){return e.field&&"hidden"===e.field.element});i.each(e,function(e,r){var s=i.filter(n,function(e){return e.name===r});if(s.length&&i.isArray(e)&&e.length===s.length)i.each(s,function(t,n){t.setValue(e[n])});else if(1===s.length)s[0].setValue(e);else if(!s.length&&e&&"title"!==r&&"published"!==r&&!i.find(a,function(e){return e.name===r})){var l={};l[r]=e,t.setValue(t.getValue()+o.safeDump(l))}})},refresh:function(){i.each(this.codeMirrorInstances,function(e){e.refresh()})},createSelect:function(e){var t=l(e.target).parent(),n=t.find("input"),r=l(e.target).data("select"),o=this.$el.find("#"+r),a=i(n.val()).escape();if(a.length>0){var s='<option value="'+a+'" selected="selected">'+a+"</option>";o.append(s),n.attr("value",""),o.trigger("liszt:updated"),o.trigger("change")}return!1},exit:function(){return this.view.nav.active(this.view.mode),"blob"===this.view.mode?this.view.blob():this.view.edit(),!1},remove:function(){i.invoke(this.subviews,"remove"),this.subviews=[],r.View.prototype.remove.apply(this,arguments)}})},{"../../templates":136,"../util":22,"./meta/button":33,"./meta/checkbox":34,"./meta/multiselect":35,"./meta/select":36,"./meta/text":37,"./meta/textarea":38,backbone:60,codemirror:68,deepmerge:79,"js-yaml":88,underscore:129}],40:[function(e,t){var n=(e("underscore"),e("backbone")),r=e("../../templates");t.exports=n.View.extend({className:"modal overlay",template:r.modal,events:{"click .got-it":"confirm"},initialize:function(){this.message=this.options.message},render:function(){return this.$el.empty().append(r.modal({message:this.message})),this},confirm:function(){var e=this;return this.$el.fadeOut("fast",function(){e.remove()}),!1}})},{"../../templates":136,backbone:60,underscore:129}],41:[function(e,n){var r=e("jquery"),i=e("underscore"),o=e("backbone"),a=e("../config"),s=e("../util"),l=e("../../templates"),u=e("../cookie");a.scope=u.get("scope")||"repo",n.exports=o.View.extend({template:l.nav,events:{"click a.edit":"emit","click a.preview":"emit","click a.meta":"emit","click a.settings":"emit","click a.save":"emit","click .mobile .toggle":"toggleMobile"},initialize:function(e){this.app=e.app,this.sidebar=e.sidebar,this.user=e.user},render:function(){return this.$el.html(this.template({login:s.oauthUrl(s.getApiFlavor(),a.scope)})),this.$save=this.$el.find(".file .save .popup"),this},emit:function(e){e&&!r(e.currentTarget).hasClass("preview")&&e.preventDefault();var t=r(e.currentTarget).data("state");r(e.currentTarget).hasClass("active")&&(t=this.state),this.active(t),this.toggle(t,e)},setFileState:function(e){this.state=e,this.active(e)},updateState:function(e,n,r){e||(e=t("navigation.save")),this.$save.html(e),this.$el.find(".file").removeClass("error saving saved save").addClass(n),r&&i.delay(function(){this.$el.find(".file").removeClass(n)}.bind(this),1e3)},mode:function(e){this.$el.attr("class",e)},active:function(e){e="new"===e?"edit":e,this.$el.find(".file a").removeClass("active"),this.$el.find(".file a[data-state="+e+"]").toggleClass("active")},toggle:function(e,t){this.trigger(e,t)},toggleMobile:function(e){return this.sidebar.toggleMobile(),r(e.target).toggleClass("active"),!1}})},{"../../templates":136,"../config":9,"../cookie":10,"../util":22,backbone:60,jquery:87,underscore:129}],42:[function(e,n){var r=e("underscore"),i=e("backbone"),o=e("../../templates"),a=e("../util");n.exports=i.View.extend({id:"notification",className:"notification round",template:o.notification,events:{"click .create":"createPost"},initialize:function(e){e=r.clone(e)||{},this.message=e.message,this.error=e.error,this.options=e.options},render:function(){return a.documentTitle(t("docheader.error")),this.$el.html(this.template({message:this.message,error:this.error,options:this.options})),this},createPost:function(){var e=window.location.hash.split("/");e[2]="new";var t=e[e.length-1].split("?");return e[e.length-1]=t[0]+"?file="+t[0],t.length>1&&(e[e.length-1]+="&"+t[1]),router.navigate(r(e).compact().join("/"),{trigger:!0}),!1}})},{"../../templates":136,"../util":22,backbone:60,underscore:129}],43:[function(e,t){var n=e("underscore"),r=e("backbone"),i=e("./header"),o=(e("./sidebar/orgs"),e(".././util"),e("../../templates"));t.exports=r.View.extend({template:o.profile,subviews:{},initialize:function(e){this.auth=e.auth,this.repos=e.repos,this.router=e.router,this.search=e.search,this.sidebar=e.sidebar,this.user=e.user},render:function(){this.$el.empty().append(this.template({})),this.search.setElement(this.$el.find("#search")).render(),this.repos.setElement(this.$el.find("#repos"));var e=new i({user:this.user,alterable:!1});if(e.setElement(this.$el.find("#heading")).render(),this.subviews.header=e,this.auth){var t=this.sidebar.initSubview("orgs",{model:this.auth.orgs,router:this.router,sidebar:this.sidebar,user:this.user});this.subviews.orgs=t}return this},remove:function(){this.sidebar.close(),n.invoke(this.subviews,"remove"),this.subviews={},r.View.prototype.remove.apply(this,arguments)}})},{"../../templates":136,".././util":22,"./header":28,"./sidebar/orgs":53,backbone:60,underscore:129}],44:[function(e,t){var n=e("underscore"),r=e("queue-async"),i=e("backbone"),o=e("./files"),a=e("./header"),s=e("./search"),l=(e(".././util"),e("../../templates"));t.exports=i.View.extend({template:l.repo,events:{"click a.new":"create"},subviews:{},initialize:function(e){var t=e.app;t.loader.start(),this.app=t,this.branch=e.branch||this.model.get("default_branch"),this.model=e.model,this.nav=e.nav,this.path=e.path||"",this.router=e.router,this.sidebar=e.sidebar,this.initBranches(),this.initHeader(),this.initSearch();var n=r();n.defer(this.initHistory.bind(this)),n.awaitAll(this.initFiles.bind(this)),this.listenTo(this.sidebar,"destroy",this.destroy),this.listenTo(this.sidebar,"cancel",this.cancel),this.listenTo(this.sidebar,"confirm",this.updateFile),t.loader.done()},render:function(){return this.$el.html(this.template()),this.header.setElement(this.$el.find("#heading")).render(),this.search.setElement(this.$el.find("#search")).render(),this.files.setElement(this.$el.find("#files")),this},initHeader:function(){this.header=new a({repo:this.model,alterable:!1}),this.subviews.header=this.header},initSearch:function(){this.search=new s({mode:"repo"}),this.subviews.search=this.search},initFiles:function(){this.files=new o({app:this.app,branch:this.branch,branches:this.model.branches,history:this.history,nav:this.nav,path:this.path,repo:this.model,router:this.router,search:this.search,sidebar:this.sidebar}),this.subviews.files=this.files},initBranches:function(){this.branches=this.sidebar.initSubview("branches",{app:this.app,model:this.model.branches,repo:this.model,branch:this.branch,router:this.router,sidebar:this.sidebar}),this.subviews.branches=this.branches},initHistory:function(e){this.history=this.sidebar.initSubview("history",{app:this.app,branch:this.branch,commits:this.model.commits,repo:this.model,router:this.router,sidebar:this.sidebar,view:this}),this.subviews.history=this.history,n.isFunction(e)&&e.apply(this)},create:function(){return this.router.navigate(this.newFileUrl(),!0),!1},newFileUrl:function(){var e=[this.model.get("owner").login,this.model.get("name"),"new",this.branch,this.files.path||this.files.rooturl];return n.compact(e).join("/")},remove:function(){this.sidebar.close(),n.invoke(this.subviews,"remove"),this.subviews={},i.View.prototype.remove.apply(this,arguments)}})},{"../../templates":136,".././util":22,"./files":27,"./header":28,"./search":46,backbone:60,"queue-async":128,underscore:129}],45:[function(e,t){var n=e("jquery"),r=e("underscore"),i=e("backbone"),o=e("./li/repo");t.exports=i.View.extend({subviews:{},events:{"mouseover .item":"activeListing","mouseover .item a":"activeListing"},initialize:function(e){this.model=e.model,this.search=e.search,this.listenTo(this.search,"search",this.renderSearch)},renderSearch:function(){this.render()},render:function(){var e=this.search?this.search.search():this.model,t=document.createDocumentFragment();return e.each(function(e,n){var r=new o({index:n,model:e});t.appendChild(r.render().el),this.subviews[e.id]=r}.bind(this)),this.$el.html(t),this.$listings=this.$el.find(".item"),this.$search=this.$el.find("#filter"),this},activeListing:function(e){var t=n(e.target);t.hasClass("item")||(t=n(e.target).closest("li")),this.$listings.removeClass("active"),t.addClass("active"),this.$search.blur()},remove:function(){r.invoke(this.subviews,"remove"),this.subviews={},i.View.prototype.remove.apply(this,arguments)}})},{"./li/repo":31,backbone:60,jquery:87,underscore:129}],46:[function(e,n){var r=(e("underscore"),e("backbone")),i=e("../../templates"),o=e("../util");n.exports=r.View.extend({template:i.search,events:{"keyup input":"keyup"},initialize:function(e){return this.mode=e.mode,this.model=e.model,this},render:function(){var e=t("main.repos.filter");return"repo"===this.mode&&(e=t("main.repo.filter")),this.$el.empty().append(this.template({placeholder:e})),this.input=this.$el.find("input"),this.input.focus(),this},keyup:function(e){e&&27===e.which?(this.input.val(""),this.trigger("search")):e&&40===e.which?(o.pageListing("down"),e.preventDefault(),e.stopPropagation(),this.input.blur()):this.trigger("search")},search:function(){var e=this.input?this.input.val():"";return this.model.filter(function(t){return t.get("name").indexOf(e)>-1})}})},{"../../templates":136,"../util":22,backbone:60,underscore:129}],47:[function(e,t){var n=e("underscore"),r=e("backbone"),i=(e("../util"),{branches:e("./sidebar/branches"),history:e("./sidebar/history"),drafts:e("./sidebar/drafts"),orgs:e("./sidebar/orgs"),save:e("./sidebar/save"),settings:e("./sidebar/settings")}),o=e("../../templates");t.exports=r.View.extend({template:o.drawer,subviews:{},render:function(){return this.$el.html(this.template({})),n.invoke(this.subviews,"render"),this},initSubview:function(e,t){if(!i[e])return!1;t=n.clone(t)||{};var r=new i[e](t);return this.$el.find("#"+e).html(r.el),this.subviews[e]=r,r},filepathGet:function(){return this.$el.find(".filepath").val()},updateState:function(e){this.$el.find(".button.save").html(e)},open:function(){this.$el.toggleClass("open",!0)},close:function(){this.$el.toggleClass("open",!1)},toggle:function(){this.$el.toggleClass("open")},toggleMobile:function(){this.$el.toggleClass("mobile")},mode:function(e){this.$el.attr("data-sidebar",e)},remove:function(){n.invoke(this.subviews,"remove"),this.subviews={},r.View.prototype.remove.apply(this,arguments)}})},{"../../templates":136,"../util":22,"./sidebar/branches":49,"./sidebar/drafts":50,"./sidebar/history":51,"./sidebar/orgs":53,"./sidebar/save":54,"./sidebar/settings":55,backbone:60,underscore:129}],48:[function(e,t){var n=e("underscore"),r=e("backbone");t.exports=r.View.extend({tagName:"option",initialize:function(e){this.model=e.model,this.repo=e.repo,this.branch=e.branch},render:function(){return this.$el.val("#"+[this.repo.get("owner").login,this.repo.get("name"),"tree",this.model.get("name")].join("/")),this.el.selected=this.branch&&this.branch===this.model.get("name"),this.$el.html(n.escape(this.model.get("name"))),this}})},{backbone:60,underscore:129}],49:[function(e,t){var n=e("jquery"),r=e("underscore"),i=e("backbone"),o=e("./branch"),a=e("../../../templates");t.exports=i.View.extend({template:a.sidebar.branches,subviews:{},initialize:function(e){var t=e.app;t.loader.start(),this.app=t,this.model=e.model,this.repo=e.repo,this.branch=e.branch||this.repo.get("default_branch"),this.router=e.router,this.sidebar=e.sidebar,this.listenTo(this.model,"change",this.render),this.model.fetch({error:function(t,n){e.router.error(n)},complete:function(){t.loader.done()}})},render:function(){if(!(this.model.length<2)){this.app.loader.start(),this.$el.empty().append(this.template({}));var e=document.createDocumentFragment();this.model.each(function(t){var n=new o({model:t,repo:this.repo,branch:this.branch});e.appendChild(n.render().el),this.subviews[t.get("name")]=n}.bind(this)),this.$el.find("select").html(e);var t=this.router;return this.$el.find(".chzn-select").chosen().change(function(){t.navigate(n(this).val(),!0)}),this.sidebar.open(),this.app.loader.done(),this}},remove:function(){r.invoke(this.subviews,"remove"),this.subviews={},i.View.prototype.remove.apply(this,arguments)}})},{"../../../templates":136,"./branch":48,backbone:60,jquery:87,underscore:129}],50:[function(e,t){var n=(e("underscore"),e("backbone")),r=e("../../../templates");t.exports=n.View.extend({className:"inner",template:r.sidebar.drafts,initialize:function(e){this.link=e.link,this.sidebar=e.sidebar},render:function(){return this.$el.html(this.template(this.link)),this.sidebar.open(),this}})},{"../../../templates":136,backbone:60,underscore:129}],51:[function(e,n){{var r=e("underscore"),i=e("backbone"),o=e("./li/commit"),a=e("queue-async"),s=e("../../cookie"),l=e("../../../templates");e("../../util")}n.exports=i.View.extend({subviews:{},template:l.sidebar.label,initialize:function(e){var t=e.app;t.loader.start(),this.app=t,this.branch=e.branch,this.commits=e.commits,this.repo=e.repo,this.router=e.router,this.sidebar=e.sidebar,this.user=e.user,this.view=e.view,this.commits.setBranch(this.branch),this.commits.fetch({success:this.render.bind(this),error:function(e,t){this.router.error(t)}.bind(this),complete:function(){t.loader.done()}})},renderFiles:function(e,t){this.app.loader.start();var n=r.flatten(r.map(e,function(e){return e.get("files")}),!0).filter(Boolean),i=r.groupBy(n,function(e){return e.filename}),a=r.uniq(r.map(n,function(e){return e.filename}));if(a.length){var s=document.createDocumentFragment(),l=s.appendChild(document.createElement("ul"));l.className="listing",a.slice(0,5).each(function(e){var t=i[e],n=t[0],r=new o({branch:this.branch,file:n,repo:this.repo,view:this.view});l.appendChild(r.render().el),this.subviews[n.sha]=r}.bind(this)),this.$el.append(this.template(t,s))}this.app.loader.done()},render:function(){this.app.loader.start(),this.$el.empty();var e=s.get("id")||!1,n=this.commits.groupBy(function(t){var n=t.get("author")||t.get("commit").author;return n&&n.id===e?"author":"all"});this.history=(n.all||[]).slice(0,15),this.recent=(n.author||[]).slice(0,15);var i=a();return r.union(this.history,this.recent).each(function(e){i.defer(function(t){e.fetch({success:function(){t()},error:function(e,t){this.router.error(t)}.bind(this)})})}),i.awaitAll(function(e){return e?e:(this.renderFiles(this.history,"History"),this.renderFiles(this.recent,t("sidebar.repo.history.label")),this.sidebar.open(),this.app.loader.done(),void 0)}.bind(this)),this},remove:function(){r.invoke(this.subviews,"remove"),this.subviews={},i.View.prototype.remove.apply(this,arguments)}})},{"../../../templates":136,"../../cookie":10,"../../util":22,"./li/commit":52,backbone:60,"queue-async":128,underscore:129}],52:[function(e,n){var r=(e("underscore"),e("backbone")),i=e("../../../../templates"),o=e("../../../util");n.exports=r.View.extend({template:i.sidebar.li.commit,tagName:"li",className:"item",events:{"mouseenter .removed":"eventMessage","mouseleave .removed":"eventMessage","click .removed":"restore"},initialize:function(e){var t=e.file;this.branch=e.branch,this.file=t,this.files=e.repo.branches.findWhere({name:e.branch}).files,this.repo=e.repo,this.view=e.view},render:function(){var e=this.file,t=o.isBinary(e.filename),n={branch:this.branch,file:e,mode:t?"tree":"edit",path:t?o.extractFilename(e.filename)[0]:e.filename,repo:this.repo.toJSON(),status:e.status},r=e.status.charAt(0).toUpperCase()+e.status.slice(1)+": "+e.filename;return this.$el.attr("title",r).html(this.template(n,{variable:"data"})),this},message:function(e){this.$el.find(".message").html(e)},eventMessage:function(e){switch(e.type){case"mouseenter":this.message(t("sidebar.repo.history.actions.restore"));break;case"mouseleave":this.message(this.file.filename)}return!1},state:function(e){this.$el.find(".ico").removeClass("added modified renamed removed saving checkmark error").addClass(e)},restore:function(){var e=this.file.filename;return this.message(t("actions.restore.restoring")+" "+e),this.state("saving"),this.files.restore(this.file,{success:function(){this.message(t("actions.restore.restored")+": "+e),this.state("checkmark"),this.$el.attr("title",t("actions.restore.restored")+": "+this.file.filename),this.$el.find("a").removeClass("removed"),this.view.files.render()}.bind(this),error:function(e,t){this.message(["Error",t.status,t.statusText].join(" ")),this.state("error")}.bind(this)}),!1}})},{"../../../../templates":136,"../../../util":22,backbone:60,underscore:129}],53:[function(e,t){var n=(e("underscore"),e("backbone")),r=e("../../../templates"),i=e("../../cookie");t.exports=n.View.extend({template:r.sidebar.orgs,initialize:function(e){this.model=e.model,this.router=e.router,this.sidebar=e.sidebar,this.user=e.user,this.model.fetch({success:this.render.bind(this),error:function(e,t){this.router.error(t)}.bind(this)})},render:function(){var e={login:{user:i.get("login"),id:i.get("id")},user:this.user.toJSON(),orgs:this.model.toJSON()};return this.$el.html(this.template(e)),this.$("li a").removeClass("active"),this.$('li a[data-id="'+this.user.get("id")+'"]').addClass("active"),this.sidebar.open(),this}})},{"../../../templates":136,"../../cookie":10,backbone:60,underscore:129}],54:[function(e,n){var r=e("jquery"),i=(e("underscore"),e("backbone")),o=(e("../nav"),e("../../../templates")),a=e("../../util");n.exports=i.View.extend({template:o.sidebar.save,events:{"change .commit-message":"setMessage","click a.cancel":"emit","click a.confirm":"emit"},initialize:function(e){this.sidebar=e.sidebar,this.file=e.file,this.listenTo(this.file,"change:path",this.updatePlaceholder)},emit:function(e){var t=r(e.currentTarget).data("action");return this.sidebar.trigger(t,e),!1},setMessage:function(e){var t=e.currentTarget.value;this.file.set("message",t)},updatePlaceholder:function(e,t){var n=a.extractFilename(t)[1],r=a.commitMessage(this.file.isNew(),n);this.file.set("placeholder",r),this.$el.find(".commit-message").attr("placeholder",r)},render:function(){var e=this.file.get("writable")?t("sidebar.save.save"):t("sidebar.save.submit");return this.$el.html(this.template({writable:e})),this.updatePlaceholder(this.file,this.file.get("path")),this}})},{"../../../templates":136,"../../util":22,"../nav":41,backbone:60,jquery:87,underscore:129}],55:[function(e,t){var n=e("jquery"),r=(e("underscore"),e("backbone")),i=(e("../nav"),e("../../util"),e("../../../templates"));t.exports=r.View.extend({template:i.sidebar.settings,events:{"click a.delete":"emit","click a.toggle-editor":"emit","click a.translate":"emit","click a.draft":"emit","change input.filepath":"setPath"},initialize:function(e){this.sidebar=e.sidebar,this.config=e.config,this.file=e.file,this.fileInput=e.fileInput,this.listenTo(this.file,"change:path",this.updatePath)},emit:function(e){e&&e.preventDefault();var t=n(e.currentTarget).data("action");this.sidebar.trigger(t,e)},updatePath:function(e,t){this.$el.find("input.filepath").attr("value",t)},setPath:function(e){return this.file.set("path",e.currentTarget.value),this.trigger("makeDirty"),!1},render:function(){var e={languages:this.config?this.config.languages:[],lang:this.file.get("lang"),metadata:this.file.get("metadata"),fileInput:this.fileInput,path:this.file.get("path")};return this.$el.html(this.template(e)),this}})},{"../../../templates":136,"../../util":22,"../nav":41,backbone:60,jquery:87,underscore:129}],56:[function(e,t){var n=e("backbone"),r=n.$,i=e("../../templates"),o=e("../config"),a=e("../cookie"),s=e("../util");o.scope=a.get("scope")||"repo",t.exports=n.View.extend({id:"start",events:{'click a[href="#scopes"]':"toggleScope","change .toggle-hide select":"setScope"},template:i.start,render:function(){return this.$el.html(this.template({scope:o.scope,oauth:s.oauthUrl(s.getApiFlavor(),o.scope)})),this},toggleScope:function(e){e.preventDefault(),this.$(".toggle-hide").toggleClass("show")},setScope:function(e){var t=r(e.currentTarget).val(),n=new Date((new Date).setYear((new Date).getFullYear()+20));o.scope=t,a.set("scope",t,n),this.render(),router.app.nav.render()}})},{"../../templates":136,"../config":9,"../cookie":10,"../util":22,backbone:60}],57:[function(e,n){var r=e("jquery"),i=e("underscore"),o=e("../util"),a=e("backbone"),s=e("../toolbar/markdown.js"),l=e("../upload"),u=e("../../templates");n.exports=a.View.extend({template:u.toolbar,events:{"click .group a":"markdownSnippet","click .publish-flag":"togglePublishing","change #upload":"fileInput","click .dialog .insert":"dialogInsert","click .draft-to-post":"post"},initialize:function(e){var t=this;this.file=e.file,this.view=e.view,this.collection=e.collection;var n=e.config;if(n){if(this.hasMedia=n.media?!0:!1,this.siteUrl=n.siteUrl?!0:!1,n.media){this.mediaDirectoryPath=n.media;var i=new RegExp("^"+this.mediaDirectoryPath);this.media=this.collection.filter(function(e){var t=e.get("path");return"file"===e.get("type")&&i.test(t)&&(o.isBinary(t)||o.isImage(e.get("extension")))})}n.relativeLinks&&r.ajax({cache:!0,dataType:"jsonp",jsonp:!1,jsonpCallback:n.relativeLinks.split("?callback=")[1]||"callback",url:n.relativeLinks,success:function(e){t.relativeLinks=e}})}},render:function(){var e=this.file;return this.$el.html(this.template(e.attributes)),this},fileInput:function(e){var t=this;return l.fileSelect(e,function(e,n,r){t.trigger("updateImageInsert",e,n,r)}),!1},highlight:function(e){this.$el.find(".group a").removeClass("active"),arguments&&this.$el.find('[data-key="'+e+'"]').addClass("active")},post:function(e){e&&e.preventDefault(),this.trigger("post",e)},markdownSnippet:function(e){var n=this,i=r(e.target).closest("a"),a=this.$el.find("#dialog"),l=this.$el.find(".group a"),c=i.data("key"),h=i.data("snippet"),d=o.trim(this.view.editor.getSelection());if(a.removeClass().empty(),h)if(l.removeClass("on"),d){switch(c){case"bold":this.bold(d);break;case"italic":this.italic(d);break;case"heading":this.heading(d);break;case"sub-heading":this.subHeading(d);break;case"quote":this.quote(d);break;case"list":this.list(d);break;case"numbered-list":this.numberedList(d);break;default:this.view.editor.replaceSelection(h)}this.view.editor.focus()}else this.view.editor.replaceSelection(h),this.view.editor.focus();else if(i.data("dialog")){var f,p;if(p="media"===c&&!this.mediaDirectoryPath||"media"===c&&!this.media.length?c+" no-directory":c,i.hasClass("on"))i.removeClass("on"),a.removeClass().empty();else switch(l.removeClass("on"),i.addClass("on"),a.removeClass().addClass("dialog "+p).empty(),c){case"link":if(f=u.dialogs.link,a.append(f({relativeLinks:n.relativeLinks})),n.relativeLinks&&r(".chzn-select",a).chosen().change(function(){r(".chzn-single span").text("Insert a local link.");var e=r(this).val().split(",");r("input[name=href]",a).val(e[0]),r("input[name=text]",a).val(e[1])}),d){var m,g,v=/\[([^\]]+)\]\(([^)]+)\)/,y=/".*?"/,b=d;if(v.test(d)){var w=v.exec(d);b=w[1],m=w[2],y.test(w[2])&&(m=w[2].split(y)[0],g=w[2].match(y)[0].replace(/"/g,""))}r("input[name=text]",a).val(b),m&&r("input[name=href]",a).val(m),g&&r("input[name=title]",a).val(g)}break;case"media":if(f=u.dialogs.media,a.append(f({description:t("dialogs.media.description",{input:'<input id="upload" class="upload" type="file" />'}),assetsDirectory:n.media&&n.media.length?!0:!1,writable:n.file.get("writable")})),n.media&&n.media.length&&n.renderMedia(n.media),d){var C,x,k=/\!\[([^\[]*)\]\(([^\)]+)\)/;if(k.test(d)){var S=k.exec(d);x=S[1],C=S[2],r("input[name=url]",a).val(C),x&&r("input[name=alt]",a).val(x)}}break;case"help":f=u.dialogs.help(),a.append(f({help:s().help}));var _=this.$el.find(".main-menu a"),T=this.$el.find(".sub-menu"),E=this.$el.find(".help-content");_.on("click",function(){if(!r(this).hasClass("active")){_.removeClass("active"),E.removeClass("active"),T.removeClass("active").find("a").removeClass("active"),r(this).addClass("active");var e=r(this).data("id");r("."+e).addClass("active");var t=r("."+e+" a:first",this.el);t.addClass("active");var n=t.data("id");r(".help-"+n).addClass("active")}return!1}),T.find("a").on("click",function(){if(!r(this).hasClass("active")){T.find("a").removeClass("active"),E.removeClass("active"),r(this).addClass("active");var e=r(this).data("id");r(".help-"+e).addClass("active")}return!1})}}return!1},publishState:function(){return"true"===this.$el.find("publish-state")?!0:!1},updatePublishState:function(){var e=(this.$el.find(".publish-flag"),$publishKey.attr("data-state"));"true"===e?$publishKey.html(t("actions.publishing.published")+'<span class="ico small checkmark"></span>'):$publishKey.html(t("actions.publishing.unpublished")+'<span class="ico small checkmark"></span>')},togglePublishing:function(e){var n=r(e.currentTarget),o=this.file.get("metadata"),a=o.published;return a?n.hasClass("published")?n.empty().append(t("actions.publishing.unpublish")+'<span class="ico small checkmark"></span><span class="popup round arrow-top">'+t("actions.publishing.unpublishInfo")+"</span>").removeClass("published").attr("data-state",!1):n.empty().append(t("actions.publishing.published")+'<span class="ico small checkmark"></span>').addClass("published").attr("data-state",!0):n.hasClass("published")?n.empty().append(t("actions.publishing.unpublished")+'<span class="ico small checkmark"></span>').removeClass("published").attr("data-state",!1):n.empty().append(t("actions.publishing.publish")+'<span class="ico small checkmark"></span><span class="popup round arrow-top">'+t("actions.publishing.publishInfo")+"</span>").addClass("published").attr("data-state",!0),this.file.set("metadata",i.extend(o,{published:!a})),this.view.makeDirty(),!1},dialogInsert:function(e){var t=(r("#dialog",this.el),r(e.target,this.el)),n=t.data("type");if("link"===n){var i=r('input[name="href"]').val(),o=r('input[name="text"]').val(),a=r('input[name="title"]').val();o||(o=i),a?this.view.editor.replaceSelection("["+o+"]("+i+' "'+a+'")'):this.view.editor.replaceSelection("["+o+"]("+i+")"),this.view.editor.focus()}if("media"===n)if(this.queue){var s=r('input[name="url"]').val();this.view.upload(this.queue.e,this.queue.file,this.queue.content,s),this.queue=void 0}else{var l="{{site.baseurl}}/"+r('input[name="url"]').val(),u=r('input[name="alt"]').val();this.view.editor.replaceSelection("!["+u+"]("+l+")"),this.view.editor.focus()}return!1},heading:function(e){"#"===e.charAt(0)&&"#"!==e.charAt(2)?this.view.editor.replaceSelection(o.lTrim(e.replace(/#/g,""))):this.view.editor.replaceSelection("## "+e.replace(/#/g,""))
},subHeading:function(e){"#"===e.charAt(0)&&"#"!==e.charAt(3)?this.view.editor.replaceSelection(o.lTrim(e.replace(/#/g,""))):this.view.editor.replaceSelection("### "+e.replace(/#/g,""))},italic:function(e){"_"===e.charAt(0)&&e.charAt(e.length-1==="_")?this.view.editor.replaceSelection(e.replace(/_/g,"")):this.view.editor.replaceSelection("_"+e.replace(/_/g,"")+"_")},bold:function(e){"*"===e.charAt(0)&&e.charAt(e.length-1==="*")?this.view.editor.replaceSelection(e.replace(/\*/g,"")):this.view.editor.replaceSelection("**"+e.replace(/\*/g,"")+"**")},quote:function(e){">"===e.charAt(0)?this.view.editor.replaceSelection(o.lTrim(e.replace(/\>/g,""))):this.view.editor.replaceSelection("> "+e.replace(/\>/g,""))},list:function(e){/^[-+]/.test(e.charAt(0))?this.view.editor.replaceSelection(o.lTrim(e.replace(/^[-+]\s?/gm,"").replace(/$/gm,"\r"))):"* *"===e.substring(0,3)?this.view.editor.replaceSelection(o.lTrim(e.replace(/^\*\s?/gm,"").replace(/$/gm,"\r"))):this.view.editor.replaceSelection(o.lTrim(e.replace(/^[-+]\s?|^\d*\.\s?|^/gm,"- ").replace(/$/gm,"\r")))},numberedList:function(e){/^\d/.test(e.charAt(0))?this.view.editor.replaceSelection(o.lTrim(e.replace(/^\d*\.\s?/gm,"").replace(/$/gm,"\r"))):"* *"===e.substring(0,3)?this.view.editor.replaceSelection(o.lTrim(e.replace(/^\*\s?/gm,"").replace(/$/gm,"\r"))):this.view.editor.replaceSelection(o.lTrim(e.replace(/^\d*\.\s?|^[-+]\s?|^/gm,"1. ").replace(/$/gm,"\r")))},renderMedia:function(e,t){var n=this,i=this.$el.find("#media"),a=u.dialogs.mediadirectory;if(i.empty(),t&&t.join()!==this.assetsDirectory){var s=t.slice(0,t.length-1).join("/");i.append('<li class="directory back"><a href="'+s+'"><span class="ico fl small inline back"></span>Back</a></li>')}e.each(function(e){var t=e.get("path").split("/"),n=t.slice(0,t.length-1).join("/");i.append(a({name:e.get("name"),type:e.get("type"),path:n+"/"+encodeURIComponent(e.get("name")),isMedia:o.isMedia(e.get("name").split(".").pop())}))}),r(".asset a",i).on("click",function(){var e=r(this).attr("href"),t=o.trim(r(this).text());return o.isImage(e.split(".").pop())?(n.$el.find('input[name="url"]').val(e),n.$el.find('input[name="alt"]').val(t)):(n.view.editor.replaceSelection(e),n.view.editor.focus()),!1})}})},{"../../templates":136,"../toolbar/markdown.js":20,"../upload":21,"../util":22,backbone:60,jquery:87,underscore:129}],58:[function(e,t){t.exports={login:"Authorize on GitHub",docheader:{editing:"Editing",error:"Error",preview:"Previewing"},navigation:{newFile:"New File",edit:"Edit",preview:"Preview",settings:"Settings",meta:"Meta Data",save:"Save",login:"Authorize with GitHub",about:"About",develop:"Developers",logout:"Logout",language:"Language"},toolbar:{heading:"Heading",subHeading:"Sub Heading",link:"Insert Link",image:"Insert Image",bold:"Bold",italic:"Italic",blockquote:"Blockquote",list:"List",numberedlist:"Numbered List",help:"Help"},heading:{explore:"Explore Projects"},actions:{unsaved:"You have unsaved Changes. Are you sure you want to leave?",draft:{toPost:"Draft to Post",toPostInfo:"Convert this draft into a published post"},publishing:{publish:"Publish",publishInfo:"This post will be published the next time you save",published:"Published",unpublish:"Unpublish",unpublished:"Unpublished",unpublishInfo:"This post will be unpublished the next time you save"},change:{noChange:"No Changes",submit:"Changes to Submit",save:"Changes to Save"},"delete":{title:"Delete",warn:"Are you sure you want to delete this file?",error:"Error during deletion. Please wait 30 seconds and try again."},upload:{uploading:"Uploading {file}",uploaded:"Uploaded {file}"},save:{title:"Save",saved:"Saved",saving:"Saving",patch:"Submitting Request",fileNameError:"Needs a Filename",submission:"Request Submitted",metaError:"Error! Metadata not Found",fileNameExists:"A filename with this path already exists"},error:"Error. Try again in 30 Seconds",restore:{restoring:"Restoring",restored:"Restored"},commits:{created:"Created {filename}",updated:"Updated {filename}",deleted:"Deleted {filename}",toDraft:"Created draft of {filename}",fromDraft:"Created post from a draft of {filename}"}},loading:{repos:"Loading Profile",repo:"Loading Project",file:"Loading File",preview:"Previewing File",creating:"Creating new post"},modal:{errorHeading:"Error",confirm:"Got it"},main:{start:{content:"Prose is a content editor for GitHub designed for managing websites.",learn:"Learn more"},repos:{filter:"Filter Projects",repo:"View Project",site:"View Site",sharedFrom:"Shared from an account",forkedFrom:"Forked from another project"},repo:{filter:"Filter Files",edit:"Edit","delete":"Delete this File"},"new":{body:"## A New Post\n\nEnter text in [Markdown](http://daringfireball.net/projects/markdown/). Use the toolbar above, or click the **?** button for formatting help.\n"},file:{noTitle:"Untitled",metaTitle:"Review your changes:",rawMeta:"Raw Metadata",metaDescription:"Additions are highlighted in green. Deletions are crossed out.",back:"Done",createMeta:"Create New"},upgrade:{content:"Prose requires features not available to your browser",download:"Download a Modern Browser"}},notification:{404:"This file does not exist, or you don't have access to it. Try authorizing with GitHub.",loginDescription:"Please login with your GitHub account to access that project.",create:"Create it",home:"Back to Main Page",back:"Go Back",githubStatus:"Status on GitHub ({status})",error:{label:"Error",github:"Error while loading data from Github. This might be a temporary issue. Please try again later.",exists:"This file does not exist",notFound:"Page not Found"}},sidebar:{repos:{groups:"Groups"},repo:{branch:"Switch Branch",drafts:"View Drafts",history:{label:"Most Recent History",actions:{restore:"Restore?"}},create:"Create New File"},save:{label:"Describe your Changes",cancel:"Cancel",save:"Commit",submit:"Submit Change Request"},settings:{title:"Options",fileInputLabel:"File Path","delete":"Delete This File",translate:"Translate to",draft:"Create Draft",toggleEditor:"Toggle Editor"}},dialogs:{link:{title:"Insert Link",insertLocal:"Insert a Local Link",insert:"Insert",hrefPlaceholder:"Link URL",textPlaceholder:"Link Name",titlePlaceholder:"Title (optional)",insertPlaceholder:"Insert a local link"},media:{title:"Insert Image",back:"Back",hrefPlaceholder:"Image URL",altPlaceholder:"Alt text (optional)",description:"Upload images by Dragging &amp; Dropping or </br>\n{input} <a>selecting one</a>\n",help:"Images uploaded are added to the current directory or one specified in the Image URL path above.",helpMedia:"Images uploaded are added to the 'Choose Existing' directory or one specified in the Image URL field.",choose:"Choose Existing"},help:{blockElements:{title:"Block Elements",content:{paragraphs:{title:"Paragraphs &amp; Breaks",content:"<p>To create a paragraph, simply create a block of text that is separated by one or more blank lines. Blocks of text separated by one or more blank lines will be parsed as paragraphs.</p><p>If you want to create a line break, end a line with two or more spaces, then hit Return/Enter.</p>\n"},headers:{title:"Headers",content:"<p>Markdown supports two header formats. The wiki editor uses the &ldquo;atx&rsquo;-style headers. Simply prefix your header text with the number of <code>#</code> characters to specify heading depth. For example: <code># Header 1</code>, <code>## Header 2</code> and <code>### Header 3</code> will be progressively smaller headers. You may end your headers with any number of hashes.</p>\n"},blockquotes:{title:"Blockquotes",content:"<p>Markdown creates blockquotes email-style by prefixing each line with the <code>&gt;</code>. This looks best if you decide to hard-wrap text and prefix each line with a <code>&gt;</code> character, but Markdown supports just putting <code>&gt;</code> before your paragraph.</p>\n"},lists:{title:"Lists",content:"<p>Markdown supports both ordered and unordered lists. To create an ordered list, simply prefix each line with a number (any number will do &mdash; this is why the editor only uses one number.) To create an unordered list, you can prefix each line with <code>*</code>, <code>+</code> or <code>-</code>.</p> List items can contain multiple paragraphs, however each paragraph must be indented by at least 4 spaces or a tab.\n"},codeBlocks:{title:"Code Blocks",content:"<p>Markdown wraps code blocks in pre-formatted tags to preserve indentation in your code blocks. To create a code block, indent the entire block by at least 4 spaces or one tab. Markdown will strip the extra indentation you&rsquo;ve added to the code block.</p>\n"},horizontalRules:{title:"Horizontal Rules",content:"<p>Horizontal rules are created by placing three or more hyphens, asterisks or underscores on a line by themselves. Spaces are allowed between the hyphens, asterisks or underscores.</p>\n"}}},spanElements:{title:"Span Elements",content:{links:{title:"Links",content:"<p>Markdown has two types of links: <strong>inline</strong> and <strong>reference</strong>. For both types of links, the text you want to display to the user is placed in square brackets. For example, if you want your link to display the text &ldquo;GitHub&rdquo;, you write <code>[GitHub]</code>.</p><p>To create an inline link, create a set of parentheses immediately after the brackets and write your URL within the parentheses. (e.g., <code>[GitHub](http://github.com/)</code>). Relative paths are allowed in inline links.</p><p>To create a reference link, use two sets of square brackets. <code>[my internal link][internal-ref]</code> will link to the internal reference <code>internal-ref</code>.</p>\n"},emphasis:{title:"Emphasis",content:"<p>Asterisks (<code>*</code>) and underscores (<code>_</code>) are treated as emphasis and are wrapped with an <code>&lt;em&gt;</code> tag, which usually displays as italics in most browsers. Double asterisks (<code>**</code>) or double underscores (<code>__</code>) are treated as bold using the <code>&lt;strong&gt;</code> tag. To create italic or bold text, simply wrap your words in single/double asterisks/underscores. For example, <code>**My double emphasis text**</code> becomes <strong>My double emphasis text</strong>, and <code>*My single emphasis text*</code> becomes <em>My single emphasis text</em>.</p>\n"},code:{title:"Code",content:"<p>To create inline spans of code, simply wrap the code in backticks (<code>`</code>). Markdown will turn <code>`myFunction`</code> into <code>myFunction</code>.</p>\n"},images:{title:"Images",content:"<p>Markdown image syntax looks a lot like the syntax for links; it is essentially the same syntax preceded by an exclamation point (<code>!</code>). For example, if you want to link to an image at <code>http://github.com/unicorn.png</code> with the alternate text <code>My Unicorn</code>, you would write <code>![My Unicorn](http://github.com/unicorn.png)</code>.</p>\n"}}},miscellaneous:{title:"Miscellaneous",content:{automaticLinks:{title:"Automatic Links",content:'<p>If you want to create a link that displays the actual URL, Markdown allows you to quickly wrap the URL in <code>&lt;</code> and <code>&gt;</code> to do so. For example, the link <a href="javascript:void(0);">http://github.com/</a> is easily produced by writing <code>&lt;http://github.com/&gt;</code>.</p>\n'},escaping:{title:"Escaping",content:"<p>If you want to use a special Markdown character in your document (such as displaying literal asterisks), you can escape the character with the backslash (<code>\\\\</code>). Markdown will ignore the character directly after a backslash.</p>\n"},shortcuts:{title:"Shortcuts",content:"<p>Press <code>Ctrl-S</code> to commit your changes. <br/> Press <code>Ctrl-Enter</code> to toggle between editing and previewing.</p>\n"}}}}},chooselanguage:{title:"Choose a Language",description:"Prose is a translated application. If you don't see your language in the list, there are spelling errors, or translations are missing, consider <a href='https://www.transifex.com/projects/p/prose'>contributing translations to the project</a>.\n"},about:{content:"# About\nProse provides a beautifully simple content authoring environment for\n[CMS-free websites](http://developmentseed.org/blog/2012/07/27/build-cms-free-websites/).\nIt's a web-based interface for managing content on\n[GitHub](http://github.com). Use it to create, edit, and delete files,\nand save your changes directly to GitHub. Host your website on\n[GitHub Pages](http://pages.github.com) for free, or set up your own\n[GitHub webhook server](http://developmentseed.org/blog/2013/05/01/introducing-jekyll-hook/).\n\nProse has advanced support for [Jekyll](http://jekyllrb.com/) sites and\n[markdown content](http://daringfireball.net/projects/markdown/).\nProse detects markdown posts in Jekyll sites and provides syntax\nhighlighting, a formatting toolbar, and draft previews in the site's\nfull layout.\n\nDevelopers can configure Jekyll sites to take advantage of these and\nmany more features that customize the content editing experience.\n\n## Configuring\n\nProse can be configured per repository with additional metadata in a\nJekyll site's `_config.yml` file or a separate `prose.yml` file. We offer\nProse.io as a hosted service for the latest version, or you can download\nthe source code and host it on your own. For for developer documentation,\nsee [the wiki page on GitHub](https://github.com/prose/prose/wiki).\n\n## Developing\n\nProse is an open source project. We encourage you to contribute and\nhelp us improve this application or adapt it to your needs. For\ninstructions on developing Prose, see the\n[Prose contributing guidelines](https://github.com/prose/prose/blob/gh-pages/CONTRIBUTING.md).\n\n## Getting Help\n\nWe do not offer support for Prose at this time, however if you are a\ncontent editor using Prose, you should contact the developer who gave\nyou access to it. To report technical problems with Prose, please\n[file an issue on GitHub](https://github.com/prose/prose/issues).\n\n## Credits\n\nProse is developed and maintained by\n[Development Seed](http://developmentseed.org), a creative data\nvisualization and mapping team based in Washington, DC.\n"}}},{}],59:[function(e,t){t.exports=[{html:"<% if (locale.current() === 'he-IL') { %>\n  <link rel='stylesheet' href='./style-rtl.css'>\n<% } %>\n\n<div id='loader' class='loader'></div>\n<div id='drawer' class='sidebar' <% if (locale.current() === 'he-IL') { %>dir='rtl'<% } %>></div>\n<nav id='navigation'></nav>\n<div id='main' <% if (locale.current() === 'he-IL') { %>dir='rtl'<% } %>></div>\n\n<div class='prose-menu dropdown-menu' <% if (locale.current() === 'he-IL') { %>dir='rtl'<% } %>>\n  <div class='inner clearfix'>\n    <a href='#' class='icon branding dropdown-hover' data-link=true>Prose</a>\n    <ul class='dropdown clearfix'>\n      <li><a href='#'>Prose</a></li>\n      <li><a class='about' href='#about'><%= t('navigation.about') %></a></li>\n      <li><a class='help' href='https://github.com/prose/prose'><%= t('navigation.develop') %></a></li>\n      <li><a href='#chooselanguage'><%= t('navigation.language') %></a></li>\n      <li class='divider authenticated'></li>\n      <li class='authenticated'>\n        <a href='#' class='logout'><%= t('navigation.logout') %></a>\n      </li>\n    </ul>\n  </div>\n</div>\n",path:"templates/app.html",dir:["."],id:"app"},{html:"<span class='slash'>/</span>\n<a class='path' href='#<%= trail %>/<%= url %>'><%= name %></a>\n",path:"templates/breadcrumb.html",dir:["."],id:"breadcrumb"},{html:"<h1><%= t('chooselanguage.title') %></h1>\n<ul class='fat-list round'>\n  <% _(data.languages).each(function(l) { %>\n    <li>\n    <a href='#' data-code='<%= l.code %>' class='language<% if (l.code === data.active) { %> active<% } %>'>\n        <% if (l.code === data.active) { %><span class='ico checkmark fr'></span><% } %>\n        <%= l.name %>\n        <small>(<%= l.code %>)</small>\n      </a>\n    </li>\n  <% }); %>\n</ul>\n<p><%= t('chooselanguage.description') %></p>\n",path:"templates/chooselanguage.html",dir:["."],id:"chooselanguage"},{html:"<%\n  function formattedClass(str) {\n    return str.toLowerCase().replace(/\\s/g, '-').replace('&amp;', '');\n  };\n%>\n\n<div class='col col25'>\n  <ul class='main-menu'>\n    <% _(help).each(function(mainMenu, i) { %>\n      <li><a href='#' class='<% if (i === 0) { %>active <% } %>' data-id='<%= formattedClass(mainMenu.menuName) %>'><%= mainMenu.menuName %></a></li>\n    <% }); %>\n  </ul>\n</div>\n\n<div class='col col25'>\n  <% _(help).each(function(mainMenu, index) { %>\n  <ul class='sub-menu <%= formattedClass(mainMenu.menuName) %> <% if (index === 0) { %>active<% } %>' data-id='<%= formattedClass(mainMenu.menuName) %>'>\n      <% _(mainMenu.content).each(function(subMenu, i) { %>\n        <li><a href='#' data-id='<%= formattedClass(subMenu.menuName) %>' class='<% if (index === 0 && i === 0) { %> active<% } %>'><%= subMenu.menuName %></a></li>\n      <% }); %>\n    </ul>\n  <% }); %>\n</div>\n\n<div class='col col-last prose small'>\n  <% _(help).each(function(mainMenu, index) { %>\n    <% _(mainMenu.content).each(function(d, i) { %>\n    <div class='help-content inner help-<%= formattedClass(d.menuName) %><% if (index === 0 && i === 0) { %> active<% } %>'>\n      <%= d.data %>\n    </div>\n    <% }); %>\n  <% }); %>\n</div>\n",path:"templates/dialogs/help.html",dir:["dialogs"],id:"help"},{html:"<div class='inner'>\n  <label><%= t('dialogs.link.title') %></label>\n  <input type='text' name='href' placeholder=\"<%= t('dialogs.link.hrefPlaceholder') %>\" />\n  <input type='text' name='text' placeholder=\"<%= t('dialogs.link.textPlaceholder') %>\" />\n  <input type='text' name='title' placeholder=\"<%= t('dialogs.link.titlePlaceholder') %>\" />\n\n  <% if (relativeLinks) { %>\n    <div class='collapsible'>\n      <select data-placeholder=\"<%= t('dialogs.link.insertPlaceholder') %>\" class='chzn-select'>\n        <option value></option>\n        <% _(relativeLinks).each(function(link) { %>\n        <option value='<%= link.href %>,<%= link.text %>'><%= link.text %></option>\n        <% }); %>\n      </select>\n    </div>\n  <% } %>\n\n  <a href='#' class='button round insert' data-type='link'><%= t('dialogs.link.insert') %></a>\n</div>\n",path:"templates/dialogs/link.html",dir:["dialogs"],id:"link"},{html:"<div class='inner clearfix'>\n\n  <div <% if (assetsDirectory) { %>class='col fl'<% } %>>\n    <label><%= t('dialogs.media.title') %></label>\n\n    <% if (writable) { %>\n      <div class='contain clearfix'>\n        <span class='ico picture-add fl'></span>\n        <%= description %>\n      </div>\n    <% } %>\n\n    <input type='text' name='url' placeholder=\"<%= t('dialogs.media.hrefPlaceholder')%>\" />\n    <input type='text' name='alt' placeholder=\"<%= t('dialogs.media.altPlaceholder')%>\" />\n    <a href='#' class='button round insert' data-type='media'><%= t('dialogs.link.insert') %></a>\n      <% if (!assetsDirectory) { %>\n        <small class='caption deemphasize'><%= t('dialogs.media.help') %></small>\n      <% } %>\n  </div>\n\n  <% if (assetsDirectory) { %>\n    <div class='col col-last fl media-listing'>\n      <label><%= t('dialogs.media.choose') %></label>\n      <ul id='media'></ul>\n      <small class='caption deemphasize'><%= t('dialogs.media.helpMedia') %></small>\n    </div>\n  <% } %>\n</div>\n",path:"templates/dialogs/media.html",dir:["dialogs"],id:"media"},{html:"<% if (type === 'tree') { %>\n  <li class='directory'>\n    <span class='mask'></span>\n    <a class='clearfix item' href='<%= path %>'>\n      <span class='ico fl small inline folder'></span>\n      <%= name %>\n    </a>\n  </li>\n<% } else { %>\n  <li class='asset'>\n    <span class='mask'></span>\n    <a class='clearfix item' href='<%= path %>' title='<%= path %>'>\n      <% if (isMedia) { %>\n        <span class='ico fl small inline media'></span>\n      <% } else { %>\n        <span class='ico fl small inline document'></span>\n      <% } %>\n      <%= name %>\n    </a>\n  </li>\n<% } %>\n",path:"templates/dialogs/mediadirectory.html",dir:["dialogs"],id:"mediadirectory"},{html:"<div id='orgs'></div>\n<div id='branches'></div>\n<div id='history'></div>\n<div id='drafts'></div>\n<div id='save'></div>\n<div id='settings'></div>\n",path:"templates/drawer.html",dir:["."],id:"drawer"},{html:"<header id='heading' class='heading limiter clearfix'></header>\n<div id='modal'></div>\n\n<div id='post' class='post limiter'>\n  <div class='editor views<% if (data.markdown) { %> markdown<% } %>'>\n    <div id='diff' class='view prose diff'>\n      <h2><%= t('main.file.metaTitle') %><br />\n        <span class='deemphasize small'><%= t('main.file.metaDescription') %></span>\n      </h2>\n      <div class='diff-content inner'></div>\n    </div>\n    <div id='meta' class='view round meta'></div>\n    <div id='edit' class='view active edit'>\n      <div class='topbar-wrapper'>\n        <div class='topbar'>\n          <div id='toolbar' class='containment toolbar round'></div>\n        </div>\n      </div>\n      <div id='drop' class='drop-mask'></div>\n      <% if (data.useCSVEditor) { %>\n      <div id='csv-container'>\n        <div id='csv'></div>\n      </div>\n      <% } else { %>\n      <textarea id='code' class='code round inner'></textarea>\n      <% } %>\n    </div>\n    <div id='preview' class='view preview prose'></div>\n  </div>\n</div>\n",path:"templates/file.html",dir:["."],id:"file"},{html:"<% if (data.path && data.path !== data.rooturl) { %>\n  <div class='breadcrumb'>\n    <a class='branch' href='#<%= data.url %>'>..</a>\n    <% _.each(data.parts, function(part) { %>\n      <% if (part.name !== data.rooturl) { %>\n        <span class='slash'>/</span>\n        <a class='path' href='#<%= [data.url, part.url].join(\"/\") %>'><%= part.name %></a>\n      <% } %>\n    <% }); %>\n  </div>\n<% } %>\n\n<ul class='listing'></ul>\n",path:"templates/files.html",dir:["."],id:"files"},{html:"<% if (data.alterable) { %>\n  <div class='round avatar'>\n    <%= data.avatar %>\n  </div>\n  <div class='fl details'>\n    <h4 class='parent-trail'><a href='#<%= data.user %>'><%= data.user %></a> / <a href='#<%= data.user %>/<%= data.repo.name %>'><%= data.repo.name %></a><% if (data.isPrivate) { %><span class='ico small inline private' title='Private Project'></span><% } %></h4>\n    <!-- if (isNew() && !translate) placeholder, not value -->\n    <input type='text' class='headerinput' data-mode='<%= data.mode %>' <% print((data.placeholder ? 'placeholder=' : 'value=') + '\"' + data.input + '\"') %>>\n    <div class='mask'></div>\n  </div>\n<% } else { %>\n  <div class='avatar round'><%= data.avatar %></div>\n  <div class='fl details'>\n    <h4><a class='user' href='#<%= data.user %>'><%= data.user %></a></h4>\n    <h2><a class='repo' href='#<%= data.path %>'><%= data.title %></a></h2>\n  </div>\n<% } %>\n",path:"templates/header.html",dir:["."],id:"header"},{html:"<% if (data.binary) { %>\n  <div class='listing-icon icon round <%- data.extension %> <% if (data.media) { %>media<% } %>'></div>\n<% } else { %>\n  <a href='#<%= data.repo.owner.login %>/<%= data.repo.name %>/edit/<%- data.branch %>/<%- data.path %>' class='listing-icon'>\n    <span class='icon round <%- data.extension %> <% if (data.markdown) { %> md<% } %> <% if (data.media) { %> media<% } %>'></span>\n  </a>\n<% } %>\n\n<div class='details'>\n  <div class='actions fr clearfix'>\n    <% if (!data.binary) { %>\n      <a class='clearfix'\n        title=\"<%= t('main.repo.edit') %>\"\n        href='#<%= data.repo.owner.login %>/<%= data.repo.name %>/edit/<%- data.branch %>/<%- data.path %>'>\n        <%= t('main.repo.edit') %>\n      </a>\n    <% } %>\n    <% if (data.writable) { %>\n      <a\n        class='delete'\n        title=\"<%= t('main.repo.delete') %>\"\n        href='#'>\n        <span class='ico rubbish small'></span>\n      </a>\n    <% } %>\n  </div>\n  <% if (data.binary) { %>\n    <h3 class='title' title='<%- data.name %>'><%- data.name %></h3>\n  <% } else { %>\n    <h3 class='title' title='<%- data.name %>'><a class='clearfix'href='#<%= data.repo.owner.login %>/<%= data.repo.name %>/edit/<%- data.branch %>/<%- data.path %>'><%- data.name %></a></h3>\n  <% } %>\n  <span class='deemphasize'><%- data.jailpath %></span>\n</div>\n",path:"templates/li/file.html",dir:["li"],id:"file"},{html:"<a href='#<%= data.repo.owner.login %>/<%= data.repo.name %>/tree/<%= data.branch %>/<%= data.path %>' class='listing-icon'>\n  <span class='icon round folder'></span>\n</a>\n\n<span class='details'>\n  <h3 class='title' title='<%= data.name %>'>\n    <a href='#<%= data.repo.owner.login %>/<%= data.repo.name %>/tree/<%= data.branch %>/<%= data.path %>'>\n      <%- data.name %>\n    </a>\n  </h3>\n  <span class='deemphasize'><%- data.jailpath %></span>\n</span>\n",path:"templates/li/folder.html",dir:["li"],id:"folder"},{html:"<a\n  class='listing-icon'\n  data-user='<%- data.owner.login %>'\n  data-repo='<%- data.name %>'\n  href='#<%- data.owner.login %>/<%- data.name %>'>\n  <% if ((data.owner.login !== data.login) && data.private) { %>\n    <span class='icon round repo owner private' title=\"<%- t('main.repos.sharedFrom') %> (<%- data.owner.login %>)\"></span>\n  <% } else if (data.owner.login !== data.login) { %>\n    <span class='icon round repo owner' title=\"<%- t('main.repos.sharedFrom') %> (<%- data.owner.login %>)\"></span>\n  <% } else if (data.fork && data.private) { %>\n    <span class='icon round repo private fork' title=\"<%- t('main.repos.forkedFrom') %>\"></span>\n  <% } else if (data.fork) { %>\n    <span class='icon round repo fork' title=\"<%- t('main.repos.forkedFrom') %>\"></span>\n  <% } else if (data.private) { %>\n    <span class='icon round repo private'></span>\n  <% } else { %>\n    <span class='icon round repo'></span>\n  <% } %>\n</a>\n\n<div class='details'>\n  <div class='actions fr clearfix'>\n    <a\n      data-user='<%- data.owner.login %>'\n      data-repo='<%- data.name %>'\n      href='#<%- data.owner.login %>/<%- data.name %>'>\n      <%= t('main.repos.repo') %>\n    </a>\n    <% if (data.homepage) { %>\n      <a href='<%- data.homepage %>'><%= t('main.repos.site') %></a>\n    <% } %>\n  </div>\n  <a\n    data-user='<%- data.owner.login %>'\n    data-repo='<%- data.name %>'\n    href='#<%- data.owner.login %>/<%- data.name %>'>\n    <h3<% if (!data.description) { %> class='title'<% } %>><%- data.name %></h3>\n    <span class='deemphasize'><%- data.description %></span>\n  </a>\n</div>\n",path:"templates/li/repo.html",dir:["li"],id:"repo"},{html:"<div class='loading round clearfix'>\n  <div class='loading-icon'></div>\n  <span class=\"message\"></span>\n</div>\n",path:"templates/loading.html",dir:["."],id:"loading"},{html:"<div class='form-item'>\n  <label for='<%= data.name %>'><%= data.label %></label>\n  <% if (data.help) { %><small class='deemphasize'><%= data.help %></small><% } %>\n  <fieldset>\n    <button class='metafield round <%= data.name %>' type='button' name='<%= data.name %>' value='<%= data.value %>' data-on='<%= data.on %>' data-off='<%= data.off %>'><%= data.on %></button>\n  </fieldset>\n</div>\n",path:"templates/meta/button.html",dir:["meta"],id:"button"},{html:"<div class='form-item'>\n  <fieldset>\n    <input class='metafield' type='checkbox' name='<%= data.name %>' value='<%= data.value %>'<% print(data.checked ? 'checked' : '') %> />\n    <label class='aside' for='<%= data.name %>'><%= data.label %></label>\n  </fieldset>\n  <% if (data.help) { %><small class='deemphasize'><%= data.help %></small><% } %>\n</div>\n",path:"templates/meta/checkbox.html",dir:["meta"],id:"checkbox"},{html:"<div class='form-item'>\n  <label for='<%= data.name %>'><%= data.label %></label>\n  <% if (data.help) { %><small class='deemphasize'><%= data.help %></small><% } %>\n\n  <fieldset>\n    <select id='<%= data.name %>' name='<%= data.name %>' data-placeholder='<%= data.placeholder %>' multiple class='metafield chzn-select'>\n      <% _(data.options).each(function(o) { %>\n        <% if (!o.lang || o.lang === data.lang) { %>\n          <% if (o.name) { %>\n           <option value='<%= o.value %>'><%= o.name %></option>\n          <% } else if (o.value) { %>\n           <option value='<%= o.value %>'><%= o.value %></option>\n          <% } else { %>\n           <option value='<%= o %>'><%= o %></option>\n          <% } %>\n        <% } %>\n      <% }); %>\n    </select>\n  </fieldset>\n\n  <% if (data.alterable) { %>\n    <div class='create'>\n      <input type='text' class='inline' data-select='<%= data.name %>' />\n      <a href='#' class='round create-select inline button' data-select='<%= data.name %>' title=\"<%= t('main.file.createMeta') %>\"><%= t('main.file.createMeta') %></a>\n    </div>\n  <% } %>\n</div>\n",path:"templates/meta/multiselect.html",dir:["meta"],id:"multiselect"},{html:"<div class='form-item'>\n  <label for='raw'><%= t('main.file.rawMeta') %></label>\n  <% if (data.help) { %><small><%= data.help %></small><% } %>\n  <fieldset>\n    <div name='raw' id='raw' class='metafield inner'></div>\n  </fieldset>\n</div>\n",path:"templates/meta/raw.html",dir:["meta"],id:"raw"},{html:"<div class='form-item'>\n  <label for='<%= data.name %>'><%= data.label %></label>\n  <% if (data.help) { %><small class='deemphasize'><%= data.help %></small><% } %>\n\n  <fieldset>\n    <select name='<%= data.name %>' data-placeholder='<%= data.placeholder %>' class='metafield chzn-select'>\n      <% _(data.options).each(function(o) { %>\n\n        <% if (data.placeholder) { %>\n          <option></option>\n        <% } %>\n\n        <% if (!o.lang || o.lang === data.lang) { %>\n          <% if (o.name) { %>\n           <option value='<%= o.value %>'><%= o.name %></option>\n          <% } else if (o.value) { %>\n           <option value='<%= o.value %>'><%= o.value %></option>\n          <% } else { %>\n           <option value='<%= o %>'><%= o %></option>\n          <% } %>\n        <% } %>\n      <% }); %>\n    </select>\n  </fieldset>\n</div>\n",path:"templates/meta/select.html",dir:["meta"],id:"select"},{html:"<div class='form-item'>\n  <label for='<%= data.name %>'><%= data.label %></label>\n  <% if (data.help) { %><small class='deemphasize'><%= data.help %></small><% } %>\n  <fieldset>\n    <input class='metafield' type='text' name='<%= data.name %>' value='<%= data.value %>' data-type='<%= data.type %>' placeholder='<%= data.placeholder %>' />\n  </fieldset>\n</div>\n",path:"templates/meta/text.html",dir:["meta"],id:"text"},{html:"<div class='form-item yaml-block'>\n  <label for='<%= data.name %>'><%= data.label %></label>\n  <% if (data.help) { %><small class='deemphasize'><%= data.help %></small><% } %>\n  <fieldset>\n    <textarea class='metafield' id='<%= data.id %>' type='text' name='<%= data.name %>' data-type='<%= data.type %>' placeholder='<%= data.placeholder %>'><%= data.value %></textarea>\n  </fieldset>\n</div>\n",path:"templates/meta/textarea.html",dir:["meta"],id:"textarea"},{html:"<div class='form'></div>\n<a href='#' class='button round finish'><%= t('main.file.back') %></a>\n",path:"templates/metadata.html",dir:["."],id:"metadata"},{html:"<div class='modal-content round'>\n  <div class='modal-heading inner'>\n    <%= t('modal.errorHeading') %>\n  </div>\n  <div class='prose inner'>\n    <p><%= data.message %></p>\n  </div>\n  <div class='modal-footer inner'>\n    <a href='#' class='button round got-it'><%= t('data.confirm') %></a>\n  </div>\n</div>\n",path:"templates/modal.html",dir:["."],id:"modal"},{html:"<ul class='mobile nav clearfix'>\n  <li>\n    <a href='#' class='toggle ico menu round'></a>\n  </li>\n</ul>\n\n<ul class='file nav clearfix'>\n  <li>\n    <a href='#' title=\"<%= t('navigation.edit') %>\" class='ico round pencil edit' data-state='edit'>\n      <span class='popup round arrow-right'><%= t('navigation.edit') %></span>\n    </a>\n  </li>\n\n  <li>\n    <a href='#' title=\"<%= t('navigation.preview') %>\" class='ico round eye blob preview' data-state='blob'>\n      <span class='popup round arrow-right'><%= t('navigation.preview') %></span>\n    </a>\n  </li>\n\n  <li>\n    <a href='#' title=\"<%= t('navigation.meta') %>\" class='ico round metadata meta' data-state='meta'>\n      <span class='popup round arrow-right'><%= t('navigation.meta') %></span>\n    </a>\n  </li>\n\n  <li>\n    <a href='#' title=\"<%= t('navigation.settings') %>\" class='ico round sprocket settings' data-state='settings' data-drawer=true>\n      <span class='popup round arrow-right'><%= t('navigation.settings') %></span>\n    </a>\n  </li>\n\n  <li>\n    <a href='#' title=\"<%= t('navigation.save') %>\" class='ico round save' data-state='save'>\n      <div class='status'></div>\n      <span class='popup round arrow-right'>\n        <%= t('navigation.save') %>\n      </span>\n    </a>\n  </li>\n</ul>\n\n<ul class='auth nav clearfix'>\n  <li>\n    <a class='ico round switch login' href='<%= data.login %>' title=\"<%= t('login') %>\">\n      <span class='popup round arrow-right'><%= t('login') %></span>\n    </a>\n  </li>\n</ul>\n",path:"templates/nav.html",dir:["."],id:"nav"},{html:"<div class='notify'>\n  <h2 class='icon landing error'>Prose</h2>\n  <div class='inner'>\n    <p><%= data.message %></p>\n    <p class='error'><%= data.error %></p>\n\n    <% _(data.options).each(function(options) { %>\n    <div>\n      <a class='button round <% if(options.className) { %><%= options.className %><% } %>' href='<%= options.link %>'><%= options.title %></a>\n    </div>\n    <% }); %>\n  </div>\n</div>\n",path:"templates/notification.html",dir:["."],id:"notification"},{html:"<header id='heading' class='heading limiter clearfix'></header>\n\n<div id='content' class='application content limiter'>\n  <div class='topbar'>\n    <div id='search' class='content-search round'></div>\n  </div>\n  <ul id='repos' class='projects listing'></ul>\n</div>\n",path:"templates/profile.html",dir:["."],id:"profile"},{html:"<header id='heading' class='heading limiter clearfix'></header>\n\n<div id='content' class='application content limiter'>\n  <div class='topbar clearfix'>\n    <!-- if repo and authenticated -->\n    <!-- #user/repo/new/branch/path -->\n    <div id='search' class='fl content-search round'></div>\n    <a href='#' class='fl button round new new-file' data-state='new'>\n      <%= t('navigation.newFile') %>\n    </a>\n  </div>\n\n  <div id='files'></div>\n</div>\n",path:"templates/repo.html",dir:["."],id:"repo"},{html:"<span class='ico search'></span>\n<input type='text' id='filter' placeholder=\"<%= data.placeholder %>\" />\n",path:"templates/search.html",dir:["."],id:"search"},{html:"<div class='inner'>\n  <h2 class='label'><%= t('sidebar.repo.branch') %></h2>\n  <select class='chzn-select'></select>\n</div>\n",path:"templates/sidebar/branches.html",dir:["sidebar"],id:"branches"},{html:"<a class='button round' href='#<%= data.link %>'><%= t('sidebar.repo.drafts') %></a>\n",path:"templates/sidebar/drafts.html",dir:["sidebar"],id:"drafts"},{html:"<div class='inner'>\n  <h2 class='label inner'><%= data %></h2>\n</div>\n",path:"templates/sidebar/label.html",dir:["sidebar"],id:"label"},{html:"<a class='<%= data.status %>' href='#<%- [data.repo.owner.login, data.repo.name, data.mode, data.branch, data.path].join(\"/\") %>'>\n  <span class='ico small inline <%= data.status %>'></span>\n  <span class='message'><%- data.file.filename %></span>\n</a>\n",path:"templates/sidebar/li/commit.html",dir:["sidebar","li"],id:"commit"},{html:"<div class='inner'>\n  <h2 class='label'><%= t('sidebar.repos.groups') %></h2>\n</div>\n<ul class='listing'>\n  <li>\n    <a href='#<%= data.login.user %>' title='<%= data.login.user %>' data-id='<%= data.login.id %>'>\n      <%= data.login.user %>\n    </a>\n  </li>\n  <% data.orgs.each(function(org) {  %>\n  <li>\n    <a href='#<%= org.login %>' title='<%= org.login %>' data-id='<%= org.id %>'>\n      <%= org.login %>\n    </a>\n  </li>\n  <% }); %>\n</ul>\n",path:"templates/sidebar/orgs.html",dir:["sidebar"],id:"orgs"},{html:"<div class='inner'>\n  <h2 class='label'><%= t('sidebar.save.label') %></h2>\n</div>\n<div class='inner authoring'>\n  <div class='commit'>\n    <textarea class='commit-message' placeholder></textarea>\n    <a class='ico small cancel round' title=\"<%= t('sidebar.save.cancel') %>\" href='#' data-action='cancel'>\n      <span class='popup round arrow-bottom'><%= t('sidebar.save.cancel') %></span>\n    </a>\n  </div>\n  <a class='confirm button round' href='#' data-action='confirm'><%= data.writable %></a>\n</div>\n",path:"templates/sidebar/save.html",dir:["sidebar"],id:"save"},{html:"<div class='inner'>\n  <h2 class='label'><%= t('sidebar.settings.title') %></h2>\n</div>\n<div class='inner authoring'>\n  <% if (/^_posts/.test(data.path)) { %>\n    <a class='draft button round' href='#' data-action='draft'><%= t('sidebar.settings.draft') %></a>\n  <% } %>\n\n  <% if (data.languages && data.lang !== 'yaml') { %>\n    <% _.each(data.languages, function(l) { %>\n      <% if (l.value && (data.metadata && (data.metadata.lang !== l.value))) { %>\n        <a class='translate round button' href='#<%= l.value %>' data-action='translate'><%= t('sidebar.settings.translate') + ' ' + l.name %></a>\n      <% } %>\n    <% }); %>\n  <% } %>\n\n  <% if (['csv', 'tsv'].indexOf(data.lang) !== -1) { %>\n    <a class='toggle-editor button round' href='#' data-action='toggle-editor'><%= t('sidebar.settings.toggleEditor') %></a>\n  <% } %>\n\n  <!-- if !isNew() and is writable -->\n  <a class='delete button round' href='#' data-action='destroy'><%= t('sidebar.settings.delete') %></a>\n</div>\n\n<% if (data.fileInput) { %>\n  <div class='inner'>\n    <h2 class='label'><%= t('sidebar.settings.fileInputLabel') %></h2>\n    <input type='text' class='filepath' placeholder='<%= data.path %>' value='<%= data.path %>'>\n  </div>\n<% } %>\n",path:"templates/sidebar/settings.html",dir:["sidebar"],id:"settings"},{html:"<div class='round splash'>\n  <h2 class='icon landing'>Prose</h2>\n  <div class='inner'>\n    <p><%= t('main.start.content') %></p>\n    <p><a href='#about'><%= t('main.start.learn') %></a></p>\n    <a class='round button' href='<%= data.oauth %>'>Authorize on GitLab</a>\n    <div class=\"toggle-hide\">\n      <a href=\"#scopes\" class=\"deemphasize\">Set repository access</a>\n      <select>\n        <option value=\"repo\" <% if (data.scope === 'repo') {%>selected<% } %>>Public and private repositories</option>\n        <option value=\"public_repo\" <% if (data.scope === 'public_repo') {%>selected<% } %>>Only public repositories</option>\n      </select>\n    </div>\n  </div>\n</div>\n",path:"templates/start.html",dir:["."],id:"start"},{html:"<% if (data.draft) { %>\n  <a href='#' class='draft-to-post round contain'>\n    <%= t('actions.draft.toPost') %><span class='ico small checkmark'></span>\n    <span class='popup round arrow-top'><%= t('actions.draft.toPostInfo') %></span>\n  </a>\n<% } else { %>\n  <% if (data.metadata && data.metadata.published) { %>\n    <a href='#' class='publish-flag published round contain' data-state='true'>\n      <%= t('actions.publishing.published') %><span class='ico small checkmark'></span>\n    </a>\n  <% } else if (data.metadata && !data.metadata.published) { %>\n    <a href='#' class='publish-flag round contain' data-state='false'>\n      <%= t('actions.publishing.unpublished') %><span class='ico small checkmark'></span>\n    </a>\n  <% } %>\n<% } %>\n\n<% if (data.markdown) { %>\n<div class='options clearfix'>\n  <ul class='group round clearfix'>\n    <li><a href='#' title=\"<%= t('toolbar.heading') %>\" data-key='heading' data-snippet='<% print(\"##\\n\\n\") %>'>h2</a></li>\n    <li><a href='#' title=\"<%= t('toolbar.subHeading') %>\" data-key='sub-heading' data-snippet='<% print(\"###\\n\\n\") %>'>h3</a></li>\n  </ul>\n  <ul class='group round clearfix'>\n    <li>\n      <a title=\"<%= t('toolbar.link') %>\" href='#' data-key='link' data-snippet=false data-dialog=true>\n        <span class='ico small link'></span>\n      </a>\n    </li>\n    <li>\n      <a title=\"<%= t('toolbar.image') %>\" href='#' data-key='media' data-snippet=false data-dialog=true>\n        <span class='ico small picture'></span>\n      </a>\n    </li>\n  </ul>\n  <ul class='group round clearfix'>\n    <li><a href='#' title=\"<%= t('toolbar.bold') %>\" data-key='bold' data-snippet='****'>B</a></li>\n    <li>\n      <a data-key='italic' href='#' title=\"<%= t('toolbar.italic') %>\" data-snippet='__'>\n        <span class='ico small italic'></span>\n      </a>\n    </li>\n  </ul>\n  <ul class='group round clearfix'>\n    <li>\n      <a title=\"<%= t('toolbar.blockquote') %>\"  href='#' data-key='quote' data-snippet='<% print(\"> We loved with a love that was more than love\\n\\n\"); %>'>\n        <span class='ico small quote'></span>\n      </a>\n    </li>\n    <li>\n      <a href='#' title=\"<%= t('toolbar.list') %>\" data-key='list' data-snippet='-'>\n        <span class='ico small list'></span>\n      </a>\n    </li>\n    <li>\n      <a href='#' title=\"<%= t('toolbar.numberedlist') %>\" data-key='numbered-list' data-snippet='1.'>\n        <span class='ico small numbered-list'></span>\n      </a>\n    </li>\n  </ul>\n  <ul class='group round clearfix'>\n    <li>\n    <a class='round' title=\"<%= t('toolbar.help') %>\" href='#' data-key='help' data-snippet=false data-dialog=true>\n        <span class='ico small question'></span>\n      </a>\n    </li>\n  </ul>\n</div>\n<% } %>\n<div id='dialog'></div>\n",path:"templates/toolbar.html",dir:["."],id:"toolbar"}]
},{}],60:[function(e,t,n){(function(t){!function(r){var i="object"==typeof self&&self.self===self&&self||"object"==typeof t&&t.global===t&&t;if("function"==typeof define&&define.amd)define(["underscore","jquery","exports"],function(e,t,n){i.Backbone=r(i,n,e,t)});else if("undefined"!=typeof n){var o,a=e("underscore");try{o=e("jquery")}catch(s){}r(i,n,a,o)}else i.Backbone=r(i,{},i._,i.jQuery||i.Zepto||i.ender||i.$)}(function(e,t,n,r){var i=e.Backbone,o=Array.prototype.slice;t.VERSION="1.3.3",t.$=r,t.noConflict=function(){return e.Backbone=i,this},t.emulateHTTP=!1,t.emulateJSON=!1;var a=function(e,t,r){switch(e){case 1:return function(){return n[t](this[r])};case 2:return function(e){return n[t](this[r],e)};case 3:return function(e,i){return n[t](this[r],l(e,this),i)};case 4:return function(e,i,o){return n[t](this[r],l(e,this),i,o)};default:return function(){var e=o.call(arguments);return e.unshift(this[r]),n[t].apply(n,e)}}},s=function(e,t,r){n.each(t,function(t,i){n[i]&&(e.prototype[i]=a(t,i,r))})},l=function(e,t){return n.isFunction(e)?e:n.isObject(e)&&!t._isModel(e)?u(e):n.isString(e)?function(t){return t.get(e)}:e},u=function(e){var t=n.matches(e);return function(e){return t(e.attributes)}},c=t.Events={},h=/\s+/,d=function(e,t,r,i,o){var a,s=0;if(r&&"object"==typeof r){void 0!==i&&"context"in o&&void 0===o.context&&(o.context=i);for(a=n.keys(r);s<a.length;s++)t=d(e,t,a[s],r[a[s]],o)}else if(r&&h.test(r))for(a=r.split(h);s<a.length;s++)t=e(t,a[s],i,o);else t=e(t,r,i,o);return t};c.on=function(e,t,n){return f(this,e,t,n)};var f=function(e,t,n,r,i){if(e._events=d(p,e._events||{},t,n,{context:r,ctx:e,listening:i}),i){var o=e._listeners||(e._listeners={});o[i.id]=i}return e};c.listenTo=function(e,t,r){if(!e)return this;var i=e._listenId||(e._listenId=n.uniqueId("l")),o=this._listeningTo||(this._listeningTo={}),a=o[i];if(!a){var s=this._listenId||(this._listenId=n.uniqueId("l"));a=o[i]={obj:e,objId:i,id:s,listeningTo:o,count:0}}return f(e,t,r,this,a),this};var p=function(e,t,n,r){if(n){var i=e[t]||(e[t]=[]),o=r.context,a=r.ctx,s=r.listening;s&&s.count++,i.push({callback:n,context:o,ctx:o||a,listening:s})}return e};c.off=function(e,t,n){return this._events?(this._events=d(m,this._events,e,t,{context:n,listeners:this._listeners}),this):this},c.stopListening=function(e,t,r){var i=this._listeningTo;if(!i)return this;for(var o=e?[e._listenId]:n.keys(i),a=0;a<o.length;a++){var s=i[o[a]];if(!s)break;s.obj.off(t,r,this)}return this};var m=function(e,t,r,i){if(e){var o,a=0,s=i.context,l=i.listeners;if(t||r||s){for(var u=t?[t]:n.keys(e);a<u.length;a++){t=u[a];var c=e[t];if(!c)break;for(var h=[],d=0;d<c.length;d++){var f=c[d];r&&r!==f.callback&&r!==f.callback._callback||s&&s!==f.context?h.push(f):(o=f.listening,o&&0===--o.count&&(delete l[o.id],delete o.listeningTo[o.objId]))}h.length?e[t]=h:delete e[t]}return e}for(var p=n.keys(l);a<p.length;a++)o=l[p[a]],delete l[o.id],delete o.listeningTo[o.objId]}};c.once=function(e,t,r){var i=d(g,{},e,t,n.bind(this.off,this));return"string"==typeof e&&null==r&&(t=void 0),this.on(i,t,r)},c.listenToOnce=function(e,t,r){var i=d(g,{},t,r,n.bind(this.stopListening,this,e));return this.listenTo(e,i)};var g=function(e,t,r,i){if(r){var o=e[t]=n.once(function(){i(t,o),r.apply(this,arguments)});o._callback=r}return e};c.trigger=function(e){if(!this._events)return this;for(var t=Math.max(0,arguments.length-1),n=Array(t),r=0;t>r;r++)n[r]=arguments[r+1];return d(v,this._events,e,void 0,n),this};var v=function(e,t,n,r){if(e){var i=e[t],o=e.all;i&&o&&(o=o.slice()),i&&y(i,r),o&&y(o,[t].concat(r))}return e},y=function(e,t){var n,r=-1,i=e.length,o=t[0],a=t[1],s=t[2];switch(t.length){case 0:for(;++r<i;)(n=e[r]).callback.call(n.ctx);return;case 1:for(;++r<i;)(n=e[r]).callback.call(n.ctx,o);return;case 2:for(;++r<i;)(n=e[r]).callback.call(n.ctx,o,a);return;case 3:for(;++r<i;)(n=e[r]).callback.call(n.ctx,o,a,s);return;default:for(;++r<i;)(n=e[r]).callback.apply(n.ctx,t);return}};c.bind=c.on,c.unbind=c.off,n.extend(t,c);var b=t.Model=function(e,t){var r=e||{};t||(t={}),this.cid=n.uniqueId(this.cidPrefix),this.attributes={},t.collection&&(this.collection=t.collection),t.parse&&(r=this.parse(r,t)||{});var i=n.result(this,"defaults");r=n.defaults(n.extend({},i,r),i),this.set(r,t),this.changed={},this.initialize.apply(this,arguments)};n.extend(b.prototype,c,{changed:null,validationError:null,idAttribute:"id",cidPrefix:"c",initialize:function(){},toJSON:function(){return n.clone(this.attributes)},sync:function(){return t.sync.apply(this,arguments)},get:function(e){return this.attributes[e]},escape:function(e){return n.escape(this.get(e))},has:function(e){return null!=this.get(e)},matches:function(e){return!!n.iteratee(e,this)(this.attributes)},set:function(e,t,r){if(null==e)return this;var i;if("object"==typeof e?(i=e,r=t):(i={})[e]=t,r||(r={}),!this._validate(i,r))return!1;var o=r.unset,a=r.silent,s=[],l=this._changing;this._changing=!0,l||(this._previousAttributes=n.clone(this.attributes),this.changed={});var u=this.attributes,c=this.changed,h=this._previousAttributes;for(var d in i)t=i[d],n.isEqual(u[d],t)||s.push(d),n.isEqual(h[d],t)?delete c[d]:c[d]=t,o?delete u[d]:u[d]=t;if(this.idAttribute in i&&(this.id=this.get(this.idAttribute)),!a){s.length&&(this._pending=r);for(var f=0;f<s.length;f++)this.trigger("change:"+s[f],this,u[s[f]],r)}if(l)return this;if(!a)for(;this._pending;)r=this._pending,this._pending=!1,this.trigger("change",this,r);return this._pending=!1,this._changing=!1,this},unset:function(e,t){return this.set(e,void 0,n.extend({},t,{unset:!0}))},clear:function(e){var t={};for(var r in this.attributes)t[r]=void 0;return this.set(t,n.extend({},e,{unset:!0}))},hasChanged:function(e){return null==e?!n.isEmpty(this.changed):n.has(this.changed,e)},changedAttributes:function(e){if(!e)return this.hasChanged()?n.clone(this.changed):!1;var t=this._changing?this._previousAttributes:this.attributes,r={};for(var i in e){var o=e[i];n.isEqual(t[i],o)||(r[i]=o)}return n.size(r)?r:!1},previous:function(e){return null!=e&&this._previousAttributes?this._previousAttributes[e]:null},previousAttributes:function(){return n.clone(this._previousAttributes)},fetch:function(e){e=n.extend({parse:!0},e);var t=this,r=e.success;return e.success=function(n){var i=e.parse?t.parse(n,e):n;return t.set(i,e)?(r&&r.call(e.context,t,n,e),t.trigger("sync",t,n,e),void 0):!1},B(this,e),this.sync("read",this,e)},save:function(e,t,r){var i;null==e||"object"==typeof e?(i=e,r=t):(i={})[e]=t,r=n.extend({validate:!0,parse:!0},r);var o=r.wait;if(i&&!o){if(!this.set(i,r))return!1}else if(!this._validate(i,r))return!1;var a=this,s=r.success,l=this.attributes;r.success=function(e){a.attributes=l;var t=r.parse?a.parse(e,r):e;return o&&(t=n.extend({},i,t)),t&&!a.set(t,r)?!1:(s&&s.call(r.context,a,e,r),a.trigger("sync",a,e,r),void 0)},B(this,r),i&&o&&(this.attributes=n.extend({},l,i));var u=this.isNew()?"create":r.patch?"patch":"update";"patch"!==u||r.attrs||(r.attrs=i);var c=this.sync(u,this,r);return this.attributes=l,c},destroy:function(e){e=e?n.clone(e):{};var t=this,r=e.success,i=e.wait,o=function(){t.stopListening(),t.trigger("destroy",t,t.collection,e)};e.success=function(n){i&&o(),r&&r.call(e.context,t,n,e),t.isNew()||t.trigger("sync",t,n,e)};var a=!1;return this.isNew()?n.defer(e.success):(B(this,e),a=this.sync("delete",this,e)),i||o(),a},url:function(){var e=n.result(this,"urlRoot")||n.result(this.collection,"url")||W();if(this.isNew())return e;var t=this.get(this.idAttribute);return e.replace(/[^\/]$/,"$&/")+encodeURIComponent(t)},parse:function(e){return e},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return!this.has(this.idAttribute)},isValid:function(e){return this._validate({},n.extend({},e,{validate:!0}))},_validate:function(e,t){if(!t.validate||!this.validate)return!0;e=n.extend({},this.attributes,e);var r=this.validationError=this.validate(e,t)||null;return r?(this.trigger("invalid",this,r,n.extend(t,{validationError:r})),!1):!0}});var w={keys:1,values:1,pairs:1,invert:1,pick:0,omit:0,chain:1,isEmpty:1};s(b,w,"attributes");var C=t.Collection=function(e,t){t||(t={}),t.model&&(this.model=t.model),void 0!==t.comparator&&(this.comparator=t.comparator),this._reset(),this.initialize.apply(this,arguments),e&&this.reset(e,n.extend({silent:!0},t))},x={add:!0,remove:!0,merge:!0},k={add:!0,remove:!1},S=function(e,t,n){n=Math.min(Math.max(n,0),e.length);var r,i=Array(e.length-n),o=t.length;for(r=0;r<i.length;r++)i[r]=e[r+n];for(r=0;o>r;r++)e[r+n]=t[r];for(r=0;r<i.length;r++)e[r+o+n]=i[r]};n.extend(C.prototype,c,{model:b,initialize:function(){},toJSON:function(e){return this.map(function(t){return t.toJSON(e)})},sync:function(){return t.sync.apply(this,arguments)},add:function(e,t){return this.set(e,n.extend({merge:!1},t,k))},remove:function(e,t){t=n.extend({},t);var r=!n.isArray(e);e=r?[e]:e.slice();var i=this._removeModels(e,t);return!t.silent&&i.length&&(t.changes={added:[],merged:[],removed:i},this.trigger("update",this,t)),r?i[0]:i},set:function(e,t){if(null!=e){t=n.extend({},x,t),t.parse&&!this._isModel(e)&&(e=this.parse(e,t)||[]);var r=!n.isArray(e);e=r?[e]:e.slice();var i=t.at;null!=i&&(i=+i),i>this.length&&(i=this.length),0>i&&(i+=this.length+1);var o,a,s=[],l=[],u=[],c=[],h={},d=t.add,f=t.merge,p=t.remove,m=!1,g=this.comparator&&null==i&&t.sort!==!1,v=n.isString(this.comparator)?this.comparator:null;for(a=0;a<e.length;a++){o=e[a];var y=this.get(o);if(y){if(f&&o!==y){var b=this._isModel(o)?o.attributes:o;t.parse&&(b=y.parse(b,t)),y.set(b,t),u.push(y),g&&!m&&(m=y.hasChanged(v))}h[y.cid]||(h[y.cid]=!0,s.push(y)),e[a]=y}else d&&(o=e[a]=this._prepareModel(o,t),o&&(l.push(o),this._addReference(o,t),h[o.cid]=!0,s.push(o)))}if(p){for(a=0;a<this.length;a++)o=this.models[a],h[o.cid]||c.push(o);c.length&&this._removeModels(c,t)}var w=!1,C=!g&&d&&p;if(s.length&&C?(w=this.length!==s.length||n.some(this.models,function(e,t){return e!==s[t]}),this.models.length=0,S(this.models,s,0),this.length=this.models.length):l.length&&(g&&(m=!0),S(this.models,l,null==i?this.length:i),this.length=this.models.length),m&&this.sort({silent:!0}),!t.silent){for(a=0;a<l.length;a++)null!=i&&(t.index=i+a),o=l[a],o.trigger("add",o,this,t);(m||w)&&this.trigger("sort",this,t),(l.length||c.length||u.length)&&(t.changes={added:l,removed:c,merged:u},this.trigger("update",this,t))}return r?e[0]:e}},reset:function(e,t){t=t?n.clone(t):{};for(var r=0;r<this.models.length;r++)this._removeReference(this.models[r],t);return t.previousModels=this.models,this._reset(),e=this.add(e,n.extend({silent:!0},t)),t.silent||this.trigger("reset",this,t),e},push:function(e,t){return this.add(e,n.extend({at:this.length},t))},pop:function(e){var t=this.at(this.length-1);return this.remove(t,e)},unshift:function(e,t){return this.add(e,n.extend({at:0},t))},shift:function(e){var t=this.at(0);return this.remove(t,e)},slice:function(){return o.apply(this.models,arguments)},get:function(e){return null==e?void 0:this._byId[e]||this._byId[this.modelId(e.attributes||e)]||e.cid&&this._byId[e.cid]},has:function(e){return null!=this.get(e)},at:function(e){return 0>e&&(e+=this.length),this.models[e]},where:function(e,t){return this[t?"find":"filter"](e)},findWhere:function(e){return this.where(e,!0)},sort:function(e){var t=this.comparator;if(!t)throw new Error("Cannot sort a set without a comparator");e||(e={});var r=t.length;return n.isFunction(t)&&(t=n.bind(t,this)),1===r||n.isString(t)?this.models=this.sortBy(t):this.models.sort(t),e.silent||this.trigger("sort",this,e),this},pluck:function(e){return this.map(e+"")},fetch:function(e){e=n.extend({parse:!0},e);var t=e.success,r=this;return e.success=function(n){var i=e.reset?"reset":"set";r[i](n,e),t&&t.call(e.context,r,n,e),r.trigger("sync",r,n,e)},B(this,e),this.sync("read",this,e)},create:function(e,t){t=t?n.clone(t):{};var r=t.wait;if(e=this._prepareModel(e,t),!e)return!1;r||this.add(e,t);var i=this,o=t.success;return t.success=function(e,t,n){r&&i.add(e,n),o&&o.call(n.context,e,t,n)},e.save(null,t),e},parse:function(e){return e},clone:function(){return new this.constructor(this.models,{model:this.model,comparator:this.comparator})},modelId:function(e){return e[this.model.prototype.idAttribute||"id"]},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(e,t){if(this._isModel(e))return e.collection||(e.collection=this),e;t=t?n.clone(t):{},t.collection=this;var r=new this.model(e,t);return r.validationError?(this.trigger("invalid",this,r.validationError,t),!1):r},_removeModels:function(e,t){for(var n=[],r=0;r<e.length;r++){var i=this.get(e[r]);if(i){var o=this.indexOf(i);this.models.splice(o,1),this.length--,delete this._byId[i.cid];var a=this.modelId(i.attributes);null!=a&&delete this._byId[a],t.silent||(t.index=o,i.trigger("remove",i,this,t)),n.push(i),this._removeReference(i,t)}}return n},_isModel:function(e){return e instanceof b},_addReference:function(e){this._byId[e.cid]=e;var t=this.modelId(e.attributes);null!=t&&(this._byId[t]=e),e.on("all",this._onModelEvent,this)},_removeReference:function(e){delete this._byId[e.cid];var t=this.modelId(e.attributes);null!=t&&delete this._byId[t],this===e.collection&&delete e.collection,e.off("all",this._onModelEvent,this)},_onModelEvent:function(e,t,n,r){if(t){if(("add"===e||"remove"===e)&&n!==this)return;if("destroy"===e&&this.remove(t,r),"change"===e){var i=this.modelId(t.previousAttributes()),o=this.modelId(t.attributes);i!==o&&(null!=i&&delete this._byId[i],null!=o&&(this._byId[o]=t))}}this.trigger.apply(this,arguments)}});var _={forEach:3,each:3,map:3,collect:3,reduce:0,foldl:0,inject:0,reduceRight:0,foldr:0,find:3,detect:3,filter:3,select:3,reject:3,every:3,all:3,some:3,any:3,include:3,includes:3,contains:3,invoke:0,max:3,min:3,toArray:1,size:1,first:3,head:3,take:3,initial:3,rest:3,tail:3,drop:3,last:3,without:0,difference:0,indexOf:3,shuffle:1,lastIndexOf:3,isEmpty:1,chain:1,sample:3,partition:3,groupBy:3,countBy:3,sortBy:3,indexBy:3,findIndex:3,findLastIndex:3};s(C,_,"models");var T=t.View=function(e){this.cid=n.uniqueId("view"),n.extend(this,n.pick(e,M)),this._ensureElement(),this.initialize.apply(this,arguments)},E=/^(\S+)\s*(.*)$/,M=["model","collection","el","id","attributes","className","tagName","events"];n.extend(T.prototype,c,{tagName:"div",$:function(e){return this.$el.find(e)},initialize:function(){},render:function(){return this},remove:function(){return this._removeElement(),this.stopListening(),this},_removeElement:function(){this.$el.remove()},setElement:function(e){return this.undelegateEvents(),this._setElement(e),this.delegateEvents(),this},_setElement:function(e){this.$el=e instanceof t.$?e:t.$(e),this.el=this.$el[0]},delegateEvents:function(e){if(e||(e=n.result(this,"events")),!e)return this;this.undelegateEvents();for(var t in e){var r=e[t];if(n.isFunction(r)||(r=this[r]),r){var i=t.match(E);this.delegate(i[1],i[2],n.bind(r,this))}}return this},delegate:function(e,t,n){return this.$el.on(e+".delegateEvents"+this.cid,t,n),this},undelegateEvents:function(){return this.$el&&this.$el.off(".delegateEvents"+this.cid),this},undelegate:function(e,t,n){return this.$el.off(e+".delegateEvents"+this.cid,t,n),this},_createElement:function(e){return document.createElement(e)},_ensureElement:function(){if(this.el)this.setElement(n.result(this,"el"));else{var e=n.extend({},n.result(this,"attributes"));this.id&&(e.id=n.result(this,"id")),this.className&&(e["class"]=n.result(this,"className")),this.setElement(this._createElement(n.result(this,"tagName"))),this._setAttributes(e)}},_setAttributes:function(e){this.$el.attr(e)}}),t.sync=function(e,r,i){var o=R[e];n.defaults(i||(i={}),{emulateHTTP:t.emulateHTTP,emulateJSON:t.emulateJSON});var a={type:o,dataType:"json"};if(i.url||(a.url=n.result(r,"url")||W()),null!=i.data||!r||"create"!==e&&"update"!==e&&"patch"!==e||(a.contentType="application/json",a.data=JSON.stringify(i.attrs||r.toJSON(i))),i.emulateJSON&&(a.contentType="application/x-www-form-urlencoded",a.data=a.data?{model:a.data}:{}),i.emulateHTTP&&("PUT"===o||"DELETE"===o||"PATCH"===o)){a.type="POST",i.emulateJSON&&(a.data._method=o);var s=i.beforeSend;i.beforeSend=function(e){return e.setRequestHeader("X-HTTP-Method-Override",o),s?s.apply(this,arguments):void 0}}"GET"===a.type||i.emulateJSON||(a.processData=!1);var l=i.error;i.error=function(e,t,n){i.textStatus=t,i.errorThrown=n,l&&l.call(i.context,e,t,n)};var u=i.xhr=t.ajax(n.extend(a,i));return r.trigger("request",r,u,i),u};var R={create:"POST",update:"PUT",patch:"PATCH","delete":"DELETE",read:"GET"};t.ajax=function(){return t.$.ajax.apply(t.$,arguments)};var O=t.Router=function(e){e||(e={}),e.routes&&(this.routes=e.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},A=/\((.*?)\)/g,L=/(\(\?)?:\w+/g,D=/\*\w+/g,P=/[\-{}\[\]+?.,\\\^$|#\s]/g;n.extend(O.prototype,c,{initialize:function(){},route:function(e,r,i){n.isRegExp(e)||(e=this._routeToRegExp(e)),n.isFunction(r)&&(i=r,r=""),i||(i=this[r]);var o=this;return t.history.route(e,function(n){var a=o._extractParameters(e,n);o.execute(i,a,r)!==!1&&(o.trigger.apply(o,["route:"+r].concat(a)),o.trigger("route",r,a),t.history.trigger("route",o,r,a))}),this},execute:function(e,t){e&&e.apply(this,t)},navigate:function(e,n){return t.history.navigate(e,n),this},_bindRoutes:function(){if(this.routes){this.routes=n.result(this,"routes");for(var e,t=n.keys(this.routes);null!=(e=t.pop());)this.route(e,this.routes[e])}},_routeToRegExp:function(e){return e=e.replace(P,"\\$&").replace(A,"(?:$1)?").replace(L,function(e,t){return t?e:"([^/?]+)"}).replace(D,"([^?]*?)"),new RegExp("^"+e+"(?:\\?([\\s\\S]*))?$")},_extractParameters:function(e,t){var r=e.exec(t).slice(1);return n.map(r,function(e,t){return t===r.length-1?e||null:e?decodeURIComponent(e):null})}});var H=t.History=function(){this.handlers=[],this.checkUrl=n.bind(this.checkUrl,this),"undefined"!=typeof window&&(this.location=window.location,this.history=window.history)},N=/^[#\/]|\s+$/g,I=/^\/+|\/+$/g,j=/#.*$/;H.started=!1,n.extend(H.prototype,c,{interval:50,atRoot:function(){var e=this.location.pathname.replace(/[^\/]$/,"$&/");return e===this.root&&!this.getSearch()},matchRoot:function(){var e=this.decodeFragment(this.location.pathname),t=e.slice(0,this.root.length-1)+"/";return t===this.root},decodeFragment:function(e){return decodeURI(e.replace(/%25/g,"%2525"))},getSearch:function(){var e=this.location.href.replace(/#.*/,"").match(/\?.+/);return e?e[0]:""},getHash:function(e){var t=(e||this).location.href.match(/#(.*)$/);return t?t[1]:""},getPath:function(){var e=this.decodeFragment(this.location.pathname+this.getSearch()).slice(this.root.length-1);return"/"===e.charAt(0)?e.slice(1):e},getFragment:function(e){return null==e&&(e=this._usePushState||!this._wantsHashChange?this.getPath():this.getHash()),e.replace(N,"")},start:function(e){if(H.started)throw new Error("Backbone.history has already been started");if(H.started=!0,this.options=n.extend({root:"/"},this.options,e),this.root=this.options.root,this._wantsHashChange=this.options.hashChange!==!1,this._hasHashChange="onhashchange"in window&&(void 0===document.documentMode||document.documentMode>7),this._useHashChange=this._wantsHashChange&&this._hasHashChange,this._wantsPushState=!!this.options.pushState,this._hasPushState=!(!this.history||!this.history.pushState),this._usePushState=this._wantsPushState&&this._hasPushState,this.fragment=this.getFragment(),this.root=("/"+this.root+"/").replace(I,"/"),this._wantsHashChange&&this._wantsPushState){if(!this._hasPushState&&!this.atRoot()){var t=this.root.slice(0,-1)||"/";return this.location.replace(t+"#"+this.getPath()),!0}this._hasPushState&&this.atRoot()&&this.navigate(this.getHash(),{replace:!0})}if(!this._hasHashChange&&this._wantsHashChange&&!this._usePushState){this.iframe=document.createElement("iframe"),this.iframe.src="javascript:0",this.iframe.style.display="none",this.iframe.tabIndex=-1;var r=document.body,i=r.insertBefore(this.iframe,r.firstChild).contentWindow;i.document.open(),i.document.close(),i.location.hash="#"+this.fragment}var o=window.addEventListener||function(e,t){return attachEvent("on"+e,t)};return this._usePushState?o("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe?o("hashchange",this.checkUrl,!1):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),this.options.silent?void 0:this.loadUrl()},stop:function(){var e=window.removeEventListener||function(e,t){return detachEvent("on"+e,t)};this._usePushState?e("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe&&e("hashchange",this.checkUrl,!1),this.iframe&&(document.body.removeChild(this.iframe),this.iframe=null),this._checkUrlInterval&&clearInterval(this._checkUrlInterval),H.started=!1},route:function(e,t){this.handlers.unshift({route:e,callback:t})},checkUrl:function(){var e=this.getFragment();return e===this.fragment&&this.iframe&&(e=this.getHash(this.iframe.contentWindow)),e===this.fragment?!1:(this.iframe&&this.navigate(e),this.loadUrl(),void 0)},loadUrl:function(e){return this.matchRoot()?(e=this.fragment=this.getFragment(e),n.some(this.handlers,function(t){return t.route.test(e)?(t.callback(e),!0):void 0})):!1},navigate:function(e,t){if(!H.started)return!1;t&&t!==!0||(t={trigger:!!t}),e=this.getFragment(e||"");var n=this.root;(""===e||"?"===e.charAt(0))&&(n=n.slice(0,-1)||"/");var r=n+e;if(e=this.decodeFragment(e.replace(j,"")),this.fragment!==e){if(this.fragment=e,this._usePushState)this.history[t.replace?"replaceState":"pushState"]({},document.title,r);else{if(!this._wantsHashChange)return this.location.assign(r);if(this._updateHash(this.location,e,t.replace),this.iframe&&e!==this.getHash(this.iframe.contentWindow)){var i=this.iframe.contentWindow;t.replace||(i.document.open(),i.document.close()),this._updateHash(i.location,e,t.replace)}}return t.trigger?this.loadUrl(e):void 0}},_updateHash:function(e,t,n){if(n){var r=e.href.replace(/(javascript:|#).*$/,"");e.replace(r+"#"+t)}else e.hash="#"+t}}),t.history=new H;var F=function(e,t){var r,i=this;return r=e&&n.has(e,"constructor")?e.constructor:function(){return i.apply(this,arguments)},n.extend(r,i,t),r.prototype=n.create(i.prototype,e),r.prototype.constructor=r,r.__super__=i.prototype,r};b.extend=C.extend=O.extend=T.extend=H.extend=F;var W=function(){throw new Error('A "url" property or function must be specified')},B=function(e,t){var n=t.error;t.error=function(r){n&&n.call(t.context,e,r,t),e.trigger("error",e,r,t)}};return t})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{jquery:87,underscore:129}],61:[function(e,t,n){"use strict";function r(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");return"="===e[t-2]?2:"="===e[t-1]?1:0}function i(e){return 3*e.length/4-r(e)}function o(e){var t,n,i,o,a,s=e.length;o=r(e),a=new h(3*s/4-o),n=o>0?s-4:s;var l=0;for(t=0;n>t;t+=4)i=c[e.charCodeAt(t)]<<18|c[e.charCodeAt(t+1)]<<12|c[e.charCodeAt(t+2)]<<6|c[e.charCodeAt(t+3)],a[l++]=i>>16&255,a[l++]=i>>8&255,a[l++]=255&i;return 2===o?(i=c[e.charCodeAt(t)]<<2|c[e.charCodeAt(t+1)]>>4,a[l++]=255&i):1===o&&(i=c[e.charCodeAt(t)]<<10|c[e.charCodeAt(t+1)]<<4|c[e.charCodeAt(t+2)]>>2,a[l++]=i>>8&255,a[l++]=255&i),a}function a(e){return u[e>>18&63]+u[e>>12&63]+u[e>>6&63]+u[63&e]}function s(e,t,n){for(var r,i=[],o=t;n>o;o+=3)r=(e[o]<<16)+(e[o+1]<<8)+e[o+2],i.push(a(r));return i.join("")}function l(e){for(var t,n=e.length,r=n%3,i="",o=[],a=16383,l=0,c=n-r;c>l;l+=a)o.push(s(e,l,l+a>c?c:l+a));return 1===r?(t=e[n-1],i+=u[t>>2],i+=u[t<<4&63],i+="=="):2===r&&(t=(e[n-2]<<8)+e[n-1],i+=u[t>>10],i+=u[t>>4&63],i+=u[t<<2&63],i+="="),o.push(i),o.join("")}n.byteLength=i,n.toByteArray=o,n.fromByteArray=l;for(var u=[],c=[],h="undefined"!=typeof Uint8Array?Uint8Array:Array,d="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",f=0,p=d.length;p>f;++f)u[f]=d[f],c[d.charCodeAt(f)]=f;c["-".charCodeAt(0)]=62,c["_".charCodeAt(0)]=63},{}],62:[function(){},{}],63:[function(e,t,n){(function(t){"use strict";function r(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(t){return!1}}function i(){return a.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function o(e,t){if(i()<t)throw new RangeError("Invalid typed array length");return a.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t),e.__proto__=a.prototype):(null===e&&(e=new a(t)),e.length=t),e}function a(e,t,n){if(!(a.TYPED_ARRAY_SUPPORT||this instanceof a))return new a(e,t,n);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return c(this,e)}return s(this,e,t,n)}function s(e,t,n,r){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?f(e,t,n,r):"string"==typeof t?h(e,t,n):p(e,t)}function l(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(0>e)throw new RangeError('"size" argument must not be negative')}function u(e,t,n,r){return l(t),0>=t?o(e,t):void 0!==n?"string"==typeof r?o(e,t).fill(n,r):o(e,t).fill(n):o(e,t)}function c(e,t){if(l(t),e=o(e,0>t?0:0|m(t)),!a.TYPED_ARRAY_SUPPORT)for(var n=0;t>n;++n)e[n]=0;return e}function h(e,t,n){if(("string"!=typeof n||""===n)&&(n="utf8"),!a.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|v(t,n);e=o(e,r);var i=e.write(t,n);return i!==r&&(e=e.slice(0,i)),e}function d(e,t){var n=t.length<0?0:0|m(t.length);e=o(e,n);for(var r=0;n>r;r+=1)e[r]=255&t[r];return e}function f(e,t,n,r){if(t.byteLength,0>n||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");return t=void 0===n&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,n):new Uint8Array(t,n,r),a.TYPED_ARRAY_SUPPORT?(e=t,e.__proto__=a.prototype):e=d(e,t),e}function p(e,t){if(a.isBuffer(t)){var n=0|m(t.length);return e=o(e,n),0===e.length?e:(t.copy(e,0,0,n),e)}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||X(t.length)?o(e,0):d(e,t);if("Buffer"===t.type&&Q(t.data))return d(e,t.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function m(e){if(e>=i())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i().toString(16)+" bytes");return 0|e}function g(e){return+e!=e&&(e=0),a.alloc(+e)}function v(e,t){if(a.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var r=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return q(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return G(e).length;default:if(r)return q(e).length;t=(""+t).toLowerCase(),r=!0}}function y(e,t,n){var r=!1;if((void 0===t||0>t)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),0>=n)return"";if(n>>>=0,t>>>=0,t>=n)return"";for(e||(e="utf8");;)switch(e){case"hex":return D(this,t,n);case"utf8":case"utf-8":return R(this,t,n);case"ascii":return A(this,t,n);case"latin1":case"binary":return L(this,t,n);case"base64":return M(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return P(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function b(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function w(e,t,n,r,i){if(0===e.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:-2147483648>n&&(n=-2147483648),n=+n,isNaN(n)&&(n=i?0:e.length-1),0>n&&(n=e.length+n),n>=e.length){if(i)return-1;n=e.length-1}else if(0>n){if(!i)return-1;n=0}if("string"==typeof t&&(t=a.from(t,r)),a.isBuffer(t))return 0===t.length?-1:C(e,t,n,r,i);if("number"==typeof t)return t=255&t,a.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):C(e,[t],n,r,i);throw new TypeError("val must be string, number or Buffer")}function C(e,t,n,r,i){function o(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}var a=1,s=e.length,l=t.length;if(void 0!==r&&(r=String(r).toLowerCase(),"ucs2"===r||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;a=2,s/=2,l/=2,n/=2}var u;if(i){var c=-1;for(u=n;s>u;u++)if(o(e,u)===o(t,-1===c?0:u-c)){if(-1===c&&(c=u),u-c+1===l)return c*a}else-1!==c&&(u-=u-c),c=-1}else for(n+l>s&&(n=s-l),u=n;u>=0;u--){for(var h=!0,d=0;l>d;d++)if(o(e,u+d)!==o(t,d)){h=!1;break}if(h)return u}return-1}function x(e,t,n,r){n=Number(n)||0;var i=e.length-n;r?(r=Number(r),r>i&&(r=i)):r=i;var o=t.length;if(o%2!==0)throw new TypeError("Invalid hex string");r>o/2&&(r=o/2);for(var a=0;r>a;++a){var s=parseInt(t.substr(2*a,2),16);if(isNaN(s))return a;e[n+a]=s}return a}function k(e,t,n,r){return K(q(t,e.length-n),e,n,r)}function S(e,t,n,r){return K($(t),e,n,r)}function _(e,t,n,r){return S(e,t,n,r)}function T(e,t,n,r){return K(G(t),e,n,r)}function E(e,t,n,r){return K(Y(t,e.length-n),e,n,r)}function M(e,t,n){return 0===t&&n===e.length?J.fromByteArray(e):J.fromByteArray(e.slice(t,n))}function R(e,t,n){n=Math.min(e.length,n);for(var r=[],i=t;n>i;){var o=e[i],a=null,s=o>239?4:o>223?3:o>191?2:1;if(n>=i+s){var l,u,c,h;switch(s){case 1:128>o&&(a=o);break;case 2:l=e[i+1],128===(192&l)&&(h=(31&o)<<6|63&l,h>127&&(a=h));break;case 3:l=e[i+1],u=e[i+2],128===(192&l)&&128===(192&u)&&(h=(15&o)<<12|(63&l)<<6|63&u,h>2047&&(55296>h||h>57343)&&(a=h));break;case 4:l=e[i+1],u=e[i+2],c=e[i+3],128===(192&l)&&128===(192&u)&&128===(192&c)&&(h=(15&o)<<18|(63&l)<<12|(63&u)<<6|63&c,h>65535&&1114112>h&&(a=h))}}null===a?(a=65533,s=1):a>65535&&(a-=65536,r.push(a>>>10&1023|55296),a=56320|1023&a),r.push(a),i+=s}return O(r)}function O(e){var t=e.length;if(et>=t)return String.fromCharCode.apply(String,e);for(var n="",r=0;t>r;)n+=String.fromCharCode.apply(String,e.slice(r,r+=et));return n}function A(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;n>i;++i)r+=String.fromCharCode(127&e[i]);return r}function L(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;n>i;++i)r+=String.fromCharCode(e[i]);return r}function D(e,t,n){var r=e.length;(!t||0>t)&&(t=0),(!n||0>n||n>r)&&(n=r);for(var i="",o=t;n>o;++o)i+=V(e[o]);return i}function P(e,t,n){for(var r=e.slice(t,n),i="",o=0;o<r.length;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}function H(e,t,n){if(e%1!==0||0>e)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function N(e,t,n,r,i,o){if(!a.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||o>t)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function I(e,t,n,r){0>t&&(t=65535+t+1);for(var i=0,o=Math.min(e.length-n,2);o>i;++i)e[n+i]=(t&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function j(e,t,n,r){0>t&&(t=4294967295+t+1);for(var i=0,o=Math.min(e.length-n,4);o>i;++i)e[n+i]=t>>>8*(r?i:3-i)&255}function F(e,t,n,r){if(n+r>e.length)throw new RangeError("Index out of range");if(0>n)throw new RangeError("Index out of range")}function W(e,t,n,r,i){return i||F(e,t,n,4,3.4028234663852886e38,-3.4028234663852886e38),Z.write(e,t,n,r,23,4),n+4}function B(e,t,n,r,i){return i||F(e,t,n,8,1.7976931348623157e308,-1.7976931348623157e308),Z.write(e,t,n,r,52,8),n+8}function z(e){if(e=U(e).replace(tt,""),e.length<2)return"";for(;e.length%4!==0;)e+="=";return e}function U(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function V(e){return 16>e?"0"+e.toString(16):e.toString(16)}function q(e,t){t=t||1/0;for(var n,r=e.length,i=null,o=[],a=0;r>a;++a){if(n=e.charCodeAt(a),n>55295&&57344>n){if(!i){if(n>56319){(t-=3)>-1&&o.push(239,191,189);
continue}if(a+1===r){(t-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(56320>n){(t-=3)>-1&&o.push(239,191,189),i=n;continue}n=(i-55296<<10|n-56320)+65536}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,128>n){if((t-=1)<0)break;o.push(n)}else if(2048>n){if((t-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(65536>n){if((t-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(1114112>n))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function $(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}function Y(e,t){for(var n,r,i,o=[],a=0;a<e.length&&!((t-=2)<0);++a)n=e.charCodeAt(a),r=n>>8,i=n%256,o.push(i),o.push(r);return o}function G(e){return J.toByteArray(z(e))}function K(e,t,n,r){for(var i=0;r>i&&!(i+n>=t.length||i>=e.length);++i)t[i+n]=e[i];return i}function X(e){return e!==e}var J=e("base64-js"),Z=e("ieee754"),Q=e("isarray");n.Buffer=a,n.SlowBuffer=g,n.INSPECT_MAX_BYTES=50,a.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:r(),n.kMaxLength=i(),a.poolSize=8192,a._augment=function(e){return e.__proto__=a.prototype,e},a.from=function(e,t,n){return s(null,e,t,n)},a.TYPED_ARRAY_SUPPORT&&(a.prototype.__proto__=Uint8Array.prototype,a.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&a[Symbol.species]===a&&Object.defineProperty(a,Symbol.species,{value:null,configurable:!0})),a.alloc=function(e,t,n){return u(null,e,t,n)},a.allocUnsafe=function(e){return c(null,e)},a.allocUnsafeSlow=function(e){return c(null,e)},a.isBuffer=function(e){return!(null==e||!e._isBuffer)},a.compare=function(e,t){if(!a.isBuffer(e)||!a.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,r=t.length,i=0,o=Math.min(n,r);o>i;++i)if(e[i]!==t[i]){n=e[i],r=t[i];break}return r>n?-1:n>r?1:0},a.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(e,t){if(!Q(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return a.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var r=a.allocUnsafe(t),i=0;for(n=0;n<e.length;++n){var o=e[n];if(!a.isBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(r,i),i+=o.length}return r},a.byteLength=v,a.prototype._isBuffer=!0,a.prototype.swap16=function(){var e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;e>t;t+=2)b(this,t,t+1);return this},a.prototype.swap32=function(){var e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;e>t;t+=4)b(this,t,t+3),b(this,t+1,t+2);return this},a.prototype.swap64=function(){var e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;e>t;t+=8)b(this,t,t+7),b(this,t+1,t+6),b(this,t+2,t+5),b(this,t+3,t+4);return this},a.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?R(this,0,e):y.apply(this,arguments)},a.prototype.equals=function(e){if(!a.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e?!0:0===a.compare(this,e)},a.prototype.inspect=function(){var e="",t=n.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,t).match(/.{2}/g).join(" "),this.length>t&&(e+=" ... ")),"<Buffer "+e+">"},a.prototype.compare=function(e,t,n,r,i){if(!a.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),0>t||n>e.length||0>r||i>this.length)throw new RangeError("out of range index");if(r>=i&&t>=n)return 0;if(r>=i)return-1;if(t>=n)return 1;if(t>>>=0,n>>>=0,r>>>=0,i>>>=0,this===e)return 0;for(var o=i-r,s=n-t,l=Math.min(o,s),u=this.slice(r,i),c=e.slice(t,n),h=0;l>h;++h)if(u[h]!==c[h]){o=u[h],s=c[h];break}return s>o?-1:o>s?1:0},a.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},a.prototype.indexOf=function(e,t,n){return w(this,e,t,n,!0)},a.prototype.lastIndexOf=function(e,t,n){return w(this,e,t,n,!1)},a.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t=0|t,isFinite(n)?(n=0|n,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-t;if((void 0===n||n>i)&&(n=i),e.length>0&&(0>n||0>t)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var o=!1;;)switch(r){case"hex":return x(this,e,t,n);case"utf8":case"utf-8":return k(this,e,t,n);case"ascii":return S(this,e,t,n);case"latin1":case"binary":return _(this,e,t,n);case"base64":return T(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return E(this,e,t,n);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var et=4096;a.prototype.slice=function(e,t){var n=this.length;e=~~e,t=void 0===t?n:~~t,0>e?(e+=n,0>e&&(e=0)):e>n&&(e=n),0>t?(t+=n,0>t&&(t=0)):t>n&&(t=n),e>t&&(t=e);var r;if(a.TYPED_ARRAY_SUPPORT)r=this.subarray(e,t),r.__proto__=a.prototype;else{var i=t-e;r=new a(i,void 0);for(var o=0;i>o;++o)r[o]=this[o+e]}return r},a.prototype.readUIntLE=function(e,t,n){e=0|e,t=0|t,n||H(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return r},a.prototype.readUIntBE=function(e,t,n){e=0|e,t=0|t,n||H(e,t,this.length);for(var r=this[e+--t],i=1;t>0&&(i*=256);)r+=this[e+--t]*i;return r},a.prototype.readUInt8=function(e,t){return t||H(e,1,this.length),this[e]},a.prototype.readUInt16LE=function(e,t){return t||H(e,2,this.length),this[e]|this[e+1]<<8},a.prototype.readUInt16BE=function(e,t){return t||H(e,2,this.length),this[e]<<8|this[e+1]},a.prototype.readUInt32LE=function(e,t){return t||H(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},a.prototype.readUInt32BE=function(e,t){return t||H(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},a.prototype.readIntLE=function(e,t,n){e=0|e,t=0|t,n||H(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return i*=128,r>=i&&(r-=Math.pow(2,8*t)),r},a.prototype.readIntBE=function(e,t,n){e=0|e,t=0|t,n||H(e,t,this.length);for(var r=t,i=1,o=this[e+--r];r>0&&(i*=256);)o+=this[e+--r]*i;return i*=128,o>=i&&(o-=Math.pow(2,8*t)),o},a.prototype.readInt8=function(e,t){return t||H(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},a.prototype.readInt16LE=function(e,t){t||H(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},a.prototype.readInt16BE=function(e,t){t||H(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},a.prototype.readInt32LE=function(e,t){return t||H(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},a.prototype.readInt32BE=function(e,t){return t||H(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},a.prototype.readFloatLE=function(e,t){return t||H(e,4,this.length),Z.read(this,e,!0,23,4)},a.prototype.readFloatBE=function(e,t){return t||H(e,4,this.length),Z.read(this,e,!1,23,4)},a.prototype.readDoubleLE=function(e,t){return t||H(e,8,this.length),Z.read(this,e,!0,52,8)},a.prototype.readDoubleBE=function(e,t){return t||H(e,8,this.length),Z.read(this,e,!1,52,8)},a.prototype.writeUIntLE=function(e,t,n,r){if(e=+e,t=0|t,n=0|n,!r){var i=Math.pow(2,8*n)-1;N(this,e,t,n,i,0)}var o=1,a=0;for(this[t]=255&e;++a<n&&(o*=256);)this[t+a]=e/o&255;return t+n},a.prototype.writeUIntBE=function(e,t,n,r){if(e=+e,t=0|t,n=0|n,!r){var i=Math.pow(2,8*n)-1;N(this,e,t,n,i,0)}var o=n-1,a=1;for(this[t+o]=255&e;--o>=0&&(a*=256);)this[t+o]=e/a&255;return t+n},a.prototype.writeUInt8=function(e,t,n){return e=+e,t=0|t,n||N(this,e,t,1,255,0),a.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},a.prototype.writeUInt16LE=function(e,t,n){return e=+e,t=0|t,n||N(this,e,t,2,65535,0),a.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):I(this,e,t,!0),t+2},a.prototype.writeUInt16BE=function(e,t,n){return e=+e,t=0|t,n||N(this,e,t,2,65535,0),a.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):I(this,e,t,!1),t+2},a.prototype.writeUInt32LE=function(e,t,n){return e=+e,t=0|t,n||N(this,e,t,4,4294967295,0),a.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):j(this,e,t,!0),t+4},a.prototype.writeUInt32BE=function(e,t,n){return e=+e,t=0|t,n||N(this,e,t,4,4294967295,0),a.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):j(this,e,t,!1),t+4},a.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t=0|t,!r){var i=Math.pow(2,8*n-1);N(this,e,t,n,i-1,-i)}var o=0,a=1,s=0;for(this[t]=255&e;++o<n&&(a*=256);)0>e&&0===s&&0!==this[t+o-1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+n},a.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t=0|t,!r){var i=Math.pow(2,8*n-1);N(this,e,t,n,i-1,-i)}var o=n-1,a=1,s=0;for(this[t+o]=255&e;--o>=0&&(a*=256);)0>e&&0===s&&0!==this[t+o+1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+n},a.prototype.writeInt8=function(e,t,n){return e=+e,t=0|t,n||N(this,e,t,1,127,-128),a.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),0>e&&(e=255+e+1),this[t]=255&e,t+1},a.prototype.writeInt16LE=function(e,t,n){return e=+e,t=0|t,n||N(this,e,t,2,32767,-32768),a.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):I(this,e,t,!0),t+2},a.prototype.writeInt16BE=function(e,t,n){return e=+e,t=0|t,n||N(this,e,t,2,32767,-32768),a.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):I(this,e,t,!1),t+2},a.prototype.writeInt32LE=function(e,t,n){return e=+e,t=0|t,n||N(this,e,t,4,2147483647,-2147483648),a.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):j(this,e,t,!0),t+4},a.prototype.writeInt32BE=function(e,t,n){return e=+e,t=0|t,n||N(this,e,t,4,2147483647,-2147483648),0>e&&(e=4294967295+e+1),a.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):j(this,e,t,!1),t+4},a.prototype.writeFloatLE=function(e,t,n){return W(this,e,t,!0,n)},a.prototype.writeFloatBE=function(e,t,n){return W(this,e,t,!1,n)},a.prototype.writeDoubleLE=function(e,t,n){return B(this,e,t,!0,n)},a.prototype.writeDoubleBE=function(e,t,n){return B(this,e,t,!1,n)},a.prototype.copy=function(e,t,n,r){if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&n>r&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(0>t)throw new RangeError("targetStart out of bounds");if(0>n||n>=this.length)throw new RangeError("sourceStart out of bounds");if(0>r)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var i,o=r-n;if(this===e&&t>n&&r>t)for(i=o-1;i>=0;--i)e[i+t]=this[i+n];else if(1e3>o||!a.TYPED_ARRAY_SUPPORT)for(i=0;o>i;++i)e[i+t]=this[i+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+o),t);return o},a.prototype.fill=function(e,t,n,r){if("string"==typeof e){if("string"==typeof t?(r=t,t=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),1===e.length){var i=e.charCodeAt(0);256>i&&(e=i)}if(void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!a.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"==typeof e&&(e=255&e);if(0>t||this.length<t||this.length<n)throw new RangeError("Out of range index");if(t>=n)return this;t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0);var o;if("number"==typeof e)for(o=t;n>o;++o)this[o]=e;else{var s=a.isBuffer(e)?e:q(new a(e,r).toString()),l=s.length;for(o=0;n-t>o;++o)this[o+t]=s[o%l]}return this};var tt=/[^+\/0-9A-Za-z-_]/g}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"base64-js":61,ieee754:84,isarray:86}],64:[function(e,t,n){(function(e){(function(){var t,r,i,o,a,s,l={}.hasOwnProperty,u=function(e,t){function n(){this.constructor=e}for(var r in t)l.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};r=function(){function e(e,t){this.form_field=e,this.options=null!=t?t:{},this.is_multiple=this.form_field.multiple,this.set_default_text(),this.set_default_values(),this.setup(),this.set_up_html(),this.register_observers(),this.finish_setup()}return e.prototype.set_default_values=function(){var e=this;return this.click_test_action=function(t){return e.test_active_click(t)},this.activate_action=function(t){return e.activate_field(t)},this.active_field=!1,this.mouse_on_container=!1,this.results_showing=!1,this.result_highlighted=null,this.result_single_selected=null,this.allow_single_deselect=null!=this.options.allow_single_deselect&&null!=this.form_field.options[0]&&""===this.form_field.options[0].text?this.options.allow_single_deselect:!1,this.disable_search_threshold=this.options.disable_search_threshold||0,this.disable_search=this.options.disable_search||!1,this.enable_split_word_search=null!=this.options.enable_split_word_search?this.options.enable_split_word_search:!0,this.search_contains=this.options.search_contains||!1,this.choices=0,this.single_backstroke_delete=this.options.single_backstroke_delete||!1,this.max_selected_options=this.options.max_selected_options||1/0,this.inherit_select_classes=this.options.inherit_select_classes||!1},e.prototype.set_default_text=function(){return this.default_text=this.form_field.getAttribute("data-placeholder")?this.form_field.getAttribute("data-placeholder"):this.is_multiple?this.options.placeholder_text_multiple||this.options.placeholder_text||"Select Some Options":this.options.placeholder_text_single||this.options.placeholder_text||"Select an Option",this.results_none_found=this.form_field.getAttribute("data-no_results_text")||this.options.no_results_text||"No results match"},e.prototype.mouse_enter=function(){return this.mouse_on_container=!0},e.prototype.mouse_leave=function(){return this.mouse_on_container=!1},e.prototype.input_focus=function(){var e=this;if(this.is_multiple){if(!this.active_field)return setTimeout(function(){return e.container_mousedown()},50)}else if(!this.active_field)return this.activate_field()},e.prototype.input_blur=function(){var e=this;return this.mouse_on_container?void 0:(this.active_field=!1,setTimeout(function(){return e.blur_test()},100))},e.prototype.result_add_option=function(e){var t,n;return e.disabled?"":(e.dom_id=this.container_id+"_o_"+e.array_index,t=e.selected&&this.is_multiple?[]:["active-result"],e.selected&&t.push("result-selected"),null!=e.group_array_index&&t.push("group-option"),""!==e.classes&&t.push(e.classes),n=""!==e.style.cssText?' style="'+e.style+'"':"",'<li id="'+e.dom_id+'" class="'+t.join(" ")+'"'+n+">"+e.html+"</li>")},e.prototype.results_update_field=function(){return this.is_multiple||this.results_reset_cleanup(),this.result_clear_highlight(),this.result_single_selected=null,this.results_build()},e.prototype.results_toggle=function(){return this.results_showing?this.results_hide():this.results_show()},e.prototype.results_search=function(){return this.results_showing?this.winnow_results():this.results_show()},e.prototype.keyup_checker=function(e){var t,n;switch(t=null!=(n=e.which)?n:e.keyCode,this.search_field_scale(),t){case 8:if(this.is_multiple&&this.backstroke_length<1&&this.choices>0)return this.keydown_backstroke();if(!this.pending_backstroke)return this.result_clear_highlight(),this.results_search();break;case 13:if(e.preventDefault(),this.results_showing)return this.result_select(e);break;case 27:return this.results_showing&&this.results_hide(),!0;case 9:case 38:case 40:case 16:case 91:case 17:break;default:return this.results_search()}},e.prototype.generate_field_id=function(){var e;return e=this.generate_random_id(),this.form_field.id=e,e},e.prototype.generate_random_char=function(){var e,t,n;return e="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ",n=Math.floor(Math.random()*e.length),t=e.substring(n,n+1)},e}(),t=e.$,a=function(e){var t;return t=e.outerWidth()-e.width()},t.fn.extend({chosen:function(e){var n,r,o;return o=window.navigator.userAgent.toLowerCase(),r=/(msie) ([\w.]+)/.exec(o)||[],n={name:r[1]||"",version:r[2]||"0"},"msie"===n.name&&("6.0"===n.version||"7.0"===n.version&&7===document.documentMode)?this:this.each(function(){var n;return n=t(this),n.hasClass("chzn-done")?void 0:n.data("chosen",new i(this,e))})}}),i=function(e){function n(){return s=n.__super__.constructor.apply(this,arguments)}return u(n,e),n.prototype.setup=function(){return this.form_field_jq=t(this.form_field),this.current_value=this.form_field_jq.val(),this.is_rtl=this.form_field_jq.hasClass("chzn-rtl")},n.prototype.finish_setup=function(){return this.form_field_jq.addClass("chzn-done")},n.prototype.set_up_html=function(){var e,n,r,i,o,s;return this.container_id=this.form_field.id.length?this.form_field.id.replace(/[^\w]/g,"_"):this.generate_field_id(),this.container_id+="_chzn",e=["chzn-container"],e.push("chzn-container-"+(this.is_multiple?"multi":"single")),this.inherit_select_classes&&this.form_field.className&&e.push(this.form_field.className),this.is_rtl&&e.push("chzn-rtl"),this.f_width=this.form_field_jq.outerWidth(),r={id:this.container_id,"class":e.join(" "),style:"width: "+this.f_width+"px;",title:this.form_field.title},n=t("<div />",r),this.is_multiple?n.html('<ul class="chzn-choices"><li class="search-field"><input type="text" value="'+this.default_text+'" class="default" autocomplete="off" style="width:25px;" /></li></ul><div class="chzn-drop" style="left:-9000px;"><ul class="chzn-results"></ul></div>'):n.html('<a href="javascript:void(0)" class="chzn-single chzn-default" tabindex="-1"><span>'+this.default_text+'</span><div><b></b></div></a><div class="chzn-drop" style="left:-9000px;"><div class="chzn-search"><input type="text" autocomplete="off" /></div><ul class="chzn-results"></ul></div>'),this.form_field_jq.hide().after(n),this.container=t("#"+this.container_id),this.dropdown=this.container.find("div.chzn-drop").first(),i=this.container.height(),o=this.f_width-a(this.dropdown),this.dropdown.css({width:o+"px",top:i+"px"}),this.search_field=this.container.find("input").first(),this.search_results=this.container.find("ul.chzn-results").first(),this.search_field_scale(),this.search_no_results=this.container.find("li.no-results").first(),this.is_multiple?(this.search_choices=this.container.find("ul.chzn-choices").first(),this.search_container=this.container.find("li.search-field").first()):(this.search_container=this.container.find("div.chzn-search").first(),this.selected_item=this.container.find(".chzn-single").first(),s=o-a(this.search_container)-a(this.search_field),this.search_field.css({width:s+"px"})),this.results_build(),this.set_tab_index(),this.form_field_jq.trigger("liszt:ready",{chosen:this})},n.prototype.register_observers=function(){var e=this;return this.container.mousedown(function(t){return e.container_mousedown(t)}),this.container.mouseup(function(t){return e.container_mouseup(t)}),this.container.mouseenter(function(t){return e.mouse_enter(t)}),this.container.mouseleave(function(t){return e.mouse_leave(t)}),this.search_results.mouseup(function(t){return e.search_results_mouseup(t)}),this.search_results.mouseover(function(t){return e.search_results_mouseover(t)}),this.search_results.mouseout(function(t){return e.search_results_mouseout(t)}),this.form_field_jq.bind("liszt:updated",function(t){return e.results_update_field(t)}),this.form_field_jq.bind("liszt:activate",function(t){return e.activate_field(t)}),this.form_field_jq.bind("liszt:open",function(t){return e.container_mousedown(t)}),this.search_field.blur(function(t){return e.input_blur(t)}),this.search_field.keyup(function(t){return e.keyup_checker(t)}),this.search_field.keydown(function(t){return e.keydown_checker(t)}),this.search_field.focus(function(t){return e.input_focus(t)}),this.is_multiple?this.search_choices.click(function(t){return e.choices_click(t)}):this.container.click(function(e){return e.preventDefault()})},n.prototype.search_field_disabled=function(){return this.is_disabled=this.form_field_jq[0].disabled,this.is_disabled?(this.container.addClass("chzn-disabled"),this.search_field[0].disabled=!0,this.is_multiple||this.selected_item.unbind("focus",this.activate_action),this.close_field()):(this.container.removeClass("chzn-disabled"),this.search_field[0].disabled=!1,this.is_multiple?void 0:this.selected_item.bind("focus",this.activate_action))},n.prototype.container_mousedown=function(e){var n;return this.is_disabled?void 0:(n=null!=e?t(e.target).hasClass("search-choice-close"):!1,"mousedown"!==(null!=e?e.type:void 0)||this.results_showing||e.preventDefault(),this.pending_destroy_click||n?this.pending_destroy_click=!1:(this.active_field?this.is_multiple||!e||t(e.target)[0]!==this.selected_item[0]&&!t(e.target).parents("a.chzn-single").length||(e.preventDefault(),this.results_toggle()):(this.is_multiple&&this.search_field.val(""),t(document).click(this.click_test_action),this.results_show()),this.activate_field()))},n.prototype.container_mouseup=function(e){return"ABBR"!==e.target.nodeName||this.is_disabled?void 0:this.results_reset(e)},n.prototype.blur_test=function(){return!this.active_field&&this.container.hasClass("chzn-container-active")?this.close_field():void 0},n.prototype.close_field=function(){return t(document).unbind("click",this.click_test_action),this.active_field=!1,this.results_hide(),this.container.removeClass("chzn-container-active"),this.winnow_results_clear(),this.clear_backstroke(),this.show_search_field_default(),this.search_field_scale()},n.prototype.activate_field=function(){return this.container.addClass("chzn-container-active"),this.active_field=!0,this.search_field.val(this.search_field.val()),this.search_field.focus()},n.prototype.test_active_click=function(e){return t(e.target).parents("#"+this.container_id).length?this.active_field=!0:this.close_field()},n.prototype.results_build=function(){var e,t,n,r,i;for(this.parsing=!0,this.results_data=o.select_to_array(this.form_field),this.is_multiple&&this.choices>0?(this.search_choices.find("li.search-choice").remove(),this.choices=0):this.is_multiple||(this.selected_item.addClass("chzn-default").find("span").text(this.default_text),this.disable_search||this.form_field.options.length<=this.disable_search_threshold?this.container.addClass("chzn-container-single-nosearch"):this.container.removeClass("chzn-container-single-nosearch")),e="",i=this.results_data,n=0,r=i.length;r>n;n++)t=i[n],t.group?e+=this.result_add_group(t):t.empty||(e+=this.result_add_option(t),t.selected&&this.is_multiple?this.choice_build(t):t.selected&&!this.is_multiple&&(this.selected_item.removeClass("chzn-default").find("span").text(t.text),this.allow_single_deselect&&this.single_deselect_control_build()));return this.search_field_disabled(),this.show_search_field_default(),this.search_field_scale(),this.search_results.html(e),this.parsing=!1},n.prototype.result_add_group=function(e){return e.disabled?"":(e.dom_id=this.container_id+"_g_"+e.array_index,'<li id="'+e.dom_id+'" class="group-result">'+t("<div />").text(e.label).html()+"</li>")},n.prototype.result_do_highlight=function(e){var t,n,r,i,o;if(e.length){if(this.result_clear_highlight(),this.result_highlight=e,this.result_highlight.addClass("highlighted"),r=parseInt(this.search_results.css("maxHeight"),10),o=this.search_results.scrollTop(),i=r+o,n=this.result_highlight.position().top+this.search_results.scrollTop(),t=n+this.result_highlight.outerHeight(),t>=i)return this.search_results.scrollTop(t-r>0?t-r:0);if(o>n)return this.search_results.scrollTop(n)}},n.prototype.result_clear_highlight=function(){return this.result_highlight&&this.result_highlight.removeClass("highlighted"),this.result_highlight=null},n.prototype.results_show=function(){var e;return this.is_multiple?this.max_selected_options<=this.choices&&this.form_field_jq.trigger("liszt:maxselected",{chosen:this}):(this.selected_item.addClass("chzn-single-with-drop"),this.result_single_selected&&this.result_do_highlight(this.result_single_selected)),e=this.is_multiple?this.container.height():this.container.height()-1,this.form_field_jq.trigger("liszt:showing_dropdown",{chosen:this}),this.dropdown.css({top:e+"px",left:0}),this.results_showing=!0,this.search_field.focus(),this.search_field.val(this.search_field.val()),this.winnow_results()},n.prototype.results_hide=function(){return this.is_multiple||this.selected_item.removeClass("chzn-single-with-drop"),this.result_clear_highlight(),this.form_field_jq.trigger("liszt:hiding_dropdown",{chosen:this}),this.dropdown.css({left:"-9000px"}),this.results_showing=!1},n.prototype.set_tab_index=function(){var e;return this.form_field_jq.attr("tabindex")?(e=this.form_field_jq.attr("tabindex"),this.form_field_jq.attr("tabindex",-1),this.search_field.attr("tabindex",e)):void 0},n.prototype.show_search_field_default=function(){return this.is_multiple&&this.choices<1&&!this.active_field?(this.search_field.val(this.default_text),this.search_field.addClass("default")):(this.search_field.val(""),this.search_field.removeClass("default"))},n.prototype.search_results_mouseup=function(e){var n;return n=t(e.target).hasClass("active-result")?t(e.target):t(e.target).parents(".active-result").first(),n.length?(this.result_highlight=n,this.result_select(e),this.search_field.focus()):void 0},n.prototype.search_results_mouseover=function(e){var n;return n=t(e.target).hasClass("active-result")?t(e.target):t(e.target).parents(".active-result").first(),n?this.result_do_highlight(n):void 0},n.prototype.search_results_mouseout=function(e){return t(e.target).hasClass("active-result")?this.result_clear_highlight():void 0},n.prototype.choices_click=function(e){return e.preventDefault(),!this.active_field||t(e.target).hasClass("search-choice")||this.results_showing?void 0:this.results_show()},n.prototype.choice_build=function(e){var n,r,i,o=this;return this.is_multiple&&this.max_selected_options<=this.choices&&this.form_field_jq.trigger("liszt:maxselected",{chosen:this}),n=this.container_id+"_c_"+e.array_index,this.choices+=1,r=e.disabled?'<li class="search-choice search-choice-disabled" id="'+n+'"><span>'+e.html+"</span></li>":'<li class="search-choice" id="'+n+'"><span>'+e.html+'</span><a href="javascript:void(0)" class="search-choice-close" rel="'+e.array_index+'"></a></li>',this.search_container.before(r),i=t("#"+n).find("a").first(),i.click(function(e){return o.choice_destroy_link_click(e)})},n.prototype.choice_destroy_link_click=function(e){return e.preventDefault(),this.is_disabled?e.stopPropagation:(this.pending_destroy_click=!0,this.choice_destroy(t(e.target)))},n.prototype.choice_destroy=function(e){return this.result_deselect(e.attr("rel"))?(this.choices-=1,this.show_search_field_default(),this.is_multiple&&this.choices>0&&this.search_field.val().length<1&&this.results_hide(),e.parents("li").first().remove(),this.search_field_scale()):void 0},n.prototype.results_reset=function(){return this.form_field.options[0].selected=!0,this.selected_item.find("span").text(this.default_text),this.is_multiple||this.selected_item.addClass("chzn-default"),this.show_search_field_default(),this.results_reset_cleanup(),this.form_field_jq.trigger("change"),this.active_field?this.results_hide():void 0},n.prototype.results_reset_cleanup=function(){return this.current_value=this.form_field_jq.val(),this.selected_item.find("abbr").remove()},n.prototype.result_select=function(e){var t,n,r,i;return this.result_highlight?(t=this.result_highlight,n=t.attr("id"),this.result_clear_highlight(),this.is_multiple?this.result_deactivate(t):(this.search_results.find(".result-selected").removeClass("result-selected"),this.result_single_selected=t,this.selected_item.removeClass("chzn-default")),t.addClass("result-selected"),i=n.substr(n.lastIndexOf("_")+1),r=this.results_data[i],r.selected=!0,this.form_field.options[r.options_index].selected=!0,this.is_multiple?this.choice_build(r):(this.selected_item.find("span").first().text(r.text),this.allow_single_deselect&&this.single_deselect_control_build()),(e.metaKey||e.ctrlKey)&&this.is_multiple||this.results_hide(),this.search_field.val(""),(this.is_multiple||this.form_field_jq.val()!==this.current_value)&&this.form_field_jq.trigger("change",{selected:this.form_field.options[r.options_index].value}),this.current_value=this.form_field_jq.val(),this.search_field_scale()):void 0},n.prototype.result_activate=function(e){return e.addClass("active-result")},n.prototype.result_deactivate=function(e){return e.removeClass("active-result")},n.prototype.result_deselect=function(e){var n,r;return r=this.results_data[e],this.form_field.options[r.options_index].disabled?!1:(r.selected=!1,this.form_field.options[r.options_index].selected=!1,n=t("#"+this.container_id+"_o_"+e),n.removeClass("result-selected").addClass("active-result").show(),this.result_clear_highlight(),this.winnow_results(),this.form_field_jq.trigger("change",{deselected:this.form_field.options[r.options_index].value}),this.search_field_scale(),!0)},n.prototype.single_deselect_control_build=function(){return this.allow_single_deselect&&this.selected_item.find("abbr").length<1?this.selected_item.find("span").first().after('<abbr class="search-choice-close"></abbr>'):void 0},n.prototype.winnow_results=function(){var e,n,r,i,o,a,s,l,u,c,h,d,f,p,m,g,v,y;for(this.no_results_clear(),u=0,c=this.search_field.val()===this.default_text?"":t("<div/>").text(t.trim(this.search_field.val())).html(),a=this.search_contains?"":"^",o=new RegExp(a+c.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),"i"),f=new RegExp(c.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),"i"),y=this.results_data,p=0,g=y.length;g>p;p++)if(n=y[p],!n.disabled&&!n.empty)if(n.group)t("#"+n.dom_id).css("display","none");else if(!this.is_multiple||!n.selected){if(e=!1,l=n.dom_id,s=t("#"+l),o.test(n.html))e=!0,u+=1;else if(this.enable_split_word_search&&(n.html.indexOf(" ")>=0||0===n.html.indexOf("["))&&(i=n.html.replace(/\[|\]/g,"").split(" "),i.length))for(m=0,v=i.length;v>m;m++)r=i[m],o.test(r)&&(e=!0,u+=1);e?(c.length?(h=n.html.search(f),d=n.html.substr(0,h+c.length)+"</em>"+n.html.substr(h+c.length),d=d.substr(0,h)+"<em>"+d.substr(h)):d=n.html,s.html(d),this.result_activate(s),null!=n.group_array_index&&t("#"+this.results_data[n.group_array_index].dom_id).css("display","list-item")):(this.result_highlight&&l===this.result_highlight.attr("id")&&this.result_clear_highlight(),this.result_deactivate(s))}return 1>u&&c.length?this.no_results(c):this.winnow_results_set_highlight()},n.prototype.winnow_results_clear=function(){var e,n,r,i,o;for(this.search_field.val(""),n=this.search_results.find("li"),o=[],r=0,i=n.length;i>r;r++)e=n[r],e=t(e),e.hasClass("group-result")?o.push(e.css("display","auto")):this.is_multiple&&e.hasClass("result-selected")?o.push(void 0):o.push(this.result_activate(e));return o},n.prototype.winnow_results_set_highlight=function(){var e,t;return this.result_highlight||(t=this.is_multiple?[]:this.search_results.find(".result-selected.active-result"),e=t.length?t.first():this.search_results.find(".active-result").first(),null==e)?void 0:this.result_do_highlight(e)},n.prototype.no_results=function(e){var n;return n=t('<li class="no-results">'+this.results_none_found+' "<span></span>"</li>'),n.find("span").first().html(e),this.search_results.append(n)},n.prototype.no_results_clear=function(){return this.search_results.find(".no-results").remove()},n.prototype.keydown_arrow=function(){var e,n;return this.result_highlight?this.results_showing&&(n=this.result_highlight.nextAll("li.active-result").first(),n&&this.result_do_highlight(n)):(e=this.search_results.find("li.active-result").first(),e&&this.result_do_highlight(t(e))),this.results_showing?void 0:this.results_show()},n.prototype.keyup_arrow=function(){var e;
return this.results_showing||this.is_multiple?this.result_highlight?(e=this.result_highlight.prevAll("li.active-result"),e.length?this.result_do_highlight(e.first()):(this.choices>0&&this.results_hide(),this.result_clear_highlight())):void 0:this.results_show()},n.prototype.keydown_backstroke=function(){var e;return this.pending_backstroke?(this.choice_destroy(this.pending_backstroke.find("a").first()),this.clear_backstroke()):(e=this.search_container.siblings("li.search-choice").last(),e.length&&!e.hasClass("search-choice-disabled")?(this.pending_backstroke=e,this.single_backstroke_delete?this.keydown_backstroke():this.pending_backstroke.addClass("search-choice-focus")):void 0)},n.prototype.clear_backstroke=function(){return this.pending_backstroke&&this.pending_backstroke.removeClass("search-choice-focus"),this.pending_backstroke=null},n.prototype.keydown_checker=function(e){var t,n;switch(t=null!=(n=e.which)?n:e.keyCode,this.search_field_scale(),8!==t&&this.pending_backstroke&&this.clear_backstroke(),t){case 8:return this.backstroke_length=this.search_field.val().length;case 9:return this.results_showing&&!this.is_multiple&&this.result_select(e),this.mouse_on_container=!1;case 13:return e.preventDefault();case 38:return e.preventDefault(),this.keyup_arrow();case 40:return this.keydown_arrow()}},n.prototype.search_field_scale=function(){var e,n,r,i,o,a,s,l,u;if(this.is_multiple){for(r=0,s=0,o="position:absolute; left: -1000px; top: -1000px; display:none;",a=["font-size","font-style","font-weight","font-family","line-height","text-transform","letter-spacing"],l=0,u=a.length;u>l;l++)i=a[l],o+=i+":"+this.search_field.css(i)+";";return n=t("<div />",{style:o}),n.text(this.search_field.val()),t("body").append(n),s=n.width()+25,n.remove(),s>this.f_width-10&&(s=this.f_width-10),this.search_field.css({width:s+"px"}),e=this.container.height(),this.dropdown.css({top:e+"px"})}},n.prototype.generate_random_id=function(){var e;for(e="sel"+this.generate_random_char()+this.generate_random_char()+this.generate_random_char();t("#"+e).length>0;)e+=this.generate_random_char();return e},n}(r),n.Chosen=i,o=function(){function e(){this.options_index=0,this.parsed=[]}return e.prototype.add_node=function(e){return"OPTGROUP"===e.nodeName.toUpperCase()?this.add_group(e):this.add_option(e)},e.prototype.add_group=function(e){var t,n,r,i,o,a;for(t=this.parsed.length,this.parsed.push({array_index:t,group:!0,label:e.label,children:0,disabled:e.disabled}),o=e.childNodes,a=[],r=0,i=o.length;i>r;r++)n=o[r],a.push(this.add_option(n,t,e.disabled));return a},e.prototype.add_option=function(e,t,n){return"OPTION"===e.nodeName.toUpperCase()?(""!==e.text?(null!=t&&(this.parsed[t].children+=1),this.parsed.push({array_index:this.parsed.length,options_index:this.options_index,value:e.value,text:e.text,html:e.innerHTML,selected:e.selected,disabled:n===!0?n:e.disabled,group_array_index:t,classes:e.className,style:e.style.cssText})):this.parsed.push({array_index:this.parsed.length,options_index:this.options_index,empty:!0}),this.options_index+=1):void 0},e}(),o.select_to_array=function(e){var t,n,r,i,a;for(n=new o,a=e.childNodes,r=0,i=a.length;i>r;r++)t=a[r],n.add_node(t);return n.parsed}}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],65:[function(e,t){t.exports=e("./lib/chrono")},{"./lib/chrono":66}],66:[function(e,t,n){!function(){function e(e){return 10>e?"0"+e:e}function t(e){var t=0>e?"-":"+";return e=Math.abs(e),t+(10>e?"0"+e:e)}function r(e){return 10>e?"00"+e:100>e?"0"+e:e}function i(e){var t=0>e?"-":"+";return e=Math.abs(e),t+(10>e?"000"+e:100>e?"00"+e:1e3>e?"0"+e:e)}function o(e){if("number"==typeof e)return[e,e in a.offsetToTz?a.offsetToTz[e][0]:""];var t=parseInt(e,10);return isNaN(t)?[a.tzToOffset[e],e]:(e=(0>t?1:-1)*(60*Math.floor(Math.abs(t)/100)+Math.abs(t)%100),[e,e in a.offsetToTz?a.offsetToTz[e][0]:""])}var a="undefined"!=typeof n?n:{};a.tzToOffset={ACDT:-630,ACST:-570,ACT:-480,ADT:180,AEDT:-660,AEST:-600,AFT:-270,AKDT:480,AKST:540,AMST:-300,AMT:-240,ART:180,AST:-240,AWDT:-540,AWST:-480,AZOST:60,AZT:-240,BDT:-480,BIOT:-360,BIT:720,BOT:240,BRT:180,BST:-60,BTT:-360,CAT:-120,CCT:-390,CDT:300,CEDT:-120,CEST:-120,CET:-60,CHAST:-765,ChST:-600,CIST:480,CKT:600,CLST:180,CLT:240,COST:240,COT:300,CST:-480,CST:360,CVT:60,CXT:-420,DFT:-60,EAST:360,EAT:-180,ECT:240,ECT:300,EDT:240,EEDT:-180,EEST:-180,EET:-120,EST:300,FJT:-720,FKST:240,GALT:360,GET:-240,GFT:180,GILT:-720,GIT:540,GMT:0,GST:120,GYT:240,HADT:540,HAST:600,HKT:-480,HMT:-300,HST:600,IRKT:-480,IRST:-210,IST:-120,IST:-330,IST:-60,JST:-540,KRAT:-420,KST:-540,LHST:-630,LINT:-840,MAGT:-660,MDT:360,MIT:570,MSD:-240,MSK:-180,MST:-390,MST:-480,MST:420,MUT:-240,NDT:150,NFT:-690,NPT:-345,NST:210,NT:210,NZST:-720,NZDT:-780,OMST:-360,PDT:420,PETT:-720,PHOT:-780,PKT:-300,PST:-480,PST:480,RET:-240,SAMT:-240,SAST:-120,SBT:-660,SCT:-240,SLT:-330,SST:-480,SST:660,TAHT:600,THA:-420,UTC:0,UYST:120,UYT:180,VET:270,VLAT:-600,WAT:-60,WEDT:-60,WEST:-60,YAKT:-540,YEKT:-300},a.offsetToTz={720:["BIT"],660:["SST"],600:["HST","CKT","HAST","TAHT"],570:["MIT"],540:["AKST","GIT","HADT"],480:["PST","AKDT","CIST"],420:["MST","PDT"],360:["CST","EAST","GALT","MDT"],300:["EST","CDT","COT","ECT"],270:["VET"],240:["ECT","AST","BOT","CLT","COST","EDT","FKST","GYT"],210:["NT","NST"],180:["BRT","ADT","ART","CLST","GFT","UYT"],150:["NDT"],120:["GST","UYST"],60:["AZOST","CVT"],0:["UTC","GMT"],"-60":["CET","BST","DFT","IST","WAT","WEDT","WEST"],"-120":["EET","CAT","CEDT","CEST","IST","SAST"],"-180":["MSK","AST","AST","EAT","EEDT","EEST"],"-210":["IRST"],"-240":["AST","AMT","AZT","GET","MSD","MUT","RET","SAMT","SCT"],"-270":["AFT"],"-300":["AMST","HMT","PKT","YEKT"],"-330":["IST","SLT"],"-345":["NPT"],"-360":["BIOT","BST","BTT","OMST"],"-390":["CCT","MST"],"-420":["CXT","KRAT","THA"],"-480":["ACT","AWST","BDT","CST","HKT","IRKT","MST","PST","SST"],"-540":["AWDT","JST","KST","YAKT"],"-570":["ACST"],"-600":["AEST","ChST","VLAT"],"-630":["ACDT","LHST"],"-660":["AEDT","MAGT","SBT"],"-690":["NFT"],"-720":["FJT","GILT","PETT","NZST"],"-765":["CHAST"],"-780":["PHOT","NZDT"],"-840":["LINT"]},a.weekdays=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],a.weekdaysShort=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],a.months=["January","February","March","April","May","June","July","August","September","October","November","December"],a.monthsShort=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],a.intervals=[function(e){return 1!==e?"years":"year"},function(e){return 1!==e?"months":"month"},function(e){return 1!==e?"weeks":"week"},function(e){return 1!==e?"days":"day"},function(e){return 1!==e?"hours":"hour"},function(e){return 1!==e?"minutes":"minute"},function(e){return 1!==e?"seconds":"second"}],a.intervalFormats={ago:"% ago","in":"in %"},a.ordinals=function(e){switch(e%10){case 1:return e%100!==11?"st":"th";case 2:return e%100!==12?"nd":"th";case 3:return e%100!==13?"rd":"th";default:return"th"}},Date.prototype.interval=function(e){var t=this,n=t>e;n&&(t=e,e=this);var r=[e.getFullYear()-t.getFullYear(),e.getMonth()-t.getMonth(),0,e.getDate()-t.getDate(),e.getHours()-t.getHours(),e.getMinutes()-t.getMinutes(),e.getSeconds()-t.getSeconds()];r[6]<0&&(r[5]--,r[6]+=60),r[5]<0&&(r[4]--,r[5]+=60),r[4]<0&&(r[3]--,r[4]+=24),r[3]<0&&(r[1]--,r[3]+=t.getUTCDaysOfMonth()),r[1]<0&&(r[0]--,r[1]+=12),r[2]=r[3]/7|0,r[3]-=7*r[2];for(var i=[],o=0;o<r.length;o++)r[o]&&i.push(r[o]+" "+a.intervals[o](r[o]));return i},Date.prototype.format=function(n,s){var l=this.getTime();if(void 0===s)s=this.getTimezone(),c=this.getTimezoneName();else{var u=o(s);s=u[0];var c=u[1]}this.setTime(l-6e4*s);for(var h="",d=0;d<n.length;d++)switch(n.charAt(d)){case"d":h+=e(this.getUTCDate());break;case"D":h+=a.weekdaysShort[this.getUTCDay()];break;case"j":h+=this.getUTCDate();break;case"l":h+=a.weekdays[this.getUTCDay()];break;case"N":h+=this.getUTCDay()||7;break;case"S":h+=a.ordinals(this.getUTCDate());break;case"w":h+=this.getUTCDay();break;case"z":h+=this.getUTCDayOfYear();break;case"W":h+=e(this.getUTCISOWeek());break;case"F":h+=a.months[this.getUTCMonth()];break;case"m":h+=e(this.getUTCMonth()+1);break;case"M":h+=a.monthsShort[this.getUTCMonth()];break;case"n":h+=this.getUTCMonth()+1;break;case"t":h+=this.getUTCDaysOfMonth();break;case"L":h+=this.isLeapYear()?1:0;break;case"o":h+=this.getUTCISOFullYear();break;case"Y":h+=this.getUTCFullYear();break;case"y":h+=e(this.getUTCFullYear()%100);break;case"a":h+=this.getUTCHours()>=12?"pm":"am";break;case"A":h+=this.getUTCHours()>=12?"PM":"AM";break;case"g":h+=this.getUTCHours()%12||12;break;case"G":h+=this.getUTCHours();break;case"h":h+=e(this.getUTCHours()%12||12);break;case"H":h+=e(this.getUTCHours());break;case"i":h+=e(this.getUTCMinutes());break;case"s":h+=e(this.getUTCSeconds());break;case"u":h+=r(this.getUTCMilliseconds());break;case"O":h+=i((0>s?1:-1)*(100*Math.floor(Math.abs(s)/60)+Math.abs(s)%60));break;case"P":h+=t((0>s?1:-1)*Math.floor(Math.abs(s)/60))+":"+e(Math.abs(s)%60);break;case"T":h+=c;break;case"Z":h+=60*-s;break;case"c":this.setTime(l),h+=this.format("Y-m-d\\TH:i:sP",s);break;case"r":this.setTime(l),h+=this.format("D, d M y H:i:s O",s);break;case"U":h+=Math.floor(this.getTime()/1e3);break;case"\\":void 0!==n.charAt(++d)&&(h+=n.charAt(d));break;default:h+=n.charAt(d)}return this.setTime(l),h},Date.prototype.isLeapYear=function(){var e=this.getUTCFullYear();return e%400===0||e%4===0&&e%100!==0},Date.prototype.getUTCISOWeek=function(){var e=new Date(this);return e.setUTCDate(e.getUTCDate()-(e.getUTCDay()||7)+4),Math.ceil((e.getTime()-Date.UTC(e.getUTCFullYear(),0))/864e5/7)},Date.prototype.getUTCISOFullYear=function(){var e=new Date(this);return e.setUTCDate(e.getUTCDate()-(e.getUTCDay()||7)+4),e.getUTCFullYear()},Date.prototype.getUTCDaysOfMonth=function(){var e=new Date(this);return e.setUTCDate(1),e.setUTCMonth(e.getUTCMonth()+1),e.setUTCDate(0),e.getUTCDate()},Date.prototype.getUTCDayOfYear=function(){return Math.floor((this.getTime()-Date.UTC(this.getUTCFullYear(),0))/864e5)},Date.prototype.getTimezone=function(){return"_tz"in this||this.setTimezone((new Date).getTimezoneOffset()),this._tz},Date.prototype.getTimezoneName=function(){return this.getTimezone(),this._tzName},Date.prototype.setTimezone=function(e){var t=o(e);this._tz=t[0],this._tzName=t[1]}}()},{}],67:[function(e,t,n){!function(r){"object"==typeof n&&"object"==typeof t?r(e("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],r):r(CodeMirror)}(function(e){"use strict";e.overlayMode=function(t,n,r){return{startState:function(){return{base:e.startState(t),overlay:e.startState(n),basePos:0,baseCur:null,overlayPos:0,overlayCur:null,streamSeen:null}},copyState:function(r){return{base:e.copyState(t,r.base),overlay:e.copyState(n,r.overlay),basePos:r.basePos,baseCur:null,overlayPos:r.overlayPos,overlayCur:null}},token:function(e,i){return(e!=i.streamSeen||Math.min(i.basePos,i.overlayPos)<e.start)&&(i.streamSeen=e,i.basePos=i.overlayPos=e.start),e.start==i.basePos&&(i.baseCur=t.token(e,i.base),i.basePos=e.pos),e.start==i.overlayPos&&(e.pos=e.start,i.overlayCur=n.token(e,i.overlay),i.overlayPos=e.pos),e.pos=Math.min(i.basePos,i.overlayPos),null==i.overlayCur?i.baseCur:null!=i.baseCur&&i.overlay.combineTokens||r&&null==i.overlay.combineTokens?i.baseCur+" "+i.overlayCur:i.overlayCur},indent:t.indent&&function(e,n){return t.indent(e.base,n)},electricChars:t.electricChars,innerMode:function(e){return{state:e.base,mode:t}},blankLine:function(e){var i,o;return t.blankLine&&(i=t.blankLine(e.base)),n.blankLine&&(o=n.blankLine(e.overlay)),null==o?i:r&&null!=i?i+" "+o:o}}}})},{"../../lib/codemirror":68}],68:[function(e,t,n){!function(e,r){"object"==typeof n&&"undefined"!=typeof t?t.exports=r():"function"==typeof define&&define.amd?define(r):e.CodeMirror=r()}(this,function(){"use strict";function e(e){return new RegExp("(^|\\s)"+e+"(?:$|\\s)\\s*")}function t(e){for(var t=e.childNodes.length;t>0;--t)e.removeChild(e.firstChild);return e}function n(e,n){return t(e).appendChild(n)}function r(e,t,n,r){var i=document.createElement(e);if(n&&(i.className=n),r&&(i.style.cssText=r),"string"==typeof t)i.appendChild(document.createTextNode(t));else if(t)for(var o=0;o<t.length;++o)i.appendChild(t[o]);return i}function i(e,t,n,i){var o=r(e,t,n,i);return o.setAttribute("role","presentation"),o}function o(e,t){if(3==t.nodeType&&(t=t.parentNode),e.contains)return e.contains(t);do if(11==t.nodeType&&(t=t.host),t==e)return!0;while(t=t.parentNode)}function a(){var e;try{e=document.activeElement}catch(t){e=document.body||null}for(;e&&e.shadowRoot&&e.shadowRoot.activeElement;)e=e.shadowRoot.activeElement;return e}function s(t,n){var r=t.className;e(n).test(r)||(t.className+=(r?" ":"")+n)}function l(t,n){for(var r=t.split(" "),i=0;i<r.length;i++)r[i]&&!e(r[i]).test(n)&&(n+=" "+r[i]);return n}function u(e){var t=Array.prototype.slice.call(arguments,1);return function(){return e.apply(null,t)}}function c(e,t,n){t||(t={});for(var r in e)!e.hasOwnProperty(r)||n===!1&&t.hasOwnProperty(r)||(t[r]=e[r]);return t}function h(e,t,n,r,i){null==t&&(t=e.search(/[^\s\u00a0]/),-1==t&&(t=e.length));for(var o=r||0,a=i||0;;){var s=e.indexOf("	",o);if(0>s||s>=t)return a+(t-o);a+=s-o,a+=n-a%n,o=s+1}}function d(e,t){for(var n=0;n<e.length;++n)if(e[n]==t)return n;return-1}function f(e,t,n){for(var r=0,i=0;;){var o=e.indexOf("	",r);-1==o&&(o=e.length);var a=o-r;if(o==e.length||i+a>=t)return r+Math.min(a,t-i);if(i+=o-r,i+=n-i%n,r=o+1,i>=t)return r}}function p(e){for(;Ks.length<=e;)Ks.push(m(Ks)+" ");return Ks[e]}function m(e){return e[e.length-1]}function g(e,t){for(var n=[],r=0;r<e.length;r++)n[r]=t(e[r],r);return n}function v(e,t,n){for(var r=0,i=n(t);r<e.length&&n(e[r])<=i;)r++;e.splice(r,0,t)}function y(){}function b(e,t){var n;return Object.create?n=Object.create(e):(y.prototype=e,n=new y),t&&c(t,n),n}function w(e){return/\w/.test(e)||e>""&&(e.toUpperCase()!=e.toLowerCase()||Xs.test(e))}function C(e,t){return t?t.source.indexOf("\\w")>-1&&w(e)?!0:t.test(e):w(e)}function x(e){for(var t in e)if(e.hasOwnProperty(t)&&e[t])return!1;return!0}function k(e){return e.charCodeAt(0)>=768&&Js.test(e)}function S(e,t,n){for(;(0>n?t>0:t<e.length)&&k(e.charAt(t));)t+=n;return t}function _(e,t,n){for(var r=t>n?-1:1;;){if(t==n)return t;var i=(t+n)/2,o=0>r?Math.ceil(i):Math.floor(i);if(o==t)return e(o)?t:n;e(o)?n=o:t=o+r}}function T(e,t,n){var o=this;this.input=n,o.scrollbarFiller=r("div",null,"CodeMirror-scrollbar-filler"),o.scrollbarFiller.setAttribute("cm-not-content","true"),o.gutterFiller=r("div",null,"CodeMirror-gutter-filler"),o.gutterFiller.setAttribute("cm-not-content","true"),o.lineDiv=i("div",null,"CodeMirror-code"),o.selectionDiv=r("div",null,null,"position: relative; z-index: 1"),o.cursorDiv=r("div",null,"CodeMirror-cursors"),o.measure=r("div",null,"CodeMirror-measure"),o.lineMeasure=r("div",null,"CodeMirror-measure"),o.lineSpace=i("div",[o.measure,o.lineMeasure,o.selectionDiv,o.cursorDiv,o.lineDiv],null,"position: relative; outline: none");var a=i("div",[o.lineSpace],"CodeMirror-lines");o.mover=r("div",[a],null,"position: relative"),o.sizer=r("div",[o.mover],"CodeMirror-sizer"),o.sizerWidth=null,o.heightForcer=r("div",null,null,"position: absolute; height: "+Vs+"px; width: 1px;"),o.gutters=r("div",null,"CodeMirror-gutters"),o.lineGutter=null,o.scroller=r("div",[o.sizer,o.heightForcer,o.gutters],"CodeMirror-scroll"),o.scroller.setAttribute("tabIndex","-1"),o.wrapper=r("div",[o.scrollbarFiller,o.gutterFiller,o.scroller],"CodeMirror"),ws&&8>Cs&&(o.gutters.style.zIndex=-1,o.scroller.style.paddingRight=0),xs||gs&&As||(o.scroller.draggable=!0),e&&(e.appendChild?e.appendChild(o.wrapper):e(o.wrapper)),o.viewFrom=o.viewTo=t.first,o.reportedViewFrom=o.reportedViewTo=t.first,o.view=[],o.renderedView=null,o.externalMeasured=null,o.viewOffset=0,o.lastWrapHeight=o.lastWrapWidth=0,o.updateLineNumbers=null,o.nativeBarWidth=o.barHeight=o.barWidth=0,o.scrollbarsClipped=!1,o.lineNumWidth=o.lineNumInnerWidth=o.lineNumChars=null,o.alignWidgets=!1,o.cachedCharWidth=o.cachedTextHeight=o.cachedPaddingH=null,o.maxLine=null,o.maxLineLength=0,o.maxLineChanged=!1,o.wheelDX=o.wheelDY=o.wheelStartX=o.wheelStartY=null,o.shift=!1,o.selForContextMenu=null,o.activeTouch=null,n.init(o)}function E(e,t){if(t-=e.first,0>t||t>=e.size)throw new Error("There is no line "+(t+e.first)+" in the document.");for(var n=e;!n.lines;)for(var r=0;;++r){var i=n.children[r],o=i.chunkSize();if(o>t){n=i;break}t-=o}return n.lines[t]}function M(e,t,n){var r=[],i=t.line;return e.iter(t.line,n.line+1,function(e){var o=e.text;i==n.line&&(o=o.slice(0,n.ch)),i==t.line&&(o=o.slice(t.ch)),r.push(o),++i}),r}function R(e,t,n){var r=[];return e.iter(t,n,function(e){r.push(e.text)}),r}function O(e,t){var n=t-e.height;if(n)for(var r=e;r;r=r.parent)r.height+=n}function A(e){if(null==e.parent)return null;for(var t=e.parent,n=d(t.lines,e),r=t.parent;r;t=r,r=r.parent)for(var i=0;r.children[i]!=t;++i)n+=r.children[i].chunkSize();return n+t.first}function L(e,t){var n=e.first;e:do{for(var r=0;r<e.children.length;++r){var i=e.children[r],o=i.height;if(o>t){e=i;continue e}t-=o,n+=i.chunkSize()}return n}while(!e.lines);for(var a=0;a<e.lines.length;++a){var s=e.lines[a],l=s.height;if(l>t)break;t-=l}return n+a}function D(e,t){return t>=e.first&&t<e.first+e.size}function P(e,t){return String(e.lineNumberFormatter(t+e.firstLineNumber))}function H(e,t,n){return void 0===n&&(n=null),this instanceof H?(this.line=e,this.ch=t,this.sticky=n,void 0):new H(e,t,n)}function N(e,t){return e.line-t.line||e.ch-t.ch}function I(e,t){return e.sticky==t.sticky&&0==N(e,t)}function j(e){return H(e.line,e.ch)}function F(e,t){return N(e,t)<0?t:e}function W(e,t){return N(e,t)<0?e:t}function B(e,t){return Math.max(e.first,Math.min(t,e.first+e.size-1))}function z(e,t){if(t.line<e.first)return H(e.first,0);var n=e.first+e.size-1;return t.line>n?H(n,E(e,n).text.length):U(t,E(e,t.line).text.length)}function U(e,t){var n=e.ch;return null==n||n>t?H(e.line,t):0>n?H(e.line,0):e}function V(e,t){for(var n=[],r=0;r<t.length;r++)n[r]=z(e,t[r]);return n}function q(){Zs=!0}function $(){Qs=!0}function Y(e,t,n){this.marker=e,this.from=t,this.to=n}function G(e,t){if(e)for(var n=0;n<e.length;++n){var r=e[n];if(r.marker==t)return r}}function K(e,t){for(var n,r=0;r<e.length;++r)e[r]!=t&&(n||(n=[])).push(e[r]);return n}function X(e,t){e.markedSpans=e.markedSpans?e.markedSpans.concat([t]):[t],t.marker.attachLine(e)}function J(e,t,n){var r;if(e)for(var i=0;i<e.length;++i){var o=e[i],a=o.marker,s=null==o.from||(a.inclusiveLeft?o.from<=t:o.from<t);if(s||o.from==t&&"bookmark"==a.type&&(!n||!o.marker.insertLeft)){var l=null==o.to||(a.inclusiveRight?o.to>=t:o.to>t);(r||(r=[])).push(new Y(a,o.from,l?null:o.to))}}return r}function Z(e,t,n){var r;if(e)for(var i=0;i<e.length;++i){var o=e[i],a=o.marker,s=null==o.to||(a.inclusiveRight?o.to>=t:o.to>t);if(s||o.from==t&&"bookmark"==a.type&&(!n||o.marker.insertLeft)){var l=null==o.from||(a.inclusiveLeft?o.from<=t:o.from<t);(r||(r=[])).push(new Y(a,l?null:o.from-t,null==o.to?null:o.to-t))}}return r}function Q(e,t){if(t.full)return null;var n=D(e,t.from.line)&&E(e,t.from.line).markedSpans,r=D(e,t.to.line)&&E(e,t.to.line).markedSpans;if(!n&&!r)return null;var i=t.from.ch,o=t.to.ch,a=0==N(t.from,t.to),s=J(n,i,a),l=Z(r,o,a),u=1==t.text.length,c=m(t.text).length+(u?i:0);if(s)for(var h=0;h<s.length;++h){var d=s[h];if(null==d.to){var f=G(l,d.marker);f?u&&(d.to=null==f.to?null:f.to+c):d.to=i}}if(l)for(var p=0;p<l.length;++p){var g=l[p];if(null!=g.to&&(g.to+=c),null==g.from){var v=G(s,g.marker);v||(g.from=c,u&&(s||(s=[])).push(g))}else g.from+=c,u&&(s||(s=[])).push(g)}s&&(s=et(s)),l&&l!=s&&(l=et(l));var y=[s];if(!u){var b,w=t.text.length-2;if(w>0&&s)for(var C=0;C<s.length;++C)null==s[C].to&&(b||(b=[])).push(new Y(s[C].marker,null,null));for(var x=0;w>x;++x)y.push(b);y.push(l)}return y}function et(e){for(var t=0;t<e.length;++t){var n=e[t];null!=n.from&&n.from==n.to&&n.marker.clearWhenEmpty!==!1&&e.splice(t--,1)}return e.length?e:null}function tt(e,t,n){var r=null;if(e.iter(t.line,n.line+1,function(e){if(e.markedSpans)for(var t=0;t<e.markedSpans.length;++t){var n=e.markedSpans[t].marker;!n.readOnly||r&&-1!=d(r,n)||(r||(r=[])).push(n)}}),!r)return null;for(var i=[{from:t,to:n}],o=0;o<r.length;++o)for(var a=r[o],s=a.find(0),l=0;l<i.length;++l){var u=i[l];if(!(N(u.to,s.from)<0||N(u.from,s.to)>0)){var c=[l,1],h=N(u.from,s.from),f=N(u.to,s.to);(0>h||!a.inclusiveLeft&&!h)&&c.push({from:u.from,to:s.from}),(f>0||!a.inclusiveRight&&!f)&&c.push({from:s.to,to:u.to}),i.splice.apply(i,c),l+=c.length-3}}return i}function nt(e){var t=e.markedSpans;if(t){for(var n=0;n<t.length;++n)t[n].marker.detachLine(e);e.markedSpans=null}}function rt(e,t){if(t){for(var n=0;n<t.length;++n)t[n].marker.attachLine(e);e.markedSpans=t}}function it(e){return e.inclusiveLeft?-1:0}function ot(e){return e.inclusiveRight?1:0}function at(e,t){var n=e.lines.length-t.lines.length;if(0!=n)return n;var r=e.find(),i=t.find(),o=N(r.from,i.from)||it(e)-it(t);if(o)return-o;var a=N(r.to,i.to)||ot(e)-ot(t);return a?a:t.id-e.id}function st(e,t){var n,r=Qs&&e.markedSpans;if(r)for(var i=void 0,o=0;o<r.length;++o)i=r[o],i.marker.collapsed&&null==(t?i.from:i.to)&&(!n||at(n,i.marker)<0)&&(n=i.marker);return n}function lt(e){return st(e,!0)}function ut(e){return st(e,!1)}function ct(e,t,n,r,i){var o=E(e,t),a=Qs&&o.markedSpans;if(a)for(var s=0;s<a.length;++s){var l=a[s];if(l.marker.collapsed){var u=l.marker.find(0),c=N(u.from,n)||it(l.marker)-it(i),h=N(u.to,r)||ot(l.marker)-ot(i);if(!(c>=0&&0>=h||0>=c&&h>=0)&&(0>=c&&(l.marker.inclusiveRight&&i.inclusiveLeft?N(u.to,n)>=0:N(u.to,n)>0)||c>=0&&(l.marker.inclusiveRight&&i.inclusiveLeft?N(u.from,r)<=0:N(u.from,r)<0)))return!0}}}function ht(e){for(var t;t=lt(e);)e=t.find(-1,!0).line;return e}function dt(e){for(var t;t=ut(e);)e=t.find(1,!0).line;return e}function ft(e){for(var t,n;t=ut(e);)e=t.find(1,!0).line,(n||(n=[])).push(e);return n}function pt(e,t){var n=E(e,t),r=ht(n);return n==r?t:A(r)}function mt(e,t){if(t>e.lastLine())return t;var n,r=E(e,t);if(!gt(e,r))return t;for(;n=ut(r);)r=n.find(1,!0).line;return A(r)+1}function gt(e,t){var n=Qs&&t.markedSpans;if(n)for(var r=void 0,i=0;i<n.length;++i)if(r=n[i],r.marker.collapsed){if(null==r.from)return!0;if(!r.marker.widgetNode&&0==r.from&&r.marker.inclusiveLeft&&vt(e,t,r))return!0}}function vt(e,t,n){if(null==n.to){var r=n.marker.find(1,!0);return vt(e,r.line,G(r.line.markedSpans,n.marker))}if(n.marker.inclusiveRight&&n.to==t.text.length)return!0;for(var i=void 0,o=0;o<t.markedSpans.length;++o)if(i=t.markedSpans[o],i.marker.collapsed&&!i.marker.widgetNode&&i.from==n.to&&(null==i.to||i.to!=n.from)&&(i.marker.inclusiveLeft||n.marker.inclusiveRight)&&vt(e,t,i))return!0}function yt(e){e=ht(e);for(var t=0,n=e.parent,r=0;r<n.lines.length;++r){var i=n.lines[r];if(i==e)break;t+=i.height}for(var o=n.parent;o;n=o,o=n.parent)for(var a=0;a<o.children.length;++a){var s=o.children[a];if(s==n)break;t+=s.height}return t}function bt(e){if(0==e.height)return 0;for(var t,n=e.text.length,r=e;t=lt(r);){var i=t.find(0,!0);r=i.from.line,n+=i.from.ch-i.to.ch}for(r=e;t=ut(r);){var o=t.find(0,!0);n-=r.text.length-o.from.ch,r=o.to.line,n+=r.text.length-o.to.ch}return n}function wt(e){var t=e.display,n=e.doc;t.maxLine=E(n,n.first),t.maxLineLength=bt(t.maxLine),t.maxLineChanged=!0,n.iter(function(e){var n=bt(e);n>t.maxLineLength&&(t.maxLineLength=n,t.maxLine=e)})}function Ct(e,t,n,r){if(!e)return r(t,n,"ltr",0);for(var i=!1,o=0;o<e.length;++o){var a=e[o];(a.from<n&&a.to>t||t==n&&a.to==t)&&(r(Math.max(a.from,t),Math.min(a.to,n),1==a.level?"rtl":"ltr",o),i=!0)}i||r(t,n,"ltr")}function xt(e,t,n){var r;el=null;for(var i=0;i<e.length;++i){var o=e[i];if(o.from<t&&o.to>t)return i;o.to==t&&(o.from!=o.to&&"before"==n?r=i:el=i),o.from==t&&(o.from!=o.to&&"before"!=n?r=i:el=i)}return null!=r?r:el}function kt(e,t){var n=e.order;return null==n&&(n=e.order=tl(e.text,t)),n}function St(e,t){return e._handlers&&e._handlers[t]||nl}function _t(e,t,n){if(e.removeEventListener)e.removeEventListener(t,n,!1);else if(e.detachEvent)e.detachEvent("on"+t,n);else{var r=e._handlers,i=r&&r[t];if(i){var o=d(i,n);o>-1&&(r[t]=i.slice(0,o).concat(i.slice(o+1)))}}}function Tt(e,t){var n=St(e,t);if(n.length)for(var r=Array.prototype.slice.call(arguments,2),i=0;i<n.length;++i)n[i].apply(null,r)}function Et(e,t,n){return"string"==typeof t&&(t={type:t,preventDefault:function(){this.defaultPrevented=!0}}),Tt(e,n||t.type,e,t),Dt(t)||t.codemirrorIgnore}function Mt(e){var t=e._handlers&&e._handlers.cursorActivity;if(t)for(var n=e.curOp.cursorActivityHandlers||(e.curOp.cursorActivityHandlers=[]),r=0;r<t.length;++r)-1==d(n,t[r])&&n.push(t[r])}function Rt(e,t){return St(e,t).length>0}function Ot(e){e.prototype.on=function(e,t){rl(this,e,t)},e.prototype.off=function(e,t){_t(this,e,t)}}function At(e){e.preventDefault?e.preventDefault():e.returnValue=!1}function Lt(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0}function Dt(e){return null!=e.defaultPrevented?e.defaultPrevented:0==e.returnValue}function Pt(e){At(e),Lt(e)}function Ht(e){return e.target||e.srcElement}function Nt(e){var t=e.which;return null==t&&(1&e.button?t=1:2&e.button?t=3:4&e.button&&(t=2)),Ls&&e.ctrlKey&&1==t&&(t=3),t}function It(e){if(null==zs){var t=r("span","​");n(e,r("span",[t,document.createTextNode("x")])),0!=e.firstChild.offsetHeight&&(zs=t.offsetWidth<=1&&t.offsetHeight>2&&!(ws&&8>Cs))}var i=zs?r("span","​"):r("span"," ",null,"display: inline-block; width: 1px; margin-right: -1px");return i.setAttribute("cm-text",""),i}function jt(e){if(null!=Us)return Us;var r=n(e,document.createTextNode("AخA")),i=Ns(r,0,1).getBoundingClientRect(),o=Ns(r,1,2).getBoundingClientRect();return t(e),i&&i.left!=i.right?Us=o.right-i.right<3:!1}function Ft(e){if(null!=ll)return ll;var t=n(e,r("span","x")),i=t.getBoundingClientRect(),o=Ns(t,0,1).getBoundingClientRect();return ll=Math.abs(i.left-o.left)>1}function Wt(e,t){arguments.length>2&&(t.dependencies=Array.prototype.slice.call(arguments,2)),ul[e]=t}function Bt(e,t){cl[e]=t}function zt(e){if("string"==typeof e&&cl.hasOwnProperty(e))e=cl[e];else if(e&&"string"==typeof e.name&&cl.hasOwnProperty(e.name)){var t=cl[e.name];"string"==typeof t&&(t={name:t}),e=b(t,e),e.name=t.name}else{if("string"==typeof e&&/^[\w\-]+\/[\w\-]+\+xml$/.test(e))return zt("application/xml");if("string"==typeof e&&/^[\w\-]+\/[\w\-]+\+json$/.test(e))return zt("application/json")}return"string"==typeof e?{name:e}:e||{name:"null"}}function Ut(e,t){t=zt(t);var n=ul[t.name];if(!n)return Ut(e,"text/plain");var r=n(e,t);if(hl.hasOwnProperty(t.name)){var i=hl[t.name];for(var o in i)i.hasOwnProperty(o)&&(r.hasOwnProperty(o)&&(r["_"+o]=r[o]),r[o]=i[o])}if(r.name=t.name,t.helperType&&(r.helperType=t.helperType),t.modeProps)for(var a in t.modeProps)r[a]=t.modeProps[a];return r}function Vt(e,t){var n=hl.hasOwnProperty(e)?hl[e]:hl[e]={};c(t,n)}function qt(e,t){if(t===!0)return t;if(e.copyState)return e.copyState(t);var n={};for(var r in t){var i=t[r];i instanceof Array&&(i=i.concat([])),n[r]=i}return n}function $t(e,t){for(var n;e.innerMode&&(n=e.innerMode(t),n&&n.mode!=e);)t=n.state,e=n.mode;return n||{mode:e,state:t}}function Yt(e,t,n){return e.startState?e.startState(t,n):!0}function Gt(e,t,n,r){var i=[e.state.modeGen],o={};nn(e,t.text,e.doc.mode,n,function(e,t){return i.push(e,t)},o,r);for(var a=n.state,s=function(r){n.baseTokens=i;var s=e.state.overlays[r],l=1,u=0;n.state=!0,nn(e,t.text,s.mode,n,function(e,t){for(var n=l;e>u;){var r=i[l];r>e&&i.splice(l,1,e,i[l+1],r),l+=2,u=Math.min(e,r)}if(t)if(s.opaque)i.splice(n,l-n,e,"overlay "+t),l=n+2;else for(;l>n;n+=2){var o=i[n+1];i[n+1]=(o?o+" ":"")+"overlay "+t}},o),n.state=a,n.baseTokens=null,n.baseTokenPos=1},l=0;l<e.state.overlays.length;++l)s(l);return{styles:i,classes:o.bgClass||o.textClass?o:null}}function Kt(e,t,n){if(!t.styles||t.styles[0]!=e.state.modeGen){var r=Xt(e,A(t)),i=t.text.length>e.options.maxHighlightLength&&qt(e.doc.mode,r.state),o=Gt(e,t,r);i&&(r.state=i),t.stateAfter=r.save(!i),t.styles=o.styles,o.classes?t.styleClasses=o.classes:t.styleClasses&&(t.styleClasses=null),n===e.doc.highlightFrontier&&(e.doc.modeFrontier=Math.max(e.doc.modeFrontier,++e.doc.highlightFrontier))}return t.styles}function Xt(e,t,n){var r=e.doc,i=e.display;if(!r.mode.startState)return new pl(r,!0,t);var o=rn(e,t,n),a=o>r.first&&E(r,o-1).stateAfter,s=a?pl.fromSaved(r,a,o):new pl(r,Yt(r.mode),o);return r.iter(o,t,function(n){Jt(e,n.text,s);var r=s.line;n.stateAfter=r==t-1||r%5==0||r>=i.viewFrom&&r<i.viewTo?s.save():null,s.nextLine()}),n&&(r.modeFrontier=s.line),s}function Jt(e,t,n,r){var i=e.doc.mode,o=new dl(t,e.options.tabSize,n);for(o.start=o.pos=r||0,""==t&&Zt(i,n.state);!o.eol();)Qt(i,o,n.state),o.start=o.pos}function Zt(e,t){if(e.blankLine)return e.blankLine(t);if(e.innerMode){var n=$t(e,t);return n.mode.blankLine?n.mode.blankLine(n.state):void 0}}function Qt(e,t,n,r){for(var i=0;10>i;i++){r&&(r[0]=$t(e,n).mode);var o=e.token(t,n);if(t.pos>t.start)return o}throw new Error("Mode "+e.name+" failed to advance stream.")}function en(e,t,n,r){var i,o=e.doc,a=o.mode;t=z(o,t);var s,l=E(o,t.line),u=Xt(e,t.line,n),c=new dl(l.text,e.options.tabSize,u);for(r&&(s=[]);(r||c.pos<t.ch)&&!c.eol();)c.start=c.pos,i=Qt(a,c,u.state),r&&s.push(new ml(c,i,qt(o.mode,u.state)));return r?s:new ml(c,i,u.state)}function tn(e,t){if(e)for(;;){var n=e.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!n)break;e=e.slice(0,n.index)+e.slice(n.index+n[0].length);var r=n[1]?"bgClass":"textClass";null==t[r]?t[r]=n[2]:new RegExp("(?:^|s)"+n[2]+"(?:$|s)").test(t[r])||(t[r]+=" "+n[2])}return e}function nn(e,t,n,r,i,o,a){var s=n.flattenSpans;null==s&&(s=e.options.flattenSpans);var l,u=0,c=null,h=new dl(t,e.options.tabSize,r),d=e.options.addModeClass&&[null];for(""==t&&tn(Zt(n,r.state),o);!h.eol();){if(h.pos>e.options.maxHighlightLength?(s=!1,a&&Jt(e,t,r,h.pos),h.pos=t.length,l=null):l=tn(Qt(n,h,r.state,d),o),d){var f=d[0].name;f&&(l="m-"+(l?f+" "+l:f))}if(!s||c!=l){for(;u<h.start;)u=Math.min(h.start,u+5e3),i(u,c);c=l}h.start=h.pos}for(;u<h.pos;){var p=Math.min(h.pos,u+5e3);i(p,c),u=p}}function rn(e,t,n){for(var r,i,o=e.doc,a=n?-1:t-(e.doc.mode.innerMode?1e3:100),s=t;s>a;--s){if(s<=o.first)return o.first;var l=E(o,s-1),u=l.stateAfter;if(u&&(!n||s+(u instanceof fl?u.lookAhead:0)<=o.modeFrontier))return s;var c=h(l.text,null,e.options.tabSize);(null==i||r>c)&&(i=s-1,r=c)}return i}function on(e,t){if(e.modeFrontier=Math.min(e.modeFrontier,t),!(e.highlightFrontier<t-10)){for(var n=e.first,r=t-1;r>n;r--){var i=E(e,r).stateAfter;if(i&&(!(i instanceof fl)||r+i.lookAhead<t)){n=r+1;break}}e.highlightFrontier=Math.min(e.highlightFrontier,n)}}function an(e,t,n,r){e.text=t,e.stateAfter&&(e.stateAfter=null),e.styles&&(e.styles=null),null!=e.order&&(e.order=null),nt(e),rt(e,n);var i=r?r(e):1;i!=e.height&&O(e,i)}function sn(e){e.parent=null,nt(e)}function ln(e,t){if(!e||/^\s*$/.test(e))return null;var n=t.addModeClass?bl:yl;return n[e]||(n[e]=e.replace(/\S+/g,"cm-$&"))}function un(e,t){var n=i("span",null,null,xs?"padding-right: .1px":null),r={pre:i("pre",[n],"CodeMirror-line"),content:n,col:0,pos:0,cm:e,trailingSpace:!1,splitSpaces:(ws||xs)&&e.getOption("lineWrapping")};t.measure={};for(var o=0;o<=(t.rest?t.rest.length:0);o++){var a=o?t.rest[o-1]:t.line,s=void 0;r.pos=0,r.addToken=hn,jt(e.display.measure)&&(s=kt(a,e.doc.direction))&&(r.addToken=fn(r.addToken,s)),r.map=[];var u=t!=e.display.externalMeasured&&A(a);mn(a,r,Kt(e,a,u)),a.styleClasses&&(a.styleClasses.bgClass&&(r.bgClass=l(a.styleClasses.bgClass,r.bgClass||"")),a.styleClasses.textClass&&(r.textClass=l(a.styleClasses.textClass,r.textClass||""))),0==r.map.length&&r.map.push(0,0,r.content.appendChild(It(e.display.measure))),0==o?(t.measure.map=r.map,t.measure.cache={}):((t.measure.maps||(t.measure.maps=[])).push(r.map),(t.measure.caches||(t.measure.caches=[])).push({}))}if(xs){var c=r.content.lastChild;(/\bcm-tab\b/.test(c.className)||c.querySelector&&c.querySelector(".cm-tab"))&&(r.content.className="cm-tab-wrap-hack")
}return Tt(e,"renderLine",e,t.line,r.pre),r.pre.className&&(r.textClass=l(r.pre.className,r.textClass||"")),r}function cn(e){var t=r("span","•","cm-invalidchar");return t.title="\\u"+e.charCodeAt(0).toString(16),t.setAttribute("aria-label",t.title),t}function hn(e,t,n,i,o,a,s){if(t){var l,u=e.splitSpaces?dn(t,e.trailingSpace):t,c=e.cm.state.specialChars,h=!1;if(c.test(t)){l=document.createDocumentFragment();for(var d=0;;){c.lastIndex=d;var f=c.exec(t),m=f?f.index-d:t.length-d;if(m){var g=document.createTextNode(u.slice(d,d+m));ws&&9>Cs?l.appendChild(r("span",[g])):l.appendChild(g),e.map.push(e.pos,e.pos+m,g),e.col+=m,e.pos+=m}if(!f)break;d+=m+1;var v=void 0;if("	"==f[0]){var y=e.cm.options.tabSize,b=y-e.col%y;v=l.appendChild(r("span",p(b),"cm-tab")),v.setAttribute("role","presentation"),v.setAttribute("cm-text","	"),e.col+=b}else"\r"==f[0]||"\n"==f[0]?(v=l.appendChild(r("span","\r"==f[0]?"␍":"␤","cm-invalidchar")),v.setAttribute("cm-text",f[0]),e.col+=1):(v=e.cm.options.specialCharPlaceholder(f[0]),v.setAttribute("cm-text",f[0]),ws&&9>Cs?l.appendChild(r("span",[v])):l.appendChild(v),e.col+=1);e.map.push(e.pos,e.pos+1,v),e.pos++}}else e.col+=t.length,l=document.createTextNode(u),e.map.push(e.pos,e.pos+t.length,l),ws&&9>Cs&&(h=!0),e.pos+=t.length;if(e.trailingSpace=32==u.charCodeAt(t.length-1),n||i||o||h||s){var w=n||"";i&&(w+=i),o&&(w+=o);var C=r("span",[l],w,s);return a&&(C.title=a),e.content.appendChild(C)}e.content.appendChild(l)}}function dn(e,t){if(e.length>1&&!/  /.test(e))return e;for(var n=t,r="",i=0;i<e.length;i++){var o=e.charAt(i);" "!=o||!n||i!=e.length-1&&32!=e.charCodeAt(i+1)||(o=" "),r+=o,n=" "==o}return r}function fn(e,t){return function(n,r,i,o,a,s,l){i=i?i+" cm-force-border":"cm-force-border";for(var u=n.pos,c=u+r.length;;){for(var h=void 0,d=0;d<t.length&&(h=t[d],!(h.to>u&&h.from<=u));d++);if(h.to>=c)return e(n,r,i,o,a,s,l);e(n,r.slice(0,h.to-u),i,o,null,s,l),o=null,r=r.slice(h.to-u),u=h.to}}}function pn(e,t,n,r){var i=!r&&n.widgetNode;i&&e.map.push(e.pos,e.pos+t,i),!r&&e.cm.display.input.needsContentAttribute&&(i||(i=e.content.appendChild(document.createElement("span"))),i.setAttribute("cm-marker",n.id)),i&&(e.cm.display.input.setUneditable(i),e.content.appendChild(i)),e.pos+=t,e.trailingSpace=!1}function mn(e,t,n){var r=e.markedSpans,i=e.text,o=0;if(r)for(var a,s,l,u,c,h,d,f=i.length,p=0,m=1,g="",v=0;;){if(v==p){l=u=c=h=s="",d=null,v=1/0;for(var y=[],b=void 0,w=0;w<r.length;++w){var C=r[w],x=C.marker;"bookmark"==x.type&&C.from==p&&x.widgetNode?y.push(x):C.from<=p&&(null==C.to||C.to>p||x.collapsed&&C.to==p&&C.from==p)?(null!=C.to&&C.to!=p&&v>C.to&&(v=C.to,u=""),x.className&&(l+=" "+x.className),x.css&&(s=(s?s+";":"")+x.css),x.startStyle&&C.from==p&&(c+=" "+x.startStyle),x.endStyle&&C.to==v&&(b||(b=[])).push(x.endStyle,C.to),x.title&&!h&&(h=x.title),x.collapsed&&(!d||at(d.marker,x)<0)&&(d=C)):C.from>p&&v>C.from&&(v=C.from)}if(b)for(var k=0;k<b.length;k+=2)b[k+1]==v&&(u+=" "+b[k]);if(!d||d.from==p)for(var S=0;S<y.length;++S)pn(t,0,y[S]);if(d&&(d.from||0)==p){if(pn(t,(null==d.to?f+1:d.to)-p,d.marker,null==d.from),null==d.to)return;d.to==p&&(d=!1)}}if(p>=f)break;for(var _=Math.min(f,v);;){if(g){var T=p+g.length;if(!d){var E=T>_?g.slice(0,_-p):g;t.addToken(t,E,a?a+l:l,c,p+E.length==v?u:"",h,s)}if(T>=_){g=g.slice(_-p),p=_;break}p=T,c=""}g=i.slice(o,o=n[m++]),a=ln(n[m++],t.cm.options)}}else for(var M=1;M<n.length;M+=2)t.addToken(t,i.slice(o,o=n[M]),ln(n[M+1],t.cm.options))}function gn(e,t,n){this.line=t,this.rest=ft(t),this.size=this.rest?A(m(this.rest))-n+1:1,this.node=this.text=null,this.hidden=gt(e,t)}function vn(e,t,n){for(var r,i=[],o=t;n>o;o=r){var a=new gn(e.doc,E(e.doc,o),o);r=o+a.size,i.push(a)}return i}function yn(e){wl?wl.ops.push(e):e.ownsGroup=wl={ops:[e],delayedCallbacks:[]}}function bn(e){var t=e.delayedCallbacks,n=0;do{for(;n<t.length;n++)t[n].call(null);for(var r=0;r<e.ops.length;r++){var i=e.ops[r];if(i.cursorActivityHandlers)for(;i.cursorActivityCalled<i.cursorActivityHandlers.length;)i.cursorActivityHandlers[i.cursorActivityCalled++].call(null,i.cm)}}while(n<t.length)}function wn(e,t){var n=e.ownsGroup;if(n)try{bn(n)}finally{wl=null,t(n)}}function Cn(e,t){var n=St(e,t);if(n.length){var r,i=Array.prototype.slice.call(arguments,2);wl?r=wl.delayedCallbacks:Cl?r=Cl:(r=Cl=[],setTimeout(xn,0));for(var o=function(e){r.push(function(){return n[e].apply(null,i)})},a=0;a<n.length;++a)o(a)}}function xn(){var e=Cl;Cl=null;for(var t=0;t<e.length;++t)e[t]()}function kn(e,t,n,r){for(var i=0;i<t.changes.length;i++){var o=t.changes[i];"text"==o?En(e,t):"gutter"==o?Rn(e,t,n,r):"class"==o?Mn(e,t):"widget"==o&&On(e,t,r)}t.changes=null}function Sn(e){return e.node==e.text&&(e.node=r("div",null,null,"position: relative"),e.text.parentNode&&e.text.parentNode.replaceChild(e.node,e.text),e.node.appendChild(e.text),ws&&8>Cs&&(e.node.style.zIndex=2)),e.node}function _n(e,t){var n=t.bgClass?t.bgClass+" "+(t.line.bgClass||""):t.line.bgClass;if(n&&(n+=" CodeMirror-linebackground"),t.background)n?t.background.className=n:(t.background.parentNode.removeChild(t.background),t.background=null);else if(n){var i=Sn(t);t.background=i.insertBefore(r("div",null,n),i.firstChild),e.display.input.setUneditable(t.background)}}function Tn(e,t){var n=e.display.externalMeasured;return n&&n.line==t.line?(e.display.externalMeasured=null,t.measure=n.measure,n.built):un(e,t)}function En(e,t){var n=t.text.className,r=Tn(e,t);t.text==t.node&&(t.node=r.pre),t.text.parentNode.replaceChild(r.pre,t.text),t.text=r.pre,r.bgClass!=t.bgClass||r.textClass!=t.textClass?(t.bgClass=r.bgClass,t.textClass=r.textClass,Mn(e,t)):n&&(t.text.className=n)}function Mn(e,t){_n(e,t),t.line.wrapClass?Sn(t).className=t.line.wrapClass:t.node!=t.text&&(t.node.className="");var n=t.textClass?t.textClass+" "+(t.line.textClass||""):t.line.textClass;t.text.className=n||""}function Rn(e,t,n,i){if(t.gutter&&(t.node.removeChild(t.gutter),t.gutter=null),t.gutterBackground&&(t.node.removeChild(t.gutterBackground),t.gutterBackground=null),t.line.gutterClass){var o=Sn(t);t.gutterBackground=r("div",null,"CodeMirror-gutter-background "+t.line.gutterClass,"left: "+(e.options.fixedGutter?i.fixedPos:-i.gutterTotalWidth)+"px; width: "+i.gutterTotalWidth+"px"),e.display.input.setUneditable(t.gutterBackground),o.insertBefore(t.gutterBackground,t.text)}var a=t.line.gutterMarkers;if(e.options.lineNumbers||a){var s=Sn(t),l=t.gutter=r("div",null,"CodeMirror-gutter-wrapper","left: "+(e.options.fixedGutter?i.fixedPos:-i.gutterTotalWidth)+"px");if(e.display.input.setUneditable(l),s.insertBefore(l,t.text),t.line.gutterClass&&(l.className+=" "+t.line.gutterClass),!e.options.lineNumbers||a&&a["CodeMirror-linenumbers"]||(t.lineNumber=l.appendChild(r("div",P(e.options,n),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+i.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+e.display.lineNumInnerWidth+"px"))),a)for(var u=0;u<e.options.gutters.length;++u){var c=e.options.gutters[u],h=a.hasOwnProperty(c)&&a[c];h&&l.appendChild(r("div",[h],"CodeMirror-gutter-elt","left: "+i.gutterLeft[c]+"px; width: "+i.gutterWidth[c]+"px"))}}}function On(e,t,n){t.alignable&&(t.alignable=null);for(var r=t.node.firstChild,i=void 0;r;r=i)i=r.nextSibling,"CodeMirror-linewidget"==r.className&&t.node.removeChild(r);Ln(e,t,n)}function An(e,t,n,r){var i=Tn(e,t);return t.text=t.node=i.pre,i.bgClass&&(t.bgClass=i.bgClass),i.textClass&&(t.textClass=i.textClass),Mn(e,t),Rn(e,t,n,r),Ln(e,t,r),t.node}function Ln(e,t,n){if(Dn(e,t.line,t,n,!0),t.rest)for(var r=0;r<t.rest.length;r++)Dn(e,t.rest[r],t,n,!1)}function Dn(e,t,n,i,o){if(t.widgets)for(var a=Sn(n),s=0,l=t.widgets;s<l.length;++s){var u=l[s],c=r("div",[u.node],"CodeMirror-linewidget");u.handleMouseEvents||c.setAttribute("cm-ignore-events","true"),Pn(u,c,n,i),e.display.input.setUneditable(c),o&&u.above?a.insertBefore(c,n.gutter||n.text):a.appendChild(c),Cn(u,"redraw")}}function Pn(e,t,n,r){if(e.noHScroll){(n.alignable||(n.alignable=[])).push(t);var i=r.wrapperWidth;t.style.left=r.fixedPos+"px",e.coverGutter||(i-=r.gutterTotalWidth,t.style.paddingLeft=r.gutterTotalWidth+"px"),t.style.width=i+"px"}e.coverGutter&&(t.style.zIndex=5,t.style.position="relative",e.noHScroll||(t.style.marginLeft=-r.gutterTotalWidth+"px"))}function Hn(e){if(null!=e.height)return e.height;var t=e.doc.cm;if(!t)return 0;if(!o(document.body,e.node)){var i="position: relative;";e.coverGutter&&(i+="margin-left: -"+t.display.gutters.offsetWidth+"px;"),e.noHScroll&&(i+="width: "+t.display.wrapper.clientWidth+"px;"),n(t.display.measure,r("div",[e.node],null,i))}return e.height=e.node.parentNode.offsetHeight}function Nn(e,t){for(var n=Ht(t);n!=e.wrapper;n=n.parentNode)if(!n||1==n.nodeType&&"true"==n.getAttribute("cm-ignore-events")||n.parentNode==e.sizer&&n!=e.mover)return!0}function In(e){return e.lineSpace.offsetTop}function jn(e){return e.mover.offsetHeight-e.lineSpace.offsetHeight}function Fn(e){if(e.cachedPaddingH)return e.cachedPaddingH;var t=n(e.measure,r("pre","x")),i=window.getComputedStyle?window.getComputedStyle(t):t.currentStyle,o={left:parseInt(i.paddingLeft),right:parseInt(i.paddingRight)};return isNaN(o.left)||isNaN(o.right)||(e.cachedPaddingH=o),o}function Wn(e){return Vs-e.display.nativeBarWidth}function Bn(e){return e.display.scroller.clientWidth-Wn(e)-e.display.barWidth}function zn(e){return e.display.scroller.clientHeight-Wn(e)-e.display.barHeight}function Un(e,t,n){var r=e.options.lineWrapping,i=r&&Bn(e);if(!t.measure.heights||r&&t.measure.width!=i){var o=t.measure.heights=[];if(r){t.measure.width=i;for(var a=t.text.firstChild.getClientRects(),s=0;s<a.length-1;s++){var l=a[s],u=a[s+1];Math.abs(l.bottom-u.bottom)>2&&o.push((l.bottom+u.top)/2-n.top)}}o.push(n.bottom-n.top)}}function Vn(e,t,n){if(e.line==t)return{map:e.measure.map,cache:e.measure.cache};for(var r=0;r<e.rest.length;r++)if(e.rest[r]==t)return{map:e.measure.maps[r],cache:e.measure.caches[r]};for(var i=0;i<e.rest.length;i++)if(A(e.rest[i])>n)return{map:e.measure.maps[i],cache:e.measure.caches[i],before:!0}}function qn(e,t){t=ht(t);var r=A(t),i=e.display.externalMeasured=new gn(e.doc,t,r);i.lineN=r;var o=i.built=un(e,i);return i.text=o.pre,n(e.display.lineMeasure,o.pre),i}function $n(e,t,n,r){return Kn(e,Gn(e,t),n,r)}function Yn(e,t){if(t>=e.display.viewFrom&&t<e.display.viewTo)return e.display.view[Tr(e,t)];var n=e.display.externalMeasured;return n&&t>=n.lineN&&t<n.lineN+n.size?n:void 0}function Gn(e,t){var n=A(t),r=Yn(e,n);r&&!r.text?r=null:r&&r.changes&&(kn(e,r,n,Cr(e)),e.curOp.forceUpdate=!0),r||(r=qn(e,t));var i=Vn(r,t,n);return{line:t,view:r,rect:null,map:i.map,cache:i.cache,before:i.before,hasHeights:!1}}function Kn(e,t,n,r,i){t.before&&(n=-1);var o,a=n+(r||"");return t.cache.hasOwnProperty(a)?o=t.cache[a]:(t.rect||(t.rect=t.view.text.getBoundingClientRect()),t.hasHeights||(Un(e,t.view,t.rect),t.hasHeights=!0),o=Zn(e,t,n,r),o.bogus||(t.cache[a]=o)),{left:o.left,right:o.right,top:i?o.rtop:o.top,bottom:i?o.rbottom:o.bottom}}function Xn(e,t,n){for(var r,i,o,a,s,l,u=0;u<e.length;u+=3)if(s=e[u],l=e[u+1],s>t?(i=0,o=1,a="left"):l>t?(i=t-s,o=i+1):(u==e.length-3||t==l&&e[u+3]>t)&&(o=l-s,i=o-1,t>=l&&(a="right")),null!=i){if(r=e[u+2],s==l&&n==(r.insertLeft?"left":"right")&&(a=n),"left"==n&&0==i)for(;u&&e[u-2]==e[u-3]&&e[u-1].insertLeft;)r=e[(u-=3)+2],a="left";if("right"==n&&i==l-s)for(;u<e.length-3&&e[u+3]==e[u+4]&&!e[u+5].insertLeft;)r=e[(u+=3)+2],a="right";break}return{node:r,start:i,end:o,collapse:a,coverStart:s,coverEnd:l}}function Jn(e,t){var n=xl;if("left"==t)for(var r=0;r<e.length&&(n=e[r]).left==n.right;r++);else for(var i=e.length-1;i>=0&&(n=e[i]).left==n.right;i--);return n}function Zn(e,t,n,r){var i,o=Xn(t.map,n,r),a=o.node,s=o.start,l=o.end,u=o.collapse;if(3==a.nodeType){for(var c=0;4>c;c++){for(;s&&k(t.line.text.charAt(o.coverStart+s));)--s;for(;o.coverStart+l<o.coverEnd&&k(t.line.text.charAt(o.coverStart+l));)++l;if(i=ws&&9>Cs&&0==s&&l==o.coverEnd-o.coverStart?a.parentNode.getBoundingClientRect():Jn(Ns(a,s,l).getClientRects(),r),i.left||i.right||0==s)break;l=s,s-=1,u="right"}ws&&11>Cs&&(i=Qn(e.display.measure,i))}else{s>0&&(u=r="right");var h;i=e.options.lineWrapping&&(h=a.getClientRects()).length>1?h["right"==r?h.length-1:0]:a.getBoundingClientRect()}if(ws&&9>Cs&&!s&&(!i||!i.left&&!i.right)){var d=a.parentNode.getClientRects()[0];i=d?{left:d.left,right:d.left+wr(e.display),top:d.top,bottom:d.bottom}:xl}for(var f=i.top-t.rect.top,p=i.bottom-t.rect.top,m=(f+p)/2,g=t.view.measure.heights,v=0;v<g.length-1&&!(m<g[v]);v++);var y=v?g[v-1]:0,b=g[v],w={left:("right"==u?i.right:i.left)-t.rect.left,right:("left"==u?i.left:i.right)-t.rect.left,top:y,bottom:b};return i.left||i.right||(w.bogus=!0),e.options.singleCursorHeightPerLine||(w.rtop=f,w.rbottom=p),w}function Qn(e,t){if(!window.screen||null==screen.logicalXDPI||screen.logicalXDPI==screen.deviceXDPI||!Ft(e))return t;var n=screen.logicalXDPI/screen.deviceXDPI,r=screen.logicalYDPI/screen.deviceYDPI;return{left:t.left*n,right:t.right*n,top:t.top*r,bottom:t.bottom*r}}function er(e){if(e.measure&&(e.measure.cache={},e.measure.heights=null,e.rest))for(var t=0;t<e.rest.length;t++)e.measure.caches[t]={}}function tr(e){e.display.externalMeasure=null,t(e.display.lineMeasure);for(var n=0;n<e.display.view.length;n++)er(e.display.view[n])}function nr(e){tr(e),e.display.cachedCharWidth=e.display.cachedTextHeight=e.display.cachedPaddingH=null,e.options.lineWrapping||(e.display.maxLineChanged=!0),e.display.lineNumChars=null}function rr(){return Ss&&Os?-(document.body.getBoundingClientRect().left-parseInt(getComputedStyle(document.body).marginLeft)):window.pageXOffset||(document.documentElement||document.body).scrollLeft}function ir(){return Ss&&Os?-(document.body.getBoundingClientRect().top-parseInt(getComputedStyle(document.body).marginTop)):window.pageYOffset||(document.documentElement||document.body).scrollTop}function or(e){var t=0;if(e.widgets)for(var n=0;n<e.widgets.length;++n)e.widgets[n].above&&(t+=Hn(e.widgets[n]));return t}function ar(e,t,n,r,i){if(!i){var o=or(t);n.top+=o,n.bottom+=o}if("line"==r)return n;r||(r="local");var a=yt(t);if("local"==r?a+=In(e.display):a-=e.display.viewOffset,"page"==r||"window"==r){var s=e.display.lineSpace.getBoundingClientRect();a+=s.top+("window"==r?0:ir());var l=s.left+("window"==r?0:rr());n.left+=l,n.right+=l}return n.top+=a,n.bottom+=a,n}function sr(e,t,n){if("div"==n)return t;var r=t.left,i=t.top;if("page"==n)r-=rr(),i-=ir();else if("local"==n||!n){var o=e.display.sizer.getBoundingClientRect();r+=o.left,i+=o.top}var a=e.display.lineSpace.getBoundingClientRect();return{left:r-a.left,top:i-a.top}}function lr(e,t,n,r,i){return r||(r=E(e.doc,t.line)),ar(e,r,$n(e,r,t.ch,i),n)}function ur(e,t,n,r,i,o){function a(t,a){var s=Kn(e,i,t,a?"right":"left",o);return a?s.left=s.right:s.right=s.left,ar(e,r,s,n)}function s(e,t,n){var r=l[t],i=1==r.level;return a(n?e-1:e,i!=n)}r=r||E(e.doc,t.line),i||(i=Gn(e,r));var l=kt(r,e.doc.direction),u=t.ch,c=t.sticky;if(u>=r.text.length?(u=r.text.length,c="before"):0>=u&&(u=0,c="after"),!l)return a("before"==c?u-1:u,"before"==c);var h=xt(l,u,c),d=el,f=s(u,h,"before"==c);return null!=d&&(f.other=s(u,d,"before"!=c)),f}function cr(e,t){var n=0;t=z(e.doc,t),e.options.lineWrapping||(n=wr(e.display)*t.ch);var r=E(e.doc,t.line),i=yt(r)+In(e.display);return{left:n,right:n,top:i,bottom:i+r.height}}function hr(e,t,n,r,i){var o=H(e,t,n);return o.xRel=i,r&&(o.outside=!0),o}function dr(e,t,n){var r=e.doc;if(n+=e.display.viewOffset,0>n)return hr(r.first,0,null,!0,-1);var i=L(r,n),o=r.first+r.size-1;if(i>o)return hr(r.first+r.size-1,E(r,o).text.length,null,!0,1);0>t&&(t=0);for(var a=E(r,i);;){var s=gr(e,a,i,t,n),l=ut(a),u=l&&l.find(0,!0);if(!l||!(s.ch>u.from.ch||s.ch==u.from.ch&&s.xRel>0))return s;i=A(a=u.to.line)}}function fr(e,t,n,r){r-=or(t);var i=t.text.length,o=_(function(t){return Kn(e,n,t-1).bottom<=r},i,0);return i=_(function(t){return Kn(e,n,t).top>r},o,i),{begin:o,end:i}}function pr(e,t,n,r){n||(n=Gn(e,t));var i=ar(e,t,Kn(e,n,r),"line").top;return fr(e,t,n,i)}function mr(e,t,n,r){return e.bottom<=n?!1:e.top>n?!0:(r?e.left:e.right)>t}function gr(e,t,n,r,i){i-=yt(t);var o=Gn(e,t),a=or(t),s=0,l=t.text.length,u=!0,c=kt(t,e.doc.direction);if(c){var h=(e.options.lineWrapping?yr:vr)(e,t,n,o,c,r,i);u=1!=h.level,s=u?h.from:h.to-1,l=u?h.to:h.from-1}var d,f,p=null,m=null,g=_(function(t){var n=Kn(e,o,t);return n.top+=a,n.bottom+=a,mr(n,r,i,!1)?(n.top<=i&&n.left<=r&&(p=t,m=n),!0):!1},s,l),v=!1;if(m){var y=r-m.left<m.right-r,b=y==u;g=p+(b?0:1),f=b?"after":"before",d=y?m.left:m.right}else{u||g!=l&&g!=s||g++,f=0==g?"after":g==t.text.length?"before":Kn(e,o,g-(u?1:0)).bottom+a<=i==u?"after":"before";var w=ur(e,H(n,g,f),"line",t,o);d=w.left,v=i<w.top||i>=w.bottom}return g=S(t.text,g,1),hr(n,g,f,v,r-d)}function vr(e,t,n,r,i,o,a){var s=_(function(s){var l=i[s],u=1!=l.level;return mr(ur(e,H(n,u?l.to:l.from,u?"before":"after"),"line",t,r),o,a,!0)},0,i.length-1),l=i[s];if(s>0){var u=1!=l.level,c=ur(e,H(n,u?l.from:l.to,u?"after":"before"),"line",t,r);mr(c,o,a,!0)&&c.top>a&&(l=i[s-1])}return l}function yr(e,t,n,r,i,o,a){var s=fr(e,t,r,a),l=s.begin,u=s.end;/\s/.test(t.text.charAt(u-1))&&u--;for(var c=null,h=null,d=0;d<i.length;d++){var f=i[d];if(!(f.from>=u||f.to<=l)){var p=1!=f.level,m=Kn(e,r,p?Math.min(u,f.to)-1:Math.max(l,f.from)).right,g=o>m?o-m+1e9:m-o;(!c||h>g)&&(c=f,h=g)}}return c||(c=i[i.length-1]),c.from<l&&(c={from:l,to:c.to,level:c.level}),c.to>u&&(c={from:c.from,to:u,level:c.level}),c}function br(e){if(null!=e.cachedTextHeight)return e.cachedTextHeight;if(null==vl){vl=r("pre");for(var i=0;49>i;++i)vl.appendChild(document.createTextNode("x")),vl.appendChild(r("br"));vl.appendChild(document.createTextNode("x"))}n(e.measure,vl);var o=vl.offsetHeight/50;return o>3&&(e.cachedTextHeight=o),t(e.measure),o||1}function wr(e){if(null!=e.cachedCharWidth)return e.cachedCharWidth;var t=r("span","xxxxxxxxxx"),i=r("pre",[t]);n(e.measure,i);var o=t.getBoundingClientRect(),a=(o.right-o.left)/10;return a>2&&(e.cachedCharWidth=a),a||10}function Cr(e){for(var t=e.display,n={},r={},i=t.gutters.clientLeft,o=t.gutters.firstChild,a=0;o;o=o.nextSibling,++a)n[e.options.gutters[a]]=o.offsetLeft+o.clientLeft+i,r[e.options.gutters[a]]=o.clientWidth;return{fixedPos:xr(t),gutterTotalWidth:t.gutters.offsetWidth,gutterLeft:n,gutterWidth:r,wrapperWidth:t.wrapper.clientWidth}}function xr(e){return e.scroller.getBoundingClientRect().left-e.sizer.getBoundingClientRect().left}function kr(e){var t=br(e.display),n=e.options.lineWrapping,r=n&&Math.max(5,e.display.scroller.clientWidth/wr(e.display)-3);return function(i){if(gt(e.doc,i))return 0;var o=0;if(i.widgets)for(var a=0;a<i.widgets.length;a++)i.widgets[a].height&&(o+=i.widgets[a].height);return n?o+(Math.ceil(i.text.length/r)||1)*t:o+t}}function Sr(e){var t=e.doc,n=kr(e);t.iter(function(e){var t=n(e);t!=e.height&&O(e,t)})}function _r(e,t,n,r){var i=e.display;if(!n&&"true"==Ht(t).getAttribute("cm-not-content"))return null;var o,a,s=i.lineSpace.getBoundingClientRect();try{o=t.clientX-s.left,a=t.clientY-s.top}catch(t){return null}var l,u=dr(e,o,a);if(r&&1==u.xRel&&(l=E(e.doc,u.line).text).length==u.ch){var c=h(l,l.length,e.options.tabSize)-l.length;u=H(u.line,Math.max(0,Math.round((o-Fn(e.display).left)/wr(e.display))-c))}return u}function Tr(e,t){if(t>=e.display.viewTo)return null;if(t-=e.display.viewFrom,0>t)return null;for(var n=e.display.view,r=0;r<n.length;r++)if(t-=n[r].size,0>t)return r}function Er(e){e.display.input.showSelection(e.display.input.prepareSelection())}function Mr(e,t){void 0===t&&(t=!0);for(var n=e.doc,r={},i=r.cursors=document.createDocumentFragment(),o=r.selection=document.createDocumentFragment(),a=0;a<n.sel.ranges.length;a++)if(t||a!=n.sel.primIndex){var s=n.sel.ranges[a];if(!(s.from().line>=e.display.viewTo||s.to().line<e.display.viewFrom)){var l=s.empty();(l||e.options.showCursorWhenSelecting)&&Rr(e,s.head,i),l||Ar(e,s,o)}}return r}function Rr(e,t,n){var i=ur(e,t,"div",null,null,!e.options.singleCursorHeightPerLine),o=n.appendChild(r("div"," ","CodeMirror-cursor"));if(o.style.left=i.left+"px",o.style.top=i.top+"px",o.style.height=Math.max(0,i.bottom-i.top)*e.options.cursorHeight+"px",i.other){var a=n.appendChild(r("div"," ","CodeMirror-cursor CodeMirror-secondarycursor"));a.style.display="",a.style.left=i.other.left+"px",a.style.top=i.other.top+"px",a.style.height=.85*(i.other.bottom-i.other.top)+"px"}}function Or(e,t){return e.top-t.top||e.left-t.left}function Ar(e,t,n){function i(e,t,n,i){0>t&&(t=0),t=Math.round(t),i=Math.round(i),l.appendChild(r("div",null,"CodeMirror-selected","position: absolute; left: "+e+"px;\n                             top: "+t+"px; width: "+(null==n?h-e:n)+"px;\n                             height: "+(i-t)+"px"))}function o(t,n,r){function o(n,r){return lr(e,H(t,n),"div",f,r)}function a(t,n,r){var i=pr(e,f,null,t),a="ltr"==n==("after"==r)?"left":"right",s="after"==r?i.begin:i.end-(/\s/.test(f.text.charAt(i.end-1))?2:1);return o(s,a)[a]}var l,u,f=E(s,t),p=f.text.length,m=kt(f,s.direction);return Ct(m,n||0,null==r?p:r,function(e,t,s,f){var g="ltr"==s,v=o(e,g?"left":"right"),y=o(t-1,g?"right":"left"),b=null==n&&0==e,w=null==r&&t==p,C=0==f,x=!m||f==m.length-1;if(y.top-v.top<=3){var k=(d?b:w)&&C,S=(d?w:b)&&x,_=k?c:(g?v:y).left,T=S?h:(g?y:v).right;i(_,v.top,T-_,v.bottom)}else{var E,M,R,O;g?(E=d&&b&&C?c:v.left,M=d?h:a(e,s,"before"),R=d?c:a(t,s,"after"),O=d&&w&&x?h:y.right):(E=d?a(e,s,"before"):c,M=!d&&b&&C?h:v.right,R=!d&&w&&x?c:y.left,O=d?a(t,s,"after"):h),i(E,v.top,M-E,v.bottom),v.bottom<y.top&&i(c,v.bottom,null,y.top),i(R,y.top,O-R,y.bottom)}(!l||Or(v,l)<0)&&(l=v),Or(y,l)<0&&(l=y),(!u||Or(v,u)<0)&&(u=v),Or(y,u)<0&&(u=y)}),{start:l,end:u}}var a=e.display,s=e.doc,l=document.createDocumentFragment(),u=Fn(e.display),c=u.left,h=Math.max(a.sizerWidth,Bn(e)-a.sizer.offsetLeft)-u.right,d="ltr"==s.direction,f=t.from(),p=t.to();if(f.line==p.line)o(f.line,f.ch,p.ch);else{var m=E(s,f.line),g=E(s,p.line),v=ht(m)==ht(g),y=o(f.line,f.ch,v?m.text.length+1:null).end,b=o(p.line,v?0:null,p.ch).start;v&&(y.top<b.top-2?(i(y.right,y.top,null,y.bottom),i(c,b.top,b.left,b.bottom)):i(y.right,y.top,b.left-y.right,y.bottom)),y.bottom<b.top&&i(c,y.bottom,null,b.top)}n.appendChild(l)}function Lr(e){if(e.state.focused){var t=e.display;clearInterval(t.blinker);var n=!0;t.cursorDiv.style.visibility="",e.options.cursorBlinkRate>0?t.blinker=setInterval(function(){return t.cursorDiv.style.visibility=(n=!n)?"":"hidden"},e.options.cursorBlinkRate):e.options.cursorBlinkRate<0&&(t.cursorDiv.style.visibility="hidden")}}function Dr(e){e.state.focused||(e.display.input.focus(),Hr(e))}function Pr(e){e.state.delayingBlurEvent=!0,setTimeout(function(){e.state.delayingBlurEvent&&(e.state.delayingBlurEvent=!1,Nr(e))},100)}function Hr(e,t){e.state.delayingBlurEvent&&(e.state.delayingBlurEvent=!1),"nocursor"!=e.options.readOnly&&(e.state.focused||(Tt(e,"focus",e,t),e.state.focused=!0,s(e.display.wrapper,"CodeMirror-focused"),e.curOp||e.display.selForContextMenu==e.doc.sel||(e.display.input.reset(),xs&&setTimeout(function(){return e.display.input.reset(!0)},20)),e.display.input.receivedFocus()),Lr(e))}function Nr(e,t){e.state.delayingBlurEvent||(e.state.focused&&(Tt(e,"blur",e,t),e.state.focused=!1,Fs(e.display.wrapper,"CodeMirror-focused")),clearInterval(e.display.blinker),setTimeout(function(){e.state.focused||(e.display.shift=!1)},150))}function Ir(e){for(var t=e.display,n=t.lineDiv.offsetTop,r=0;r<t.view.length;r++){var i=t.view[r],o=void 0;if(!i.hidden){if(ws&&8>Cs){var a=i.node.offsetTop+i.node.offsetHeight;o=a-n,n=a}else{var s=i.node.getBoundingClientRect();o=s.bottom-s.top}var l=i.line.height-o;if(2>o&&(o=br(t)),(l>.005||-.005>l)&&(O(i.line,o),jr(i.line),i.rest))for(var u=0;u<i.rest.length;u++)jr(i.rest[u])}}}function jr(e){if(e.widgets)for(var t=0;t<e.widgets.length;++t){var n=e.widgets[t],r=n.node.parentNode;r&&(n.height=r.offsetHeight)}}function Fr(e,t,n){var r=n&&null!=n.top?Math.max(0,n.top):e.scroller.scrollTop;r=Math.floor(r-In(e));var i=n&&null!=n.bottom?n.bottom:r+e.wrapper.clientHeight,o=L(t,r),a=L(t,i);if(n&&n.ensure){var s=n.ensure.from.line,l=n.ensure.to.line;o>s?(o=s,a=L(t,yt(E(t,s))+e.wrapper.clientHeight)):Math.min(l,t.lastLine())>=a&&(o=L(t,yt(E(t,l))-e.wrapper.clientHeight),a=l)}return{from:o,to:Math.max(a,o+1)}}function Wr(e){var t=e.display,n=t.view;if(t.alignWidgets||t.gutters.firstChild&&e.options.fixedGutter){for(var r=xr(t)-t.scroller.scrollLeft+e.doc.scrollLeft,i=t.gutters.offsetWidth,o=r+"px",a=0;a<n.length;a++)if(!n[a].hidden){e.options.fixedGutter&&(n[a].gutter&&(n[a].gutter.style.left=o),n[a].gutterBackground&&(n[a].gutterBackground.style.left=o));var s=n[a].alignable;if(s)for(var l=0;l<s.length;l++)s[l].style.left=o}e.options.fixedGutter&&(t.gutters.style.left=r+i+"px")}}function Br(e){if(!e.options.lineNumbers)return!1;var t=e.doc,n=P(e.options,t.first+t.size-1),i=e.display;if(n.length!=i.lineNumChars){var o=i.measure.appendChild(r("div",[r("div",n)],"CodeMirror-linenumber CodeMirror-gutter-elt")),a=o.firstChild.offsetWidth,s=o.offsetWidth-a;return i.lineGutter.style.width="",i.lineNumInnerWidth=Math.max(a,i.lineGutter.offsetWidth-s)+1,i.lineNumWidth=i.lineNumInnerWidth+s,i.lineNumChars=i.lineNumInnerWidth?n.length:-1,i.lineGutter.style.width=i.lineNumWidth+"px",Li(e),!0}return!1}function zr(e,t){if(!Et(e,"scrollCursorIntoView")){var n=e.display,i=n.sizer.getBoundingClientRect(),o=null;if(t.top+i.top<0?o=!0:t.bottom+i.top>(window.innerHeight||document.documentElement.clientHeight)&&(o=!1),null!=o&&!Ms){var a=r("div","​",null,"position: absolute;\n                         top: "+(t.top-n.viewOffset-In(e.display))+"px;\n                         height: "+(t.bottom-t.top+Wn(e)+n.barHeight)+"px;\n                         left: "+t.left+"px; width: "+Math.max(2,t.right-t.left)+"px;");e.display.lineSpace.appendChild(a),a.scrollIntoView(o),e.display.lineSpace.removeChild(a)}}}function Ur(e,t,n,r){null==r&&(r=0);var i;e.options.lineWrapping||t!=n||(t=t.ch?H(t.line,"before"==t.sticky?t.ch-1:t.ch,"after"):t,n="before"==t.sticky?H(t.line,t.ch+1,"before"):t);for(var o=0;5>o;o++){var a=!1,s=ur(e,t),l=n&&n!=t?ur(e,n):s;i={left:Math.min(s.left,l.left),top:Math.min(s.top,l.top)-r,right:Math.max(s.left,l.left),bottom:Math.max(s.bottom,l.bottom)+r};var u=qr(e,i),c=e.doc.scrollTop,h=e.doc.scrollLeft;if(null!=u.scrollTop&&(Zr(e,u.scrollTop),Math.abs(e.doc.scrollTop-c)>1&&(a=!0)),null!=u.scrollLeft&&(ei(e,u.scrollLeft),Math.abs(e.doc.scrollLeft-h)>1&&(a=!0)),!a)break}return i}function Vr(e,t){var n=qr(e,t);null!=n.scrollTop&&Zr(e,n.scrollTop),null!=n.scrollLeft&&ei(e,n.scrollLeft)}function qr(e,t){var n=e.display,r=br(e.display);t.top<0&&(t.top=0);var i=e.curOp&&null!=e.curOp.scrollTop?e.curOp.scrollTop:n.scroller.scrollTop,o=zn(e),a={};t.bottom-t.top>o&&(t.bottom=t.top+o);var s=e.doc.height+jn(n),l=t.top<r,u=t.bottom>s-r;if(t.top<i)a.scrollTop=l?0:t.top;else if(t.bottom>i+o){var c=Math.min(t.top,(u?s:t.bottom)-o);c!=i&&(a.scrollTop=c)}var h=e.curOp&&null!=e.curOp.scrollLeft?e.curOp.scrollLeft:n.scroller.scrollLeft,d=Bn(e)-(e.options.fixedGutter?n.gutters.offsetWidth:0),f=t.right-t.left>d;return f&&(t.right=t.left+d),t.left<10?a.scrollLeft=0:t.left<h?a.scrollLeft=Math.max(0,t.left-(f?0:10)):t.right>d+h-3&&(a.scrollLeft=t.right+(f?0:10)-d),a}function $r(e,t){null!=t&&(Xr(e),e.curOp.scrollTop=(null==e.curOp.scrollTop?e.doc.scrollTop:e.curOp.scrollTop)+t)}function Yr(e){Xr(e);var t=e.getCursor();e.curOp.scrollToPos={from:t,to:t,margin:e.options.cursorScrollMargin}}function Gr(e,t,n){(null!=t||null!=n)&&Xr(e),null!=t&&(e.curOp.scrollLeft=t),null!=n&&(e.curOp.scrollTop=n)}function Kr(e,t){Xr(e),e.curOp.scrollToPos=t}function Xr(e){var t=e.curOp.scrollToPos;if(t){e.curOp.scrollToPos=null;var n=cr(e,t.from),r=cr(e,t.to);Jr(e,n,r,t.margin)}}function Jr(e,t,n,r){var i=qr(e,{left:Math.min(t.left,n.left),top:Math.min(t.top,n.top)-r,right:Math.max(t.right,n.right),bottom:Math.max(t.bottom,n.bottom)+r});Gr(e,i.scrollLeft,i.scrollTop)}function Zr(e,t){Math.abs(e.doc.scrollTop-t)<2||(gs||Oi(e,{top:t}),Qr(e,t,!0),gs&&Oi(e),ki(e,100))}function Qr(e,t,n){t=Math.min(e.display.scroller.scrollHeight-e.display.scroller.clientHeight,t),(e.display.scroller.scrollTop!=t||n)&&(e.doc.scrollTop=t,e.display.scrollbars.setScrollTop(t),e.display.scroller.scrollTop!=t&&(e.display.scroller.scrollTop=t))}function ei(e,t,n,r){t=Math.min(t,e.display.scroller.scrollWidth-e.display.scroller.clientWidth),(!(n?t==e.doc.scrollLeft:Math.abs(e.doc.scrollLeft-t)<2)||r)&&(e.doc.scrollLeft=t,Wr(e),e.display.scroller.scrollLeft!=t&&(e.display.scroller.scrollLeft=t),e.display.scrollbars.setScrollLeft(t))}function ti(e){var t=e.display,n=t.gutters.offsetWidth,r=Math.round(e.doc.height+jn(e.display));return{clientHeight:t.scroller.clientHeight,viewHeight:t.wrapper.clientHeight,scrollWidth:t.scroller.scrollWidth,clientWidth:t.scroller.clientWidth,viewWidth:t.wrapper.clientWidth,barLeft:e.options.fixedGutter?n:0,docHeight:r,scrollHeight:r+Wn(e)+t.barHeight,nativeBarWidth:t.nativeBarWidth,gutterWidth:n}}function ni(e,t){t||(t=ti(e));var n=e.display.barWidth,r=e.display.barHeight;ri(e,t);for(var i=0;4>i&&n!=e.display.barWidth||r!=e.display.barHeight;i++)n!=e.display.barWidth&&e.options.lineWrapping&&Ir(e),ri(e,ti(e)),n=e.display.barWidth,r=e.display.barHeight}function ri(e,t){var n=e.display,r=n.scrollbars.update(t);n.sizer.style.paddingRight=(n.barWidth=r.right)+"px",n.sizer.style.paddingBottom=(n.barHeight=r.bottom)+"px",n.heightForcer.style.borderBottom=r.bottom+"px solid transparent",r.right&&r.bottom?(n.scrollbarFiller.style.display="block",n.scrollbarFiller.style.height=r.bottom+"px",n.scrollbarFiller.style.width=r.right+"px"):n.scrollbarFiller.style.display="",r.bottom&&e.options.coverGutterNextToScrollbar&&e.options.fixedGutter?(n.gutterFiller.style.display="block",n.gutterFiller.style.height=r.bottom+"px",n.gutterFiller.style.width=t.gutterWidth+"px"):n.gutterFiller.style.display=""}function ii(e){e.display.scrollbars&&(e.display.scrollbars.clear(),e.display.scrollbars.addClass&&Fs(e.display.wrapper,e.display.scrollbars.addClass)),e.display.scrollbars=new _l[e.options.scrollbarStyle](function(t){e.display.wrapper.insertBefore(t,e.display.scrollbarFiller),rl(t,"mousedown",function(){e.state.focused&&setTimeout(function(){return e.display.input.focus()},0)}),t.setAttribute("cm-not-content","true")},function(t,n){"horizontal"==n?ei(e,t):Zr(e,t)},e),e.display.scrollbars.addClass&&s(e.display.wrapper,e.display.scrollbars.addClass)}function oi(e){e.curOp={cm:e,viewChanged:!1,startHeight:e.doc.height,forceUpdate:!1,updateInput:null,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++Tl},yn(e.curOp)}function ai(e){var t=e.curOp;wn(t,function(e){for(var t=0;t<e.ops.length;t++)e.ops[t].cm.curOp=null;si(e)})}function si(e){for(var t=e.ops,n=0;n<t.length;n++)li(t[n]);for(var r=0;r<t.length;r++)ui(t[r]);for(var i=0;i<t.length;i++)ci(t[i]);for(var o=0;o<t.length;o++)hi(t[o]);for(var a=0;a<t.length;a++)di(t[a])}function li(e){var t=e.cm,n=t.display;_i(t),e.updateMaxLine&&wt(t),e.mustUpdate=e.viewChanged||e.forceUpdate||null!=e.scrollTop||e.scrollToPos&&(e.scrollToPos.from.line<n.viewFrom||e.scrollToPos.to.line>=n.viewTo)||n.maxLineChanged&&t.options.lineWrapping,e.update=e.mustUpdate&&new El(t,e.mustUpdate&&{top:e.scrollTop,ensure:e.scrollToPos},e.forceUpdate)}function ui(e){e.updatedDisplay=e.mustUpdate&&Mi(e.cm,e.update)}function ci(e){var t=e.cm,n=t.display;e.updatedDisplay&&Ir(t),e.barMeasure=ti(t),n.maxLineChanged&&!t.options.lineWrapping&&(e.adjustWidthTo=$n(t,n.maxLine,n.maxLine.text.length).left+3,t.display.sizerWidth=e.adjustWidthTo,e.barMeasure.scrollWidth=Math.max(n.scroller.clientWidth,n.sizer.offsetLeft+e.adjustWidthTo+Wn(t)+t.display.barWidth),e.maxScrollLeft=Math.max(0,n.sizer.offsetLeft+e.adjustWidthTo-Bn(t))),(e.updatedDisplay||e.selectionChanged)&&(e.preparedSelection=n.input.prepareSelection())}function hi(e){var t=e.cm;null!=e.adjustWidthTo&&(t.display.sizer.style.minWidth=e.adjustWidthTo+"px",e.maxScrollLeft<t.doc.scrollLeft&&ei(t,Math.min(t.display.scroller.scrollLeft,e.maxScrollLeft),!0),t.display.maxLineChanged=!1);
var n=e.focus&&e.focus==a();e.preparedSelection&&t.display.input.showSelection(e.preparedSelection,n),(e.updatedDisplay||e.startHeight!=t.doc.height)&&ni(t,e.barMeasure),e.updatedDisplay&&Di(t,e.barMeasure),e.selectionChanged&&Lr(t),t.state.focused&&e.updateInput&&t.display.input.reset(e.typing),n&&Dr(e.cm)}function di(e){var t=e.cm,n=t.display,r=t.doc;if(e.updatedDisplay&&Ri(t,e.update),null==n.wheelStartX||null==e.scrollTop&&null==e.scrollLeft&&!e.scrollToPos||(n.wheelStartX=n.wheelStartY=null),null!=e.scrollTop&&Qr(t,e.scrollTop,e.forceScroll),null!=e.scrollLeft&&ei(t,e.scrollLeft,!0,!0),e.scrollToPos){var i=Ur(t,z(r,e.scrollToPos.from),z(r,e.scrollToPos.to),e.scrollToPos.margin);zr(t,i)}var o=e.maybeHiddenMarkers,a=e.maybeUnhiddenMarkers;if(o)for(var s=0;s<o.length;++s)o[s].lines.length||Tt(o[s],"hide");if(a)for(var l=0;l<a.length;++l)a[l].lines.length&&Tt(a[l],"unhide");n.wrapper.offsetHeight&&(r.scrollTop=t.display.scroller.scrollTop),e.changeObjs&&Tt(t,"changes",t,e.changeObjs),e.update&&e.update.finish()}function fi(e,t){if(e.curOp)return t();oi(e);try{return t()}finally{ai(e)}}function pi(e,t){return function(){if(e.curOp)return t.apply(e,arguments);oi(e);try{return t.apply(e,arguments)}finally{ai(e)}}}function mi(e){return function(){if(this.curOp)return e.apply(this,arguments);oi(this);try{return e.apply(this,arguments)}finally{ai(this)}}}function gi(e){return function(){var t=this.cm;if(!t||t.curOp)return e.apply(this,arguments);oi(t);try{return e.apply(this,arguments)}finally{ai(t)}}}function vi(e,t,n,r){null==t&&(t=e.doc.first),null==n&&(n=e.doc.first+e.doc.size),r||(r=0);var i=e.display;if(r&&n<i.viewTo&&(null==i.updateLineNumbers||i.updateLineNumbers>t)&&(i.updateLineNumbers=t),e.curOp.viewChanged=!0,t>=i.viewTo)Qs&&pt(e.doc,t)<i.viewTo&&bi(e);else if(n<=i.viewFrom)Qs&&mt(e.doc,n+r)>i.viewFrom?bi(e):(i.viewFrom+=r,i.viewTo+=r);else if(t<=i.viewFrom&&n>=i.viewTo)bi(e);else if(t<=i.viewFrom){var o=wi(e,n,n+r,1);o?(i.view=i.view.slice(o.index),i.viewFrom=o.lineN,i.viewTo+=r):bi(e)}else if(n>=i.viewTo){var a=wi(e,t,t,-1);a?(i.view=i.view.slice(0,a.index),i.viewTo=a.lineN):bi(e)}else{var s=wi(e,t,t,-1),l=wi(e,n,n+r,1);s&&l?(i.view=i.view.slice(0,s.index).concat(vn(e,s.lineN,l.lineN)).concat(i.view.slice(l.index)),i.viewTo+=r):bi(e)}var u=i.externalMeasured;u&&(n<u.lineN?u.lineN+=r:t<u.lineN+u.size&&(i.externalMeasured=null))}function yi(e,t,n){e.curOp.viewChanged=!0;var r=e.display,i=e.display.externalMeasured;if(i&&t>=i.lineN&&t<i.lineN+i.size&&(r.externalMeasured=null),!(t<r.viewFrom||t>=r.viewTo)){var o=r.view[Tr(e,t)];if(null!=o.node){var a=o.changes||(o.changes=[]);-1==d(a,n)&&a.push(n)}}}function bi(e){e.display.viewFrom=e.display.viewTo=e.doc.first,e.display.view=[],e.display.viewOffset=0}function wi(e,t,n,r){var i,o=Tr(e,t),a=e.display.view;if(!Qs||n==e.doc.first+e.doc.size)return{index:o,lineN:n};for(var s=e.display.viewFrom,l=0;o>l;l++)s+=a[l].size;if(s!=t){if(r>0){if(o==a.length-1)return null;i=s+a[o].size-t,o++}else i=s-t;t+=i,n+=i}for(;pt(e.doc,n)!=n;){if(o==(0>r?0:a.length-1))return null;n+=r*a[o-(0>r?1:0)].size,o+=r}return{index:o,lineN:n}}function Ci(e,t,n){var r=e.display,i=r.view;0==i.length||t>=r.viewTo||n<=r.viewFrom?(r.view=vn(e,t,n),r.viewFrom=t):(r.viewFrom>t?r.view=vn(e,t,r.viewFrom).concat(r.view):r.viewFrom<t&&(r.view=r.view.slice(Tr(e,t))),r.viewFrom=t,r.viewTo<n?r.view=r.view.concat(vn(e,r.viewTo,n)):r.viewTo>n&&(r.view=r.view.slice(0,Tr(e,n)))),r.viewTo=n}function xi(e){for(var t=e.display.view,n=0,r=0;r<t.length;r++){var i=t[r];i.hidden||i.node&&!i.changes||++n}return n}function ki(e,t){e.doc.highlightFrontier<e.display.viewTo&&e.state.highlight.set(t,u(Si,e))}function Si(e){var t=e.doc;if(!(t.highlightFrontier>=e.display.viewTo)){var n=+new Date+e.options.workTime,r=Xt(e,t.highlightFrontier),i=[];t.iter(r.line,Math.min(t.first+t.size,e.display.viewTo+500),function(o){if(r.line>=e.display.viewFrom){var a=o.styles,s=o.text.length>e.options.maxHighlightLength?qt(t.mode,r.state):null,l=Gt(e,o,r,!0);s&&(r.state=s),o.styles=l.styles;var u=o.styleClasses,c=l.classes;c?o.styleClasses=c:u&&(o.styleClasses=null);for(var h=!a||a.length!=o.styles.length||u!=c&&(!u||!c||u.bgClass!=c.bgClass||u.textClass!=c.textClass),d=0;!h&&d<a.length;++d)h=a[d]!=o.styles[d];h&&i.push(r.line),o.stateAfter=r.save(),r.nextLine()}else o.text.length<=e.options.maxHighlightLength&&Jt(e,o.text,r),o.stateAfter=r.line%5==0?r.save():null,r.nextLine();return+new Date>n?(ki(e,e.options.workDelay),!0):void 0}),t.highlightFrontier=r.line,t.modeFrontier=Math.max(t.modeFrontier,r.line),i.length&&fi(e,function(){for(var t=0;t<i.length;t++)yi(e,i[t],"text")})}}function _i(e){var t=e.display;!t.scrollbarsClipped&&t.scroller.offsetWidth&&(t.nativeBarWidth=t.scroller.offsetWidth-t.scroller.clientWidth,t.heightForcer.style.height=Wn(e)+"px",t.sizer.style.marginBottom=-t.nativeBarWidth+"px",t.sizer.style.borderRightWidth=Wn(e)+"px",t.scrollbarsClipped=!0)}function Ti(e){if(e.hasFocus())return null;var t=a();if(!t||!o(e.display.lineDiv,t))return null;var n={activeElt:t};if(window.getSelection){var r=window.getSelection();r.anchorNode&&r.extend&&o(e.display.lineDiv,r.anchorNode)&&(n.anchorNode=r.anchorNode,n.anchorOffset=r.anchorOffset,n.focusNode=r.focusNode,n.focusOffset=r.focusOffset)}return n}function Ei(e){if(e&&e.activeElt&&e.activeElt!=a()&&(e.activeElt.focus(),e.anchorNode&&o(document.body,e.anchorNode)&&o(document.body,e.focusNode))){var t=window.getSelection(),n=document.createRange();n.setEnd(e.anchorNode,e.anchorOffset),n.collapse(!1),t.removeAllRanges(),t.addRange(n),t.extend(e.focusNode,e.focusOffset)}}function Mi(e,n){var r=e.display,i=e.doc;if(n.editorIsHidden)return bi(e),!1;if(!n.force&&n.visible.from>=r.viewFrom&&n.visible.to<=r.viewTo&&(null==r.updateLineNumbers||r.updateLineNumbers>=r.viewTo)&&r.renderedView==r.view&&0==xi(e))return!1;Br(e)&&(bi(e),n.dims=Cr(e));var o=i.first+i.size,a=Math.max(n.visible.from-e.options.viewportMargin,i.first),s=Math.min(o,n.visible.to+e.options.viewportMargin);r.viewFrom<a&&a-r.viewFrom<20&&(a=Math.max(i.first,r.viewFrom)),r.viewTo>s&&r.viewTo-s<20&&(s=Math.min(o,r.viewTo)),Qs&&(a=pt(e.doc,a),s=mt(e.doc,s));var l=a!=r.viewFrom||s!=r.viewTo||r.lastWrapHeight!=n.wrapperHeight||r.lastWrapWidth!=n.wrapperWidth;Ci(e,a,s),r.viewOffset=yt(E(e.doc,r.viewFrom)),e.display.mover.style.top=r.viewOffset+"px";var u=xi(e);if(!l&&0==u&&!n.force&&r.renderedView==r.view&&(null==r.updateLineNumbers||r.updateLineNumbers>=r.viewTo))return!1;var c=Ti(e);return u>4&&(r.lineDiv.style.display="none"),Ai(e,r.updateLineNumbers,n.dims),u>4&&(r.lineDiv.style.display=""),r.renderedView=r.view,Ei(c),t(r.cursorDiv),t(r.selectionDiv),r.gutters.style.height=r.sizer.style.minHeight=0,l&&(r.lastWrapHeight=n.wrapperHeight,r.lastWrapWidth=n.wrapperWidth,ki(e,400)),r.updateLineNumbers=null,!0}function Ri(e,t){for(var n=t.viewport,r=!0;(r&&e.options.lineWrapping&&t.oldDisplayWidth!=Bn(e)||(n&&null!=n.top&&(n={top:Math.min(e.doc.height+jn(e.display)-zn(e),n.top)}),t.visible=Fr(e.display,e.doc,n),!(t.visible.from>=e.display.viewFrom&&t.visible.to<=e.display.viewTo)))&&Mi(e,t);r=!1){Ir(e);var i=ti(e);Er(e),ni(e,i),Di(e,i),t.force=!1}t.signal(e,"update",e),(e.display.viewFrom!=e.display.reportedViewFrom||e.display.viewTo!=e.display.reportedViewTo)&&(t.signal(e,"viewportChange",e,e.display.viewFrom,e.display.viewTo),e.display.reportedViewFrom=e.display.viewFrom,e.display.reportedViewTo=e.display.viewTo)}function Oi(e,t){var n=new El(e,t);if(Mi(e,n)){Ir(e),Ri(e,n);var r=ti(e);Er(e),ni(e,r),Di(e,r),n.finish()}}function Ai(e,n,r){function i(t){var n=t.nextSibling;return xs&&Ls&&e.display.currentWheelTarget==t?t.style.display="none":t.parentNode.removeChild(t),n}for(var o=e.display,a=e.options.lineNumbers,s=o.lineDiv,l=s.firstChild,u=o.view,c=o.viewFrom,h=0;h<u.length;h++){var f=u[h];if(f.hidden);else if(f.node&&f.node.parentNode==s){for(;l!=f.node;)l=i(l);var p=a&&null!=n&&c>=n&&f.lineNumber;f.changes&&(d(f.changes,"gutter")>-1&&(p=!1),kn(e,f,c,r)),p&&(t(f.lineNumber),f.lineNumber.appendChild(document.createTextNode(P(e.options,c)))),l=f.node.nextSibling}else{var m=An(e,f,c,r);s.insertBefore(m,l)}c+=f.size}for(;l;)l=i(l)}function Li(e){var t=e.display.gutters.offsetWidth;e.display.sizer.style.marginLeft=t+"px"}function Di(e,t){e.display.sizer.style.minHeight=t.docHeight+"px",e.display.heightForcer.style.top=t.docHeight+"px",e.display.gutters.style.height=t.docHeight+e.display.barHeight+Wn(e)+"px"}function Pi(e){var n=e.display.gutters,i=e.options.gutters;t(n);for(var o=0;o<i.length;++o){var a=i[o],s=n.appendChild(r("div",null,"CodeMirror-gutter "+a));"CodeMirror-linenumbers"==a&&(e.display.lineGutter=s,s.style.width=(e.display.lineNumWidth||1)+"px")}n.style.display=o?"":"none",Li(e)}function Hi(e){var t=d(e.gutters,"CodeMirror-linenumbers");-1==t&&e.lineNumbers?e.gutters=e.gutters.concat(["CodeMirror-linenumbers"]):t>-1&&!e.lineNumbers&&(e.gutters=e.gutters.slice(0),e.gutters.splice(t,1))}function Ni(e){var t=e.wheelDeltaX,n=e.wheelDeltaY;return null==t&&e.detail&&e.axis==e.HORIZONTAL_AXIS&&(t=e.detail),null==n&&e.detail&&e.axis==e.VERTICAL_AXIS?n=e.detail:null==n&&(n=e.wheelDelta),{x:t,y:n}}function Ii(e){var t=Ni(e);return t.x*=Rl,t.y*=Rl,t}function ji(e,t){var n=Ni(t),r=n.x,i=n.y,o=e.display,a=o.scroller,s=a.scrollWidth>a.clientWidth,l=a.scrollHeight>a.clientHeight;if(r&&s||i&&l){if(i&&Ls&&xs)e:for(var u=t.target,c=o.view;u!=a;u=u.parentNode)for(var h=0;h<c.length;h++)if(c[h].node==u){e.display.currentWheelTarget=u;break e}if(r&&!gs&&!_s&&null!=Rl)return i&&l&&Zr(e,Math.max(0,a.scrollTop+i*Rl)),ei(e,Math.max(0,a.scrollLeft+r*Rl)),(!i||i&&l)&&At(t),o.wheelStartX=null,void 0;if(i&&null!=Rl){var d=i*Rl,f=e.doc.scrollTop,p=f+o.wrapper.clientHeight;0>d?f=Math.max(0,f+d-50):p=Math.min(e.doc.height,p+d+50),Oi(e,{top:f,bottom:p})}20>Ml&&(null==o.wheelStartX?(o.wheelStartX=a.scrollLeft,o.wheelStartY=a.scrollTop,o.wheelDX=r,o.wheelDY=i,setTimeout(function(){if(null!=o.wheelStartX){var e=a.scrollLeft-o.wheelStartX,t=a.scrollTop-o.wheelStartY,n=t&&o.wheelDY&&t/o.wheelDY||e&&o.wheelDX&&e/o.wheelDX;o.wheelStartX=o.wheelStartY=null,n&&(Rl=(Rl*Ml+n)/(Ml+1),++Ml)}},200)):(o.wheelDX+=r,o.wheelDY+=i))}}function Fi(e,t){var n=e[t];e.sort(function(e,t){return N(e.from(),t.from())}),t=d(e,n);for(var r=1;r<e.length;r++){var i=e[r],o=e[r-1];if(N(o.to(),i.from())>=0){var a=W(o.from(),i.from()),s=F(o.to(),i.to()),l=o.empty()?i.from()==i.head:o.from()==o.head;t>=r&&--t,e.splice(--r,2,new Al(l?s:a,l?a:s))}}return new Ol(e,t)}function Wi(e,t){return new Ol([new Al(e,t||e)],0)}function Bi(e){return e.text?H(e.from.line+e.text.length-1,m(e.text).length+(1==e.text.length?e.from.ch:0)):e.to}function zi(e,t){if(N(e,t.from)<0)return e;if(N(e,t.to)<=0)return Bi(t);var n=e.line+t.text.length-(t.to.line-t.from.line)-1,r=e.ch;return e.line==t.to.line&&(r+=Bi(t).ch-t.to.ch),H(n,r)}function Ui(e,t){for(var n=[],r=0;r<e.sel.ranges.length;r++){var i=e.sel.ranges[r];n.push(new Al(zi(i.anchor,t),zi(i.head,t)))}return Fi(n,e.sel.primIndex)}function Vi(e,t,n){return e.line==t.line?H(n.line,e.ch-t.ch+n.ch):H(n.line+(e.line-t.line),e.ch)}function qi(e,t,n){for(var r=[],i=H(e.first,0),o=i,a=0;a<t.length;a++){var s=t[a],l=Vi(s.from,i,o),u=Vi(Bi(s),i,o);if(i=s.to,o=u,"around"==n){var c=e.sel.ranges[a],h=N(c.head,c.anchor)<0;r[a]=new Al(h?u:l,h?l:u)}else r[a]=new Al(l,l)}return new Ol(r,e.sel.primIndex)}function $i(e){e.doc.mode=Ut(e.options,e.doc.modeOption),Yi(e)}function Yi(e){e.doc.iter(function(e){e.stateAfter&&(e.stateAfter=null),e.styles&&(e.styles=null)}),e.doc.modeFrontier=e.doc.highlightFrontier=e.doc.first,ki(e,100),e.state.modeGen++,e.curOp&&vi(e)}function Gi(e,t){return 0==t.from.ch&&0==t.to.ch&&""==m(t.text)&&(!e.cm||e.cm.options.wholeLineUpdateBefore)}function Ki(e,t,n,r){function i(e){return n?n[e]:null}function o(e,n,i){an(e,n,i,r),Cn(e,"change",e,t)}function a(e,t){for(var n=[],o=e;t>o;++o)n.push(new gl(u[o],i(o),r));return n}var s=t.from,l=t.to,u=t.text,c=E(e,s.line),h=E(e,l.line),d=m(u),f=i(u.length-1),p=l.line-s.line;if(t.full)e.insert(0,a(0,u.length)),e.remove(u.length,e.size-u.length);else if(Gi(e,t)){var g=a(0,u.length-1);o(h,h.text,f),p&&e.remove(s.line,p),g.length&&e.insert(s.line,g)}else if(c==h)if(1==u.length)o(c,c.text.slice(0,s.ch)+d+c.text.slice(l.ch),f);else{var v=a(1,u.length-1);v.push(new gl(d+c.text.slice(l.ch),f,r)),o(c,c.text.slice(0,s.ch)+u[0],i(0)),e.insert(s.line+1,v)}else if(1==u.length)o(c,c.text.slice(0,s.ch)+u[0]+h.text.slice(l.ch),i(0)),e.remove(s.line+1,p);else{o(c,c.text.slice(0,s.ch)+u[0],i(0)),o(h,d+h.text.slice(l.ch),f);var y=a(1,u.length-1);p>1&&e.remove(s.line+1,p-1),e.insert(s.line+1,y)}Cn(e,"change",e,t)}function Xi(e,t,n){function r(e,i,o){if(e.linked)for(var a=0;a<e.linked.length;++a){var s=e.linked[a];if(s.doc!=i){var l=o&&s.sharedHist;(!n||l)&&(t(s.doc,l),r(s.doc,e,l))}}}r(e,null,!0)}function Ji(e,t){if(t.cm)throw new Error("This document is already in use.");e.doc=t,t.cm=e,Sr(e),$i(e),Zi(e),e.options.lineWrapping||wt(e),e.options.mode=t.modeOption,vi(e)}function Zi(e){("rtl"==e.doc.direction?s:Fs)(e.display.lineDiv,"CodeMirror-rtl")}function Qi(e){fi(e,function(){Zi(e),vi(e)})}function eo(e){this.done=[],this.undone=[],this.undoDepth=1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=e||1}function to(e,t){var n={from:j(t.from),to:Bi(t),text:M(e,t.from,t.to)};return lo(e,n,t.from.line,t.to.line+1),Xi(e,function(e){return lo(e,n,t.from.line,t.to.line+1)},!0),n}function no(e){for(;e.length;){var t=m(e);if(!t.ranges)break;e.pop()}}function ro(e,t){return t?(no(e.done),m(e.done)):e.done.length&&!m(e.done).ranges?m(e.done):e.done.length>1&&!e.done[e.done.length-2].ranges?(e.done.pop(),m(e.done)):void 0}function io(e,t,n,r){var i=e.history;i.undone.length=0;var o,a,s=+new Date;if((i.lastOp==r||i.lastOrigin==t.origin&&t.origin&&("+"==t.origin.charAt(0)&&e.cm&&i.lastModTime>s-e.cm.options.historyEventDelay||"*"==t.origin.charAt(0)))&&(o=ro(i,i.lastOp==r)))a=m(o.changes),0==N(t.from,t.to)&&0==N(t.from,a.to)?a.to=Bi(t):o.changes.push(to(e,t));else{var l=m(i.done);for(l&&l.ranges||so(e.sel,i.done),o={changes:[to(e,t)],generation:i.generation},i.done.push(o);i.done.length>i.undoDepth;)i.done.shift(),i.done[0].ranges||i.done.shift()}i.done.push(n),i.generation=++i.maxGeneration,i.lastModTime=i.lastSelTime=s,i.lastOp=i.lastSelOp=r,i.lastOrigin=i.lastSelOrigin=t.origin,a||Tt(e,"historyAdded")}function oo(e,t,n,r){var i=t.charAt(0);return"*"==i||"+"==i&&n.ranges.length==r.ranges.length&&n.somethingSelected()==r.somethingSelected()&&new Date-e.history.lastSelTime<=(e.cm?e.cm.options.historyEventDelay:500)}function ao(e,t,n,r){var i=e.history,o=r&&r.origin;n==i.lastSelOp||o&&i.lastSelOrigin==o&&(i.lastModTime==i.lastSelTime&&i.lastOrigin==o||oo(e,o,m(i.done),t))?i.done[i.done.length-1]=t:so(t,i.done),i.lastSelTime=+new Date,i.lastSelOrigin=o,i.lastSelOp=n,r&&r.clearRedo!==!1&&no(i.undone)}function so(e,t){var n=m(t);n&&n.ranges&&n.equals(e)||t.push(e)}function lo(e,t,n,r){var i=t["spans_"+e.id],o=0;e.iter(Math.max(e.first,n),Math.min(e.first+e.size,r),function(n){n.markedSpans&&((i||(i=t["spans_"+e.id]={}))[o]=n.markedSpans),++o})}function uo(e){if(!e)return null;for(var t,n=0;n<e.length;++n)e[n].marker.explicitlyCleared?t||(t=e.slice(0,n)):t&&t.push(e[n]);return t?t.length?t:null:e}function co(e,t){var n=t["spans_"+e.id];if(!n)return null;for(var r=[],i=0;i<t.text.length;++i)r.push(uo(n[i]));return r}function ho(e,t){var n=co(e,t),r=Q(e,t);if(!n)return r;if(!r)return n;for(var i=0;i<n.length;++i){var o=n[i],a=r[i];if(o&&a)e:for(var s=0;s<a.length;++s){for(var l=a[s],u=0;u<o.length;++u)if(o[u].marker==l.marker)continue e;o.push(l)}else a&&(n[i]=a)}return n}function fo(e,t,n){for(var r=[],i=0;i<e.length;++i){var o=e[i];if(o.ranges)r.push(n?Ol.prototype.deepCopy.call(o):o);else{var a=o.changes,s=[];r.push({changes:s});for(var l=0;l<a.length;++l){var u=a[l],c=void 0;if(s.push({from:u.from,to:u.to,text:u.text}),t)for(var h in u)(c=h.match(/^spans_(\d+)$/))&&d(t,Number(c[1]))>-1&&(m(s)[h]=u[h],delete u[h])}}}return r}function po(e,t,n,r){if(r){var i=e.anchor;if(n){var o=N(t,i)<0;o!=N(n,i)<0?(i=t,t=n):o!=N(t,n)<0&&(t=n)}return new Al(i,t)}return new Al(n||t,t)}function mo(e,t,n,r,i){null==i&&(i=e.cm&&(e.cm.display.shift||e.extend)),Co(e,new Ol([po(e.sel.primary(),t,n,i)],0),r)}function go(e,t,n){for(var r=[],i=e.cm&&(e.cm.display.shift||e.extend),o=0;o<e.sel.ranges.length;o++)r[o]=po(e.sel.ranges[o],t[o],null,i);var a=Fi(r,e.sel.primIndex);Co(e,a,n)}function vo(e,t,n,r){var i=e.sel.ranges.slice(0);i[t]=n,Co(e,Fi(i,e.sel.primIndex),r)}function yo(e,t,n,r){Co(e,Wi(t,n),r)}function bo(e,t,n){var r={ranges:t.ranges,update:function(t){var n=this;this.ranges=[];for(var r=0;r<t.length;r++)n.ranges[r]=new Al(z(e,t[r].anchor),z(e,t[r].head))},origin:n&&n.origin};return Tt(e,"beforeSelectionChange",e,r),e.cm&&Tt(e.cm,"beforeSelectionChange",e.cm,r),r.ranges!=t.ranges?Fi(r.ranges,r.ranges.length-1):t}function wo(e,t,n){var r=e.history.done,i=m(r);i&&i.ranges?(r[r.length-1]=t,xo(e,t,n)):Co(e,t,n)}function Co(e,t,n){xo(e,t,n),ao(e,e.sel,e.cm?e.cm.curOp.id:0/0,n)}function xo(e,t,n){(Rt(e,"beforeSelectionChange")||e.cm&&Rt(e.cm,"beforeSelectionChange"))&&(t=bo(e,t,n));var r=n&&n.bias||(N(t.primary().head,e.sel.primary().head)<0?-1:1);ko(e,_o(e,t,r,!0)),n&&n.scroll===!1||!e.cm||Yr(e.cm)}function ko(e,t){t.equals(e.sel)||(e.sel=t,e.cm&&(e.cm.curOp.updateInput=e.cm.curOp.selectionChanged=!0,Mt(e.cm)),Cn(e,"cursorActivity",e))}function So(e){ko(e,_o(e,e.sel,null,!1))}function _o(e,t,n,r){for(var i,o=0;o<t.ranges.length;o++){var a=t.ranges[o],s=t.ranges.length==e.sel.ranges.length&&e.sel.ranges[o],l=Eo(e,a.anchor,s&&s.anchor,n,r),u=Eo(e,a.head,s&&s.head,n,r);(i||l!=a.anchor||u!=a.head)&&(i||(i=t.ranges.slice(0,o)),i[o]=new Al(l,u))}return i?Fi(i,t.primIndex):t}function To(e,t,n,r,i){var o=E(e,t.line);if(o.markedSpans)for(var a=0;a<o.markedSpans.length;++a){var s=o.markedSpans[a],l=s.marker;if((null==s.from||(l.inclusiveLeft?s.from<=t.ch:s.from<t.ch))&&(null==s.to||(l.inclusiveRight?s.to>=t.ch:s.to>t.ch))){if(i&&(Tt(l,"beforeCursorEnter"),l.explicitlyCleared)){if(o.markedSpans){--a;continue}break}if(!l.atomic)continue;if(n){var u=l.find(0>r?1:-1),c=void 0;if((0>r?l.inclusiveRight:l.inclusiveLeft)&&(u=Mo(e,u,-r,u&&u.line==t.line?o:null)),u&&u.line==t.line&&(c=N(u,n))&&(0>r?0>c:c>0))return To(e,u,t,r,i)}var h=l.find(0>r?-1:1);return(0>r?l.inclusiveLeft:l.inclusiveRight)&&(h=Mo(e,h,r,h.line==t.line?o:null)),h?To(e,h,t,r,i):null}}return t}function Eo(e,t,n,r,i){var o=r||1,a=To(e,t,n,o,i)||!i&&To(e,t,n,o,!0)||To(e,t,n,-o,i)||!i&&To(e,t,n,-o,!0);return a?a:(e.cantEdit=!0,H(e.first,0))}function Mo(e,t,n,r){return 0>n&&0==t.ch?t.line>e.first?z(e,H(t.line-1)):null:n>0&&t.ch==(r||E(e,t.line)).text.length?t.line<e.first+e.size-1?H(t.line+1,0):null:new H(t.line,t.ch+n)}function Ro(e){e.setSelection(H(e.firstLine(),0),H(e.lastLine()),$s)}function Oo(e,t,n){var r={canceled:!1,from:t.from,to:t.to,text:t.text,origin:t.origin,cancel:function(){return r.canceled=!0}};return n&&(r.update=function(t,n,i,o){t&&(r.from=z(e,t)),n&&(r.to=z(e,n)),i&&(r.text=i),void 0!==o&&(r.origin=o)}),Tt(e,"beforeChange",e,r),e.cm&&Tt(e.cm,"beforeChange",e.cm,r),r.canceled?null:{from:r.from,to:r.to,text:r.text,origin:r.origin}}function Ao(e,t,n){if(e.cm){if(!e.cm.curOp)return pi(e.cm,Ao)(e,t,n);if(e.cm.state.suppressEdits)return}if(!(Rt(e,"beforeChange")||e.cm&&Rt(e.cm,"beforeChange"))||(t=Oo(e,t,!0))){var r=Zs&&!n&&tt(e,t.from,t.to);if(r)for(var i=r.length-1;i>=0;--i)Lo(e,{from:r[i].from,to:r[i].to,text:i?[""]:t.text,origin:t.origin});else Lo(e,t)}}function Lo(e,t){if(1!=t.text.length||""!=t.text[0]||0!=N(t.from,t.to)){var n=Ui(e,t);io(e,t,n,e.cm?e.cm.curOp.id:0/0),Ho(e,t,n,Q(e,t));var r=[];Xi(e,function(e,n){n||-1!=d(r,e.history)||(Wo(e.history,t),r.push(e.history)),Ho(e,t,null,Q(e,t))})}}function Do(e,t,n){if(!e.cm||!e.cm.state.suppressEdits||n){for(var r,i=e.history,o=e.sel,a="undo"==t?i.done:i.undone,s="undo"==t?i.undone:i.done,l=0;l<a.length&&(r=a[l],n?!r.ranges||r.equals(e.sel):r.ranges);l++);if(l!=a.length){for(i.lastOrigin=i.lastSelOrigin=null;r=a.pop(),r.ranges;){if(so(r,s),n&&!r.equals(e.sel))return Co(e,r,{clearRedo:!1}),void 0;o=r}var u=[];so(o,s),s.push({changes:u,generation:i.generation}),i.generation=r.generation||++i.maxGeneration;for(var c=Rt(e,"beforeChange")||e.cm&&Rt(e.cm,"beforeChange"),h=function(n){var i=r.changes[n];if(i.origin=t,c&&!Oo(e,i,!1))return a.length=0,{};u.push(to(e,i));var o=n?Ui(e,i):m(a);Ho(e,i,o,ho(e,i)),!n&&e.cm&&e.cm.scrollIntoView({from:i.from,to:Bi(i)});var s=[];Xi(e,function(e,t){t||-1!=d(s,e.history)||(Wo(e.history,i),s.push(e.history)),Ho(e,i,null,ho(e,i))})},f=r.changes.length-1;f>=0;--f){var p=h(f);if(p)return p.v}}}}function Po(e,t){if(0!=t&&(e.first+=t,e.sel=new Ol(g(e.sel.ranges,function(e){return new Al(H(e.anchor.line+t,e.anchor.ch),H(e.head.line+t,e.head.ch))}),e.sel.primIndex),e.cm)){vi(e.cm,e.first,e.first-t,t);for(var n=e.cm.display,r=n.viewFrom;r<n.viewTo;r++)yi(e.cm,r,"gutter")}}function Ho(e,t,n,r){if(e.cm&&!e.cm.curOp)return pi(e.cm,Ho)(e,t,n,r);if(t.to.line<e.first)return Po(e,t.text.length-1-(t.to.line-t.from.line)),void 0;if(!(t.from.line>e.lastLine())){if(t.from.line<e.first){var i=t.text.length-1-(e.first-t.from.line);Po(e,i),t={from:H(e.first,0),to:H(t.to.line+i,t.to.ch),text:[m(t.text)],origin:t.origin}}var o=e.lastLine();t.to.line>o&&(t={from:t.from,to:H(o,E(e,o).text.length),text:[t.text[0]],origin:t.origin}),t.removed=M(e,t.from,t.to),n||(n=Ui(e,t)),e.cm?No(e.cm,t,r):Ki(e,t,r),xo(e,n,$s)}}function No(e,t,n){var r=e.doc,i=e.display,o=t.from,a=t.to,s=!1,l=o.line;e.options.lineWrapping||(l=A(ht(E(r,o.line))),r.iter(l,a.line+1,function(e){return e==i.maxLine?(s=!0,!0):void 0})),r.sel.contains(t.from,t.to)>-1&&Mt(e),Ki(r,t,n,kr(e)),e.options.lineWrapping||(r.iter(l,o.line+t.text.length,function(e){var t=bt(e);t>i.maxLineLength&&(i.maxLine=e,i.maxLineLength=t,i.maxLineChanged=!0,s=!1)}),s&&(e.curOp.updateMaxLine=!0)),on(r,o.line),ki(e,400);var u=t.text.length-(a.line-o.line)-1;t.full?vi(e):o.line!=a.line||1!=t.text.length||Gi(e.doc,t)?vi(e,o.line,a.line+1,u):yi(e,o.line,"text");var c=Rt(e,"changes"),h=Rt(e,"change");if(h||c){var d={from:o,to:a,text:t.text,removed:t.removed,origin:t.origin};h&&Cn(e,"change",e,d),c&&(e.curOp.changeObjs||(e.curOp.changeObjs=[])).push(d)}e.display.selForContextMenu=null}function Io(e,t,n,r,i){if(r||(r=n),N(r,n)<0){var o;o=[r,n],n=o[0],r=o[1],o}"string"==typeof t&&(t=e.splitLines(t)),Ao(e,{from:n,to:r,text:t,origin:i})}function jo(e,t,n,r){n<e.line?e.line+=r:t<e.line&&(e.line=t,e.ch=0)}function Fo(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i],a=!0;if(o.ranges){o.copied||(o=e[i]=o.deepCopy(),o.copied=!0);for(var s=0;s<o.ranges.length;s++)jo(o.ranges[s].anchor,t,n,r),jo(o.ranges[s].head,t,n,r)}else{for(var l=0;l<o.changes.length;++l){var u=o.changes[l];if(n<u.from.line)u.from=H(u.from.line+r,u.from.ch),u.to=H(u.to.line+r,u.to.ch);else if(t<=u.to.line){a=!1;break}}a||(e.splice(0,i+1),i=0)}}}function Wo(e,t){var n=t.from.line,r=t.to.line,i=t.text.length-(r-n)-1;Fo(e.done,n,r,i),Fo(e.undone,n,r,i)}function Bo(e,t,n,r){var i=t,o=t;return"number"==typeof t?o=E(e,B(e,t)):i=A(t),null==i?null:(r(o,i)&&e.cm&&yi(e.cm,i,n),o)}function zo(e){var t=this;this.lines=e,this.parent=null;for(var n=0,r=0;r<e.length;++r)e[r].parent=t,n+=e[r].height;this.height=n}function Uo(e){var t=this;this.children=e;for(var n=0,r=0,i=0;i<e.length;++i){var o=e[i];n+=o.chunkSize(),r+=o.height,o.parent=t}this.size=n,this.height=r,this.parent=null}function Vo(e,t,n){yt(t)<(e.curOp&&e.curOp.scrollTop||e.doc.scrollTop)&&$r(e,n)}function qo(e,t,n,r){var i=new Ll(e,n,r),o=e.cm;return o&&i.noHScroll&&(o.display.alignWidgets=!0),Bo(e,t,"widget",function(t){var n=t.widgets||(t.widgets=[]);if(null==i.insertAt?n.push(i):n.splice(Math.min(n.length-1,Math.max(0,i.insertAt)),0,i),i.line=t,o&&!gt(e,t)){var r=yt(t)<e.scrollTop;O(t,t.height+Hn(i)),r&&$r(o,i.height),o.curOp.forceUpdate=!0}return!0}),Cn(o,"lineWidgetAdded",o,i,"number"==typeof t?t:A(t)),i}function $o(e,t,n,r,o){if(r&&r.shared)return Yo(e,t,n,r,o);if(e.cm&&!e.cm.curOp)return pi(e.cm,$o)(e,t,n,r,o);var a=new Pl(e,o),s=N(t,n);if(r&&c(r,a,!1),s>0||0==s&&a.clearWhenEmpty!==!1)return a;if(a.replacedWith&&(a.collapsed=!0,a.widgetNode=i("span",[a.replacedWith],"CodeMirror-widget"),r.handleMouseEvents||a.widgetNode.setAttribute("cm-ignore-events","true"),r.insertLeft&&(a.widgetNode.insertLeft=!0)),a.collapsed){if(ct(e,t.line,t,n,a)||t.line!=n.line&&ct(e,n.line,t,n,a))throw new Error("Inserting collapsed marker partially overlapping an existing one");$()}a.addToHistory&&io(e,{from:t,to:n,origin:"markText"},e.sel,0/0);var l,u=t.line,h=e.cm;if(e.iter(u,n.line+1,function(e){h&&a.collapsed&&!h.options.lineWrapping&&ht(e)==h.display.maxLine&&(l=!0),a.collapsed&&u!=t.line&&O(e,0),X(e,new Y(a,u==t.line?t.ch:null,u==n.line?n.ch:null)),++u}),a.collapsed&&e.iter(t.line,n.line+1,function(t){gt(e,t)&&O(t,0)}),a.clearOnEnter&&rl(a,"beforeCursorEnter",function(){return a.clear()}),a.readOnly&&(q(),(e.history.done.length||e.history.undone.length)&&e.clearHistory()),a.collapsed&&(a.id=++Dl,a.atomic=!0),h){if(l&&(h.curOp.updateMaxLine=!0),a.collapsed)vi(h,t.line,n.line+1);else if(a.className||a.title||a.startStyle||a.endStyle||a.css)for(var d=t.line;d<=n.line;d++)yi(h,d,"text");a.atomic&&So(h.doc),Cn(h,"markerAdded",h,a)}return a}function Yo(e,t,n,r,i){r=c(r),r.shared=!1;var o=[$o(e,t,n,r,i)],a=o[0],s=r.widgetNode;return Xi(e,function(e){s&&(r.widgetNode=s.cloneNode(!0)),o.push($o(e,z(e,t),z(e,n),r,i));for(var l=0;l<e.linked.length;++l)if(e.linked[l].isParent)return;a=m(o)}),new Hl(o,a)}function Go(e){return e.findMarks(H(e.first,0),e.clipPos(H(e.lastLine())),function(e){return e.parent})}function Ko(e,t){for(var n=0;n<t.length;n++){var r=t[n],i=r.find(),o=e.clipPos(i.from),a=e.clipPos(i.to);if(N(o,a)){var s=$o(e,o,a,r.primary,r.primary.type);r.markers.push(s),s.parent=r}}}function Xo(e){for(var t=function(t){var n=e[t],r=[n.primary.doc];Xi(n.primary.doc,function(e){return r.push(e)});for(var i=0;i<n.markers.length;i++){var o=n.markers[i];-1==d(r,o.doc)&&(o.parent=null,n.markers.splice(i--,1))}},n=0;n<e.length;n++)t(n)}function Jo(e){var t=this;if(ea(t),!Et(t,e)&&!Nn(t.display,e)){At(e),ws&&(jl=+new Date);var n=_r(t,e,!0),r=e.dataTransfer.files;if(n&&!t.isReadOnly())if(r&&r.length&&window.FileReader&&window.File)for(var i=r.length,o=Array(i),a=0,s=function(e,r){if(!t.options.allowDropFileTypes||-1!=d(t.options.allowDropFileTypes,e.type)){var s=new FileReader;s.onload=pi(t,function(){var e=s.result;if(/[\x00-\x08\x0e-\x1f]{2}/.test(e)&&(e=""),o[r]=e,++a==i){n=z(t.doc,n);var l={from:n,to:n,text:t.doc.splitLines(o.join(t.doc.lineSeparator())),origin:"paste"};Ao(t.doc,l),wo(t.doc,Wi(n,Bi(l)))}}),s.readAsText(e)}},l=0;i>l;++l)s(r[l],l);else{if(t.state.draggingText&&t.doc.sel.contains(n)>-1)return t.state.draggingText(e),setTimeout(function(){return t.display.input.focus()},20),void 0;try{var u=e.dataTransfer.getData("Text");if(u){var c;if(t.state.draggingText&&!t.state.draggingText.copy&&(c=t.listSelections()),xo(t.doc,Wi(n,n)),c)for(var h=0;h<c.length;++h)Io(t.doc,"",c[h].anchor,c[h].head,"drag");t.replaceSelection(u,"around","paste"),t.display.input.focus()}}catch(e){}}}}function Zo(e,t){if(ws&&(!e.state.draggingText||+new Date-jl<100))return Pt(t),void 0;if(!Et(e,t)&&!Nn(e.display,t)&&(t.dataTransfer.setData("Text",e.getSelection()),t.dataTransfer.effectAllowed="copyMove",t.dataTransfer.setDragImage&&!Ts)){var n=r("img",null,null,"position: fixed; left: 0; top: 0;");n.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",_s&&(n.width=n.height=1,e.display.wrapper.appendChild(n),n._top=n.offsetTop),t.dataTransfer.setDragImage(n,0,0),_s&&n.parentNode.removeChild(n)}}function Qo(e,t){var i=_r(e,t);if(i){var o=document.createDocumentFragment();Rr(e,i,o),e.display.dragCursor||(e.display.dragCursor=r("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),e.display.lineSpace.insertBefore(e.display.dragCursor,e.display.cursorDiv)),n(e.display.dragCursor,o)}}function ea(e){e.display.dragCursor&&(e.display.lineSpace.removeChild(e.display.dragCursor),e.display.dragCursor=null)}function ta(e){if(document.getElementsByClassName)for(var t=document.getElementsByClassName("CodeMirror"),n=0;n<t.length;n++){var r=t[n].CodeMirror;r&&e(r)}}function na(){Fl||(ra(),Fl=!0)}function ra(){var e;rl(window,"resize",function(){null==e&&(e=setTimeout(function(){e=null,ta(ia)},100))}),rl(window,"blur",function(){return ta(Nr)})}function ia(e){var t=e.display;(t.lastWrapHeight!=t.wrapper.clientHeight||t.lastWrapWidth!=t.wrapper.clientWidth)&&(t.cachedCharWidth=t.cachedTextHeight=t.cachedPaddingH=null,t.scrollbarsClipped=!1,e.setSize())}function oa(e){var t=e.split(/-(?!$)/);e=t[t.length-1];for(var n,r,i,o,a=0;a<t.length-1;a++){var s=t[a];if(/^(cmd|meta|m)$/i.test(s))o=!0;else if(/^a(lt)?$/i.test(s))n=!0;else if(/^(c|ctrl|control)$/i.test(s))r=!0;else{if(!/^s(hift)?$/i.test(s))throw new Error("Unrecognized modifier name: "+s);i=!0}}return n&&(e="Alt-"+e),r&&(e="Ctrl-"+e),o&&(e="Cmd-"+e),i&&(e="Shift-"+e),e}function aa(e){var t={};for(var n in e)if(e.hasOwnProperty(n)){var r=e[n];if(/^(name|fallthrough|(de|at)tach)$/.test(n))continue;if("..."==r){delete e[n];continue}for(var i=g(n.split(" "),oa),o=0;o<i.length;o++){var a=void 0,s=void 0;o==i.length-1?(s=i.join(" "),a=r):(s=i.slice(0,o+1).join(" "),a="...");var l=t[s];if(l){if(l!=a)throw new Error("Inconsistent bindings for "+s)}else t[s]=a}delete e[n]}for(var u in t)e[u]=t[u];return e}function sa(e,t,n,r){t=ha(t);var i=t.call?t.call(e,r):t[e];if(i===!1)return"nothing";if("..."===i)return"multi";if(null!=i&&n(i))return"handled";if(t.fallthrough){if("[object Array]"!=Object.prototype.toString.call(t.fallthrough))return sa(e,t.fallthrough,n,r);for(var o=0;o<t.fallthrough.length;o++){var a=sa(e,t.fallthrough[o],n,r);if(a)return a}}}function la(e){var t="string"==typeof e?e:Wl[e.keyCode];return"Ctrl"==t||"Alt"==t||"Shift"==t||"Mod"==t}function ua(e,t,n){var r=e;return t.altKey&&"Alt"!=r&&(e="Alt-"+e),(Is?t.metaKey:t.ctrlKey)&&"Ctrl"!=r&&(e="Ctrl-"+e),(Is?t.ctrlKey:t.metaKey)&&"Cmd"!=r&&(e="Cmd-"+e),!n&&t.shiftKey&&"Shift"!=r&&(e="Shift-"+e),e}function ca(e,t){if(_s&&34==e.keyCode&&e["char"])return!1;var n=Wl[e.keyCode];return null==n||e.altGraphKey?!1:(3==e.keyCode&&e.code&&(n=e.code),ua(n,e,t))}function ha(e){return"string"==typeof e?Vl[e]:e}function da(e,t){for(var n=e.doc.sel.ranges,r=[],i=0;i<n.length;i++){for(var o=t(n[i]);r.length&&N(o.from,m(r).to)<=0;){var a=r.pop();if(N(a.from,o.from)<0){o.from=a.from;break}}r.push(o)}fi(e,function(){for(var t=r.length-1;t>=0;t--)Io(e.doc,"",r[t].from,r[t].to,"+delete");Yr(e)})}function fa(e,t,n){var r=S(e.text,t+n,n);return 0>r||r>e.text.length?null:r}function pa(e,t,n){var r=fa(e,t.ch,n);return null==r?null:new H(t.line,r,0>n?"after":"before")}function ma(e,t,n,r,i){if(e){var o=kt(n,t.doc.direction);if(o){var a,s=0>i?m(o):o[0],l=0>i==(1==s.level),u=l?"after":"before";if(s.level>0||"rtl"==t.doc.direction){var c=Gn(t,n);a=0>i?n.text.length-1:0;var h=Kn(t,c,a).top;a=_(function(e){return Kn(t,c,e).top==h},0>i==(1==s.level)?s.from:s.to-1,a),"before"==u&&(a=fa(n,a,1))}else a=0>i?s.to:s.from;return new H(r,a,u)}}return new H(r,0>i?n.text.length:0,0>i?"before":"after")}function ga(e,t,n,r){var i=kt(t,e.doc.direction);if(!i)return pa(t,n,r);n.ch>=t.text.length?(n.ch=t.text.length,n.sticky="before"):n.ch<=0&&(n.ch=0,n.sticky="after");var o=xt(i,n.ch,n.sticky),a=i[o];if("ltr"==e.doc.direction&&a.level%2==0&&(r>0?a.to>n.ch:a.from<n.ch))return pa(t,n,r);var s,l=function(e,n){return fa(t,e instanceof H?e.ch:e,n)},u=function(n){return e.options.lineWrapping?(s=s||Gn(e,t),pr(e,t,s,n)):{begin:0,end:t.text.length}},c=u("before"==n.sticky?l(n,-1):n.ch);if("rtl"==e.doc.direction||1==a.level){var h=1==a.level==0>r,d=l(n,h?1:-1);if(null!=d&&(h?d<=a.to&&d<=c.end:d>=a.from&&d>=c.begin)){var f=h?"before":"after";return new H(n.line,d,f)
}}var p=function(e,t,r){for(var o=function(e,t){return t?new H(n.line,l(e,1),"before"):new H(n.line,e,"after")};e>=0&&e<i.length;e+=t){var a=i[e],s=t>0==(1!=a.level),u=s?r.begin:l(r.end,-1);if(a.from<=u&&u<a.to)return o(u,s);if(u=s?a.from:l(a.to,-1),r.begin<=u&&u<r.end)return o(u,s)}},m=p(o+r,r,c);if(m)return m;var g=r>0?c.end:l(c.begin,-1);return null==g||r>0&&g==t.text.length||!(m=p(r>0?0:i.length-1,r,u(g)))?null:m}function va(e,t){var n=E(e.doc,t),r=ht(n);return r!=n&&(t=A(r)),ma(!0,e,r,t,1)}function ya(e,t){var n=E(e.doc,t),r=dt(n);return r!=n&&(t=A(r)),ma(!0,e,n,t,-1)}function ba(e,t){var n=va(e,t.line),r=E(e.doc,n.line),i=kt(r,e.doc.direction);if(!i||0==i[0].level){var o=Math.max(0,r.text.search(/\S/)),a=t.line==n.line&&t.ch<=o&&t.ch;return H(n.line,a?0:o,n.sticky)}return n}function wa(e,t,n){if("string"==typeof t&&(t=ql[t],!t))return!1;e.display.input.ensurePolled();var r=e.display.shift,i=!1;try{e.isReadOnly()&&(e.state.suppressEdits=!0),n&&(e.display.shift=!1),i=t(e)!=qs}finally{e.display.shift=r,e.state.suppressEdits=!1}return i}function Ca(e,t,n){for(var r=0;r<e.state.keyMaps.length;r++){var i=sa(t,e.state.keyMaps[r],n,e);if(i)return i}return e.options.extraKeys&&sa(t,e.options.extraKeys,n,e)||sa(t,e.options.keyMap,n,e)}function xa(e,t,n,r){var i=e.state.keySeq;if(i){if(la(t))return"handled";if(/\'$/.test(t)?e.state.keySeq=null:$l.set(50,function(){e.state.keySeq==i&&(e.state.keySeq=null,e.display.input.reset())}),ka(e,i+" "+t,n,r))return!0}return ka(e,t,n,r)}function ka(e,t,n,r){var i=Ca(e,t,r);return"multi"==i&&(e.state.keySeq=t),"handled"==i&&Cn(e,"keyHandled",e,t,n),("handled"==i||"multi"==i)&&(At(n),Lr(e)),!!i}function Sa(e,t){var n=ca(t,!0);return n?t.shiftKey&&!e.state.keySeq?xa(e,"Shift-"+n,t,function(t){return wa(e,t,!0)})||xa(e,n,t,function(t){return("string"==typeof t?/^go[A-Z]/.test(t):t.motion)?wa(e,t):void 0}):xa(e,n,t,function(t){return wa(e,t)}):!1}function _a(e,t,n){return xa(e,"'"+n+"'",t,function(t){return wa(e,t,!0)})}function Ta(e){var t=this;if(t.curOp.focus=a(),!Et(t,e)){ws&&11>Cs&&27==e.keyCode&&(e.returnValue=!1);var n=e.keyCode;t.display.shift=16==n||e.shiftKey;var r=Sa(t,e);_s&&(Yl=r?n:null,!r&&88==n&&!sl&&(Ls?e.metaKey:e.ctrlKey)&&t.replaceSelection("",null,"cut")),18!=n||/\bCodeMirror-crosshair\b/.test(t.display.lineDiv.className)||Ea(t)}}function Ea(e){function t(e){18!=e.keyCode&&e.altKey||(Fs(n,"CodeMirror-crosshair"),_t(document,"keyup",t),_t(document,"mouseover",t))}var n=e.display.lineDiv;s(n,"CodeMirror-crosshair"),rl(document,"keyup",t),rl(document,"mouseover",t)}function Ma(e){16==e.keyCode&&(this.doc.sel.shift=!1),Et(this,e)}function Ra(e){var t=this;if(!(Nn(t.display,e)||Et(t,e)||e.ctrlKey&&!e.altKey||Ls&&e.metaKey)){var n=e.keyCode,r=e.charCode;if(_s&&n==Yl)return Yl=null,At(e),void 0;if(!_s||e.which&&!(e.which<10)||!Sa(t,e)){var i=String.fromCharCode(null==r?n:r);"\b"!=i&&(_a(t,e,i)||t.display.input.onKeyPress(e))}}}function Oa(e,t){var n=+new Date;return Jl&&Jl.compare(n,e,t)?(Xl=Jl=null,"triple"):Xl&&Xl.compare(n,e,t)?(Jl=new Kl(n,e,t),Xl=null,"double"):(Xl=new Kl(n,e,t),Jl=null,"single")}function Aa(e){var t=this,n=t.display;if(!(Et(t,e)||n.activeTouch&&n.input.supportsTouch())){if(n.input.ensurePolled(),n.shift=e.shiftKey,Nn(n,e))return xs||(n.scroller.draggable=!1,setTimeout(function(){return n.scroller.draggable=!0},100)),void 0;if(!Wa(t,e)){var r=_r(t,e),i=Nt(e),o=r?Oa(r,i):"single";window.focus(),1==i&&t.state.selectingText&&t.state.selectingText(e),r&&La(t,i,r,o,e)||(1==i?r?Pa(t,r,o,e):Ht(e)==n.scroller&&At(e):2==i?(r&&mo(t.doc,r),setTimeout(function(){return n.input.focus()},20)):3==i&&(js?Ba(t,e):Pr(t)))}}}function La(e,t,n,r,i){var o="Click";return"double"==r?o="Double"+o:"triple"==r&&(o="Triple"+o),o=(1==t?"Left":2==t?"Middle":"Right")+o,xa(e,ua(o,i),i,function(t){if("string"==typeof t&&(t=ql[t]),!t)return!1;var r=!1;try{e.isReadOnly()&&(e.state.suppressEdits=!0),r=t(e,n)!=qs}finally{e.state.suppressEdits=!1}return r})}function Da(e,t,n){var r=e.getOption("configureMouse"),i=r?r(e,t,n):{};if(null==i.unit){var o=Ds?n.shiftKey&&n.metaKey:n.altKey;i.unit=o?"rectangle":"single"==t?"char":"double"==t?"word":"line"}return(null==i.extend||e.doc.extend)&&(i.extend=e.doc.extend||n.shiftKey),null==i.addNew&&(i.addNew=Ls?n.metaKey:n.ctrlKey),null==i.moveOnDrag&&(i.moveOnDrag=!(Ls?n.altKey:n.ctrlKey)),i}function Pa(e,t,n,r){ws?setTimeout(u(Dr,e),0):e.curOp.focus=a();var i,o=Da(e,n,r),s=e.doc.sel;e.options.dragDrop&&il&&!e.isReadOnly()&&"single"==n&&(i=s.contains(t))>-1&&(N((i=s.ranges[i]).from(),t)<0||t.xRel>0)&&(N(i.to(),t)>0||t.xRel<0)?Ha(e,r,t,o):Ia(e,r,t,o)}function Ha(e,t,n,r){var i=e.display,o=!1,a=pi(e,function(t){xs&&(i.scroller.draggable=!1),e.state.draggingText=!1,_t(document,"mouseup",a),_t(document,"mousemove",s),_t(i.scroller,"dragstart",l),_t(i.scroller,"drop",a),o||(At(t),r.addNew||mo(e.doc,n,null,null,r.extend),xs||ws&&9==Cs?setTimeout(function(){document.body.focus(),i.input.focus()},20):i.input.focus())}),s=function(e){o=o||Math.abs(t.clientX-e.clientX)+Math.abs(t.clientY-e.clientY)>=10},l=function(){return o=!0};xs&&(i.scroller.draggable=!0),e.state.draggingText=a,a.copy=!r.moveOnDrag,i.scroller.dragDrop&&i.scroller.dragDrop(),rl(document,"mouseup",a),rl(document,"mousemove",s),rl(i.scroller,"dragstart",l),rl(i.scroller,"drop",a),Pr(e),setTimeout(function(){return i.input.focus()},20)}function Na(e,t,n){if("char"==n)return new Al(t,t);if("word"==n)return e.findWordAt(t);if("line"==n)return new Al(H(t.line,0),z(e.doc,H(t.line+1,0)));var r=n(e,t);return new Al(r.from,r.to)}function Ia(e,t,n,r){function i(t){if(0!=N(v,t))if(v=t,"rectangle"==r.unit){for(var i=[],o=e.options.tabSize,a=h(E(u,n.line).text,n.ch,o),s=h(E(u,t.line).text,t.ch,o),l=Math.min(a,s),m=Math.max(a,s),g=Math.min(n.line,t.line),y=Math.min(e.lastLine(),Math.max(n.line,t.line));y>=g;g++){var b=E(u,g).text,w=f(b,l,o);l==m?i.push(new Al(H(g,w),H(g,w))):b.length>w&&i.push(new Al(H(g,w),H(g,f(b,m,o))))}i.length||i.push(new Al(n,n)),Co(u,Fi(p.ranges.slice(0,d).concat(i),d),{origin:"*mouse",scroll:!1}),e.scrollIntoView(t)}else{var C,x=c,k=Na(e,t,r.unit),S=x.anchor;N(k.anchor,S)>0?(C=k.head,S=W(x.from(),k.anchor)):(C=k.anchor,S=F(x.to(),k.head));var _=p.ranges.slice(0);_[d]=ja(e,new Al(z(u,S),C)),Co(u,Fi(_,d),Ys)}}function o(t){var n=++b,s=_r(e,t,!0,"rectangle"==r.unit);if(s)if(0!=N(s,v)){e.curOp.focus=a(),i(s);var c=Fr(l,u);(s.line>=c.to||s.line<c.from)&&setTimeout(pi(e,function(){b==n&&o(t)}),150)}else{var h=t.clientY<y.top?-20:t.clientY>y.bottom?20:0;h&&setTimeout(pi(e,function(){b==n&&(l.scroller.scrollTop+=h,o(t))}),50)}}function s(t){e.state.selectingText=!1,b=1/0,At(t),l.input.focus(),_t(document,"mousemove",w),_t(document,"mouseup",C),u.history.lastSelOrigin=null}var l=e.display,u=e.doc;At(t);var c,d,p=u.sel,m=p.ranges;if(r.addNew&&!r.extend?(d=u.sel.contains(n),c=d>-1?m[d]:new Al(n,n)):(c=u.sel.primary(),d=u.sel.primIndex),"rectangle"==r.unit)r.addNew||(c=new Al(n,n)),n=_r(e,t,!0,!0),d=-1;else{var g=Na(e,n,r.unit);c=r.extend?po(c,g.anchor,g.head,r.extend):g}r.addNew?-1==d?(d=m.length,Co(u,Fi(m.concat([c]),d),{scroll:!1,origin:"*mouse"})):m.length>1&&m[d].empty()&&"char"==r.unit&&!r.extend?(Co(u,Fi(m.slice(0,d).concat(m.slice(d+1)),0),{scroll:!1,origin:"*mouse"}),p=u.sel):vo(u,d,c,Ys):(d=0,Co(u,new Ol([c],0),Ys),p=u.sel);var v=n,y=l.wrapper.getBoundingClientRect(),b=0,w=pi(e,function(e){Nt(e)?o(e):s(e)}),C=pi(e,s);e.state.selectingText=C,rl(document,"mousemove",w),rl(document,"mouseup",C)}function ja(e,t){var n=t.anchor,r=t.head,i=E(e.doc,n.line);if(0==N(n,r)&&n.sticky==r.sticky)return t;var o=kt(i);if(!o)return t;var a=xt(o,n.ch,n.sticky),s=o[a];if(s.from!=n.ch&&s.to!=n.ch)return t;var l=a+(s.from==n.ch==(1!=s.level)?0:1);if(0==l||l==o.length)return t;var u;if(r.line!=n.line)u=(r.line-n.line)*("ltr"==e.doc.direction?1:-1)>0;else{var c=xt(o,r.ch,r.sticky),h=c-a||(r.ch-n.ch)*(1==s.level?-1:1);u=c==l-1||c==l?0>h:h>0}var d=o[l+(u?-1:0)],f=u==(1==d.level),p=f?d.from:d.to,m=f?"after":"before";return n.ch==p&&n.sticky==m?t:new Al(new H(n.line,p,m),r)}function Fa(e,t,n,r){var i,o;if(t.touches)i=t.touches[0].clientX,o=t.touches[0].clientY;else try{i=t.clientX,o=t.clientY}catch(t){return!1}if(i>=Math.floor(e.display.gutters.getBoundingClientRect().right))return!1;r&&At(t);var a=e.display,s=a.lineDiv.getBoundingClientRect();if(o>s.bottom||!Rt(e,n))return Dt(t);o-=s.top-a.viewOffset;for(var l=0;l<e.options.gutters.length;++l){var u=a.gutters.childNodes[l];if(u&&u.getBoundingClientRect().right>=i){var c=L(e.doc,o),h=e.options.gutters[l];return Tt(e,n,e,c,h,t),Dt(t)}}}function Wa(e,t){return Fa(e,t,"gutterClick",!0)}function Ba(e,t){Nn(e.display,t)||za(e,t)||Et(e,t,"contextmenu")||e.display.input.onContextMenu(t)}function za(e,t){return Rt(e,"gutterContextMenu")?Fa(e,t,"gutterContextMenu",!1):!1}function Ua(e){e.display.wrapper.className=e.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+e.options.theme.replace(/(^|\s)\s*/g," cm-s-"),nr(e)}function Va(e){function t(t,r,i,o){e.defaults[t]=r,i&&(n[t]=o?function(e,t,n){n!=Zl&&i(e,t,n)}:i)}var n=e.optionHandlers;e.defineOption=t,e.Init=Zl,t("value","",function(e,t){return e.setValue(t)},!0),t("mode",null,function(e,t){e.doc.modeOption=t,$i(e)},!0),t("indentUnit",2,$i,!0),t("indentWithTabs",!1),t("smartIndent",!0),t("tabSize",4,function(e){Yi(e),nr(e),vi(e)},!0),t("lineSeparator",null,function(e,t){if(e.doc.lineSep=t,t){var n=[],r=e.doc.first;e.doc.iter(function(e){for(var i=0;;){var o=e.text.indexOf(t,i);if(-1==o)break;i=o+t.length,n.push(H(r,o))}r++});for(var i=n.length-1;i>=0;i--)Io(e.doc,t,n[i],H(n[i].line,n[i].ch+t.length))}}),t("specialChars",/[\u0000-\u001f\u007f-\u009f\u00ad\u061c\u200b-\u200f\u2028\u2029\ufeff]/g,function(e,t,n){e.state.specialChars=new RegExp(t.source+(t.test("	")?"":"|	"),"g"),n!=Zl&&e.refresh()}),t("specialCharPlaceholder",cn,function(e){return e.refresh()},!0),t("electricChars",!0),t("inputStyle",As?"contenteditable":"textarea",function(){throw new Error("inputStyle can not (yet) be changed in a running editor")},!0),t("spellcheck",!1,function(e,t){return e.getInputField().spellcheck=t},!0),t("rtlMoveVisually",!Ps),t("wholeLineUpdateBefore",!0),t("theme","default",function(e){Ua(e),qa(e)},!0),t("keyMap","default",function(e,t,n){var r=ha(t),i=n!=Zl&&ha(n);i&&i.detach&&i.detach(e,r),r.attach&&r.attach(e,i||null)}),t("extraKeys",null),t("configureMouse",null),t("lineWrapping",!1,Ya,!0),t("gutters",[],function(e){Hi(e.options),qa(e)},!0),t("fixedGutter",!0,function(e,t){e.display.gutters.style.left=t?xr(e.display)+"px":"0",e.refresh()},!0),t("coverGutterNextToScrollbar",!1,function(e){return ni(e)},!0),t("scrollbarStyle","native",function(e){ii(e),ni(e),e.display.scrollbars.setScrollTop(e.doc.scrollTop),e.display.scrollbars.setScrollLeft(e.doc.scrollLeft)},!0),t("lineNumbers",!1,function(e){Hi(e.options),qa(e)},!0),t("firstLineNumber",1,qa,!0),t("lineNumberFormatter",function(e){return e},qa,!0),t("showCursorWhenSelecting",!1,Er,!0),t("resetSelectionOnContextMenu",!0),t("lineWiseCopyCut",!0),t("pasteLinesPerSelection",!0),t("readOnly",!1,function(e,t){"nocursor"==t&&(Nr(e),e.display.input.blur()),e.display.input.readOnlyChanged(t)}),t("disableInput",!1,function(e,t){t||e.display.input.reset()},!0),t("dragDrop",!0,$a),t("allowDropFileTypes",null),t("cursorBlinkRate",530),t("cursorScrollMargin",0),t("cursorHeight",1,Er,!0),t("singleCursorHeightPerLine",!0,Er,!0),t("workTime",100),t("workDelay",100),t("flattenSpans",!0,Yi,!0),t("addModeClass",!1,Yi,!0),t("pollInterval",100),t("undoDepth",200,function(e,t){return e.doc.history.undoDepth=t}),t("historyEventDelay",1250),t("viewportMargin",10,function(e){return e.refresh()},!0),t("maxHighlightLength",1e4,Yi,!0),t("moveInputWithCursor",!0,function(e,t){t||e.display.input.resetPosition()}),t("tabindex",null,function(e,t){return e.display.input.getField().tabIndex=t||""}),t("autofocus",null),t("direction","ltr",function(e,t){return e.doc.setDirection(t)},!0)}function qa(e){Pi(e),vi(e),Wr(e)}function $a(e,t,n){var r=n&&n!=Zl;if(!t!=!r){var i=e.display.dragFunctions,o=t?rl:_t;o(e.display.scroller,"dragstart",i.start),o(e.display.scroller,"dragenter",i.enter),o(e.display.scroller,"dragover",i.over),o(e.display.scroller,"dragleave",i.leave),o(e.display.scroller,"drop",i.drop)}}function Ya(e){e.options.lineWrapping?(s(e.display.wrapper,"CodeMirror-wrap"),e.display.sizer.style.minWidth="",e.display.sizerWidth=null):(Fs(e.display.wrapper,"CodeMirror-wrap"),wt(e)),Sr(e),vi(e),nr(e),setTimeout(function(){return ni(e)},100)}function Ga(e,t){var n=this;if(!(this instanceof Ga))return new Ga(e,t);this.options=t=t?c(t):{},c(Ql,t,!1),Hi(t);var r=t.value;"string"==typeof r&&(r=new Il(r,t.mode,null,t.lineSeparator,t.direction)),this.doc=r;var i=new Ga.inputStyles[t.inputStyle](this),o=this.display=new T(e,r,i);o.wrapper.CodeMirror=this,Pi(this),Ua(this),t.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),ii(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:!1,cutIncoming:!1,selectingText:!1,draggingText:!1,highlight:new Bs,keySeq:null,specialChars:null},t.autofocus&&!As&&o.input.focus(),ws&&11>Cs&&setTimeout(function(){return n.display.input.reset(!0)},20),Ka(this),na(),oi(this),this.curOp.forceUpdate=!0,Ji(this,r),t.autofocus&&!As||this.hasFocus()?setTimeout(u(Hr,this),20):Nr(this);for(var a in eu)eu.hasOwnProperty(a)&&eu[a](n,t[a],Zl);Br(this),t.finishInit&&t.finishInit(this);for(var s=0;s<tu.length;++s)tu[s](n);ai(this),xs&&t.lineWrapping&&"optimizelegibility"==getComputedStyle(o.lineDiv).textRendering&&(o.lineDiv.style.textRendering="auto")}function Ka(e){function t(){i.activeTouch&&(o=setTimeout(function(){return i.activeTouch=null},1e3),a=i.activeTouch,a.end=+new Date)}function n(e){if(1!=e.touches.length)return!1;var t=e.touches[0];return t.radiusX<=1&&t.radiusY<=1}function r(e,t){if(null==t.left)return!0;var n=t.left-e.left,r=t.top-e.top;return n*n+r*r>400}var i=e.display;rl(i.scroller,"mousedown",pi(e,Aa)),ws&&11>Cs?rl(i.scroller,"dblclick",pi(e,function(t){if(!Et(e,t)){var n=_r(e,t);if(n&&!Wa(e,t)&&!Nn(e.display,t)){At(t);var r=e.findWordAt(n);mo(e.doc,r.anchor,r.head)}}})):rl(i.scroller,"dblclick",function(t){return Et(e,t)||At(t)}),js||rl(i.scroller,"contextmenu",function(t){return Ba(e,t)});var o,a={end:0};rl(i.scroller,"touchstart",function(t){if(!Et(e,t)&&!n(t)&&!Wa(e,t)){i.input.ensurePolled(),clearTimeout(o);var r=+new Date;i.activeTouch={start:r,moved:!1,prev:r-a.end<=300?a:null},1==t.touches.length&&(i.activeTouch.left=t.touches[0].pageX,i.activeTouch.top=t.touches[0].pageY)}}),rl(i.scroller,"touchmove",function(){i.activeTouch&&(i.activeTouch.moved=!0)}),rl(i.scroller,"touchend",function(n){var o=i.activeTouch;if(o&&!Nn(i,n)&&null!=o.left&&!o.moved&&new Date-o.start<300){var a,s=e.coordsChar(i.activeTouch,"page");a=!o.prev||r(o,o.prev)?new Al(s,s):!o.prev.prev||r(o,o.prev.prev)?e.findWordAt(s):new Al(H(s.line,0),z(e.doc,H(s.line+1,0))),e.setSelection(a.anchor,a.head),e.focus(),At(n)}t()}),rl(i.scroller,"touchcancel",t),rl(i.scroller,"scroll",function(){i.scroller.clientHeight&&(Zr(e,i.scroller.scrollTop),ei(e,i.scroller.scrollLeft,!0),Tt(e,"scroll",e))}),rl(i.scroller,"mousewheel",function(t){return ji(e,t)}),rl(i.scroller,"DOMMouseScroll",function(t){return ji(e,t)}),rl(i.wrapper,"scroll",function(){return i.wrapper.scrollTop=i.wrapper.scrollLeft=0}),i.dragFunctions={enter:function(t){Et(e,t)||Pt(t)},over:function(t){Et(e,t)||(Qo(e,t),Pt(t))},start:function(t){return Zo(e,t)},drop:pi(e,Jo),leave:function(t){Et(e,t)||ea(e)}};var s=i.input.getField();rl(s,"keyup",function(t){return Ma.call(e,t)}),rl(s,"keydown",pi(e,Ta)),rl(s,"keypress",pi(e,Ra)),rl(s,"focus",function(t){return Hr(e,t)}),rl(s,"blur",function(t){return Nr(e,t)})}function Xa(e,t,n,r){var i,o=e.doc;null==n&&(n="add"),"smart"==n&&(o.mode.indent?i=Xt(e,t).state:n="prev");var a=e.options.tabSize,s=E(o,t),l=h(s.text,null,a);s.stateAfter&&(s.stateAfter=null);var u,c=s.text.match(/^\s*/)[0];if(r||/\S/.test(s.text)){if("smart"==n&&(u=o.mode.indent(i,s.text.slice(c.length),s.text),u==qs||u>150)){if(!r)return;n="prev"}}else u=0,n="not";"prev"==n?u=t>o.first?h(E(o,t-1).text,null,a):0:"add"==n?u=l+e.options.indentUnit:"subtract"==n?u=l-e.options.indentUnit:"number"==typeof n&&(u=l+n),u=Math.max(0,u);var d="",f=0;if(e.options.indentWithTabs)for(var m=Math.floor(u/a);m;--m)f+=a,d+="	";if(u>f&&(d+=p(u-f)),d!=c)return Io(o,d,H(t,0),H(t,c.length),"+input"),s.stateAfter=null,!0;for(var g=0;g<o.sel.ranges.length;g++){var v=o.sel.ranges[g];if(v.head.line==t&&v.head.ch<c.length){var y=H(t,c.length);vo(o,g,new Al(y,y));break}}}function Ja(e){nu=e}function Za(e,t,n,r,i){var o=e.doc;e.display.shift=!1,r||(r=o.sel);var a=e.state.pasteIncoming||"paste"==i,s=ol(t),l=null;if(a&&r.ranges.length>1)if(nu&&nu.text.join("\n")==t){if(r.ranges.length%nu.text.length==0){l=[];for(var u=0;u<nu.text.length;u++)l.push(o.splitLines(nu.text[u]))}}else s.length==r.ranges.length&&e.options.pasteLinesPerSelection&&(l=g(s,function(e){return[e]}));for(var c,h=r.ranges.length-1;h>=0;h--){var d=r.ranges[h],f=d.from(),p=d.to();d.empty()&&(n&&n>0?f=H(f.line,f.ch-n):e.state.overwrite&&!a?p=H(p.line,Math.min(E(o,p.line).text.length,p.ch+m(s).length)):nu&&nu.lineWise&&nu.text.join("\n")==t&&(f=p=H(f.line,0))),c=e.curOp.updateInput;var v={from:f,to:p,text:l?l[h%l.length]:s,origin:i||(a?"paste":e.state.cutIncoming?"cut":"+input")};Ao(e.doc,v),Cn(e,"inputRead",e,v)}t&&!a&&es(e,t),Yr(e),e.curOp.updateInput=c,e.curOp.typing=!0,e.state.pasteIncoming=e.state.cutIncoming=!1}function Qa(e,t){var n=e.clipboardData&&e.clipboardData.getData("Text");return n?(e.preventDefault(),t.isReadOnly()||t.options.disableInput||fi(t,function(){return Za(t,n,0,null,"paste")}),!0):void 0}function es(e,t){if(e.options.electricChars&&e.options.smartIndent)for(var n=e.doc.sel,r=n.ranges.length-1;r>=0;r--){var i=n.ranges[r];if(!(i.head.ch>100||r&&n.ranges[r-1].head.line==i.head.line)){var o=e.getModeAt(i.head),a=!1;if(o.electricChars){for(var s=0;s<o.electricChars.length;s++)if(t.indexOf(o.electricChars.charAt(s))>-1){a=Xa(e,i.head.line,"smart");break}}else o.electricInput&&o.electricInput.test(E(e.doc,i.head.line).text.slice(0,i.head.ch))&&(a=Xa(e,i.head.line,"smart"));a&&Cn(e,"electricInput",e,i.head.line)}}}function ts(e){for(var t=[],n=[],r=0;r<e.doc.sel.ranges.length;r++){var i=e.doc.sel.ranges[r].head.line,o={anchor:H(i,0),head:H(i+1,0)};n.push(o),t.push(e.getRange(o.anchor,o.head))}return{text:t,ranges:n}}function ns(e,t){e.setAttribute("autocorrect","off"),e.setAttribute("autocapitalize","off"),e.setAttribute("spellcheck",!!t)}function rs(){var e=r("textarea",null,null,"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; outline: none"),t=r("div",[e],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");return xs?e.style.width="1000px":e.setAttribute("wrap","off"),Rs&&(e.style.border="1px solid black"),ns(e),t}function is(e,t,n,r,i){function o(){var r=t.line+n;return r<e.first||r>=e.first+e.size?!1:(t=new H(r,t.ch,t.sticky),u=E(e,r))}function a(r){var a;if(a=i?ga(e.cm,u,t,n):pa(u,t,n),null==a){if(r||!o())return!1;t=ma(i,e.cm,u,t.line,n)}else t=a;return!0}var s=t,l=n,u=E(e,t.line);if("char"==r)a();else if("column"==r)a(!0);else if("word"==r||"group"==r)for(var c=null,h="group"==r,d=e.cm&&e.cm.getHelper(t,"wordChars"),f=!0;!(0>n)||a(!f);f=!1){var p=u.text.charAt(t.ch)||"\n",m=C(p,d)?"w":h&&"\n"==p?"n":!h||/\s/.test(p)?null:"p";if(!h||f||m||(m="s"),c&&c!=m){0>n&&(n=1,a(),t.sticky="after");break}if(m&&(c=m),n>0&&!a(!f))break}var g=Eo(e,t,s,l,!0);return I(s,g)&&(g.hitSide=!0),g}function os(e,t,n,r){var i,o=e.doc,a=t.left;if("page"==r){var s=Math.min(e.display.wrapper.clientHeight,window.innerHeight||document.documentElement.clientHeight),l=Math.max(s-.5*br(e.display),3);i=(n>0?t.bottom:t.top)+n*l}else"line"==r&&(i=n>0?t.bottom+3:t.top-3);for(var u;u=dr(e,a,i),u.outside;){if(0>n?0>=i:i>=o.height){u.hitSide=!0;break}i+=5*n}return u}function as(e,t){var n=Yn(e,t.line);if(!n||n.hidden)return null;var r=E(e.doc,t.line),i=Vn(n,r,t.line),o=kt(r,e.doc.direction),a="left";if(o){var s=xt(o,t.ch);a=s%2?"right":"left"}var l=Xn(i.map,t.ch,a);return l.offset="right"==l.collapse?l.end:l.start,l}function ss(e){for(var t=e;t;t=t.parentNode)if(/CodeMirror-gutter-wrapper/.test(t.className))return!0;return!1}function ls(e,t){return t&&(e.bad=!0),e}function us(e,t,n,r,i){function o(e){return function(t){return t.id==e}}function a(){c&&(u+=h,c=!1)}function s(e){e&&(a(),u+=e)}function l(t){if(1==t.nodeType){var n=t.getAttribute("cm-text");if(null!=n)return s(n||t.textContent.replace(/\u200b/g,"")),void 0;var u,d=t.getAttribute("cm-marker");if(d){var f=e.findMarks(H(r,0),H(i+1,0),o(+d));return f.length&&(u=f[0].find(0))&&s(M(e.doc,u.from,u.to).join(h)),void 0}if("false"==t.getAttribute("contenteditable"))return;var p=/^(pre|div|p)$/i.test(t.nodeName);p&&a();for(var m=0;m<t.childNodes.length;m++)l(t.childNodes[m]);p&&(c=!0)}else 3==t.nodeType&&s(t.nodeValue)}for(var u="",c=!1,h=e.doc.lineSeparator();l(t),t!=n;)t=t.nextSibling;return u}function cs(e,t,n){var r;if(t==e.display.lineDiv){if(r=e.display.lineDiv.childNodes[n],!r)return ls(e.clipPos(H(e.display.viewTo-1)),!0);t=null,n=0}else for(r=t;;r=r.parentNode){if(!r||r==e.display.lineDiv)return null;if(r.parentNode&&r.parentNode==e.display.lineDiv)break}for(var i=0;i<e.display.view.length;i++){var o=e.display.view[i];if(o.node==r)return hs(o,t,n)}}function hs(e,t,n){function r(t,n,r){for(var i=-1;i<(h?h.length:0);i++)for(var o=0>i?c.map:h[i],a=0;a<o.length;a+=3){var s=o[a+2];if(s==t||s==n){var l=A(0>i?e.line:e.rest[i]),u=o[a]+r;return(0>r||s!=t)&&(u=o[a+(r?1:0)]),H(l,u)}}}var i=e.text.firstChild,a=!1;if(!t||!o(i,t))return ls(H(A(e.line),0),!0);if(t==i&&(a=!0,t=i.childNodes[n],n=0,!t)){var s=e.rest?m(e.rest):e.line;return ls(H(A(s),s.text.length),a)}var l=3==t.nodeType?t:null,u=t;for(l||1!=t.childNodes.length||3!=t.firstChild.nodeType||(l=t.firstChild,n&&(n=l.nodeValue.length));u.parentNode!=i;)u=u.parentNode;var c=e.measure,h=c.maps,d=r(l,u,n);if(d)return ls(d,a);for(var f=u.nextSibling,p=l?l.nodeValue.length-n:0;f;f=f.nextSibling){if(d=r(f,f.firstChild,0))return ls(H(d.line,d.ch-p),a);p+=f.textContent.length}for(var g=u.previousSibling,v=n;g;g=g.previousSibling){if(d=r(g,g.firstChild,-1))return ls(H(d.line,d.ch+v),a);v+=g.textContent.length}}function ds(e,t){function n(){e.value=u.getValue()}if(t=t?c(t):{},t.value=e.value,!t.tabindex&&e.tabIndex&&(t.tabindex=e.tabIndex),!t.placeholder&&e.placeholder&&(t.placeholder=e.placeholder),null==t.autofocus){var r=a();t.autofocus=r==e||null!=e.getAttribute("autofocus")&&r==document.body}var i;if(e.form&&(rl(e.form,"submit",n),!t.leaveSubmitMethodAlone)){var o=e.form;i=o.submit;try{var s=o.submit=function(){n(),o.submit=i,o.submit(),o.submit=s}}catch(l){}}t.finishInit=function(t){t.save=n,t.getTextArea=function(){return e},t.toTextArea=function(){t.toTextArea=isNaN,n(),e.parentNode.removeChild(t.getWrapperElement()),e.style.display="",e.form&&(_t(e.form,"submit",n),"function"==typeof e.form.submit&&(e.form.submit=i))}},e.style.display="none";var u=Ga(function(t){return e.parentNode.insertBefore(t,e.nextSibling)},t);return u}function fs(e){e.off=_t,e.on=rl,e.wheelEventPixels=Ii,e.Doc=Il,e.splitLines=ol,e.countColumn=h,e.findColumn=f,e.isWordChar=w,e.Pass=qs,e.signal=Tt,e.Line=gl,e.changeEnd=Bi,e.scrollbarModel=_l,e.Pos=H,e.cmpPos=N,e.modes=ul,e.mimeModes=cl,e.resolveMode=zt,e.getMode=Ut,e.modeExtensions=hl,e.extendMode=Vt,e.copyState=qt,e.startState=Yt,e.innerMode=$t,e.commands=ql,e.keyMap=Vl,e.keyName=ca,e.isModifierKey=la,e.lookupKey=sa,e.normalizeKeyMap=aa,e.StringStream=dl,e.SharedTextMarker=Hl,e.TextMarker=Pl,e.LineWidget=Ll,e.e_preventDefault=At,e.e_stopPropagation=Lt,e.e_stop=Pt,e.addClass=s,e.contains=o,e.rmClass=Fs,e.keyNames=Wl}var ps=navigator.userAgent,ms=navigator.platform,gs=/gecko\/\d/i.test(ps),vs=/MSIE \d/.test(ps),ys=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(ps),bs=/Edge\/(\d+)/.exec(ps),ws=vs||ys||bs,Cs=ws&&(vs?document.documentMode||6:+(bs||ys)[1]),xs=!bs&&/WebKit\//.test(ps),ks=xs&&/Qt\/\d+\.\d+/.test(ps),Ss=!bs&&/Chrome\//.test(ps),_s=/Opera\//.test(ps),Ts=/Apple Computer/.test(navigator.vendor),Es=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(ps),Ms=/PhantomJS/.test(ps),Rs=!bs&&/AppleWebKit/.test(ps)&&/Mobile\/\w+/.test(ps),Os=/Android/.test(ps),As=Rs||Os||/webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(ps),Ls=Rs||/Mac/.test(ms),Ds=/\bCrOS\b/.test(ps),Ps=/win/i.test(ms),Hs=_s&&ps.match(/Version\/(\d*\.\d*)/);Hs&&(Hs=Number(Hs[1])),Hs&&Hs>=15&&(_s=!1,xs=!0);var Ns,Is=Ls&&(ks||_s&&(null==Hs||12.11>Hs)),js=gs||ws&&Cs>=9,Fs=function(t,n){var r=t.className,i=e(n).exec(r);if(i){var o=r.slice(i.index+i[0].length);t.className=r.slice(0,i.index)+(o?i[1]+o:"")}};Ns=document.createRange?function(e,t,n,r){var i=document.createRange();return i.setEnd(r||e,n),i.setStart(e,t),i}:function(e,t,n){var r=document.body.createTextRange();try{r.moveToElementText(e.parentNode)}catch(i){return r}return r.collapse(!0),r.moveEnd("character",n),r.moveStart("character",t),r};var Ws=function(e){e.select()};Rs?Ws=function(e){e.selectionStart=0,e.selectionEnd=e.value.length}:ws&&(Ws=function(e){try{e.select()}catch(t){}});var Bs=function(){this.id=null};Bs.prototype.set=function(e,t){clearTimeout(this.id),this.id=setTimeout(t,e)};var zs,Us,Vs=30,qs={toString:function(){return"CodeMirror.Pass"}},$s={scroll:!1},Ys={origin:"*mouse"},Gs={origin:"+move"},Ks=[""],Xs=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/,Js=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/,Zs=!1,Qs=!1,el=null,tl=function(){function e(e){return 247>=e?n.charAt(e):e>=1424&&1524>=e?"R":e>=1536&&1785>=e?r.charAt(e-1536):e>=1774&&2220>=e?"r":e>=8192&&8203>=e?"w":8204==e?"b":"L"}function t(e,t,n){this.level=e,this.from=t,this.to=n}var n="bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN",r="nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111",i=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,o=/[stwN]/,a=/[LRr]/,s=/[Lb1n]/,l=/[1n]/;return function(n,r){var u="ltr"==r?"L":"R";if(0==n.length||"ltr"==r&&!i.test(n))return!1;for(var c=n.length,h=[],d=0;c>d;++d)h.push(e(n.charCodeAt(d)));for(var f=0,p=u;c>f;++f){var g=h[f];"m"==g?h[f]=p:p=g}for(var v=0,y=u;c>v;++v){var b=h[v];"1"==b&&"r"==y?h[v]="n":a.test(b)&&(y=b,"r"==b&&(h[v]="R"))}for(var w=1,C=h[0];c-1>w;++w){var x=h[w];"+"==x&&"1"==C&&"1"==h[w+1]?h[w]="1":","!=x||C!=h[w+1]||"1"!=C&&"n"!=C||(h[w]=C),C=x}for(var k=0;c>k;++k){var S=h[k];if(","==S)h[k]="N";else if("%"==S){var _=void 0;for(_=k+1;c>_&&"%"==h[_];++_);for(var T=k&&"!"==h[k-1]||c>_&&"1"==h[_]?"1":"N",E=k;_>E;++E)h[E]=T;k=_-1}}for(var M=0,R=u;c>M;++M){var O=h[M];"L"==R&&"1"==O?h[M]="L":a.test(O)&&(R=O)}for(var A=0;c>A;++A)if(o.test(h[A])){var L=void 0;for(L=A+1;c>L&&o.test(h[L]);++L);for(var D="L"==(A?h[A-1]:u),P="L"==(c>L?h[L]:u),H=D==P?D?"L":"R":u,N=A;L>N;++N)h[N]=H;A=L-1}for(var I,j=[],F=0;c>F;)if(s.test(h[F])){var W=F;for(++F;c>F&&s.test(h[F]);++F);j.push(new t(0,W,F))}else{var B=F,z=j.length;for(++F;c>F&&"L"!=h[F];++F);for(var U=B;F>U;)if(l.test(h[U])){U>B&&j.splice(z,0,new t(1,B,U));var V=U;for(++U;F>U&&l.test(h[U]);++U);j.splice(z,0,new t(2,V,U)),B=U}else++U;F>B&&j.splice(z,0,new t(1,B,F))}return"ltr"==r&&(1==j[0].level&&(I=n.match(/^\s+/))&&(j[0].from=I[0].length,j.unshift(new t(0,0,I[0].length))),1==m(j).level&&(I=n.match(/\s+$/))&&(m(j).to-=I[0].length,j.push(new t(0,c-I[0].length,c)))),"rtl"==r?j.reverse():j}}(),nl=[],rl=function(e,t,n){if(e.addEventListener)e.addEventListener(t,n,!1);else if(e.attachEvent)e.attachEvent("on"+t,n);else{var r=e._handlers||(e._handlers={});r[t]=(r[t]||nl).concat(n)}},il=function(){if(ws&&9>Cs)return!1;var e=r("div");return"draggable"in e||"dragDrop"in e}(),ol=3!="\n\nb".split(/\n/).length?function(e){for(var t=0,n=[],r=e.length;r>=t;){var i=e.indexOf("\n",t);-1==i&&(i=e.length);var o=e.slice(t,"\r"==e.charAt(i-1)?i-1:i),a=o.indexOf("\r");-1!=a?(n.push(o.slice(0,a)),t+=a+1):(n.push(o),t=i+1)}return n}:function(e){return e.split(/\r\n?|\n/)},al=window.getSelection?function(e){try{return e.selectionStart!=e.selectionEnd}catch(t){return!1}}:function(e){var t;try{t=e.ownerDocument.selection.createRange()}catch(n){}return t&&t.parentElement()==e?0!=t.compareEndPoints("StartToEnd",t):!1},sl=function(){var e=r("div");return"oncopy"in e?!0:(e.setAttribute("oncopy","return;"),"function"==typeof e.oncopy)}(),ll=null,ul={},cl={},hl={},dl=function(e,t,n){this.pos=this.start=0,this.string=e,this.tabSize=t||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0,this.lineOracle=n};dl.prototype.eol=function(){return this.pos>=this.string.length},dl.prototype.sol=function(){return this.pos==this.lineStart},dl.prototype.peek=function(){return this.string.charAt(this.pos)||void 0},dl.prototype.next=function(){return this.pos<this.string.length?this.string.charAt(this.pos++):void 0},dl.prototype.eat=function(e){var t,n=this.string.charAt(this.pos);return t="string"==typeof e?n==e:n&&(e.test?e.test(n):e(n)),t?(++this.pos,n):void 0},dl.prototype.eatWhile=function(e){for(var t=this.pos;this.eat(e););return this.pos>t},dl.prototype.eatSpace=function(){for(var e=this,t=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++e.pos;return this.pos>t},dl.prototype.skipToEnd=function(){this.pos=this.string.length},dl.prototype.skipTo=function(e){var t=this.string.indexOf(e,this.pos);return t>-1?(this.pos=t,!0):void 0},dl.prototype.backUp=function(e){this.pos-=e},dl.prototype.column=function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=h(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?h(this.string,this.lineStart,this.tabSize):0)
},dl.prototype.indentation=function(){return h(this.string,null,this.tabSize)-(this.lineStart?h(this.string,this.lineStart,this.tabSize):0)},dl.prototype.match=function(e,t,n){if("string"!=typeof e){var r=this.string.slice(this.pos).match(e);return r&&r.index>0?null:(r&&t!==!1&&(this.pos+=r[0].length),r)}var i=function(e){return n?e.toLowerCase():e},o=this.string.substr(this.pos,e.length);return i(o)==i(e)?(t!==!1&&(this.pos+=e.length),!0):void 0},dl.prototype.current=function(){return this.string.slice(this.start,this.pos)},dl.prototype.hideFirstChars=function(e,t){this.lineStart+=e;try{return t()}finally{this.lineStart-=e}},dl.prototype.lookAhead=function(e){var t=this.lineOracle;return t&&t.lookAhead(e)},dl.prototype.baseToken=function(){var e=this.lineOracle;return e&&e.baseToken(this.pos)};var fl=function(e,t){this.state=e,this.lookAhead=t},pl=function(e,t,n,r){this.state=t,this.doc=e,this.line=n,this.maxLookAhead=r||0,this.baseTokens=null,this.baseTokenPos=1};pl.prototype.lookAhead=function(e){var t=this.doc.getLine(this.line+e);return null!=t&&e>this.maxLookAhead&&(this.maxLookAhead=e),t},pl.prototype.baseToken=function(e){var t=this;if(!this.baseTokens)return null;for(;this.baseTokens[this.baseTokenPos]<=e;)t.baseTokenPos+=2;var n=this.baseTokens[this.baseTokenPos+1];return{type:n&&n.replace(/( |^)overlay .*/,""),size:this.baseTokens[this.baseTokenPos]-e}},pl.prototype.nextLine=function(){this.line++,this.maxLookAhead>0&&this.maxLookAhead--},pl.fromSaved=function(e,t,n){return t instanceof fl?new pl(e,qt(e.mode,t.state),n,t.lookAhead):new pl(e,qt(e.mode,t),n)},pl.prototype.save=function(e){var t=e!==!1?qt(this.doc.mode,this.state):this.state;return this.maxLookAhead>0?new fl(t,this.maxLookAhead):t};var ml=function(e,t,n){this.start=e.start,this.end=e.pos,this.string=e.current(),this.type=t||null,this.state=n},gl=function(e,t,n){this.text=e,rt(this,t),this.height=n?n(this):1};gl.prototype.lineNo=function(){return A(this)},Ot(gl);var vl,yl={},bl={},wl=null,Cl=null,xl={left:0,right:0,top:0,bottom:0},kl=function(e,t,n){this.cm=n;var i=this.vert=r("div",[r("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),o=this.horiz=r("div",[r("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");e(i),e(o),rl(i,"scroll",function(){i.clientHeight&&t(i.scrollTop,"vertical")}),rl(o,"scroll",function(){o.clientWidth&&t(o.scrollLeft,"horizontal")}),this.checkedZeroWidth=!1,ws&&8>Cs&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")};kl.prototype.update=function(e){var t=e.scrollWidth>e.clientWidth+1,n=e.scrollHeight>e.clientHeight+1,r=e.nativeBarWidth;if(n){this.vert.style.display="block",this.vert.style.bottom=t?r+"px":"0";var i=e.viewHeight-(t?r:0);this.vert.firstChild.style.height=Math.max(0,e.scrollHeight-e.clientHeight+i)+"px"}else this.vert.style.display="",this.vert.firstChild.style.height="0";if(t){this.horiz.style.display="block",this.horiz.style.right=n?r+"px":"0",this.horiz.style.left=e.barLeft+"px";var o=e.viewWidth-e.barLeft-(n?r:0);this.horiz.firstChild.style.width=Math.max(0,e.scrollWidth-e.clientWidth+o)+"px"}else this.horiz.style.display="",this.horiz.firstChild.style.width="0";return!this.checkedZeroWidth&&e.clientHeight>0&&(0==r&&this.zeroWidthHack(),this.checkedZeroWidth=!0),{right:n?r:0,bottom:t?r:0}},kl.prototype.setScrollLeft=function(e){this.horiz.scrollLeft!=e&&(this.horiz.scrollLeft=e),this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz,"horiz")},kl.prototype.setScrollTop=function(e){this.vert.scrollTop!=e&&(this.vert.scrollTop=e),this.disableVert&&this.enableZeroWidthBar(this.vert,this.disableVert,"vert")},kl.prototype.zeroWidthHack=function(){var e=Ls&&!Es?"12px":"18px";this.horiz.style.height=this.vert.style.width=e,this.horiz.style.pointerEvents=this.vert.style.pointerEvents="none",this.disableHoriz=new Bs,this.disableVert=new Bs},kl.prototype.enableZeroWidthBar=function(e,t,n){function r(){var i=e.getBoundingClientRect(),o="vert"==n?document.elementFromPoint(i.right-1,(i.top+i.bottom)/2):document.elementFromPoint((i.right+i.left)/2,i.bottom-1);o!=e?e.style.pointerEvents="none":t.set(1e3,r)}e.style.pointerEvents="auto",t.set(1e3,r)},kl.prototype.clear=function(){var e=this.horiz.parentNode;e.removeChild(this.horiz),e.removeChild(this.vert)};var Sl=function(){};Sl.prototype.update=function(){return{bottom:0,right:0}},Sl.prototype.setScrollLeft=function(){},Sl.prototype.setScrollTop=function(){},Sl.prototype.clear=function(){};var _l={"native":kl,"null":Sl},Tl=0,El=function(e,t,n){var r=e.display;this.viewport=t,this.visible=Fr(r,e.doc,t),this.editorIsHidden=!r.wrapper.offsetWidth,this.wrapperHeight=r.wrapper.clientHeight,this.wrapperWidth=r.wrapper.clientWidth,this.oldDisplayWidth=Bn(e),this.force=n,this.dims=Cr(e),this.events=[]};El.prototype.signal=function(e,t){Rt(e,t)&&this.events.push(arguments)},El.prototype.finish=function(){for(var e=this,t=0;t<this.events.length;t++)Tt.apply(null,e.events[t])};var Ml=0,Rl=null;ws?Rl=-.53:gs?Rl=15:Ss?Rl=-.7:Ts&&(Rl=-1/3);var Ol=function(e,t){this.ranges=e,this.primIndex=t};Ol.prototype.primary=function(){return this.ranges[this.primIndex]},Ol.prototype.equals=function(e){var t=this;if(e==this)return!0;if(e.primIndex!=this.primIndex||e.ranges.length!=this.ranges.length)return!1;for(var n=0;n<this.ranges.length;n++){var r=t.ranges[n],i=e.ranges[n];if(!I(r.anchor,i.anchor)||!I(r.head,i.head))return!1}return!0},Ol.prototype.deepCopy=function(){for(var e=this,t=[],n=0;n<this.ranges.length;n++)t[n]=new Al(j(e.ranges[n].anchor),j(e.ranges[n].head));return new Ol(t,this.primIndex)},Ol.prototype.somethingSelected=function(){for(var e=this,t=0;t<this.ranges.length;t++)if(!e.ranges[t].empty())return!0;return!1},Ol.prototype.contains=function(e,t){var n=this;t||(t=e);for(var r=0;r<this.ranges.length;r++){var i=n.ranges[r];if(N(t,i.from())>=0&&N(e,i.to())<=0)return r}return-1};var Al=function(e,t){this.anchor=e,this.head=t};Al.prototype.from=function(){return W(this.anchor,this.head)},Al.prototype.to=function(){return F(this.anchor,this.head)},Al.prototype.empty=function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch},zo.prototype={chunkSize:function(){return this.lines.length},removeInner:function(e,t){for(var n=this,r=e,i=e+t;i>r;++r){var o=n.lines[r];n.height-=o.height,sn(o),Cn(o,"delete")}this.lines.splice(e,t)},collapse:function(e){e.push.apply(e,this.lines)},insertInner:function(e,t,n){var r=this;this.height+=n,this.lines=this.lines.slice(0,e).concat(t).concat(this.lines.slice(e));for(var i=0;i<t.length;++i)t[i].parent=r},iterN:function(e,t,n){for(var r=this,i=e+t;i>e;++e)if(n(r.lines[e]))return!0}},Uo.prototype={chunkSize:function(){return this.size},removeInner:function(e,t){var n=this;this.size-=t;for(var r=0;r<this.children.length;++r){var i=n.children[r],o=i.chunkSize();if(o>e){var a=Math.min(t,o-e),s=i.height;if(i.removeInner(e,a),n.height-=s-i.height,o==a&&(n.children.splice(r--,1),i.parent=null),0==(t-=a))break;e=0}else e-=o}if(this.size-t<25&&(this.children.length>1||!(this.children[0]instanceof zo))){var l=[];this.collapse(l),this.children=[new zo(l)],this.children[0].parent=this}},collapse:function(e){for(var t=this,n=0;n<this.children.length;++n)t.children[n].collapse(e)},insertInner:function(e,t,n){var r=this;this.size+=t.length,this.height+=n;for(var i=0;i<this.children.length;++i){var o=r.children[i],a=o.chunkSize();if(a>=e){if(o.insertInner(e,t,n),o.lines&&o.lines.length>50){for(var s=o.lines.length%25+25,l=s;l<o.lines.length;){var u=new zo(o.lines.slice(l,l+=25));o.height-=u.height,r.children.splice(++i,0,u),u.parent=r}o.lines=o.lines.slice(0,s),r.maybeSpill()}break}e-=a}},maybeSpill:function(){if(!(this.children.length<=10)){var e=this;do{var t=e.children.splice(e.children.length-5,5),n=new Uo(t);if(e.parent){e.size-=n.size,e.height-=n.height;var r=d(e.parent.children,e);e.parent.children.splice(r+1,0,n)}else{var i=new Uo(e.children);i.parent=e,e.children=[i,n],e=i}n.parent=e.parent}while(e.children.length>10);e.parent.maybeSpill()}},iterN:function(e,t,n){for(var r=this,i=0;i<this.children.length;++i){var o=r.children[i],a=o.chunkSize();if(a>e){var s=Math.min(t,a-e);if(o.iterN(e,s,n))return!0;if(0==(t-=s))break;e=0}else e-=a}}};var Ll=function(e,t,n){var r=this;if(n)for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i]);this.doc=e,this.node=t};Ll.prototype.clear=function(){var e=this,t=this.doc.cm,n=this.line.widgets,r=this.line,i=A(r);if(null!=i&&n){for(var o=0;o<n.length;++o)n[o]==e&&n.splice(o--,1);n.length||(r.widgets=null);var a=Hn(this);O(r,Math.max(0,r.height-a)),t&&(fi(t,function(){Vo(t,r,-a),yi(t,i,"widget")}),Cn(t,"lineWidgetCleared",t,this,i))}},Ll.prototype.changed=function(){var e=this,t=this.height,n=this.doc.cm,r=this.line;this.height=null;var i=Hn(this)-t;i&&(O(r,r.height+i),n&&fi(n,function(){n.curOp.forceUpdate=!0,Vo(n,r,i),Cn(n,"lineWidgetChanged",n,e,A(r))}))},Ot(Ll);var Dl=0,Pl=function(e,t){this.lines=[],this.type=t,this.doc=e,this.id=++Dl};Pl.prototype.clear=function(){var e=this;if(!this.explicitlyCleared){var t=this.doc.cm,n=t&&!t.curOp;if(n&&oi(t),Rt(this,"clear")){var r=this.find();r&&Cn(this,"clear",r.from,r.to)}for(var i=null,o=null,a=0;a<this.lines.length;++a){var s=e.lines[a],l=G(s.markedSpans,e);t&&!e.collapsed?yi(t,A(s),"text"):t&&(null!=l.to&&(o=A(s)),null!=l.from&&(i=A(s))),s.markedSpans=K(s.markedSpans,l),null==l.from&&e.collapsed&&!gt(e.doc,s)&&t&&O(s,br(t.display))}if(t&&this.collapsed&&!t.options.lineWrapping)for(var u=0;u<this.lines.length;++u){var c=ht(e.lines[u]),h=bt(c);h>t.display.maxLineLength&&(t.display.maxLine=c,t.display.maxLineLength=h,t.display.maxLineChanged=!0)}null!=i&&t&&this.collapsed&&vi(t,i,o+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,t&&So(t.doc)),t&&Cn(t,"markerCleared",t,this,i,o),n&&ai(t),this.parent&&this.parent.clear()}},Pl.prototype.find=function(e,t){var n=this;null==e&&"bookmark"==this.type&&(e=1);for(var r,i,o=0;o<this.lines.length;++o){var a=n.lines[o],s=G(a.markedSpans,n);if(null!=s.from&&(r=H(t?a:A(a),s.from),-1==e))return r;if(null!=s.to&&(i=H(t?a:A(a),s.to),1==e))return i}return r&&{from:r,to:i}},Pl.prototype.changed=function(){var e=this,t=this.find(-1,!0),n=this,r=this.doc.cm;t&&r&&fi(r,function(){var i=t.line,o=A(t.line),a=Yn(r,o);if(a&&(er(a),r.curOp.selectionChanged=r.curOp.forceUpdate=!0),r.curOp.updateMaxLine=!0,!gt(n.doc,i)&&null!=n.height){var s=n.height;n.height=null;var l=Hn(n)-s;l&&O(i,i.height+l)}Cn(r,"markerChanged",r,e)})},Pl.prototype.attachLine=function(e){if(!this.lines.length&&this.doc.cm){var t=this.doc.cm.curOp;t.maybeHiddenMarkers&&-1!=d(t.maybeHiddenMarkers,this)||(t.maybeUnhiddenMarkers||(t.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(e)},Pl.prototype.detachLine=function(e){if(this.lines.splice(d(this.lines,e),1),!this.lines.length&&this.doc.cm){var t=this.doc.cm.curOp;(t.maybeHiddenMarkers||(t.maybeHiddenMarkers=[])).push(this)}},Ot(Pl);var Hl=function(e,t){var n=this;this.markers=e,this.primary=t;for(var r=0;r<e.length;++r)e[r].parent=n};Hl.prototype.clear=function(){var e=this;if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var t=0;t<this.markers.length;++t)e.markers[t].clear();Cn(this,"clear")}},Hl.prototype.find=function(e,t){return this.primary.find(e,t)},Ot(Hl);var Nl=0,Il=function(e,t,n,r,i){if(!(this instanceof Il))return new Il(e,t,n,r,i);null==n&&(n=0),Uo.call(this,[new zo([new gl("",null)])]),this.first=n,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.modeFrontier=this.highlightFrontier=n;var o=H(n,0);this.sel=Wi(o),this.history=new eo(null),this.id=++Nl,this.modeOption=t,this.lineSep=r,this.direction="rtl"==i?"rtl":"ltr",this.extend=!1,"string"==typeof e&&(e=this.splitLines(e)),Ki(this,{from:o,to:o,text:e}),Co(this,Wi(o),$s)};Il.prototype=b(Uo.prototype,{constructor:Il,iter:function(e,t,n){n?this.iterN(e-this.first,t-e,n):this.iterN(this.first,this.first+this.size,e)},insert:function(e,t){for(var n=0,r=0;r<t.length;++r)n+=t[r].height;this.insertInner(e-this.first,t,n)},remove:function(e,t){this.removeInner(e-this.first,t)},getValue:function(e){var t=R(this,this.first,this.first+this.size);return e===!1?t:t.join(e||this.lineSeparator())},setValue:gi(function(e){var t=H(this.first,0),n=this.first+this.size-1;Ao(this,{from:t,to:H(n,E(this,n).text.length),text:this.splitLines(e),origin:"setValue",full:!0},!0),this.cm&&Gr(this.cm,0,0),Co(this,Wi(t),$s)}),replaceRange:function(e,t,n,r){t=z(this,t),n=n?z(this,n):t,Io(this,e,t,n,r)},getRange:function(e,t,n){var r=M(this,z(this,e),z(this,t));return n===!1?r:r.join(n||this.lineSeparator())},getLine:function(e){var t=this.getLineHandle(e);return t&&t.text},getLineHandle:function(e){return D(this,e)?E(this,e):void 0},getLineNumber:function(e){return A(e)},getLineHandleVisualStart:function(e){return"number"==typeof e&&(e=E(this,e)),ht(e)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(e){return z(this,e)},getCursor:function(e){var t,n=this.sel.primary();return t=null==e||"head"==e?n.head:"anchor"==e?n.anchor:"end"==e||"to"==e||e===!1?n.to():n.from()},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:gi(function(e,t,n){yo(this,z(this,"number"==typeof e?H(e,t||0):e),null,n)}),setSelection:gi(function(e,t,n){yo(this,z(this,e),z(this,t||e),n)}),extendSelection:gi(function(e,t,n){mo(this,z(this,e),t&&z(this,t),n)}),extendSelections:gi(function(e,t){go(this,V(this,e),t)}),extendSelectionsBy:gi(function(e,t){var n=g(this.sel.ranges,e);go(this,V(this,n),t)}),setSelections:gi(function(e,t,n){var r=this;if(e.length){for(var i=[],o=0;o<e.length;o++)i[o]=new Al(z(r,e[o].anchor),z(r,e[o].head));null==t&&(t=Math.min(e.length-1,this.sel.primIndex)),Co(this,Fi(i,t),n)}}),addSelection:gi(function(e,t,n){var r=this.sel.ranges.slice(0);r.push(new Al(z(this,e),z(this,t||e))),Co(this,Fi(r,r.length-1),n)}),getSelection:function(e){for(var t,n=this,r=this.sel.ranges,i=0;i<r.length;i++){var o=M(n,r[i].from(),r[i].to());t=t?t.concat(o):o}return e===!1?t:t.join(e||this.lineSeparator())},getSelections:function(e){for(var t=this,n=[],r=this.sel.ranges,i=0;i<r.length;i++){var o=M(t,r[i].from(),r[i].to());e!==!1&&(o=o.join(e||t.lineSeparator())),n[i]=o}return n},replaceSelection:function(e,t,n){for(var r=[],i=0;i<this.sel.ranges.length;i++)r[i]=e;this.replaceSelections(r,t,n||"+input")},replaceSelections:gi(function(e,t,n){for(var r=this,i=[],o=this.sel,a=0;a<o.ranges.length;a++){var s=o.ranges[a];i[a]={from:s.from(),to:s.to(),text:r.splitLines(e[a]),origin:n}}for(var l=t&&"end"!=t&&qi(this,i,t),u=i.length-1;u>=0;u--)Ao(r,i[u]);l?wo(this,l):this.cm&&Yr(this.cm)}),undo:gi(function(){Do(this,"undo")}),redo:gi(function(){Do(this,"redo")}),undoSelection:gi(function(){Do(this,"undo",!0)}),redoSelection:gi(function(){Do(this,"redo",!0)}),setExtending:function(e){this.extend=e},getExtending:function(){return this.extend},historySize:function(){for(var e=this.history,t=0,n=0,r=0;r<e.done.length;r++)e.done[r].ranges||++t;for(var i=0;i<e.undone.length;i++)e.undone[i].ranges||++n;return{undo:t,redo:n}},clearHistory:function(){this.history=new eo(this.history.maxGeneration)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(e){return e&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(e){return this.history.generation==(e||this.cleanGeneration)},getHistory:function(){return{done:fo(this.history.done),undone:fo(this.history.undone)}},setHistory:function(e){var t=this.history=new eo(this.history.maxGeneration);t.done=fo(e.done.slice(0),null,!0),t.undone=fo(e.undone.slice(0),null,!0)},setGutterMarker:gi(function(e,t,n){return Bo(this,e,"gutter",function(e){var r=e.gutterMarkers||(e.gutterMarkers={});return r[t]=n,!n&&x(r)&&(e.gutterMarkers=null),!0})}),clearGutter:gi(function(e){var t=this;this.iter(function(n){n.gutterMarkers&&n.gutterMarkers[e]&&Bo(t,n,"gutter",function(){return n.gutterMarkers[e]=null,x(n.gutterMarkers)&&(n.gutterMarkers=null),!0})})}),lineInfo:function(e){var t;if("number"==typeof e){if(!D(this,e))return null;if(t=e,e=E(this,e),!e)return null}else if(t=A(e),null==t)return null;return{line:t,handle:e,text:e.text,gutterMarkers:e.gutterMarkers,textClass:e.textClass,bgClass:e.bgClass,wrapClass:e.wrapClass,widgets:e.widgets}},addLineClass:gi(function(t,n,r){return Bo(this,t,"gutter"==n?"gutter":"class",function(t){var i="text"==n?"textClass":"background"==n?"bgClass":"gutter"==n?"gutterClass":"wrapClass";if(t[i]){if(e(r).test(t[i]))return!1;t[i]+=" "+r}else t[i]=r;return!0})}),removeLineClass:gi(function(t,n,r){return Bo(this,t,"gutter"==n?"gutter":"class",function(t){var i="text"==n?"textClass":"background"==n?"bgClass":"gutter"==n?"gutterClass":"wrapClass",o=t[i];if(!o)return!1;if(null==r)t[i]=null;else{var a=o.match(e(r));if(!a)return!1;var s=a.index+a[0].length;t[i]=o.slice(0,a.index)+(a.index&&s!=o.length?" ":"")+o.slice(s)||null}return!0})}),addLineWidget:gi(function(e,t,n){return qo(this,e,t,n)}),removeLineWidget:function(e){e.clear()},markText:function(e,t,n){return $o(this,z(this,e),z(this,t),n,n&&n.type||"range")},setBookmark:function(e,t){var n={replacedWith:t&&(null==t.nodeType?t.widget:t),insertLeft:t&&t.insertLeft,clearWhenEmpty:!1,shared:t&&t.shared,handleMouseEvents:t&&t.handleMouseEvents};return e=z(this,e),$o(this,e,e,n,"bookmark")},findMarksAt:function(e){e=z(this,e);var t=[],n=E(this,e.line).markedSpans;if(n)for(var r=0;r<n.length;++r){var i=n[r];(null==i.from||i.from<=e.ch)&&(null==i.to||i.to>=e.ch)&&t.push(i.marker.parent||i.marker)}return t},findMarks:function(e,t,n){e=z(this,e),t=z(this,t);var r=[],i=e.line;return this.iter(e.line,t.line+1,function(o){var a=o.markedSpans;if(a)for(var s=0;s<a.length;s++){var l=a[s];null!=l.to&&i==e.line&&e.ch>=l.to||null==l.from&&i!=e.line||null!=l.from&&i==t.line&&l.from>=t.ch||n&&!n(l.marker)||r.push(l.marker.parent||l.marker)}++i}),r},getAllMarks:function(){var e=[];return this.iter(function(t){var n=t.markedSpans;if(n)for(var r=0;r<n.length;++r)null!=n[r].from&&e.push(n[r].marker)}),e},posFromIndex:function(e){var t,n=this.first,r=this.lineSeparator().length;return this.iter(function(i){var o=i.text.length+r;return o>e?(t=e,!0):(e-=o,++n,void 0)}),z(this,H(n,t))},indexFromPos:function(e){e=z(this,e);var t=e.ch;if(e.line<this.first||e.ch<0)return 0;var n=this.lineSeparator().length;return this.iter(this.first,e.line,function(e){t+=e.text.length+n}),t},copy:function(e){var t=new Il(R(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep,this.direction);return t.scrollTop=this.scrollTop,t.scrollLeft=this.scrollLeft,t.sel=this.sel,t.extend=!1,e&&(t.history.undoDepth=this.history.undoDepth,t.setHistory(this.getHistory())),t},linkedDoc:function(e){e||(e={});var t=this.first,n=this.first+this.size;null!=e.from&&e.from>t&&(t=e.from),null!=e.to&&e.to<n&&(n=e.to);var r=new Il(R(this,t,n),e.mode||this.modeOption,t,this.lineSep,this.direction);return e.sharedHist&&(r.history=this.history),(this.linked||(this.linked=[])).push({doc:r,sharedHist:e.sharedHist}),r.linked=[{doc:this,isParent:!0,sharedHist:e.sharedHist}],Ko(r,Go(this)),r},unlinkDoc:function(e){var t=this;if(e instanceof Ga&&(e=e.doc),this.linked)for(var n=0;n<this.linked.length;++n){var r=t.linked[n];if(r.doc==e){t.linked.splice(n,1),e.unlinkDoc(t),Xo(Go(t));break}}if(e.history==this.history){var i=[e.id];Xi(e,function(e){return i.push(e.id)},!0),e.history=new eo(null),e.history.done=fo(this.history.done,i),e.history.undone=fo(this.history.undone,i)}},iterLinkedDocs:function(e){Xi(this,e)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(e){return this.lineSep?e.split(this.lineSep):ol(e)},lineSeparator:function(){return this.lineSep||"\n"},setDirection:gi(function(e){"rtl"!=e&&(e="ltr"),e!=this.direction&&(this.direction=e,this.iter(function(e){return e.order=null}),this.cm&&Qi(this.cm))})}),Il.prototype.eachLine=Il.prototype.iter;for(var jl=0,Fl=!1,Wl={3:"Pause",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",127:"Delete",145:"ScrollLock",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"},Bl=0;10>Bl;Bl++)Wl[Bl+48]=Wl[Bl+96]=String(Bl);for(var zl=65;90>=zl;zl++)Wl[zl]=String.fromCharCode(zl);for(var Ul=1;12>=Ul;Ul++)Wl[Ul+111]=Wl[Ul+63235]="F"+Ul;var Vl={};Vl.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},Vl.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},Vl.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Alt-F":"goWordRight","Alt-B":"goWordLeft","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-D":"delWordAfter","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars","Ctrl-O":"openLine"},Vl.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]},Vl["default"]=Ls?Vl.macDefault:Vl.pcDefault;var ql={selectAll:Ro,singleSelection:function(e){return e.setSelection(e.getCursor("anchor"),e.getCursor("head"),$s)},killLine:function(e){return da(e,function(t){if(t.empty()){var n=E(e.doc,t.head.line).text.length;return t.head.ch==n&&t.head.line<e.lastLine()?{from:t.head,to:H(t.head.line+1,0)}:{from:t.head,to:H(t.head.line,n)}}return{from:t.from(),to:t.to()}})},deleteLine:function(e){return da(e,function(t){return{from:H(t.from().line,0),to:z(e.doc,H(t.to().line+1,0))}})},delLineLeft:function(e){return da(e,function(e){return{from:H(e.from().line,0),to:e.from()}})},delWrappedLineLeft:function(e){return da(e,function(t){var n=e.charCoords(t.head,"div").top+5,r=e.coordsChar({left:0,top:n},"div");return{from:r,to:t.from()}})},delWrappedLineRight:function(e){return da(e,function(t){var n=e.charCoords(t.head,"div").top+5,r=e.coordsChar({left:e.display.lineDiv.offsetWidth+100,top:n},"div");return{from:t.from(),to:r}})},undo:function(e){return e.undo()},redo:function(e){return e.redo()},undoSelection:function(e){return e.undoSelection()},redoSelection:function(e){return e.redoSelection()},goDocStart:function(e){return e.extendSelection(H(e.firstLine(),0))},goDocEnd:function(e){return e.extendSelection(H(e.lastLine()))},goLineStart:function(e){return e.extendSelectionsBy(function(t){return va(e,t.head.line)},{origin:"+move",bias:1})},goLineStartSmart:function(e){return e.extendSelectionsBy(function(t){return ba(e,t.head)},{origin:"+move",bias:1})},goLineEnd:function(e){return e.extendSelectionsBy(function(t){return ya(e,t.head.line)},{origin:"+move",bias:-1})},goLineRight:function(e){return e.extendSelectionsBy(function(t){var n=e.cursorCoords(t.head,"div").top+5;return e.coordsChar({left:e.display.lineDiv.offsetWidth+100,top:n},"div")},Gs)},goLineLeft:function(e){return e.extendSelectionsBy(function(t){var n=e.cursorCoords(t.head,"div").top+5;return e.coordsChar({left:0,top:n},"div")},Gs)},goLineLeftSmart:function(e){return e.extendSelectionsBy(function(t){var n=e.cursorCoords(t.head,"div").top+5,r=e.coordsChar({left:0,top:n},"div");return r.ch<e.getLine(r.line).search(/\S/)?ba(e,t.head):r},Gs)},goLineUp:function(e){return e.moveV(-1,"line")},goLineDown:function(e){return e.moveV(1,"line")},goPageUp:function(e){return e.moveV(-1,"page")},goPageDown:function(e){return e.moveV(1,"page")},goCharLeft:function(e){return e.moveH(-1,"char")},goCharRight:function(e){return e.moveH(1,"char")},goColumnLeft:function(e){return e.moveH(-1,"column")},goColumnRight:function(e){return e.moveH(1,"column")},goWordLeft:function(e){return e.moveH(-1,"word")},goGroupRight:function(e){return e.moveH(1,"group")},goGroupLeft:function(e){return e.moveH(-1,"group")},goWordRight:function(e){return e.moveH(1,"word")},delCharBefore:function(e){return e.deleteH(-1,"char")},delCharAfter:function(e){return e.deleteH(1,"char")},delWordBefore:function(e){return e.deleteH(-1,"word")},delWordAfter:function(e){return e.deleteH(1,"word")},delGroupBefore:function(e){return e.deleteH(-1,"group")},delGroupAfter:function(e){return e.deleteH(1,"group")},indentAuto:function(e){return e.indentSelection("smart")},indentMore:function(e){return e.indentSelection("add")},indentLess:function(e){return e.indentSelection("subtract")},insertTab:function(e){return e.replaceSelection("	")},insertSoftTab:function(e){for(var t=[],n=e.listSelections(),r=e.options.tabSize,i=0;i<n.length;i++){var o=n[i].from(),a=h(e.getLine(o.line),o.ch,r);t.push(p(r-a%r))}e.replaceSelections(t)},defaultTab:function(e){e.somethingSelected()?e.indentSelection("add"):e.execCommand("insertTab")},transposeChars:function(e){return fi(e,function(){for(var t=e.listSelections(),n=[],r=0;r<t.length;r++)if(t[r].empty()){var i=t[r].head,o=E(e.doc,i.line).text;if(o)if(i.ch==o.length&&(i=new H(i.line,i.ch-1)),i.ch>0)i=new H(i.line,i.ch+1),e.replaceRange(o.charAt(i.ch-1)+o.charAt(i.ch-2),H(i.line,i.ch-2),i,"+transpose");else if(i.line>e.doc.first){var a=E(e.doc,i.line-1).text;a&&(i=new H(i.line,1),e.replaceRange(o.charAt(0)+e.doc.lineSeparator()+a.charAt(a.length-1),H(i.line-1,a.length-1),i,"+transpose"))}n.push(new Al(i,i))}e.setSelections(n)})},newlineAndIndent:function(e){return fi(e,function(){for(var t=e.listSelections(),n=t.length-1;n>=0;n--)e.replaceRange(e.doc.lineSeparator(),t[n].anchor,t[n].head,"+input");t=e.listSelections();for(var r=0;r<t.length;r++)e.indentLine(t[r].from().line,null,!0);Yr(e)})},openLine:function(e){return e.replaceSelection("\n","start")},toggleOverwrite:function(e){return e.toggleOverwrite()}},$l=new Bs,Yl=null,Gl=400,Kl=function(e,t,n){this.time=e,this.pos=t,this.button=n};Kl.prototype.compare=function(e,t,n){return this.time+Gl>e&&0==N(t,this.pos)&&n==this.button};var Xl,Jl,Zl={toString:function(){return"CodeMirror.Init"}},Ql={},eu={};Ga.defaults=Ql,Ga.optionHandlers=eu;var tu=[];Ga.defineInitHook=function(e){return tu.push(e)};var nu=null,ru=function(e){var t=e.optionHandlers,n=e.helpers={};e.prototype={constructor:e,focus:function(){window.focus(),this.display.input.focus()},setOption:function(e,n){var r=this.options,i=r[e];(r[e]!=n||"mode"==e)&&(r[e]=n,t.hasOwnProperty(e)&&pi(this,t[e])(this,n,i),Tt(this,"optionChange",this,e))},getOption:function(e){return this.options[e]},getDoc:function(){return this.doc},addKeyMap:function(e,t){this.state.keyMaps[t?"push":"unshift"](ha(e))},removeKeyMap:function(e){for(var t=this.state.keyMaps,n=0;n<t.length;++n)if(t[n]==e||t[n].name==e)return t.splice(n,1),!0},addOverlay:mi(function(t,n){var r=t.token?t:e.getMode(this.options,t);if(r.startState)throw new Error("Overlays may not be stateful.");v(this.state.overlays,{mode:r,modeSpec:t,opaque:n&&n.opaque,priority:n&&n.priority||0},function(e){return e.priority}),this.state.modeGen++,vi(this)}),removeOverlay:mi(function(e){for(var t=this,n=this.state.overlays,r=0;r<n.length;++r){var i=n[r].modeSpec;if(i==e||"string"==typeof e&&i.name==e)return n.splice(r,1),t.state.modeGen++,vi(t),void 0}}),indentLine:mi(function(e,t,n){"string"!=typeof t&&"number"!=typeof t&&(t=null==t?this.options.smartIndent?"smart":"prev":t?"add":"subtract"),D(this.doc,e)&&Xa(this,e,t,n)}),indentSelection:mi(function(e){for(var t=this,n=this.doc.sel.ranges,r=-1,i=0;i<n.length;i++){var o=n[i];if(o.empty())o.head.line>r&&(Xa(t,o.head.line,e,!0),r=o.head.line,i==t.doc.sel.primIndex&&Yr(t));else{var a=o.from(),s=o.to(),l=Math.max(r,a.line);r=Math.min(t.lastLine(),s.line-(s.ch?0:1))+1;for(var u=l;r>u;++u)Xa(t,u,e);var c=t.doc.sel.ranges;0==a.ch&&n.length==c.length&&c[i].from().ch>0&&vo(t.doc,i,new Al(a,c[i].to()),$s)}}}),getTokenAt:function(e,t){return en(this,e,t)},getLineTokens:function(e,t){return en(this,H(e),t,!0)},getTokenTypeAt:function(e){e=z(this.doc,e);var t,n=Kt(this,E(this.doc,e.line)),r=0,i=(n.length-1)/2,o=e.ch;if(0==o)t=n[2];else for(;;){var a=r+i>>1;if((a?n[2*a-1]:0)>=o)i=a;else{if(!(n[2*a+1]<o)){t=n[2*a+2];break}r=a+1}}var s=t?t.indexOf("overlay "):-1;return 0>s?t:0==s?null:t.slice(0,s-1)},getModeAt:function(t){var n=this.doc.mode;return n.innerMode?e.innerMode(n,this.getTokenAt(t).state).mode:n},getHelper:function(e,t){return this.getHelpers(e,t)[0]},getHelpers:function(e,t){var r=this,i=[];if(!n.hasOwnProperty(t))return i;var o=n[t],a=this.getModeAt(e);if("string"==typeof a[t])o[a[t]]&&i.push(o[a[t]]);else if(a[t])for(var s=0;s<a[t].length;s++){var l=o[a[t][s]];l&&i.push(l)}else a.helperType&&o[a.helperType]?i.push(o[a.helperType]):o[a.name]&&i.push(o[a.name]);for(var u=0;u<o._global.length;u++){var c=o._global[u];c.pred(a,r)&&-1==d(i,c.val)&&i.push(c.val)}return i},getStateAfter:function(e,t){var n=this.doc;return e=B(n,null==e?n.first+n.size-1:e),Xt(this,e+1,t).state},cursorCoords:function(e,t){var n,r=this.doc.sel.primary();return n=null==e?r.head:"object"==typeof e?z(this.doc,e):e?r.from():r.to(),ur(this,n,t||"page")},charCoords:function(e,t){return lr(this,z(this.doc,e),t||"page")},coordsChar:function(e,t){return e=sr(this,e,t||"page"),dr(this,e.left,e.top)},lineAtHeight:function(e,t){return e=sr(this,{top:e,left:0},t||"page").top,L(this.doc,e+this.display.viewOffset)},heightAtLine:function(e,t,n){var r,i=!1;if("number"==typeof e){var o=this.doc.first+this.doc.size-1;e<this.doc.first?e=this.doc.first:e>o&&(e=o,i=!0),r=E(this.doc,e)}else r=e;return ar(this,r,{top:0,left:0},t||"page",n||i).top+(i?this.doc.height-yt(r):0)},defaultTextHeight:function(){return br(this.display)},defaultCharWidth:function(){return wr(this.display)},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(e,t,n,r,i){var o=this.display;e=ur(this,z(this.doc,e));var a=e.bottom,s=e.left;if(t.style.position="absolute",t.setAttribute("cm-ignore-events","true"),this.display.input.setUneditable(t),o.sizer.appendChild(t),"over"==r)a=e.top;else if("above"==r||"near"==r){var l=Math.max(o.wrapper.clientHeight,this.doc.height),u=Math.max(o.sizer.clientWidth,o.lineSpace.clientWidth);
("above"==r||e.bottom+t.offsetHeight>l)&&e.top>t.offsetHeight?a=e.top-t.offsetHeight:e.bottom+t.offsetHeight<=l&&(a=e.bottom),s+t.offsetWidth>u&&(s=u-t.offsetWidth)}t.style.top=a+"px",t.style.left=t.style.right="","right"==i?(s=o.sizer.clientWidth-t.offsetWidth,t.style.right="0px"):("left"==i?s=0:"middle"==i&&(s=(o.sizer.clientWidth-t.offsetWidth)/2),t.style.left=s+"px"),n&&Vr(this,{left:s,top:a,right:s+t.offsetWidth,bottom:a+t.offsetHeight})},triggerOnKeyDown:mi(Ta),triggerOnKeyPress:mi(Ra),triggerOnKeyUp:Ma,triggerOnMouseDown:mi(Aa),execCommand:function(e){return ql.hasOwnProperty(e)?ql[e].call(null,this):void 0},triggerElectric:mi(function(e){es(this,e)}),findPosH:function(e,t,n,r){var i=this,o=1;0>t&&(o=-1,t=-t);for(var a=z(this.doc,e),s=0;t>s&&(a=is(i.doc,a,o,n,r),!a.hitSide);++s);return a},moveH:mi(function(e,t){var n=this;this.extendSelectionsBy(function(r){return n.display.shift||n.doc.extend||r.empty()?is(n.doc,r.head,e,t,n.options.rtlMoveVisually):0>e?r.from():r.to()},Gs)}),deleteH:mi(function(e,t){var n=this.doc.sel,r=this.doc;n.somethingSelected()?r.replaceSelection("",null,"+delete"):da(this,function(n){var i=is(r,n.head,e,t,!1);return 0>e?{from:i,to:n.head}:{from:n.head,to:i}})}),findPosV:function(e,t,n,r){var i=this,o=1,a=r;0>t&&(o=-1,t=-t);for(var s=z(this.doc,e),l=0;t>l;++l){var u=ur(i,s,"div");if(null==a?a=u.left:u.left=a,s=os(i,u,o,n),s.hitSide)break}return s},moveV:mi(function(e,t){var n=this,r=this.doc,i=[],o=!this.display.shift&&!r.extend&&r.sel.somethingSelected();if(r.extendSelectionsBy(function(a){if(o)return 0>e?a.from():a.to();var s=ur(n,a.head,"div");null!=a.goalColumn&&(s.left=a.goalColumn),i.push(s.left);var l=os(n,s,e,t);return"page"==t&&a==r.sel.primary()&&$r(n,lr(n,l,"div").top-s.top),l},Gs),i.length)for(var a=0;a<r.sel.ranges.length;a++)r.sel.ranges[a].goalColumn=i[a]}),findWordAt:function(e){var t=this.doc,n=E(t,e.line).text,r=e.ch,i=e.ch;if(n){var o=this.getHelper(e,"wordChars");"before"!=e.sticky&&i!=n.length||!r?++i:--r;for(var a=n.charAt(r),s=C(a,o)?function(e){return C(e,o)}:/\s/.test(a)?function(e){return/\s/.test(e)}:function(e){return!/\s/.test(e)&&!C(e)};r>0&&s(n.charAt(r-1));)--r;for(;i<n.length&&s(n.charAt(i));)++i}return new Al(H(e.line,r),H(e.line,i))},toggleOverwrite:function(e){(null==e||e!=this.state.overwrite)&&((this.state.overwrite=!this.state.overwrite)?s(this.display.cursorDiv,"CodeMirror-overwrite"):Fs(this.display.cursorDiv,"CodeMirror-overwrite"),Tt(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return this.display.input.getField()==a()},isReadOnly:function(){return!(!this.options.readOnly&&!this.doc.cantEdit)},scrollTo:mi(function(e,t){Gr(this,e,t)}),getScrollInfo:function(){var e=this.display.scroller;return{left:e.scrollLeft,top:e.scrollTop,height:e.scrollHeight-Wn(this)-this.display.barHeight,width:e.scrollWidth-Wn(this)-this.display.barWidth,clientHeight:zn(this),clientWidth:Bn(this)}},scrollIntoView:mi(function(e,t){null==e?(e={from:this.doc.sel.primary().head,to:null},null==t&&(t=this.options.cursorScrollMargin)):"number"==typeof e?e={from:H(e,0),to:null}:null==e.from&&(e={from:e,to:null}),e.to||(e.to=e.from),e.margin=t||0,null!=e.from.line?Kr(this,e):Jr(this,e.from,e.to,e.margin)}),setSize:mi(function(e,t){var n=this,r=function(e){return"number"==typeof e||/^\d+$/.test(String(e))?e+"px":e};null!=e&&(this.display.wrapper.style.width=r(e)),null!=t&&(this.display.wrapper.style.height=r(t)),this.options.lineWrapping&&tr(this);var i=this.display.viewFrom;this.doc.iter(i,this.display.viewTo,function(e){if(e.widgets)for(var t=0;t<e.widgets.length;t++)if(e.widgets[t].noHScroll){yi(n,i,"widget");break}++i}),this.curOp.forceUpdate=!0,Tt(this,"refresh",this)}),operation:function(e){return fi(this,e)},startOperation:function(){return oi(this)},endOperation:function(){return ai(this)},refresh:mi(function(){var e=this.display.cachedTextHeight;vi(this),this.curOp.forceUpdate=!0,nr(this),Gr(this,this.doc.scrollLeft,this.doc.scrollTop),Li(this),(null==e||Math.abs(e-br(this.display))>.5)&&Sr(this),Tt(this,"refresh",this)}),swapDoc:mi(function(e){var t=this.doc;return t.cm=null,Ji(this,e),nr(this),this.display.input.reset(),Gr(this,e.scrollLeft,e.scrollTop),this.curOp.forceScroll=!0,Cn(this,"swapDoc",this,t),t}),getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},Ot(e),e.registerHelper=function(t,r,i){n.hasOwnProperty(t)||(n[t]=e[t]={_global:[]}),n[t][r]=i},e.registerGlobalHelper=function(t,r,i,o){e.registerHelper(t,r,o),n[t]._global.push({pred:i,val:o})}},iu=function(e){this.cm=e,this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null,this.polling=new Bs,this.composing=null,this.gracePeriod=!1,this.readDOMTimeout=null};iu.prototype.init=function(e){function t(e){if(!Et(i,e)){if(i.somethingSelected())Ja({lineWise:!1,text:i.getSelections()}),"cut"==e.type&&i.replaceSelection("",null,"cut");else{if(!i.options.lineWiseCopyCut)return;var t=ts(i);Ja({lineWise:!0,text:t.text}),"cut"==e.type&&i.operation(function(){i.setSelections(t.ranges,0,$s),i.replaceSelection("",null,"cut")})}if(e.clipboardData){e.clipboardData.clearData();var n=nu.text.join("\n");if(e.clipboardData.setData("Text",n),e.clipboardData.getData("Text")==n)return e.preventDefault(),void 0}var a=rs(),s=a.firstChild;i.display.lineSpace.insertBefore(a,i.display.lineSpace.firstChild),s.value=nu.text.join("\n");var l=document.activeElement;Ws(s),setTimeout(function(){i.display.lineSpace.removeChild(a),l.focus(),l==o&&r.showPrimarySelection()},50)}}var n=this,r=this,i=r.cm,o=r.div=e.lineDiv;ns(o,i.options.spellcheck),rl(o,"paste",function(e){Et(i,e)||Qa(e,i)||11>=Cs&&setTimeout(pi(i,function(){return n.updateFromDOM()}),20)}),rl(o,"compositionstart",function(e){n.composing={data:e.data,done:!1}}),rl(o,"compositionupdate",function(e){n.composing||(n.composing={data:e.data,done:!1})}),rl(o,"compositionend",function(e){n.composing&&(e.data!=n.composing.data&&n.readFromDOMSoon(),n.composing.done=!0)}),rl(o,"touchstart",function(){return r.forceCompositionEnd()}),rl(o,"input",function(){n.composing||n.readFromDOMSoon()}),rl(o,"copy",t),rl(o,"cut",t)},iu.prototype.prepareSelection=function(){var e=Mr(this.cm,!1);return e.focus=this.cm.state.focused,e},iu.prototype.showSelection=function(e,t){e&&this.cm.display.view.length&&((e.focus||t)&&this.showPrimarySelection(),this.showMultipleSelections(e))},iu.prototype.showPrimarySelection=function(){var e=window.getSelection(),t=this.cm,n=t.doc.sel.primary(),r=n.from(),i=n.to();if(t.display.viewTo==t.display.viewFrom||r.line>=t.display.viewTo||i.line<t.display.viewFrom)return e.removeAllRanges(),void 0;var o=cs(t,e.anchorNode,e.anchorOffset),a=cs(t,e.focusNode,e.focusOffset);if(!o||o.bad||!a||a.bad||0!=N(W(o,a),r)||0!=N(F(o,a),i)){var s=t.display.view,l=r.line>=t.display.viewFrom&&as(t,r)||{node:s[0].measure.map[2],offset:0},u=i.line<t.display.viewTo&&as(t,i);if(!u){var c=s[s.length-1].measure,h=c.maps?c.maps[c.maps.length-1]:c.map;u={node:h[h.length-1],offset:h[h.length-2]-h[h.length-3]}}if(!l||!u)return e.removeAllRanges(),void 0;var d,f=e.rangeCount&&e.getRangeAt(0);try{d=Ns(l.node,l.offset,u.offset,u.node)}catch(p){}d&&(!gs&&t.state.focused?(e.collapse(l.node,l.offset),d.collapsed||(e.removeAllRanges(),e.addRange(d))):(e.removeAllRanges(),e.addRange(d)),f&&null==e.anchorNode?e.addRange(f):gs&&this.startGracePeriod()),this.rememberSelection()}},iu.prototype.startGracePeriod=function(){var e=this;clearTimeout(this.gracePeriod),this.gracePeriod=setTimeout(function(){e.gracePeriod=!1,e.selectionChanged()&&e.cm.operation(function(){return e.cm.curOp.selectionChanged=!0})},20)},iu.prototype.showMultipleSelections=function(e){n(this.cm.display.cursorDiv,e.cursors),n(this.cm.display.selectionDiv,e.selection)},iu.prototype.rememberSelection=function(){var e=window.getSelection();this.lastAnchorNode=e.anchorNode,this.lastAnchorOffset=e.anchorOffset,this.lastFocusNode=e.focusNode,this.lastFocusOffset=e.focusOffset},iu.prototype.selectionInEditor=function(){var e=window.getSelection();if(!e.rangeCount)return!1;var t=e.getRangeAt(0).commonAncestorContainer;return o(this.div,t)},iu.prototype.focus=function(){"nocursor"!=this.cm.options.readOnly&&(this.selectionInEditor()||this.showSelection(this.prepareSelection(),!0),this.div.focus())},iu.prototype.blur=function(){this.div.blur()},iu.prototype.getField=function(){return this.div},iu.prototype.supportsTouch=function(){return!0},iu.prototype.receivedFocus=function(){function e(){t.cm.state.focused&&(t.pollSelection(),t.polling.set(t.cm.options.pollInterval,e))}var t=this;this.selectionInEditor()?this.pollSelection():fi(this.cm,function(){return t.cm.curOp.selectionChanged=!0}),this.polling.set(this.cm.options.pollInterval,e)},iu.prototype.selectionChanged=function(){var e=window.getSelection();return e.anchorNode!=this.lastAnchorNode||e.anchorOffset!=this.lastAnchorOffset||e.focusNode!=this.lastFocusNode||e.focusOffset!=this.lastFocusOffset},iu.prototype.pollSelection=function(){if(null==this.readDOMTimeout&&!this.gracePeriod&&this.selectionChanged()){var e=window.getSelection(),t=this.cm;if(Os&&Ss&&this.cm.options.gutters.length&&ss(e.anchorNode))return this.cm.triggerOnKeyDown({type:"keydown",keyCode:8,preventDefault:Math.abs}),this.blur(),this.focus(),void 0;if(!this.composing){this.rememberSelection();var n=cs(t,e.anchorNode,e.anchorOffset),r=cs(t,e.focusNode,e.focusOffset);n&&r&&fi(t,function(){Co(t.doc,Wi(n,r),$s),(n.bad||r.bad)&&(t.curOp.selectionChanged=!0)})}}},iu.prototype.pollContent=function(){null!=this.readDOMTimeout&&(clearTimeout(this.readDOMTimeout),this.readDOMTimeout=null);var e=this.cm,t=e.display,n=e.doc.sel.primary(),r=n.from(),i=n.to();if(0==r.ch&&r.line>e.firstLine()&&(r=H(r.line-1,E(e.doc,r.line-1).length)),i.ch==E(e.doc,i.line).text.length&&i.line<e.lastLine()&&(i=H(i.line+1,0)),r.line<t.viewFrom||i.line>t.viewTo-1)return!1;var o,a,s;r.line==t.viewFrom||0==(o=Tr(e,r.line))?(a=A(t.view[0].line),s=t.view[0].node):(a=A(t.view[o].line),s=t.view[o-1].node.nextSibling);var l,u,c=Tr(e,i.line);if(c==t.view.length-1?(l=t.viewTo-1,u=t.lineDiv.lastChild):(l=A(t.view[c+1].line)-1,u=t.view[c+1].node.previousSibling),!s)return!1;for(var h=e.doc.splitLines(us(e,s,u,a,l)),d=M(e.doc,H(a,0),H(l,E(e.doc,l).text.length));h.length>1&&d.length>1;)if(m(h)==m(d))h.pop(),d.pop(),l--;else{if(h[0]!=d[0])break;h.shift(),d.shift(),a++}for(var f=0,p=0,g=h[0],v=d[0],y=Math.min(g.length,v.length);y>f&&g.charCodeAt(f)==v.charCodeAt(f);)++f;for(var b=m(h),w=m(d),C=Math.min(b.length-(1==h.length?f:0),w.length-(1==d.length?f:0));C>p&&b.charCodeAt(b.length-p-1)==w.charCodeAt(w.length-p-1);)++p;if(1==h.length&&1==d.length&&a==r.line)for(;f&&f>r.ch&&b.charCodeAt(b.length-p-1)==w.charCodeAt(w.length-p-1);)f--,p++;h[h.length-1]=b.slice(0,b.length-p).replace(/^\u200b+/,""),h[0]=h[0].slice(f).replace(/\u200b+$/,"");var x=H(a,f),k=H(l,d.length?m(d).length-p:0);return h.length>1||h[0]||N(x,k)?(Io(e.doc,h,x,k,"+input"),!0):void 0},iu.prototype.ensurePolled=function(){this.forceCompositionEnd()},iu.prototype.reset=function(){this.forceCompositionEnd()},iu.prototype.forceCompositionEnd=function(){this.composing&&(clearTimeout(this.readDOMTimeout),this.composing=null,this.updateFromDOM(),this.div.blur(),this.div.focus())},iu.prototype.readFromDOMSoon=function(){var e=this;null==this.readDOMTimeout&&(this.readDOMTimeout=setTimeout(function(){if(e.readDOMTimeout=null,e.composing){if(!e.composing.done)return;e.composing=null}e.updateFromDOM()},80))},iu.prototype.updateFromDOM=function(){var e=this;(this.cm.isReadOnly()||!this.pollContent())&&fi(this.cm,function(){return vi(e.cm)})},iu.prototype.setUneditable=function(e){e.contentEditable="false"},iu.prototype.onKeyPress=function(e){0!=e.charCode&&(e.preventDefault(),this.cm.isReadOnly()||pi(this.cm,Za)(this.cm,String.fromCharCode(null==e.charCode?e.keyCode:e.charCode),0))},iu.prototype.readOnlyChanged=function(e){this.div.contentEditable=String("nocursor"!=e)},iu.prototype.onContextMenu=function(){},iu.prototype.resetPosition=function(){},iu.prototype.needsContentAttribute=!0;var ou=function(e){this.cm=e,this.prevInput="",this.pollingFast=!1,this.polling=new Bs,this.hasSelection=!1,this.composing=null};ou.prototype.init=function(e){function t(e){if(!Et(i,e)){if(i.somethingSelected())Ja({lineWise:!1,text:i.getSelections()});else{if(!i.options.lineWiseCopyCut)return;var t=ts(i);Ja({lineWise:!0,text:t.text}),"cut"==e.type?i.setSelections(t.ranges,null,$s):(r.prevInput="",a.value=t.text.join("\n"),Ws(a))}"cut"==e.type&&(i.state.cutIncoming=!0)}}var n=this,r=this,i=this.cm,o=this.wrapper=rs(),a=this.textarea=o.firstChild;e.wrapper.insertBefore(o,e.wrapper.firstChild),Rs&&(a.style.width="0px"),rl(a,"input",function(){ws&&Cs>=9&&n.hasSelection&&(n.hasSelection=null),r.poll()}),rl(a,"paste",function(e){Et(i,e)||Qa(e,i)||(i.state.pasteIncoming=!0,r.fastPoll())}),rl(a,"cut",t),rl(a,"copy",t),rl(e.scroller,"paste",function(t){Nn(e,t)||Et(i,t)||(i.state.pasteIncoming=!0,r.focus())}),rl(e.lineSpace,"selectstart",function(t){Nn(e,t)||At(t)}),rl(a,"compositionstart",function(){var e=i.getCursor("from");r.composing&&r.composing.range.clear(),r.composing={start:e,range:i.markText(e,i.getCursor("to"),{className:"CodeMirror-composing"})}}),rl(a,"compositionend",function(){r.composing&&(r.poll(),r.composing.range.clear(),r.composing=null)})},ou.prototype.prepareSelection=function(){var e=this.cm,t=e.display,n=e.doc,r=Mr(e);if(e.options.moveInputWithCursor){var i=ur(e,n.sel.primary().head,"div"),o=t.wrapper.getBoundingClientRect(),a=t.lineDiv.getBoundingClientRect();r.teTop=Math.max(0,Math.min(t.wrapper.clientHeight-10,i.top+a.top-o.top)),r.teLeft=Math.max(0,Math.min(t.wrapper.clientWidth-10,i.left+a.left-o.left))}return r},ou.prototype.showSelection=function(e){var t=this.cm,r=t.display;n(r.cursorDiv,e.cursors),n(r.selectionDiv,e.selection),null!=e.teTop&&(this.wrapper.style.top=e.teTop+"px",this.wrapper.style.left=e.teLeft+"px")},ou.prototype.reset=function(e){if(!this.contextMenuPending&&!this.composing){var t=this.cm;if(t.somethingSelected()){this.prevInput="";var n=t.getSelection();this.textarea.value=n,t.state.focused&&Ws(this.textarea),ws&&Cs>=9&&(this.hasSelection=n)}else e||(this.prevInput=this.textarea.value="",ws&&Cs>=9&&(this.hasSelection=null))}},ou.prototype.getField=function(){return this.textarea},ou.prototype.supportsTouch=function(){return!1},ou.prototype.focus=function(){if("nocursor"!=this.cm.options.readOnly&&(!As||a()!=this.textarea))try{this.textarea.focus()}catch(e){}},ou.prototype.blur=function(){this.textarea.blur()},ou.prototype.resetPosition=function(){this.wrapper.style.top=this.wrapper.style.left=0},ou.prototype.receivedFocus=function(){this.slowPoll()},ou.prototype.slowPoll=function(){var e=this;this.pollingFast||this.polling.set(this.cm.options.pollInterval,function(){e.poll(),e.cm.state.focused&&e.slowPoll()})},ou.prototype.fastPoll=function(){function e(){var r=n.poll();r||t?(n.pollingFast=!1,n.slowPoll()):(t=!0,n.polling.set(60,e))}var t=!1,n=this;n.pollingFast=!0,n.polling.set(20,e)},ou.prototype.poll=function(){var e=this,t=this.cm,n=this.textarea,r=this.prevInput;if(this.contextMenuPending||!t.state.focused||al(n)&&!r&&!this.composing||t.isReadOnly()||t.options.disableInput||t.state.keySeq)return!1;var i=n.value;if(i==r&&!t.somethingSelected())return!1;if(ws&&Cs>=9&&this.hasSelection===i||Ls&&/[\uf700-\uf7ff]/.test(i))return t.display.input.reset(),!1;if(t.doc.sel==t.display.selForContextMenu){var o=i.charCodeAt(0);if(8203!=o||r||(r="​"),8666==o)return this.reset(),this.cm.execCommand("undo")}for(var a=0,s=Math.min(r.length,i.length);s>a&&r.charCodeAt(a)==i.charCodeAt(a);)++a;return fi(t,function(){Za(t,i.slice(a),r.length-a,null,e.composing?"*compose":null),i.length>1e3||i.indexOf("\n")>-1?n.value=e.prevInput="":e.prevInput=i,e.composing&&(e.composing.range.clear(),e.composing.range=t.markText(e.composing.start,t.getCursor("to"),{className:"CodeMirror-composing"}))}),!0},ou.prototype.ensurePolled=function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)},ou.prototype.onKeyPress=function(){ws&&Cs>=9&&(this.hasSelection=null),this.fastPoll()},ou.prototype.onContextMenu=function(e){function t(){if(null!=a.selectionStart){var e=i.somethingSelected(),t="​"+(e?a.value:"");a.value="⇚",a.value=t,r.prevInput=e?"":"​",a.selectionStart=1,a.selectionEnd=t.length,o.selForContextMenu=i.doc.sel}}function n(){if(r.contextMenuPending=!1,r.wrapper.style.cssText=h,a.style.cssText=c,ws&&9>Cs&&o.scrollbars.setScrollTop(o.scroller.scrollTop=l),null!=a.selectionStart){(!ws||ws&&9>Cs)&&t();var e=0,n=function(){o.selForContextMenu==i.doc.sel&&0==a.selectionStart&&a.selectionEnd>0&&"​"==r.prevInput?pi(i,Ro)(i):e++<10?o.detectingSelectAll=setTimeout(n,500):(o.selForContextMenu=null,o.input.reset())};o.detectingSelectAll=setTimeout(n,200)}}var r=this,i=r.cm,o=i.display,a=r.textarea,s=_r(i,e),l=o.scroller.scrollTop;if(s&&!_s){var u=i.options.resetSelectionOnContextMenu;u&&-1==i.doc.sel.contains(s)&&pi(i,Co)(i.doc,Wi(s),$s);var c=a.style.cssText,h=r.wrapper.style.cssText;r.wrapper.style.cssText="position: absolute";var d=r.wrapper.getBoundingClientRect();a.style.cssText="position: absolute; width: 30px; height: 30px;\n      top: "+(e.clientY-d.top-5)+"px; left: "+(e.clientX-d.left-5)+"px;\n      z-index: 1000; background: "+(ws?"rgba(255, 255, 255, .05)":"transparent")+";\n      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);";var f;if(xs&&(f=window.scrollY),o.input.focus(),xs&&window.scrollTo(null,f),o.input.reset(),i.somethingSelected()||(a.value=r.prevInput=" "),r.contextMenuPending=!0,o.selForContextMenu=i.doc.sel,clearTimeout(o.detectingSelectAll),ws&&Cs>=9&&t(),js){Pt(e);var p=function(){_t(window,"mouseup",p),setTimeout(n,20)};rl(window,"mouseup",p)}else setTimeout(n,50)}},ou.prototype.readOnlyChanged=function(e){e||this.reset(),this.textarea.disabled="nocursor"==e},ou.prototype.setUneditable=function(){},ou.prototype.needsContentAttribute=!1,Va(Ga),ru(Ga);var au="iter insert remove copy getEditor constructor".split(" ");for(var su in Il.prototype)Il.prototype.hasOwnProperty(su)&&d(au,su)<0&&(Ga.prototype[su]=function(e){return function(){return e.apply(this.doc,arguments)}}(Il.prototype[su]));return Ot(Il),Ga.inputStyles={textarea:ou,contenteditable:iu},Ga.defineMode=function(e){Ga.defaults.mode||"null"==e||(Ga.defaults.mode=e),Wt.apply(this,arguments)},Ga.defineMIME=Bt,Ga.defineMode("null",function(){return{token:function(e){return e.skipToEnd()}}}),Ga.defineMIME("text/plain","null"),Ga.defineExtension=function(e,t){Ga.prototype[e]=t},Ga.defineDocExtension=function(e,t){Il.prototype[e]=t},Ga.fromTextArea=ds,fs(Ga),Ga.version="5.34.0",Ga})},{}],69:[function(e,t,n){!function(r){"object"==typeof n&&"object"==typeof t?r(e("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],r):r(CodeMirror)}(function(e){"use strict";function t(e,t,n,r,i,o){this.indented=e,this.column=t,this.type=n,this.info=r,this.align=i,this.prev=o}function n(e,n,r,i){var o=e.indented;return e.context&&"statement"==e.context.type&&"statement"!=r&&(o=e.context.indented),e.context=new t(o,n,r,i,null,e.context)}function r(e){var t=e.context.type;return(")"==t||"]"==t||"}"==t)&&(e.indented=e.context.indented),e.context=e.context.prev}function i(e,t,n){return"variable"==t.prevToken||"type"==t.prevToken?!0:/\S(?:[^- ]>|[*\]])\s*$|\*$/.test(e.string.slice(0,n))?!0:t.typeAtEndOfLine&&e.column()==e.indentation()?!0:void 0}function o(e){for(;;){if(!e||"top"==e.type)return!0;if("}"==e.type&&"namespace"!=e.prev.info)return!1;e=e.prev}}function a(e){for(var t={},n=e.split(" "),r=0;r<n.length;++r)t[n[r]]=!0;return t}function s(e,t){return"function"==typeof e?e(t):e.propertyIsEnumerable(t)}function l(e,t){if(!t.startOfLine)return!1;for(var n,r=null;n=e.peek();){if("\\"==n&&e.match(/^.$/)){r=l;break}if("/"==n&&e.match(/^\/[\/\*]/,!1))break;e.next()}return t.tokenize=r,"meta"}function u(e,t){return"type"==t.prevToken?"type":!1}function c(e){return e.eatWhile(/[\w\.']/),"number"}function h(e,t){if(e.backUp(1),e.match(/(R|u8R|uR|UR|LR)/)){var n=e.match(/"([^\s\\()]{0,16})\(/);return n?(t.cpp11RawStringDelim=n[1],t.tokenize=p,p(e,t)):!1}return e.match(/(u8|u|U|L)/)?e.match(/["']/,!1)?"string":!1:(e.next(),!1)}function d(e){var t=/(\w+)::~?(\w+)$/.exec(e);return t&&t[1]==t[2]}function f(e,t){for(var n;null!=(n=e.next());)if('"'==n&&!e.eat('"')){t.tokenize=null;break}return"string"}function p(e,t){var n=t.cpp11RawStringDelim.replace(/[^\w\s]/g,"\\$&"),r=e.match(new RegExp(".*?\\)"+n+'"'));return r?t.tokenize=null:e.skipToEnd(),"string"}function m(t,n){function r(e){if(e)for(var t in e)e.hasOwnProperty(t)&&i.push(t)}"string"==typeof t&&(t=[t]);var i=[];r(n.keywords),r(n.types),r(n.builtin),r(n.atoms),i.length&&(n.helperType=t[0],e.registerHelper("hintWords",t[0],i));for(var o=0;o<t.length;++o)e.defineMIME(t[o],n)}function g(e,t){for(var n=!1;!e.eol();){if(!n&&e.match('"""')){t.tokenize=null;break}n="\\"==e.next()&&!n}return"string"}function v(e){return function(t,n){for(var r;r=t.next();){if("*"==r&&t.eat("/")){if(1==e){n.tokenize=null;break}return n.tokenize=v(e-1),n.tokenize(t,n)}if("/"==r&&t.eat("*"))return n.tokenize=v(e+1),n.tokenize(t,n)}return"comment"}}function y(e){return function(t,n){for(var r,i=!1,o=!1;!t.eol();){if(!e&&!i&&t.match('"')){o=!0;break}if(e&&t.match('"""')){o=!0;break}r=t.next(),!i&&"$"==r&&t.match("{")&&t.skipTo("}"),i=!i&&"\\"==r&&!e}return(o||!e)&&(n.tokenize=null),"string"}}function b(e){return function(t,n){for(var r,i=!1,o=!1;!t.eol();){if(!i&&t.match('"')&&("single"==e||t.match('""'))){o=!0;break}if(!i&&t.match("``")){x=b(e),o=!0;break}r=t.next(),i="single"==e&&!i&&"\\"==r}return o&&(n.tokenize=null),"string"}}e.defineMode("clike",function(a,l){function u(e,t){var n=e.next();if(S[n]){var r=S[n](e,t);if(r!==!1)return r}if('"'==n||"'"==n)return t.tokenize=c(n),t.tokenize(e,t);if(R.test(n))return f=n,null;if(O.test(n)){if(e.backUp(1),e.match(A))return"number";e.next()}if("/"==n){if(e.eat("*"))return t.tokenize=h,h(e,t);if(e.eat("/"))return e.skipToEnd(),"comment"}if(L.test(n)){for(;!e.match(/^\/[\/*]/,!1)&&e.eat(L););return"operator"}if(e.eatWhile(D),M)for(;e.match(M);)e.eatWhile(D);var i=e.current();return s(y,i)?(s(C,i)&&(f="newstatement"),s(x,i)&&(p=!0),"keyword"):s(b,i)?"type":s(w,i)?(s(C,i)&&(f="newstatement"),"builtin"):s(k,i)?"atom":"variable"}function c(e){return function(t,n){for(var r,i=!1,o=!1;null!=(r=t.next());){if(r==e&&!i){o=!0;break}i=!i&&"\\"==r}return(o||!i&&!_)&&(n.tokenize=null),"string"}}function h(e,t){for(var n,r=!1;n=e.next();){if("/"==n&&r){t.tokenize=null;break}r="*"==n}return"comment"}function d(e,t){l.typeFirstDefinitions&&e.eol()&&o(t.context)&&(t.typeAtEndOfLine=i(e,t,e.pos))}var f,p,m=a.indentUnit,g=l.statementIndentUnit||m,v=l.dontAlignCalls,y=l.keywords||{},b=l.types||{},w=l.builtin||{},C=l.blockKeywords||{},x=l.defKeywords||{},k=l.atoms||{},S=l.hooks||{},_=l.multiLineStrings,T=l.indentStatements!==!1,E=l.indentSwitch!==!1,M=l.namespaceSeparator,R=l.isPunctuationChar||/[\[\]{}\(\),;\:\.]/,O=l.numberStart||/[\d\.]/,A=l.number||/^(?:0x[a-f\d]+|0b[01]+|(?:\d+\.?\d*|\.\d+)(?:e[-+]?\d+)?)(u|ll?|l|f)?/i,L=l.isOperatorChar||/[+\-*&%=<>!?|\/]/,D=l.isIdentifierChar||/[\w\$_\xa1-\uffff]/;return{startState:function(e){return{tokenize:null,context:new t((e||0)-m,0,"top",null,!1),indented:0,startOfLine:!0,prevToken:null}},token:function(e,t){var a=t.context;if(e.sol()&&(null==a.align&&(a.align=!1),t.indented=e.indentation(),t.startOfLine=!0),e.eatSpace())return d(e,t),null;f=p=null;var s=(t.tokenize||u)(e,t);if("comment"==s||"meta"==s)return s;if(null==a.align&&(a.align=!0),";"==f||":"==f||","==f&&e.match(/^\s*(?:\/\/.*)?$/,!1))for(;"statement"==t.context.type;)r(t);else if("{"==f)n(t,e.column(),"}");else if("["==f)n(t,e.column(),"]");else if("("==f)n(t,e.column(),")");else if("}"==f){for(;"statement"==a.type;)a=r(t);for("}"==a.type&&(a=r(t));"statement"==a.type;)a=r(t)}else f==a.type?r(t):T&&(("}"==a.type||"top"==a.type)&&";"!=f||"statement"==a.type&&"newstatement"==f)&&n(t,e.column(),"statement",e.current());if("variable"==s&&("def"==t.prevToken||l.typeFirstDefinitions&&i(e,t,e.start)&&o(t.context)&&e.match(/^\s*\(/,!1))&&(s="def"),S.token){var c=S.token(e,t,s);void 0!==c&&(s=c)}return"def"==s&&l.styleDefs===!1&&(s="variable"),t.startOfLine=!1,t.prevToken=p?"def":s||f,d(e,t),s},indent:function(t,n){if(t.tokenize!=u&&null!=t.tokenize||t.typeAtEndOfLine)return e.Pass;var r=t.context,i=n&&n.charAt(0);if("statement"==r.type&&"}"==i&&(r=r.prev),l.dontIndentStatements)for(;"statement"==r.type&&l.dontIndentStatements.test(r.info);)r=r.prev;if(S.indent){var o=S.indent(t,r,n);if("number"==typeof o)return o}var a=i==r.type,s=r.prev&&"switch"==r.prev.info;if(l.allmanIndentation&&/[{(]/.test(i)){for(;"top"!=r.type&&"}"!=r.type;)r=r.prev;return r.indented}return"statement"==r.type?r.indented+("{"==i?0:g):!r.align||v&&")"==r.type?")"!=r.type||a?r.indented+(a?0:m)+(a||!s||/^(?:case|default)\b/.test(n)?0:m):r.indented+g:r.column+(a?0:1)},electricInput:E?/^\s*(?:case .*?:|default:|\{\}?|\})$/:/^\s*[{}]$/,blockCommentStart:"/*",blockCommentEnd:"*/",blockCommentContinue:" * ",lineComment:"//",fold:"brace"}});var w="auto if break case register continue return default do sizeof static else struct switch extern typedef union for goto while enum const volatile",C="int long char short double float unsigned signed void size_t ptrdiff_t";m(["text/x-csrc","text/x-c","text/x-chdr"],{name:"clike",keywords:a(w),types:a(C+" bool _Complex _Bool float_t double_t intptr_t intmax_t int8_t int16_t int32_t int64_t uintptr_t uintmax_t uint8_t uint16_t uint32_t uint64_t"),blockKeywords:a("case do else for if switch while struct"),defKeywords:a("struct"),typeFirstDefinitions:!0,atoms:a("null true false"),hooks:{"#":l,"*":u},modeProps:{fold:["brace","include"]}}),m(["text/x-c++src","text/x-c++hdr"],{name:"clike",keywords:a(w+" asm dynamic_cast namespace reinterpret_cast try explicit new static_cast typeid catch operator template typename class friend private this using const_cast inline public throw virtual delete mutable protected alignas alignof constexpr decltype nullptr noexcept thread_local final static_assert override"),types:a(C+" bool wchar_t"),blockKeywords:a("catch class do else finally for if struct switch try while"),defKeywords:a("class namespace struct enum union"),typeFirstDefinitions:!0,atoms:a("true false null"),dontIndentStatements:/^template$/,isIdentifierChar:/[\w\$_~\xa1-\uffff]/,hooks:{"#":l,"*":u,u:h,U:h,L:h,R:h,0:c,1:c,2:c,3:c,4:c,5:c,6:c,7:c,8:c,9:c,token:function(e,t,n){return"variable"!=n||"("!=e.peek()||";"!=t.prevToken&&null!=t.prevToken&&"}"!=t.prevToken||!d(e.current())?void 0:"def"}},namespaceSeparator:"::",modeProps:{fold:["brace","include"]}}),m("text/x-java",{name:"clike",keywords:a("abstract assert break case catch class const continue default do else enum extends final finally float for goto if implements import instanceof interface native new package private protected public return static strictfp super switch synchronized this throw throws transient try volatile while @interface"),types:a("byte short int long float double boolean char void Boolean Byte Character Double Float Integer Long Number Object Short String StringBuffer StringBuilder Void"),blockKeywords:a("catch class do else finally for if switch try while"),defKeywords:a("class interface enum @interface"),typeFirstDefinitions:!0,atoms:a("true false null"),number:/^(?:0x[a-f\d_]+|0b[01_]+|(?:[\d_]+\.?\d*|\.\d+)(?:e[-+]?[\d_]+)?)(u|ll?|l|f)?/i,hooks:{"@":function(e){return e.match("interface",!1)?!1:(e.eatWhile(/[\w\$_]/),"meta")}},modeProps:{fold:["brace","import"]}}),m("text/x-csharp",{name:"clike",keywords:a("abstract as async await base break case catch checked class const continue default delegate do else enum event explicit extern finally fixed for foreach goto if implicit in interface internal is lock namespace new operator out override params private protected public readonly ref return sealed sizeof stackalloc static struct switch this throw try typeof unchecked unsafe using virtual void volatile while add alias ascending descending dynamic from get global group into join let orderby partial remove select set value var yield"),types:a("Action Boolean Byte Char DateTime DateTimeOffset Decimal Double Func Guid Int16 Int32 Int64 Object SByte Single String Task TimeSpan UInt16 UInt32 UInt64 bool byte char decimal double short int long object sbyte float string ushort uint ulong"),blockKeywords:a("catch class do else finally for foreach if struct switch try while"),defKeywords:a("class interface namespace struct var"),typeFirstDefinitions:!0,atoms:a("true false null"),hooks:{"@":function(e,t){return e.eat('"')?(t.tokenize=f,f(e,t)):(e.eatWhile(/[\w\$_]/),"meta")}}}),m("text/x-scala",{name:"clike",keywords:a("abstract case catch class def do else extends final finally for forSome if implicit import lazy match new null object override package private protected return sealed super this throw trait try type val var while with yield _ assert assume require print println printf readLine readBoolean readByte readShort readChar readInt readLong readFloat readDouble"),types:a("AnyVal App Application Array BufferedIterator BigDecimal BigInt Char Console Either Enumeration Equiv Error Exception Fractional Function IndexedSeq Int Integral Iterable Iterator List Map Numeric Nil NotNull Option Ordered Ordering PartialFunction PartialOrdering Product Proxy Range Responder Seq Serializable Set Specializable Stream StringBuilder StringContext Symbol Throwable Traversable TraversableOnce Tuple Unit Vector Boolean Byte Character CharSequence Class ClassLoader Cloneable Comparable Compiler Double Exception Float Integer Long Math Number Object Package Pair Process Runtime Runnable SecurityManager Short StackTraceElement StrictMath String StringBuffer System Thread ThreadGroup ThreadLocal Throwable Triple Void"),multiLineStrings:!0,blockKeywords:a("catch class enum do else finally for forSome if match switch try while"),defKeywords:a("class enum def object package trait type val var"),atoms:a("true false null"),indentStatements:!1,indentSwitch:!1,isOperatorChar:/[+\-*&%=<>!?|\/#:@]/,hooks:{"@":function(e){return e.eatWhile(/[\w\$_]/),"meta"},'"':function(e,t){return e.match('""')?(t.tokenize=g,t.tokenize(e,t)):!1},"'":function(e){return e.eatWhile(/[\w\$_\xa1-\uffff]/),"atom"},"=":function(e,n){var r=n.context;return"}"==r.type&&r.align&&e.eat(">")?(n.context=new t(r.indented,r.column,r.type,r.info,null,r.prev),"operator"):!1},"/":function(e,t){return e.eat("*")?(t.tokenize=v(1),t.tokenize(e,t)):!1}},modeProps:{closeBrackets:{triples:'"'}}}),m("text/x-kotlin",{name:"clike",keywords:a("package as typealias class interface this super val var fun for is in This throw return break continue object if else while do try when !in !is as? file import where by get set abstract enum open inner override private public internal protected catch finally out final vararg reified dynamic companion constructor init sealed field property receiver param sparam lateinit data inline noinline tailrec external annotation crossinline const operator infix suspend actual expect"),types:a("Boolean Byte Character CharSequence Class ClassLoader Cloneable Comparable Compiler Double Exception Float Integer Long Math Number Object Package Pair Process Runtime Runnable SecurityManager Short StackTraceElement StrictMath String StringBuffer System Thread ThreadGroup ThreadLocal Throwable Triple Void"),intendSwitch:!1,indentStatements:!1,multiLineStrings:!0,number:/^(?:0x[a-f\d_]+|0b[01_]+|(?:[\d_]+(\.\d+)?|\.\d+)(?:e[-+]?[\d_]+)?)(u|ll?|l|f)?/i,blockKeywords:a("catch class do else finally for if where try while enum"),defKeywords:a("class val var object interface fun"),atoms:a("true false null this"),hooks:{'"':function(e,t){return t.tokenize=y(e.match('""')),t.tokenize(e,t)
}},modeProps:{closeBrackets:{triples:'"'}}}),m(["x-shader/x-vertex","x-shader/x-fragment"],{name:"clike",keywords:a("sampler1D sampler2D sampler3D samplerCube sampler1DShadow sampler2DShadow const attribute uniform varying break continue discard return for while do if else struct in out inout"),types:a("float int bool void vec2 vec3 vec4 ivec2 ivec3 ivec4 bvec2 bvec3 bvec4 mat2 mat3 mat4"),blockKeywords:a("for while do if else struct"),builtin:a("radians degrees sin cos tan asin acos atan pow exp log exp2 sqrt inversesqrt abs sign floor ceil fract mod min max clamp mix step smoothstep length distance dot cross normalize ftransform faceforward reflect refract matrixCompMult lessThan lessThanEqual greaterThan greaterThanEqual equal notEqual any all not texture1D texture1DProj texture1DLod texture1DProjLod texture2D texture2DProj texture2DLod texture2DProjLod texture3D texture3DProj texture3DLod texture3DProjLod textureCube textureCubeLod shadow1D shadow2D shadow1DProj shadow2DProj shadow1DLod shadow2DLod shadow1DProjLod shadow2DProjLod dFdx dFdy fwidth noise1 noise2 noise3 noise4"),atoms:a("true false gl_FragColor gl_SecondaryColor gl_Normal gl_Vertex gl_MultiTexCoord0 gl_MultiTexCoord1 gl_MultiTexCoord2 gl_MultiTexCoord3 gl_MultiTexCoord4 gl_MultiTexCoord5 gl_MultiTexCoord6 gl_MultiTexCoord7 gl_FogCoord gl_PointCoord gl_Position gl_PointSize gl_ClipVertex gl_FrontColor gl_BackColor gl_FrontSecondaryColor gl_BackSecondaryColor gl_TexCoord gl_FogFragCoord gl_FragCoord gl_FrontFacing gl_FragData gl_FragDepth gl_ModelViewMatrix gl_ProjectionMatrix gl_ModelViewProjectionMatrix gl_TextureMatrix gl_NormalMatrix gl_ModelViewMatrixInverse gl_ProjectionMatrixInverse gl_ModelViewProjectionMatrixInverse gl_TexureMatrixTranspose gl_ModelViewMatrixInverseTranspose gl_ProjectionMatrixInverseTranspose gl_ModelViewProjectionMatrixInverseTranspose gl_TextureMatrixInverseTranspose gl_NormalScale gl_DepthRange gl_ClipPlane gl_Point gl_FrontMaterial gl_BackMaterial gl_LightSource gl_LightModel gl_FrontLightModelProduct gl_BackLightModelProduct gl_TextureColor gl_EyePlaneS gl_EyePlaneT gl_EyePlaneR gl_EyePlaneQ gl_FogParameters gl_MaxLights gl_MaxClipPlanes gl_MaxTextureUnits gl_MaxTextureCoords gl_MaxVertexAttribs gl_MaxVertexUniformComponents gl_MaxVaryingFloats gl_MaxVertexTextureImageUnits gl_MaxTextureImageUnits gl_MaxFragmentUniformComponents gl_MaxCombineTextureImageUnits gl_MaxDrawBuffers"),indentSwitch:!1,hooks:{"#":l},modeProps:{fold:["brace","include"]}}),m("text/x-nesc",{name:"clike",keywords:a(w+"as atomic async call command component components configuration event generic implementation includes interface module new norace nx_struct nx_union post provides signal task uses abstract extends"),types:a(C),blockKeywords:a("case do else for if switch while struct"),atoms:a("null true false"),hooks:{"#":l},modeProps:{fold:["brace","include"]}}),m("text/x-objectivec",{name:"clike",keywords:a(w+"inline restrict _Bool _Complex _Imaginary BOOL Class bycopy byref id IMP in inout nil oneway out Protocol SEL self super atomic nonatomic retain copy readwrite readonly"),types:a(C),atoms:a("YES NO NULL NILL ON OFF true false"),hooks:{"@":function(e){return e.eatWhile(/[\w\$]/),"keyword"},"#":l,indent:function(e,t,n){return"statement"==t.type&&/^@\w/.test(n)?t.indented:void 0}},modeProps:{fold:"brace"}}),m("text/x-squirrel",{name:"clike",keywords:a("base break clone continue const default delete enum extends function in class foreach local resume return this throw typeof yield constructor instanceof static"),types:a(C),blockKeywords:a("case catch class else for foreach if switch try while"),defKeywords:a("function local class"),typeFirstDefinitions:!0,atoms:a("true false null"),hooks:{"#":l},modeProps:{fold:["brace","include"]}});var x=null;m("text/x-ceylon",{name:"clike",keywords:a("abstracts alias assembly assert assign break case catch class continue dynamic else exists extends finally for function given if import in interface is let module new nonempty object of out outer package return satisfies super switch then this throw try value void while"),types:function(e){var t=e.charAt(0);return t===t.toUpperCase()&&t!==t.toLowerCase()},blockKeywords:a("case catch class dynamic else finally for function if interface module new object switch try while"),defKeywords:a("class dynamic function interface module object package value"),builtin:a("abstract actual aliased annotation by default deprecated doc final formal late license native optional sealed see serializable shared suppressWarnings tagged throws variable"),isPunctuationChar:/[\[\]{}\(\),;\:\.`]/,isOperatorChar:/[+\-*&%=<>!?|^~:\/]/,numberStart:/[\d#$]/,number:/^(?:#[\da-fA-F_]+|\$[01_]+|[\d_]+[kMGTPmunpf]?|[\d_]+\.[\d_]+(?:[eE][-+]?\d+|[kMGTPmunpf]|)|)/i,multiLineStrings:!0,typeFirstDefinitions:!0,atoms:a("true false null larger smaller equal empty finished"),indentSwitch:!1,styleDefs:!1,hooks:{"@":function(e){return e.eatWhile(/[\w\$_]/),"meta"},'"':function(e,t){return t.tokenize=b(e.match('""')?"triple":"single"),t.tokenize(e,t)},"`":function(e,t){return x&&e.match("`")?(t.tokenize=x,x=null,t.tokenize(e,t)):!1},"'":function(e){return e.eatWhile(/[\w\$_\xa1-\uffff]/),"atom"},token:function(e,t,n){return"variable"!=n&&"type"!=n||"."!=t.prevToken?void 0:"variable-2"}},modeProps:{fold:["brace","import"],closeBrackets:{triples:'"'}}})})},{"../../lib/codemirror":68}],70:[function(e,t,n){!function(r){"object"==typeof n&&"object"==typeof t?r(e("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],r):r(CodeMirror)}(function(e){"use strict";function t(e){for(var t={},n=0;n<e.length;++n)t[e[n].toLowerCase()]=!0;return t}function n(e,t){for(var n,r=!1;null!=(n=e.next());){if(r&&"/"==n){t.tokenize=null;break}r="*"==n}return["comment","comment"]}e.defineMode("css",function(t,n){function r(e,t){return p=t,e}function i(e,t){var n=e.next();if(v[n]){var i=v[n](e,t);if(i!==!1)return i}return"@"==n?(e.eatWhile(/[\w\\\-]/),r("def",e.current())):"="==n||("~"==n||"|"==n)&&e.eat("=")?r(null,"compare"):'"'==n||"'"==n?(t.tokenize=o(n),t.tokenize(e,t)):"#"==n?(e.eatWhile(/[\w\\\-]/),r("atom","hash")):"!"==n?(e.match(/^\s*\w*/),r("keyword","important")):/\d/.test(n)||"."==n&&e.eat(/\d/)?(e.eatWhile(/[\w.%]/),r("number","unit")):"-"!==n?/[,+>*\/]/.test(n)?r(null,"select-op"):"."==n&&e.match(/^-?[_a-z][_a-z0-9-]*/i)?r("qualifier","qualifier"):/[:;{}\[\]\(\)]/.test(n)?r(null,n):("u"==n||"U"==n)&&e.match(/rl(-prefix)?\(/i)||("d"==n||"D"==n)&&e.match("omain(",!0,!0)||("r"==n||"R"==n)&&e.match("egexp(",!0,!0)?(e.backUp(1),t.tokenize=a,r("property","word")):/[\w\\\-]/.test(n)?(e.eatWhile(/[\w\\\-]/),r("property","word")):r(null,null):/[\d.]/.test(e.peek())?(e.eatWhile(/[\w.%]/),r("number","unit")):e.match(/^-[\w\\\-]+/)?(e.eatWhile(/[\w\\\-]/),e.match(/^\s*:/,!1)?r("variable-2","variable-definition"):r("variable-2","variable")):e.match(/^\w+-/)?r("meta","meta"):void 0}function o(e){return function(t,n){for(var i,o=!1;null!=(i=t.next());){if(i==e&&!o){")"==e&&t.backUp(1);break}o=!o&&"\\"==i}return(i==e||!o&&")"!=e)&&(n.tokenize=null),r("string","string")}}function a(e,t){return e.next(),t.tokenize=e.match(/\s*[\"\')]/,!1)?null:o(")"),r(null,"(")}function s(e,t,n){this.type=e,this.indent=t,this.prev=n}function l(e,t,n,r){return e.context=new s(n,t.indentation()+(r===!1?0:g),e.context),n}function u(e){return e.context.prev&&(e.context=e.context.prev),e.context.type}function c(e,t,n){return A[n.context.type](e,t,n)}function h(e,t,n,r){for(var i=r||1;i>0;i--)n.context=n.context.prev;return c(e,t,n)}function d(e){var t=e.current().toLowerCase();m=E.hasOwnProperty(t)?"atom":T.hasOwnProperty(t)?"keyword":"variable"}var f=n.inline;n.propertyKeywords||(n=e.resolveMode("text/css"));var p,m,g=t.indentUnit,v=n.tokenHooks,y=n.documentTypes||{},b=n.mediaTypes||{},w=n.mediaFeatures||{},C=n.mediaValueKeywords||{},x=n.propertyKeywords||{},k=n.nonStandardPropertyKeywords||{},S=n.fontProperties||{},_=n.counterDescriptors||{},T=n.colorKeywords||{},E=n.valueKeywords||{},M=n.allowNested,R=n.lineComment,O=n.supportsAtComponent===!0,A={};return A.top=function(e,t,n){if("{"==e)return l(n,t,"block");if("}"==e&&n.context.prev)return u(n);if(O&&/@component/i.test(e))return l(n,t,"atComponentBlock");if(/^@(-moz-)?document$/i.test(e))return l(n,t,"documentTypes");if(/^@(media|supports|(-moz-)?document|import)$/i.test(e))return l(n,t,"atBlock");if(/^@(font-face|counter-style)/i.test(e))return n.stateArg=e,"restricted_atBlock_before";if(/^@(-(moz|ms|o|webkit)-)?keyframes$/i.test(e))return"keyframes";if(e&&"@"==e.charAt(0))return l(n,t,"at");if("hash"==e)m="builtin";else if("word"==e)m="tag";else{if("variable-definition"==e)return"maybeprop";if("interpolation"==e)return l(n,t,"interpolation");if(":"==e)return"pseudo";if(M&&"("==e)return l(n,t,"parens")}return n.context.type},A.block=function(e,t,n){if("word"==e){var r=t.current().toLowerCase();return x.hasOwnProperty(r)?(m="property","maybeprop"):k.hasOwnProperty(r)?(m="string-2","maybeprop"):M?(m=t.match(/^\s*:(?:\s|$)/,!1)?"property":"tag","block"):(m+=" error","maybeprop")}return"meta"==e?"block":M||"hash"!=e&&"qualifier"!=e?A.top(e,t,n):(m="error","block")},A.maybeprop=function(e,t,n){return":"==e?l(n,t,"prop"):c(e,t,n)},A.prop=function(e,t,n){if(";"==e)return u(n);if("{"==e&&M)return l(n,t,"propBlock");if("}"==e||"{"==e)return h(e,t,n);if("("==e)return l(n,t,"parens");if("hash"!=e||/^#([0-9a-fA-f]{3,4}|[0-9a-fA-f]{6}|[0-9a-fA-f]{8})$/.test(t.current())){if("word"==e)d(t);else if("interpolation"==e)return l(n,t,"interpolation")}else m+=" error";return"prop"},A.propBlock=function(e,t,n){return"}"==e?u(n):"word"==e?(m="property","maybeprop"):n.context.type},A.parens=function(e,t,n){return"{"==e||"}"==e?h(e,t,n):")"==e?u(n):"("==e?l(n,t,"parens"):"interpolation"==e?l(n,t,"interpolation"):("word"==e&&d(t),"parens")},A.pseudo=function(e,t,n){return"meta"==e?"pseudo":"word"==e?(m="variable-3",n.context.type):c(e,t,n)},A.documentTypes=function(e,t,n){return"word"==e&&y.hasOwnProperty(t.current())?(m="tag",n.context.type):A.atBlock(e,t,n)},A.atBlock=function(e,t,n){if("("==e)return l(n,t,"atBlock_parens");if("}"==e||";"==e)return h(e,t,n);if("{"==e)return u(n)&&l(n,t,M?"block":"top");if("interpolation"==e)return l(n,t,"interpolation");if("word"==e){var r=t.current().toLowerCase();m="only"==r||"not"==r||"and"==r||"or"==r?"keyword":b.hasOwnProperty(r)?"attribute":w.hasOwnProperty(r)?"property":C.hasOwnProperty(r)?"keyword":x.hasOwnProperty(r)?"property":k.hasOwnProperty(r)?"string-2":E.hasOwnProperty(r)?"atom":T.hasOwnProperty(r)?"keyword":"error"}return n.context.type},A.atComponentBlock=function(e,t,n){return"}"==e?h(e,t,n):"{"==e?u(n)&&l(n,t,M?"block":"top",!1):("word"==e&&(m="error"),n.context.type)},A.atBlock_parens=function(e,t,n){return")"==e?u(n):"{"==e||"}"==e?h(e,t,n,2):A.atBlock(e,t,n)},A.restricted_atBlock_before=function(e,t,n){return"{"==e?l(n,t,"restricted_atBlock"):"word"==e&&"@counter-style"==n.stateArg?(m="variable","restricted_atBlock_before"):c(e,t,n)},A.restricted_atBlock=function(e,t,n){return"}"==e?(n.stateArg=null,u(n)):"word"==e?(m="@font-face"==n.stateArg&&!S.hasOwnProperty(t.current().toLowerCase())||"@counter-style"==n.stateArg&&!_.hasOwnProperty(t.current().toLowerCase())?"error":"property","maybeprop"):"restricted_atBlock"},A.keyframes=function(e,t,n){return"word"==e?(m="variable","keyframes"):"{"==e?l(n,t,"top"):c(e,t,n)},A.at=function(e,t,n){return";"==e?u(n):"{"==e||"}"==e?h(e,t,n):("word"==e?m="tag":"hash"==e&&(m="builtin"),"at")},A.interpolation=function(e,t,n){return"}"==e?u(n):"{"==e||";"==e?h(e,t,n):("word"==e?m="variable":"variable"!=e&&"("!=e&&")"!=e&&(m="error"),"interpolation")},{startState:function(e){return{tokenize:null,state:f?"block":"top",stateArg:null,context:new s(f?"block":"top",e||0,null)}},token:function(e,t){if(!t.tokenize&&e.eatSpace())return null;var n=(t.tokenize||i)(e,t);return n&&"object"==typeof n&&(p=n[1],n=n[0]),m=n,"comment"!=p&&(t.state=A[t.state](p,e,t)),m},indent:function(e,t){var n=e.context,r=t&&t.charAt(0),i=n.indent;return"prop"!=n.type||"}"!=r&&")"!=r||(n=n.prev),n.prev&&("}"!=r||"block"!=n.type&&"top"!=n.type&&"interpolation"!=n.type&&"restricted_atBlock"!=n.type?(")"==r&&("parens"==n.type||"atBlock_parens"==n.type)||"{"==r&&("at"==n.type||"atBlock"==n.type))&&(i=Math.max(0,n.indent-g)):(n=n.prev,i=n.indent)),i},electricChars:"}",blockCommentStart:"/*",blockCommentEnd:"*/",blockCommentContinue:" * ",lineComment:R,fold:"brace"}});var r=["domain","regexp","url","url-prefix"],i=t(r),o=["all","aural","braille","handheld","print","projection","screen","tty","tv","embossed"],a=t(o),s=["width","min-width","max-width","height","min-height","max-height","device-width","min-device-width","max-device-width","device-height","min-device-height","max-device-height","aspect-ratio","min-aspect-ratio","max-aspect-ratio","device-aspect-ratio","min-device-aspect-ratio","max-device-aspect-ratio","color","min-color","max-color","color-index","min-color-index","max-color-index","monochrome","min-monochrome","max-monochrome","resolution","min-resolution","max-resolution","scan","grid","orientation","device-pixel-ratio","min-device-pixel-ratio","max-device-pixel-ratio","pointer","any-pointer","hover","any-hover"],l=t(s),u=["landscape","portrait","none","coarse","fine","on-demand","hover","interlace","progressive"],c=t(u),h=["align-content","align-items","align-self","alignment-adjust","alignment-baseline","anchor-point","animation","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-timing-function","appearance","azimuth","backface-visibility","background","background-attachment","background-blend-mode","background-clip","background-color","background-image","background-origin","background-position","background-repeat","background-size","baseline-shift","binding","bleed","bookmark-label","bookmark-level","bookmark-state","bookmark-target","border","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-decoration-break","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","caret-color","clear","clip","color","color-profile","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","content","counter-increment","counter-reset","crop","cue","cue-after","cue-before","cursor","direction","display","dominant-baseline","drop-initial-after-adjust","drop-initial-after-align","drop-initial-before-adjust","drop-initial-before-align","drop-initial-size","drop-initial-value","elevation","empty-cells","fit","fit-position","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","float-offset","flow-from","flow-into","font","font-feature-settings","font-family","font-kerning","font-language-override","font-size","font-size-adjust","font-stretch","font-style","font-synthesis","font-variant","font-variant-alternates","font-variant-caps","font-variant-east-asian","font-variant-ligatures","font-variant-numeric","font-variant-position","font-weight","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-rows","grid-column","grid-column-end","grid-column-gap","grid-column-start","grid-gap","grid-row","grid-row-end","grid-row-gap","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphens","icon","image-orientation","image-rendering","image-resolution","inline-box-align","justify-content","justify-items","justify-self","left","letter-spacing","line-break","line-height","line-stacking","line-stacking-ruby","line-stacking-shift","line-stacking-strategy","list-style","list-style-image","list-style-position","list-style-type","margin","margin-bottom","margin-left","margin-right","margin-top","marks","marquee-direction","marquee-loop","marquee-play-count","marquee-speed","marquee-style","max-height","max-width","min-height","min-width","move-to","nav-down","nav-index","nav-left","nav-right","nav-up","object-fit","object-position","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-style","overflow-wrap","overflow-x","overflow-y","padding","padding-bottom","padding-left","padding-right","padding-top","page","page-break-after","page-break-before","page-break-inside","page-policy","pause","pause-after","pause-before","perspective","perspective-origin","pitch","pitch-range","place-content","place-items","place-self","play-during","position","presentation-level","punctuation-trim","quotes","region-break-after","region-break-before","region-break-inside","region-fragment","rendering-intent","resize","rest","rest-after","rest-before","richness","right","rotation","rotation-point","ruby-align","ruby-overhang","ruby-position","ruby-span","shape-image-threshold","shape-inside","shape-margin","shape-outside","size","speak","speak-as","speak-header","speak-numeral","speak-punctuation","speech-rate","stress","string-set","tab-size","table-layout","target","target-name","target-new","target-position","text-align","text-align-last","text-decoration","text-decoration-color","text-decoration-line","text-decoration-skip","text-decoration-style","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-height","text-indent","text-justify","text-outline","text-overflow","text-shadow","text-size-adjust","text-space-collapse","text-transform","text-underline-position","text-wrap","top","transform","transform-origin","transform-style","transition","transition-delay","transition-duration","transition-property","transition-timing-function","unicode-bidi","user-select","vertical-align","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","volume","white-space","widows","width","will-change","word-break","word-spacing","word-wrap","z-index","clip-path","clip-rule","mask","enable-background","filter","flood-color","flood-opacity","lighting-color","stop-color","stop-opacity","pointer-events","color-interpolation","color-interpolation-filters","color-rendering","fill","fill-opacity","fill-rule","image-rendering","marker","marker-end","marker-mid","marker-start","shape-rendering","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-rendering","baseline-shift","dominant-baseline","glyph-orientation-horizontal","glyph-orientation-vertical","text-anchor","writing-mode"],d=t(h),f=["scrollbar-arrow-color","scrollbar-base-color","scrollbar-dark-shadow-color","scrollbar-face-color","scrollbar-highlight-color","scrollbar-shadow-color","scrollbar-3d-light-color","scrollbar-track-color","shape-inside","searchfield-cancel-button","searchfield-decoration","searchfield-results-button","searchfield-results-decoration","zoom"],p=t(f),m=["font-family","src","unicode-range","font-variant","font-feature-settings","font-stretch","font-weight","font-style"],g=t(m),v=["additive-symbols","fallback","negative","pad","prefix","range","speak-as","suffix","symbols","system"],y=t(v),b=["aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","grey","green","greenyellow","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen"],w=t(b),C=["above","absolute","activeborder","additive","activecaption","afar","after-white-space","ahead","alias","all","all-scroll","alphabetic","alternate","always","amharic","amharic-abegede","antialiased","appworkspace","arabic-indic","armenian","asterisks","attr","auto","auto-flow","avoid","avoid-column","avoid-page","avoid-region","background","backwards","baseline","below","bidi-override","binary","bengali","blink","block","block-axis","bold","bolder","border","border-box","both","bottom","break","break-all","break-word","bullets","button","button-bevel","buttonface","buttonhighlight","buttonshadow","buttontext","calc","cambodian","capitalize","caps-lock-indicator","caption","captiontext","caret","cell","center","checkbox","circle","cjk-decimal","cjk-earthly-branch","cjk-heavenly-stem","cjk-ideographic","clear","clip","close-quote","col-resize","collapse","color","color-burn","color-dodge","column","column-reverse","compact","condensed","contain","content","contents","content-box","context-menu","continuous","copy","counter","counters","cover","crop","cross","crosshair","currentcolor","cursive","cyclic","darken","dashed","decimal","decimal-leading-zero","default","default-button","dense","destination-atop","destination-in","destination-out","destination-over","devanagari","difference","disc","discard","disclosure-closed","disclosure-open","document","dot-dash","dot-dot-dash","dotted","double","down","e-resize","ease","ease-in","ease-in-out","ease-out","element","ellipse","ellipsis","embed","end","ethiopic","ethiopic-abegede","ethiopic-abegede-am-et","ethiopic-abegede-gez","ethiopic-abegede-ti-er","ethiopic-abegede-ti-et","ethiopic-halehame-aa-er","ethiopic-halehame-aa-et","ethiopic-halehame-am-et","ethiopic-halehame-gez","ethiopic-halehame-om-et","ethiopic-halehame-sid-et","ethiopic-halehame-so-et","ethiopic-halehame-ti-er","ethiopic-halehame-ti-et","ethiopic-halehame-tig","ethiopic-numeric","ew-resize","exclusion","expanded","extends","extra-condensed","extra-expanded","fantasy","fast","fill","fixed","flat","flex","flex-end","flex-start","footnotes","forwards","from","geometricPrecision","georgian","graytext","grid","groove","gujarati","gurmukhi","hand","hangul","hangul-consonant","hard-light","hebrew","help","hidden","hide","higher","highlight","highlighttext","hiragana","hiragana-iroha","horizontal","hsl","hsla","hue","icon","ignore","inactiveborder","inactivecaption","inactivecaptiontext","infinite","infobackground","infotext","inherit","initial","inline","inline-axis","inline-block","inline-flex","inline-grid","inline-table","inset","inside","intrinsic","invert","italic","japanese-formal","japanese-informal","justify","kannada","katakana","katakana-iroha","keep-all","khmer","korean-hangul-formal","korean-hanja-formal","korean-hanja-informal","landscape","lao","large","larger","left","level","lighter","lighten","line-through","linear","linear-gradient","lines","list-item","listbox","listitem","local","logical","loud","lower","lower-alpha","lower-armenian","lower-greek","lower-hexadecimal","lower-latin","lower-norwegian","lower-roman","lowercase","ltr","luminosity","malayalam","match","matrix","matrix3d","media-controls-background","media-current-time-display","media-fullscreen-button","media-mute-button","media-play-button","media-return-to-realtime-button","media-rewind-button","media-seek-back-button","media-seek-forward-button","media-slider","media-sliderthumb","media-time-remaining-display","media-volume-slider","media-volume-slider-container","media-volume-sliderthumb","medium","menu","menulist","menulist-button","menulist-text","menulist-textfield","menutext","message-box","middle","min-intrinsic","mix","mongolian","monospace","move","multiple","multiply","myanmar","n-resize","narrower","ne-resize","nesw-resize","no-close-quote","no-drop","no-open-quote","no-repeat","none","normal","not-allowed","nowrap","ns-resize","numbers","numeric","nw-resize","nwse-resize","oblique","octal","opacity","open-quote","optimizeLegibility","optimizeSpeed","oriya","oromo","outset","outside","outside-shape","overlay","overline","padding","padding-box","painted","page","paused","persian","perspective","plus-darker","plus-lighter","pointer","polygon","portrait","pre","pre-line","pre-wrap","preserve-3d","progress","push-button","radial-gradient","radio","read-only","read-write","read-write-plaintext-only","rectangle","region","relative","repeat","repeating-linear-gradient","repeating-radial-gradient","repeat-x","repeat-y","reset","reverse","rgb","rgba","ridge","right","rotate","rotate3d","rotateX","rotateY","rotateZ","round","row","row-resize","row-reverse","rtl","run-in","running","s-resize","sans-serif","saturation","scale","scale3d","scaleX","scaleY","scaleZ","screen","scroll","scrollbar","scroll-position","se-resize","searchfield","searchfield-cancel-button","searchfield-decoration","searchfield-results-button","searchfield-results-decoration","self-start","self-end","semi-condensed","semi-expanded","separate","serif","show","sidama","simp-chinese-formal","simp-chinese-informal","single","skew","skewX","skewY","skip-white-space","slide","slider-horizontal","slider-vertical","sliderthumb-horizontal","sliderthumb-vertical","slow","small","small-caps","small-caption","smaller","soft-light","solid","somali","source-atop","source-in","source-out","source-over","space","space-around","space-between","space-evenly","spell-out","square","square-button","start","static","status-bar","stretch","stroke","sub","subpixel-antialiased","super","sw-resize","symbolic","symbols","system-ui","table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row","table-row-group","tamil","telugu","text","text-bottom","text-top","textarea","textfield","thai","thick","thin","threeddarkshadow","threedface","threedhighlight","threedlightshadow","threedshadow","tibetan","tigre","tigrinya-er","tigrinya-er-abegede","tigrinya-et","tigrinya-et-abegede","to","top","trad-chinese-formal","trad-chinese-informal","transform","translate","translate3d","translateX","translateY","translateZ","transparent","ultra-condensed","ultra-expanded","underline","unset","up","upper-alpha","upper-armenian","upper-greek","upper-hexadecimal","upper-latin","upper-norwegian","upper-roman","uppercase","urdu","url","var","vertical","vertical-text","visible","visibleFill","visiblePainted","visibleStroke","visual","w-resize","wait","wave","wider","window","windowframe","windowtext","words","wrap","wrap-reverse","x-large","x-small","xor","xx-large","xx-small"],x=t(C),k=r.concat(o).concat(s).concat(u).concat(h).concat(f).concat(b).concat(C);e.registerHelper("hintWords","css",k),e.defineMIME("text/css",{documentTypes:i,mediaTypes:a,mediaFeatures:l,mediaValueKeywords:c,propertyKeywords:d,nonStandardPropertyKeywords:p,fontProperties:g,counterDescriptors:y,colorKeywords:w,valueKeywords:x,tokenHooks:{"/":function(e,t){return e.eat("*")?(t.tokenize=n,n(e,t)):!1}},name:"css"}),e.defineMIME("text/x-scss",{mediaTypes:a,mediaFeatures:l,mediaValueKeywords:c,propertyKeywords:d,nonStandardPropertyKeywords:p,colorKeywords:w,valueKeywords:x,fontProperties:g,allowNested:!0,lineComment:"//",tokenHooks:{"/":function(e,t){return e.eat("/")?(e.skipToEnd(),["comment","comment"]):e.eat("*")?(t.tokenize=n,n(e,t)):["operator","operator"]},":":function(e){return e.match(/\s*\{/,!1)?[null,null]:!1},$:function(e){return e.match(/^[\w-]+/),e.match(/^\s*:/,!1)?["variable-2","variable-definition"]:["variable-2","variable"]},"#":function(e){return e.eat("{")?[null,"interpolation"]:!1}},name:"css",helperType:"scss"}),e.defineMIME("text/x-less",{mediaTypes:a,mediaFeatures:l,mediaValueKeywords:c,propertyKeywords:d,nonStandardPropertyKeywords:p,colorKeywords:w,valueKeywords:x,fontProperties:g,allowNested:!0,lineComment:"//",tokenHooks:{"/":function(e,t){return e.eat("/")?(e.skipToEnd(),["comment","comment"]):e.eat("*")?(t.tokenize=n,n(e,t)):["operator","operator"]},"@":function(e){return e.eat("{")?[null,"interpolation"]:e.match(/^(charset|document|font-face|import|(-(moz|ms|o|webkit)-)?keyframes|media|namespace|page|supports)\b/i,!1)?!1:(e.eatWhile(/[\w\\\-]/),e.match(/^\s*:/,!1)?["variable-2","variable-definition"]:["variable-2","variable"])},"&":function(){return["atom","atom"]}},name:"css",helperType:"less"}),e.defineMIME("text/x-gss",{documentTypes:i,mediaTypes:a,mediaFeatures:l,propertyKeywords:d,nonStandardPropertyKeywords:p,fontProperties:g,counterDescriptors:y,colorKeywords:w,valueKeywords:x,supportsAtComponent:!0,tokenHooks:{"/":function(e,t){return e.eat("*")?(t.tokenize=n,n(e,t)):!1}},name:"css",helperType:"gss"})})},{"../../lib/codemirror":68}],71:[function(e,t,n){!function(r){"object"==typeof n&&"object"==typeof t?r(e("../../lib/codemirror"),e("../markdown/markdown"),e("../../addon/mode/overlay")):"function"==typeof define&&define.amd?define(["../../lib/codemirror","../markdown/markdown","../../addon/mode/overlay"],r):r(CodeMirror)}(function(e){"use strict";var t=/^((?:(?:aaas?|about|acap|adiumxtra|af[ps]|aim|apt|attachment|aw|beshare|bitcoin|bolo|callto|cap|chrome(?:-extension)?|cid|coap|com-eventbrite-attendee|content|crid|cvs|data|dav|dict|dlna-(?:playcontainer|playsingle)|dns|doi|dtn|dvb|ed2k|facetime|feed|file|finger|fish|ftp|geo|gg|git|gizmoproject|go|gopher|gtalk|h323|hcp|https?|iax|icap|icon|im|imap|info|ipn|ipp|irc[6s]?|iris(?:\.beep|\.lwz|\.xpc|\.xpcs)?|itms|jar|javascript|jms|keyparc|lastfm|ldaps?|magnet|mailto|maps|market|message|mid|mms|ms-help|msnim|msrps?|mtqp|mumble|mupdate|mvn|news|nfs|nih?|nntp|notes|oid|opaquelocktoken|palm|paparazzi|platform|pop|pres|proxy|psyc|query|res(?:ource)?|rmi|rsync|rtmp|rtsp|secondlife|service|session|sftp|sgn|shttp|sieve|sips?|skype|sm[bs]|snmp|soap\.beeps?|soldat|spotify|ssh|steam|svn|tag|teamspeak|tel(?:net)?|tftp|things|thismessage|tip|tn3270|tv|udp|unreal|urn|ut2004|vemmi|ventrilo|view-source|webcal|wss?|wtai|wyciwyg|xcon(?:-userid)?|xfire|xmlrpc\.beeps?|xmpp|xri|ymsgr|z39\.50[rs]?):(?:\/{1,3}|[a-z0-9%])|www\d{0,3}[.]|[a-z0-9.\-]+[.][a-z]{2,4}\/)(?:[^\s()<>]|\([^\s()<>]*\))+(?:\([^\s()<>]*\)|[^\s`*!()\[\]{};:'".,<>?«»“”‘’]))/i;e.defineMode("gfm",function(n,r){function i(e){return e.code=!1,null}var o=0,a={startState:function(){return{code:!1,codeBlock:!1,ateSpace:!1}},copyState:function(e){return{code:e.code,codeBlock:e.codeBlock,ateSpace:e.ateSpace}},token:function(e,n){if(n.combineTokens=null,n.codeBlock)return e.match(/^```+/)?(n.codeBlock=!1,null):(e.skipToEnd(),null);
if(e.sol()&&(n.code=!1),e.sol()&&e.match(/^```+/))return e.skipToEnd(),n.codeBlock=!0,null;if("`"===e.peek()){e.next();var i=e.pos;e.eatWhile("`");var a=1+e.pos-i;return n.code?a===o&&(n.code=!1):(o=a,n.code=!0),null}if(n.code)return e.next(),null;if(e.eatSpace())return n.ateSpace=!0,null;if((e.sol()||n.ateSpace)&&(n.ateSpace=!1,r.gitHubSpice!==!1)){if(e.match(/^(?:[a-zA-Z0-9\-_]+\/)?(?:[a-zA-Z0-9\-_]+@)?(?=.{0,6}\d)(?:[a-f0-9]{7,40}\b)/))return n.combineTokens=!0,"link";if(e.match(/^(?:[a-zA-Z0-9\-_]+\/)?(?:[a-zA-Z0-9\-_]+)?#[0-9]+\b/))return n.combineTokens=!0,"link"}return e.match(t)&&"]("!=e.string.slice(e.start-2,e.start)&&(0==e.start||/\W/.test(e.string.charAt(e.start-1)))?(n.combineTokens=!0,"link"):(e.next(),null)},blankLine:i},s={taskLists:!0,strikethrough:!0,emoji:!0};for(var l in r)s[l]=r[l];return s.name="markdown",e.overlayMode(e.getMode(n,s),a)},"markdown"),e.defineMIME("text/x-gfm","gfm")})},{"../../addon/mode/overlay":67,"../../lib/codemirror":68,"../markdown/markdown":74}],72:[function(e,t,n){!function(r){"object"==typeof n&&"object"==typeof t?r(e("../../lib/codemirror"),e("../xml/xml"),e("../javascript/javascript"),e("../css/css")):"function"==typeof define&&define.amd?define(["../../lib/codemirror","../xml/xml","../javascript/javascript","../css/css"],r):r(CodeMirror)}(function(e){"use strict";function t(e,t,n){var r=e.current(),i=r.search(t);return i>-1?e.backUp(r.length-i):r.match(/<\/?$/)&&(e.backUp(r.length),e.match(t,!1)||e.match(r)),n}function n(e){var t=l[e];return t?t:l[e]=new RegExp("\\s+"+e+"\\s*=\\s*('|\")?([^'\"]+)('|\")?\\s*")}function r(e,t){var r=e.match(n(t));return r?/^\s*(.*?)\s*$/.exec(r[2])[1]:""}function i(e,t){return new RegExp((t?"^":"")+"</s*"+e+"s*>","i")}function o(e,t){for(var n in e)for(var r=t[n]||(t[n]=[]),i=e[n],o=i.length-1;o>=0;o--)r.unshift(i[o])}function a(e,t){for(var n=0;n<e.length;n++){var i=e[n];if(!i[0]||i[1].test(r(t,i[0])))return i[2]}}var s={script:[["lang",/(javascript|babel)/i,"javascript"],["type",/^(?:text|application)\/(?:x-)?(?:java|ecma)script$|^module$|^$/i,"javascript"],["type",/./,"text/plain"],[null,null,"javascript"]],style:[["lang",/^css$/i,"css"],["type",/^(text\/)?(x-)?(stylesheet|css)$/i,"css"],["type",/./,"text/plain"],[null,null,"css"]]},l={};e.defineMode("htmlmixed",function(n,r){function l(r,o){var s,h=u.token(r,o.htmlState),d=/\btag\b/.test(h);if(d&&!/[<>\s\/]/.test(r.current())&&(s=o.htmlState.tagName&&o.htmlState.tagName.toLowerCase())&&c.hasOwnProperty(s))o.inTag=s+" ";else if(o.inTag&&d&&/>$/.test(r.current())){var f=/^([\S]+) (.*)/.exec(o.inTag);o.inTag=null;var p=">"==r.current()&&a(c[f[1]],f[2]),m=e.getMode(n,p),g=i(f[1],!0),v=i(f[1],!1);o.token=function(e,n){return e.match(g,!1)?(n.token=l,n.localState=n.localMode=null,null):t(e,v,n.localMode.token(e,n.localState))},o.localMode=m,o.localState=e.startState(m,u.indent(o.htmlState,""))}else o.inTag&&(o.inTag+=r.current(),r.eol()&&(o.inTag+=" "));return h}var u=e.getMode(n,{name:"xml",htmlMode:!0,multilineTagIndentFactor:r.multilineTagIndentFactor,multilineTagIndentPastTag:r.multilineTagIndentPastTag}),c={},h=r&&r.tags,d=r&&r.scriptTypes;if(o(s,c),h&&o(h,c),d)for(var f=d.length-1;f>=0;f--)c.script.unshift(["type",d[f].matches,d[f].mode]);return{startState:function(){var t=e.startState(u);return{token:l,inTag:null,localMode:null,localState:null,htmlState:t}},copyState:function(t){var n;return t.localState&&(n=e.copyState(t.localMode,t.localState)),{token:t.token,inTag:t.inTag,localMode:t.localMode,localState:n,htmlState:e.copyState(u,t.htmlState)}},token:function(e,t){return t.token(e,t)},indent:function(t,n,r){return!t.localMode||/^\s*<\//.test(n)?u.indent(t.htmlState,n):t.localMode.indent?t.localMode.indent(t.localState,n,r):e.Pass},innerMode:function(e){return{state:e.localState||e.htmlState,mode:e.localMode||u}}}},"xml","javascript","css"),e.defineMIME("text/html","htmlmixed")})},{"../../lib/codemirror":68,"../css/css":70,"../javascript/javascript":73,"../xml/xml":77}],73:[function(e,t,n){!function(r){"object"==typeof n&&"object"==typeof t?r(e("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],r):r(CodeMirror)}(function(e){"use strict";e.defineMode("javascript",function(t,n){function r(e){for(var t,n=!1,r=!1;null!=(t=e.next());){if(!n){if("/"==t&&!r)return;"["==t?r=!0:r&&"]"==t&&(r=!1)}n=!n&&"\\"==t}}function i(e,t,n){return Lt=e,Dt=n,t}function o(e,t){var n=e.next();if('"'==n||"'"==n)return t.tokenize=a(n),t.tokenize(e,t);if("."==n&&e.match(/^\d+(?:[eE][+\-]?\d+)?/))return i("number","number");if("."==n&&e.match(".."))return i("spread","meta");if(/[\[\]{}\(\),;\:\.]/.test(n))return i(n);if("="==n&&e.eat(">"))return i("=>","operator");if("0"==n&&e.eat(/x/i))return e.eatWhile(/[\da-f]/i),i("number","number");if("0"==n&&e.eat(/o/i))return e.eatWhile(/[0-7]/i),i("number","number");if("0"==n&&e.eat(/b/i))return e.eatWhile(/[01]/i),i("number","number");if(/\d/.test(n))return e.match(/^\d*(?:\.\d*)?(?:[eE][+\-]?\d+)?/),i("number","number");if("/"==n)return e.eat("*")?(t.tokenize=s,s(e,t)):e.eat("/")?(e.skipToEnd(),i("comment","comment")):At(e,t,1)?(r(e),e.match(/^\b(([gimyu])(?![gimyu]*\2))+\b/),i("regexp","string-2")):(e.eat("="),i("operator","operator",e.current()));if("`"==n)return t.tokenize=l,l(e,t);if("#"==n)return e.skipToEnd(),i("error","error");if(Bt.test(n))return">"==n&&t.lexical&&">"==t.lexical.type||(e.eat("=")?("!"==n||"="==n)&&e.eat("="):/[<>*+\-]/.test(n)&&(e.eat(n),">"==n&&e.eat(n))),i("operator","operator",e.current());if(Ft.test(n)){e.eatWhile(Ft);var o=e.current();if("."!=t.lastType){if(Wt.propertyIsEnumerable(o)){var u=Wt[o];return i(u.type,u.style,o)}if("async"==o&&e.match(/^(\s|\/\*.*?\*\/)*[\(\w]/,!1))return i("async","keyword",o)}return i("variable","variable",o)}}function a(e){return function(t,n){var r,a=!1;if(Nt&&"@"==t.peek()&&t.match(zt))return n.tokenize=o,i("jsonld-keyword","meta");for(;null!=(r=t.next())&&(r!=e||a);)a=!a&&"\\"==r;return a||(n.tokenize=o),i("string","string")}}function s(e,t){for(var n,r=!1;n=e.next();){if("/"==n&&r){t.tokenize=o;break}r="*"==n}return i("comment","comment")}function l(e,t){for(var n,r=!1;null!=(n=e.next());){if(!r&&("`"==n||"$"==n&&e.eat("{"))){t.tokenize=o;break}r=!r&&"\\"==n}return i("quasi","string-2",e.current())}function u(e,t){t.fatArrowAt&&(t.fatArrowAt=null);var n=e.string.indexOf("=>",e.start);if(!(0>n)){if(jt){var r=/:\s*(?:\w+(?:<[^>]*>|\[\])?|\{[^}]*\})\s*$/.exec(e.string.slice(e.start,n));r&&(n=r.index)}for(var i=0,o=!1,a=n-1;a>=0;--a){var s=e.string.charAt(a),l=Ut.indexOf(s);if(l>=0&&3>l){if(!i){++a;break}if(0==--i){"("==s&&(o=!0);break}}else if(l>=3&&6>l)++i;else if(Ft.test(s))o=!0;else{if(/["'\/]/.test(s))return;if(o&&!i){++a;break}}}o&&!i&&(t.fatArrowAt=a)}}function c(e,t,n,r,i,o){this.indented=e,this.column=t,this.type=n,this.prev=i,this.info=o,null!=r&&(this.align=r)}function h(e,t){for(var n=e.localVars;n;n=n.next)if(n.name==t)return!0;for(var r=e.context;r;r=r.prev)for(var n=r.vars;n;n=n.next)if(n.name==t)return!0}function d(e,t,n,r,i){var o=e.cc;for(qt.state=e,qt.stream=i,qt.marked=null,qt.cc=o,qt.style=t,e.lexical.hasOwnProperty("align")||(e.lexical.align=!0);;){var a=o.length?o.pop():It?k:x;if(a(n,r)){for(;o.length&&o[o.length-1].lex;)o.pop()();return qt.marked?qt.marked:"variable"==n&&h(e,r)?"variable-2":t}}}function f(){for(var e=arguments.length-1;e>=0;e--)qt.cc.push(arguments[e])}function p(){return f.apply(null,arguments),!0}function m(e){function t(t){for(var n=t;n;n=n.next)if(n.name==e)return!0;return!1}var r=qt.state;if(qt.marked="def",r.context){if(t(r.localVars))return;r.localVars={name:e,next:r.localVars}}else{if(t(r.globalVars))return;n.globalVars&&(r.globalVars={name:e,next:r.globalVars})}}function g(e){return"public"==e||"private"==e||"protected"==e||"abstract"==e||"readonly"==e}function v(){qt.state.context={prev:qt.state.context,vars:qt.state.localVars},qt.state.localVars=$t}function y(){qt.state.localVars=qt.state.context.vars,qt.state.context=qt.state.context.prev}function b(e,t){var n=function(){var n=qt.state,r=n.indented;if("stat"==n.lexical.type)r=n.lexical.indented;else for(var i=n.lexical;i&&")"==i.type&&i.align;i=i.prev)r=i.indented;n.lexical=new c(r,qt.stream.column(),e,null,n.lexical,t)};return n.lex=!0,n}function w(){var e=qt.state;e.lexical.prev&&(")"==e.lexical.type&&(e.indented=e.lexical.indented),e.lexical=e.lexical.prev)}function C(e){function t(n){return n==e?p():";"==e?f():p(t)}return t}function x(e,t){return"var"==e?p(b("vardef",t.length),nt,C(";"),w):"keyword a"==e?p(b("form"),_,x,w):"keyword b"==e?p(b("form"),x,w):"keyword d"==e?qt.stream.match(/^\s*$/,!1)?p():p(b("stat"),E,C(";"),w):"debugger"==e?p(C(";")):"{"==e?p(b("}"),V,w):";"==e?p():"if"==e?("else"==qt.state.lexical.info&&qt.state.cc[qt.state.cc.length-1]==w&&qt.state.cc.pop()(),p(b("form"),_,x,w,st)):"function"==e?p(ft):"for"==e?p(b("form"),lt,x,w):"class"==e||jt&&"interface"==t?(qt.marked="keyword",p(b("form"),gt,w)):"variable"==e?jt&&"declare"==t?(qt.marked="keyword",p(x)):jt&&("module"==t||"enum"==t||"type"==t)&&qt.stream.match(/^\s*\w/,!1)?(qt.marked="keyword","enum"==t?p(Mt):"type"==t?p(G,C("operator"),G,C(";")):p(b("form"),rt,C("{"),b("}"),V,w,w)):jt&&"namespace"==t?(qt.marked="keyword",p(b("form"),k,V,w)):p(b("stat"),I):"switch"==e?p(b("form"),_,C("{"),b("}","switch"),V,w,w):"case"==e?p(k,C(":")):"default"==e?p(C(":")):"catch"==e?p(b("form"),v,C("("),pt,C(")"),x,w,y):"export"==e?p(b("stat"),wt,w):"import"==e?p(b("stat"),xt,w):"async"==e?p(x):"@"==t?p(k,x):f(b("stat"),k,C(";"),w)}function k(e,t){return T(e,t,!1)}function S(e,t){return T(e,t,!0)}function _(e){return"("!=e?f():p(b(")"),k,C(")"),w)}function T(e,t,n){if(qt.state.fatArrowAt==qt.stream.start){var r=n?D:L;if("("==e)return p(v,b(")"),z(pt,")"),w,C("=>"),r,y);if("variable"==e)return f(v,rt,C("=>"),r,y)}var i=n?R:M;return Vt.hasOwnProperty(e)?p(i):"function"==e?p(ft,i):"class"==e||jt&&"interface"==t?(qt.marked="keyword",p(b("form"),mt,w)):"keyword c"==e||"async"==e?p(n?S:k):"("==e?p(b(")"),E,C(")"),w,i):"operator"==e||"spread"==e?p(n?S:k):"["==e?p(b("]"),Et,w,i):"{"==e?U(F,"}",null,i):"quasi"==e?f(O,i):"new"==e?p(P(n)):p()}function E(e){return e.match(/[;\}\)\],]/)?f():f(k)}function M(e,t){return","==e?p(k):R(e,t,!1)}function R(e,t,n){var r=0==n?M:R,i=0==n?k:S;return"=>"==e?p(v,n?D:L,y):"operator"==e?/\+\+|--/.test(t)||jt&&"!"==t?p(r):jt&&"<"==t&&qt.stream.match(/^([^>]|<.*?>)*>\s*\(/,!1)?p(b(">"),z(G,">"),w,r):"?"==t?p(k,C(":"),i):p(i):"quasi"==e?f(O,r):";"!=e?"("==e?U(S,")","call",r):"."==e?p(j,r):"["==e?p(b("]"),E,C("]"),w,r):jt&&"as"==t?(qt.marked="keyword",p(G,r)):"regexp"==e?(qt.state.lastType=qt.marked="operator",qt.stream.backUp(qt.stream.pos-qt.stream.start-1),p(i)):void 0:void 0}function O(e,t){return"quasi"!=e?f():"${"!=t.slice(t.length-2)?p(O):p(k,A)}function A(e){return"}"==e?(qt.marked="string-2",qt.state.tokenize=l,p(O)):void 0}function L(e){return u(qt.stream,qt.state),f("{"==e?x:k)}function D(e){return u(qt.stream,qt.state),f("{"==e?x:S)}function P(e){return function(t){return"."==t?p(e?N:H):"variable"==t&&jt?p(Q,e?R:M):f(e?S:k)}}function H(e,t){return"target"==t?(qt.marked="keyword",p(M)):void 0}function N(e,t){return"target"==t?(qt.marked="keyword",p(R)):void 0}function I(e){return":"==e?p(w,x):f(M,C(";"),w)}function j(e){return"variable"==e?(qt.marked="property",p()):void 0}function F(e,t){if("async"==e)return qt.marked="property",p(F);if("variable"==e||"keyword"==qt.style){if(qt.marked="property","get"==t||"set"==t)return p(W);var n;return jt&&qt.state.fatArrowAt==qt.stream.start&&(n=qt.stream.match(/^\s*:\s*/,!1))&&(qt.state.fatArrowAt=qt.stream.pos+n[0].length),p(B)}return"number"==e||"string"==e?(qt.marked=Nt?"property":qt.style+" property",p(B)):"jsonld-keyword"==e?p(B):jt&&g(t)?(qt.marked="keyword",p(F)):"["==e?p(k,q,C("]"),B):"spread"==e?p(S,B):"*"==t?(qt.marked="keyword",p(F)):":"==e?f(B):void 0}function W(e){return"variable"!=e?f(B):(qt.marked="property",p(ft))}function B(e){return":"==e?p(S):"("==e?f(ft):void 0}function z(e,t,n){function r(i,o){if(n?n.indexOf(i)>-1:","==i){var a=qt.state.lexical;return"call"==a.info&&(a.pos=(a.pos||0)+1),p(function(n,r){return n==t||r==t?f():f(e)},r)}return i==t||o==t?p():p(C(t))}return function(n,i){return n==t||i==t?p():f(e,r)}}function U(e,t,n){for(var r=3;r<arguments.length;r++)qt.cc.push(arguments[r]);return p(b(t,n),z(e,t),w)}function V(e){return"}"==e?p():f(x,V)}function q(e,t){if(jt){if(":"==e)return p(G);if("?"==t)return p(q)}}function $(e){return jt&&":"==e?qt.stream.match(/^\s*\w+\s+is\b/,!1)?p(k,Y,G):p(G):void 0}function Y(e,t){return"is"==t?(qt.marked="keyword",p()):void 0}function G(e,t){return"variable"==e||"void"==t?"keyof"==t?(qt.marked="keyword",p(G)):(qt.marked="type",p(Z)):"string"==e||"number"==e||"atom"==e?p(Z):"["==e?p(b("]"),z(G,"]",","),w,Z):"{"==e?p(b("}"),z(X,"}",",;"),w,Z):"("==e?p(z(J,")"),K):void 0}function K(e){return"=>"==e?p(G):void 0}function X(e,t){return"variable"==e||"keyword"==qt.style?(qt.marked="property",p(X)):"?"==t?p(X):":"==e?p(G):"["==e?p(k,q,C("]"),X):void 0}function J(e){return"variable"==e?p(J):":"==e?p(G):void 0}function Z(e,t){return"<"==t?p(b(">"),z(G,">"),w,Z):"|"==t||"."==e?p(G):"["==e?p(C("]"),Z):"extends"==t||"implements"==t?(qt.marked="keyword",p(G)):void 0}function Q(e,t){return"<"==t?p(b(">"),z(G,">"),w,Z):void 0}function et(){return f(G,tt)}function tt(e,t){return"="==t?p(G):void 0}function nt(e,t){return"enum"==t?(qt.marked="keyword",p(Mt)):f(rt,q,ot,at)}function rt(e,t){return jt&&g(t)?(qt.marked="keyword",p(rt)):"variable"==e?(m(t),p()):"spread"==e?p(rt):"["==e?U(rt,"]"):"{"==e?U(it,"}"):void 0}function it(e,t){return"variable"!=e||qt.stream.match(/^\s*:/,!1)?("variable"==e&&(qt.marked="property"),"spread"==e?p(rt):"}"==e?f():p(C(":"),rt,ot)):(m(t),p(ot))}function ot(e,t){return"="==t?p(S):void 0}function at(e){return","==e?p(nt):void 0}function st(e,t){return"keyword b"==e&&"else"==t?p(b("form","else"),x,w):void 0}function lt(e){return"("==e?p(b(")"),ut,C(")"),w):void 0}function ut(e){return"var"==e?p(nt,C(";"),ht):";"==e?p(ht):"variable"==e?p(ct):f(k,C(";"),ht)}function ct(e,t){return"in"==t||"of"==t?(qt.marked="keyword",p(k)):p(M,ht)}function ht(e,t){return";"==e?p(dt):"in"==t||"of"==t?(qt.marked="keyword",p(k)):f(k,C(";"),dt)}function dt(e){")"!=e&&p(k)}function ft(e,t){return"*"==t?(qt.marked="keyword",p(ft)):"variable"==e?(m(t),p(ft)):"("==e?p(v,b(")"),z(pt,")"),w,$,x,y):jt&&"<"==t?p(b(">"),z(et,">"),w,ft):void 0}function pt(e,t){return"@"==t&&p(k,pt),"spread"==e?p(pt):jt&&g(t)?(qt.marked="keyword",p(pt)):f(rt,q,ot)}function mt(e,t){return"variable"==e?gt(e,t):vt(e,t)}function gt(e,t){return"variable"==e?(m(t),p(vt)):void 0}function vt(e,t){return"<"==t?p(b(">"),z(et,">"),w,vt):"extends"==t||"implements"==t||jt&&","==e?("implements"==t&&(qt.marked="keyword"),p(jt?G:k,vt)):"{"==e?p(b("}"),yt,w):void 0}function yt(e,t){return"async"==e||"variable"==e&&("static"==t||"get"==t||"set"==t||jt&&g(t))&&qt.stream.match(/^\s+[\w$\xa1-\uffff]/,!1)?(qt.marked="keyword",p(yt)):"variable"==e||"keyword"==qt.style?(qt.marked="property",p(jt?bt:ft,yt)):"["==e?p(k,q,C("]"),jt?bt:ft,yt):"*"==t?(qt.marked="keyword",p(yt)):";"==e?p(yt):"}"==e?p():"@"==t?p(k,yt):void 0}function bt(e,t){return"?"==t?p(bt):":"==e?p(G,ot):"="==t?p(S):f(ft)}function wt(e,t){return"*"==t?(qt.marked="keyword",p(Tt,C(";"))):"default"==t?(qt.marked="keyword",p(k,C(";"))):"{"==e?p(z(Ct,"}"),Tt,C(";")):f(x)}function Ct(e,t){return"as"==t?(qt.marked="keyword",p(C("variable"))):"variable"==e?f(S,Ct):void 0}function xt(e){return"string"==e?p():f(kt,St,Tt)}function kt(e,t){return"{"==e?U(kt,"}"):("variable"==e&&m(t),"*"==t&&(qt.marked="keyword"),p(_t))}function St(e){return","==e?p(kt,St):void 0}function _t(e,t){return"as"==t?(qt.marked="keyword",p(kt)):void 0}function Tt(e,t){return"from"==t?(qt.marked="keyword",p(k)):void 0}function Et(e){return"]"==e?p():f(z(S,"]"))}function Mt(){return f(b("form"),rt,C("{"),b("}"),z(Rt,"}"),w,w)}function Rt(){return f(rt,ot)}function Ot(e,t){return"operator"==e.lastType||","==e.lastType||Bt.test(t.charAt(0))||/[,.]/.test(t.charAt(0))}function At(e,t,n){return t.tokenize==o&&/^(?:operator|sof|keyword [bcd]|case|new|export|default|spread|[\[{}\(,;:]|=>)$/.test(t.lastType)||"quasi"==t.lastType&&/\{\s*$/.test(e.string.slice(0,e.pos-(n||0)))}var Lt,Dt,Pt=t.indentUnit,Ht=n.statementIndent,Nt=n.jsonld,It=n.json||Nt,jt=n.typescript,Ft=n.wordCharacters||/[\w$\xa1-\uffff]/,Wt=function(){function e(e){return{type:e,style:"keyword"}}var t=e("keyword a"),n=e("keyword b"),r=e("keyword c"),i=e("keyword d"),o=e("operator"),a={type:"atom",style:"atom"};return{"if":e("if"),"while":t,"with":t,"else":n,"do":n,"try":n,"finally":n,"return":i,"break":i,"continue":i,"new":e("new"),"delete":r,"void":r,"throw":r,"debugger":e("debugger"),"var":e("var"),"const":e("var"),let:e("var"),"function":e("function"),"catch":e("catch"),"for":e("for"),"switch":e("switch"),"case":e("case"),"default":e("default"),"in":o,"typeof":o,"instanceof":o,"true":a,"false":a,"null":a,undefined:a,NaN:a,Infinity:a,"this":e("this"),"class":e("class"),"super":e("atom"),yield:r,"export":e("export"),"import":e("import"),"extends":r,await:r}}(),Bt=/[+\-*&%=<>!?|~^@]/,zt=/^@(context|id|value|language|type|container|list|set|reverse|index|base|vocab|graph)"/,Ut="([{}])",Vt={atom:!0,number:!0,variable:!0,string:!0,regexp:!0,"this":!0,"jsonld-keyword":!0},qt={state:null,column:null,marked:null,cc:null},$t={name:"this",next:{name:"arguments"}};return w.lex=!0,{startState:function(e){var t={tokenize:o,lastType:"sof",cc:[],lexical:new c((e||0)-Pt,0,"block",!1),localVars:n.localVars,context:n.localVars&&{vars:n.localVars},indented:e||0};return n.globalVars&&"object"==typeof n.globalVars&&(t.globalVars=n.globalVars),t},token:function(e,t){if(e.sol()&&(t.lexical.hasOwnProperty("align")||(t.lexical.align=!1),t.indented=e.indentation(),u(e,t)),t.tokenize!=s&&e.eatSpace())return null;var n=t.tokenize(e,t);return"comment"==Lt?n:(t.lastType="operator"!=Lt||"++"!=Dt&&"--"!=Dt?Lt:"incdec",d(t,n,Lt,Dt,e))},indent:function(t,r){if(t.tokenize==s)return e.Pass;if(t.tokenize!=o)return 0;var i,a=r&&r.charAt(0),l=t.lexical;if(!/^\s*else\b/.test(r))for(var u=t.cc.length-1;u>=0;--u){var c=t.cc[u];if(c==w)l=l.prev;else if(c!=st)break}for(;!("stat"!=l.type&&"form"!=l.type||"}"!=a&&(!(i=t.cc[t.cc.length-1])||i!=M&&i!=R||/^[,\.=+\-*:?[\(]/.test(r)));)l=l.prev;Ht&&")"==l.type&&"stat"==l.prev.type&&(l=l.prev);var h=l.type,d=a==h;return"vardef"==h?l.indented+("operator"==t.lastType||","==t.lastType?l.info+1:0):"form"==h&&"{"==a?l.indented:"form"==h?l.indented+Pt:"stat"==h?l.indented+(Ot(t,r)?Ht||Pt:0):"switch"!=l.info||d||0==n.doubleIndentSwitch?l.align?l.column+(d?0:1):l.indented+(d?0:Pt):l.indented+(/^(?:case|default)\b/.test(r)?Pt:2*Pt)},electricInput:/^\s*(?:case .*?:|default:|\{|\})$/,blockCommentStart:It?null:"/*",blockCommentEnd:It?null:"*/",blockCommentContinue:It?null:" * ",lineComment:It?null:"//",fold:"brace",closeBrackets:"()[]{}''\"\"``",helperType:It?"json":"javascript",jsonldMode:Nt,jsonMode:It,expressionAllowed:At,skipExpression:function(e){var t=e.cc[e.cc.length-1];(t==k||t==S)&&e.cc.pop()}}}),e.registerHelper("wordChars","javascript",/[\w$]/),e.defineMIME("text/javascript","javascript"),e.defineMIME("text/ecmascript","javascript"),e.defineMIME("application/javascript","javascript"),e.defineMIME("application/x-javascript","javascript"),e.defineMIME("application/ecmascript","javascript"),e.defineMIME("application/json",{name:"javascript",json:!0}),e.defineMIME("application/x-json",{name:"javascript",json:!0}),e.defineMIME("application/ld+json",{name:"javascript",jsonld:!0}),e.defineMIME("text/typescript",{name:"javascript",typescript:!0}),e.defineMIME("application/typescript",{name:"javascript",typescript:!0})})},{"../../lib/codemirror":68}],74:[function(e,t,n){!function(r){"object"==typeof n&&"object"==typeof t?r(e("../../lib/codemirror"),e("../xml/xml"),e("../meta")):"function"==typeof define&&define.amd?define(["../../lib/codemirror","../xml/xml","../meta"],r):r(CodeMirror)}(function(e){"use strict";e.defineMode("markdown",function(t,n){function r(n){if(e.findModeByName){var r=e.findModeByName(n);r&&(n=r.mime||r.mimes[0])}var i=e.getMode(t,n);return"null"==i.name?null:i}function i(e,t,n){return t.f=t.inline=n,n(e,t)}function o(e,t,n){return t.f=t.block=n,n(e,t)}function a(e){return!e||!/\S/.test(e.string)}function s(e){return e.linkTitle=!1,e.linkHref=!1,e.linkText=!1,e.em=!1,e.strong=!1,e.strikethrough=!1,e.quote=0,e.indentedCode=!1,e.f==u&&(e.f=f,e.block=l),e.trailingSpace=0,e.trailingSpaceNewLine=!1,e.prevLine=e.thisLine,e.thisLine={stream:null},null}function l(t,o){var s=t.column()===o.indentation,l=a(o.prevLine.stream),u=o.indentedCode,d=o.prevLine.hr,f=o.list!==!1,p=(o.listStack[o.listStack.length-1]||0)+3;o.indentedCode=!1;var m=o.indentation;if(null===o.indentationDiff&&(o.indentationDiff=o.indentation,f)){for(o.em=!1,o.strong=!1,o.code=!1,o.strikethrough=!1,o.list=null;m<o.listStack[o.listStack.length-1];)o.listStack.pop(),o.listStack.length?o.indentation=o.listStack[o.listStack.length-1]:o.list=!1;o.list!==!1&&(o.indentationDiff=m-o.listStack[o.listStack.length-1])}var g=!(l||d||o.prevLine.header||f&&u||o.prevLine.fencedCodeEnd),y=(o.list===!1||d||l)&&o.indentation<=p&&t.match(S),b=null;if(o.indentationDiff>=4&&(u||o.prevLine.fencedCodeEnd||o.prevLine.header||l))return t.skipToEnd(),o.indentedCode=!0,x.code;if(t.eatSpace())return null;if(s&&o.indentation<=p&&(b=t.match(E))&&b[1].length<=6)return o.quote=0,o.header=b[1].length,o.thisLine.header=!0,n.highlightFormatting&&(o.formatting="header"),o.f=o.inline,h(o);if(o.indentation<=p&&t.eat(">"))return o.quote=s?1:o.quote+1,n.highlightFormatting&&(o.formatting="quote"),t.eatSpace(),h(o);if(!y&&!o.setext&&s&&o.indentation<=p&&(b=t.match(_))){var w=b[1]?"ol":"ul";return o.indentation=m+t.current().length,o.list=!0,o.quote=0,o.listStack.push(o.indentation),n.taskLists&&t.match(T,!1)&&(o.taskList=!0),o.f=o.inline,n.highlightFormatting&&(o.formatting=["list","list-"+w]),h(o)}return s&&o.indentation<=p&&(b=t.match(O,!0))?(o.quote=0,o.fencedEndRE=new RegExp(b[1]+"+ *$"),o.localMode=n.fencedCodeBlockHighlighting&&r(b[2]),o.localMode&&(o.localState=e.startState(o.localMode)),o.f=o.block=c,n.highlightFormatting&&(o.formatting="code-block"),o.code=-1,h(o)):o.setext||!(g&&f||o.quote||o.list!==!1||o.code||y||A.test(t.string))&&(b=t.lookAhead(1))&&(b=b.match(M))?(o.setext?(o.header=o.setext,o.setext=0,t.skipToEnd(),n.highlightFormatting&&(o.formatting="header")):(o.header="="==b[0].charAt(0)?1:2,o.setext=o.header),o.thisLine.header=!0,o.f=o.inline,h(o)):y?(t.skipToEnd(),o.hr=!0,o.thisLine.hr=!0,x.hr):"["===t.peek()?i(t,o,v):i(t,o,o.inline)}function u(t,n){var r=w.token(t,n.htmlState);if(!C){var i=e.innerMode(w,n.htmlState);("xml"==i.mode.name&&null===i.state.tagStart&&!i.state.context&&i.state.tokenize.isInText||n.md_inside&&t.current().indexOf(">")>-1)&&(n.f=f,n.block=l,n.htmlState=null)}return r}function c(e,t){var r=t.listStack[t.listStack.length-1]||0,i=t.indentation<r,a=r+3;if(t.fencedEndRE&&t.indentation<=a&&(i||e.match(t.fencedEndRE))){n.highlightFormatting&&(t.formatting="code-block");var s;return i||(s=h(t)),t.localMode=t.localState=null,t.block=l,t.f=f,t.fencedEndRE=null,t.code=0,t.thisLine.fencedCodeEnd=!0,i?o(e,t,t.block):s}return t.localMode?t.localMode.token(e,t.localState):(e.skipToEnd(),x.code)}function h(e){var t=[];if(e.formatting){t.push(x.formatting),"string"==typeof e.formatting&&(e.formatting=[e.formatting]);for(var r=0;r<e.formatting.length;r++)t.push(x.formatting+"-"+e.formatting[r]),"header"===e.formatting[r]&&t.push(x.formatting+"-"+e.formatting[r]+"-"+e.header),"quote"===e.formatting[r]&&(!n.maxBlockquoteDepth||n.maxBlockquoteDepth>=e.quote?t.push(x.formatting+"-"+e.formatting[r]+"-"+e.quote):t.push("error"))}if(e.taskOpen)return t.push("meta"),t.length?t.join(" "):null;if(e.taskClosed)return t.push("property"),t.length?t.join(" "):null;if(e.linkHref?t.push(x.linkHref,"url"):(e.strong&&t.push(x.strong),e.em&&t.push(x.em),e.strikethrough&&t.push(x.strikethrough),e.emoji&&t.push(x.emoji),e.linkText&&t.push(x.linkText),e.code&&t.push(x.code),e.image&&t.push(x.image),e.imageAltText&&t.push(x.imageAltText,"link"),e.imageMarker&&t.push(x.imageMarker)),e.header&&t.push(x.header,x.header+"-"+e.header),e.quote&&(t.push(x.quote),!n.maxBlockquoteDepth||n.maxBlockquoteDepth>=e.quote?t.push(x.quote+"-"+e.quote):t.push(x.quote+"-"+n.maxBlockquoteDepth)),e.list!==!1){var i=(e.listStack.length-1)%3;i?1===i?t.push(x.list2):t.push(x.list3):t.push(x.list1)}return e.trailingSpaceNewLine?t.push("trailing-space-new-line"):e.trailingSpace&&t.push("trailing-space-"+(e.trailingSpace%2?"a":"b")),t.length?t.join(" "):null}function d(e,t){return e.match(R,!0)?h(t):void 0}function f(t,r){var i=r.text(t,r);if("undefined"!=typeof i)return i;if(r.list)return r.list=null,h(r);if(r.taskList){var a=" "===t.match(T,!0)[1];return a?r.taskOpen=!0:r.taskClosed=!0,n.highlightFormatting&&(r.formatting="task"),r.taskList=!1,h(r)}if(r.taskOpen=!1,r.taskClosed=!1,r.header&&t.match(/^#+$/,!0))return n.highlightFormatting&&(r.formatting="header"),h(r);var s=t.next();if(r.linkTitle){r.linkTitle=!1;var l=s;"("===s&&(l=")"),l=(l+"").replace(/([.?*+^\[\]\\(){}|-])/g,"\\$1");var c="^\\s*(?:[^"+l+"\\\\]+|\\\\\\\\|\\\\.)"+l;if(t.match(new RegExp(c),!0))return x.linkHref}if("`"===s){var d=r.formatting;n.highlightFormatting&&(r.formatting="code"),t.eatWhile("`");var g=t.current().length;if(0!=r.code||r.quote&&1!=g){if(g==r.code){var v=h(r);return r.code=0,v}return r.formatting=d,h(r)}return r.code=g,h(r)}if(r.code)return h(r);if("\\"===s&&(t.next(),n.highlightFormatting)){var y=h(r),b=x.formatting+"-escape";return y?y+" "+b:b}if("!"===s&&t.match(/\[[^\]]*\] ?(?:\(|\[)/,!1))return r.imageMarker=!0,r.image=!0,n.highlightFormatting&&(r.formatting="image"),h(r);if("["===s&&r.imageMarker&&t.match(/[^\]]*\](\(.*?\)| ?\[.*?\])/,!1))return r.imageMarker=!1,r.imageAltText=!0,n.highlightFormatting&&(r.formatting="image"),h(r);if("]"===s&&r.imageAltText){n.highlightFormatting&&(r.formatting="image");var y=h(r);return r.imageAltText=!1,r.image=!1,r.inline=r.f=m,y}if("["===s&&!r.image)return r.linkText=!0,n.highlightFormatting&&(r.formatting="link"),h(r);if("]"===s&&r.linkText){n.highlightFormatting&&(r.formatting="link");var y=h(r);return r.linkText=!1,r.inline=r.f=t.match(/\(.*?\)| ?\[.*?\]/,!1)?m:f,y}if("<"===s&&t.match(/^(https?|ftps?):\/\/(?:[^\\>]|\\.)+>/,!1)){r.f=r.inline=p,n.highlightFormatting&&(r.formatting="link");var y=h(r);return y?y+=" ":y="",y+x.linkInline}if("<"===s&&t.match(/^[^> \\]+@(?:[^\\>]|\\.)+>/,!1)){r.f=r.inline=p,n.highlightFormatting&&(r.formatting="link");var y=h(r);return y?y+=" ":y="",y+x.linkEmail}if(n.xml&&"<"===s&&t.match(/^(!--|[a-z]+(?:\s+[a-z_:.\-]+(?:\s*=\s*[^ >]+)?)*\s*>)/i,!1)){var C=t.string.indexOf(">",t.pos);if(-1!=C){var k=t.string.substring(t.start,C);/markdown\s*=\s*('|"){0,1}1('|"){0,1}/.test(k)&&(r.md_inside=!0)}return t.backUp(1),r.htmlState=e.startState(w),o(t,r,u)}if(n.xml&&"<"===s&&t.match(/^\/\w*?>/))return r.md_inside=!1,"tag";if("*"===s||"_"===s){for(var S=1,_=1==t.pos?" ":t.string.charAt(t.pos-2);3>S&&t.eat(s);)S++;var E=t.peek()||" ",M=!/\s/.test(E)&&(!L.test(E)||/\s/.test(_)||L.test(_)),R=!/\s/.test(_)&&(!L.test(_)||/\s/.test(E)||L.test(E)),O=null,A=null;if(S%2&&(r.em||!M||"*"!==s&&R&&!L.test(_)?r.em!=s||!R||"*"!==s&&M&&!L.test(E)||(O=!1):O=!0),S>1&&(r.strong||!M||"*"!==s&&R&&!L.test(_)?r.strong!=s||!R||"*"!==s&&M&&!L.test(E)||(A=!1):A=!0),null!=A||null!=O){n.highlightFormatting&&(r.formatting=null==O?"strong":null==A?"em":"strong em"),O===!0&&(r.em=s),A===!0&&(r.strong=s);var v=h(r);return O===!1&&(r.em=!1),A===!1&&(r.strong=!1),v}}else if(" "===s&&(t.eat("*")||t.eat("_"))){if(" "===t.peek())return h(r);t.backUp(1)}if(n.strikethrough)if("~"===s&&t.eatWhile(s)){if(r.strikethrough){n.highlightFormatting&&(r.formatting="strikethrough");var v=h(r);return r.strikethrough=!1,v}if(t.match(/^[^\s]/,!1))return r.strikethrough=!0,n.highlightFormatting&&(r.formatting="strikethrough"),h(r)}else if(" "===s&&t.match(/^~~/,!0)){if(" "===t.peek())return h(r);t.backUp(2)}if(n.emoji&&":"===s&&t.match(/^[a-z_\d+-]+:/)){r.emoji=!0,n.highlightFormatting&&(r.formatting="emoji");var D=h(r);return r.emoji=!1,D}return" "===s&&(t.match(/ +$/,!1)?r.trailingSpace++:r.trailingSpace&&(r.trailingSpaceNewLine=!0)),h(r)}function p(e,t){var r=e.next();if(">"===r){t.f=t.inline=f,n.highlightFormatting&&(t.formatting="link");var i=h(t);return i?i+=" ":i="",i+x.linkInline}return e.match(/^[^>]+/,!0),x.linkInline}function m(e,t){if(e.eatSpace())return null;var r=e.next();return"("===r||"["===r?(t.f=t.inline=g("("===r?")":"]"),n.highlightFormatting&&(t.formatting="link-string"),t.linkHref=!0,h(t)):"error"}function g(e){return function(t,r){var i=t.next();if(i===e){r.f=r.inline=f,n.highlightFormatting&&(r.formatting="link-string");var o=h(r);return r.linkHref=!1,o}return t.match(P[e]),r.linkHref=!0,h(r)}}function v(e,t){return e.match(/^([^\]\\]|\\.)*\]:/,!1)?(t.f=y,e.next(),n.highlightFormatting&&(t.formatting="link"),t.linkText=!0,h(t)):i(e,t,f)}function y(e,t){if(e.match(/^\]:/,!0)){t.f=t.inline=b,n.highlightFormatting&&(t.formatting="link");var r=h(t);return t.linkText=!1,r}return e.match(/^([^\]\\]|\\.)+/,!0),x.linkText}function b(e,t){return e.eatSpace()?null:(e.match(/^[^\s]+/,!0),void 0===e.peek()?t.linkTitle=!0:e.match(/^(?:\s+(?:"(?:[^"\\]|\\\\|\\.)+"|'(?:[^'\\]|\\\\|\\.)+'|\((?:[^)\\]|\\\\|\\.)+\)))?/,!0),t.f=t.inline=f,x.linkHref+" url")}var w=e.getMode(t,"text/html"),C="null"==w.name;void 0===n.highlightFormatting&&(n.highlightFormatting=!1),void 0===n.maxBlockquoteDepth&&(n.maxBlockquoteDepth=0),void 0===n.taskLists&&(n.taskLists=!1),void 0===n.strikethrough&&(n.strikethrough=!1),void 0===n.emoji&&(n.emoji=!1),void 0===n.fencedCodeBlockHighlighting&&(n.fencedCodeBlockHighlighting=!0),void 0===n.xml&&(n.xml=!0),void 0===n.tokenTypeOverrides&&(n.tokenTypeOverrides={});var x={header:"header",code:"comment",quote:"quote",list1:"variable-2",list2:"variable-3",list3:"keyword",hr:"hr",image:"image",imageAltText:"image-alt-text",imageMarker:"image-marker",formatting:"formatting",linkInline:"link",linkEmail:"link",linkText:"link",linkHref:"string",em:"em",strong:"strong",strikethrough:"strikethrough",emoji:"builtin"};for(var k in x)x.hasOwnProperty(k)&&n.tokenTypeOverrides[k]&&(x[k]=n.tokenTypeOverrides[k]);var S=/^([*\-_])(?:\s*\1){2,}\s*$/,_=/^(?:[*\-+]|^[0-9]+([.)]))\s+/,T=/^\[(x| )\](?=\s)/i,E=n.allowAtxHeaderWithoutSpace?/^(#+)/:/^(#+)(?: |$)/,M=/^ *(?:\={1,}|-{1,})\s*$/,R=/^[^#!\[\]*_\\<>` "'(~:]+/,O=/^(~~~+|```+)[ \t]*([\w+#-]*)[^\n`]*$/,A=/^\s*\[[^\]]+?\]:\s*\S+(\s*\S*\s*)?$/,L=/[!\"#$%&\'()*+,\-\.\/:;<=>?@\[\\\]^_`{|}~—]/,D="    ",P={")":/^(?:[^\\\(\)]|\\.|\((?:[^\\\(\)]|\\.)*\))*?(?=\))/,"]":/^(?:[^\\\[\]]|\\.|\[(?:[^\\\[\]]|\\.)*\])*?(?=\])/},H={startState:function(){return{f:l,prevLine:{stream:null},thisLine:{stream:null},block:l,htmlState:null,indentation:0,inline:f,text:d,formatting:!1,linkText:!1,linkHref:!1,linkTitle:!1,code:0,em:!1,strong:!1,header:0,setext:0,hr:!1,taskList:!1,list:!1,listStack:[],quote:0,trailingSpace:0,trailingSpaceNewLine:!1,strikethrough:!1,emoji:!1,fencedEndRE:null}},copyState:function(t){return{f:t.f,prevLine:t.prevLine,thisLine:t.thisLine,block:t.block,htmlState:t.htmlState&&e.copyState(w,t.htmlState),indentation:t.indentation,localMode:t.localMode,localState:t.localMode?e.copyState(t.localMode,t.localState):null,inline:t.inline,text:t.text,formatting:!1,linkText:t.linkText,linkTitle:t.linkTitle,linkHref:t.linkHref,code:t.code,em:t.em,strong:t.strong,strikethrough:t.strikethrough,emoji:t.emoji,header:t.header,setext:t.setext,hr:t.hr,taskList:t.taskList,list:t.list,listStack:t.listStack.slice(0),quote:t.quote,indentedCode:t.indentedCode,trailingSpace:t.trailingSpace,trailingSpaceNewLine:t.trailingSpaceNewLine,md_inside:t.md_inside,fencedEndRE:t.fencedEndRE}},token:function(e,t){if(t.formatting=!1,e!=t.thisLine.stream){if(t.header=0,t.hr=!1,e.match(/^\s*$/,!0))return s(t),null;
if(t.prevLine=t.thisLine,t.thisLine={stream:e},t.taskList=!1,t.trailingSpace=0,t.trailingSpaceNewLine=!1,!t.localState&&(t.f=t.block,t.f!=u)){var n=e.match(/^\s*/,!0)[0].replace(/\t/g,D).length;if(t.indentation=n,t.indentationDiff=null,n>0)return null}}return t.f(e,t)},innerMode:function(e){return e.block==u?{state:e.htmlState,mode:w}:e.localState?{state:e.localState,mode:e.localMode}:{state:e,mode:H}},indent:function(t,n,r){return t.block==u&&w.indent?w.indent(t.htmlState,n,r):t.localState&&t.localMode.indent?t.localMode.indent(t.localState,n,r):e.Pass},blankLine:s,getType:h,closeBrackets:"()[]{}''\"\"``",fold:"markdown"};return H},"xml"),e.defineMIME("text/markdown","markdown"),e.defineMIME("text/x-markdown","markdown")})},{"../../lib/codemirror":68,"../meta":75,"../xml/xml":77}],75:[function(e,t,n){!function(r){"object"==typeof n&&"object"==typeof t?r(e("../lib/codemirror")):"function"==typeof define&&define.amd?define(["../lib/codemirror"],r):r(CodeMirror)}(function(e){"use strict";e.modeInfo=[{name:"APL",mime:"text/apl",mode:"apl",ext:["dyalog","apl"]},{name:"PGP",mimes:["application/pgp","application/pgp-encrypted","application/pgp-keys","application/pgp-signature"],mode:"asciiarmor",ext:["asc","pgp","sig"]},{name:"ASN.1",mime:"text/x-ttcn-asn",mode:"asn.1",ext:["asn","asn1"]},{name:"Asterisk",mime:"text/x-asterisk",mode:"asterisk",file:/^extensions\.conf$/i},{name:"Brainfuck",mime:"text/x-brainfuck",mode:"brainfuck",ext:["b","bf"]},{name:"C",mime:"text/x-csrc",mode:"clike",ext:["c","h","ino"]},{name:"C++",mime:"text/x-c++src",mode:"clike",ext:["cpp","c++","cc","cxx","hpp","h++","hh","hxx"],alias:["cpp"]},{name:"Cobol",mime:"text/x-cobol",mode:"cobol",ext:["cob","cpy"]},{name:"C#",mime:"text/x-csharp",mode:"clike",ext:["cs"],alias:["csharp"]},{name:"Clojure",mime:"text/x-clojure",mode:"clojure",ext:["clj","cljc","cljx"]},{name:"ClojureScript",mime:"text/x-clojurescript",mode:"clojure",ext:["cljs"]},{name:"Closure Stylesheets (GSS)",mime:"text/x-gss",mode:"css",ext:["gss"]},{name:"CMake",mime:"text/x-cmake",mode:"cmake",ext:["cmake","cmake.in"],file:/^CMakeLists.txt$/},{name:"CoffeeScript",mimes:["application/vnd.coffeescript","text/coffeescript","text/x-coffeescript"],mode:"coffeescript",ext:["coffee"],alias:["coffee","coffee-script"]},{name:"Common Lisp",mime:"text/x-common-lisp",mode:"commonlisp",ext:["cl","lisp","el"],alias:["lisp"]},{name:"Cypher",mime:"application/x-cypher-query",mode:"cypher",ext:["cyp","cypher"]},{name:"Cython",mime:"text/x-cython",mode:"python",ext:["pyx","pxd","pxi"]},{name:"Crystal",mime:"text/x-crystal",mode:"crystal",ext:["cr"]},{name:"CSS",mime:"text/css",mode:"css",ext:["css"]},{name:"CQL",mime:"text/x-cassandra",mode:"sql",ext:["cql"]},{name:"D",mime:"text/x-d",mode:"d",ext:["d"]},{name:"Dart",mimes:["application/dart","text/x-dart"],mode:"dart",ext:["dart"]},{name:"diff",mime:"text/x-diff",mode:"diff",ext:["diff","patch"]},{name:"Django",mime:"text/x-django",mode:"django"},{name:"Dockerfile",mime:"text/x-dockerfile",mode:"dockerfile",file:/^Dockerfile$/},{name:"DTD",mime:"application/xml-dtd",mode:"dtd",ext:["dtd"]},{name:"Dylan",mime:"text/x-dylan",mode:"dylan",ext:["dylan","dyl","intr"]},{name:"EBNF",mime:"text/x-ebnf",mode:"ebnf"},{name:"ECL",mime:"text/x-ecl",mode:"ecl",ext:["ecl"]},{name:"edn",mime:"application/edn",mode:"clojure",ext:["edn"]},{name:"Eiffel",mime:"text/x-eiffel",mode:"eiffel",ext:["e"]},{name:"Elm",mime:"text/x-elm",mode:"elm",ext:["elm"]},{name:"Embedded Javascript",mime:"application/x-ejs",mode:"htmlembedded",ext:["ejs"]},{name:"Embedded Ruby",mime:"application/x-erb",mode:"htmlembedded",ext:["erb"]},{name:"Erlang",mime:"text/x-erlang",mode:"erlang",ext:["erl"]},{name:"Esper",mime:"text/x-esper",mode:"sql"},{name:"Factor",mime:"text/x-factor",mode:"factor",ext:["factor"]},{name:"FCL",mime:"text/x-fcl",mode:"fcl"},{name:"Forth",mime:"text/x-forth",mode:"forth",ext:["forth","fth","4th"]},{name:"Fortran",mime:"text/x-fortran",mode:"fortran",ext:["f","for","f77","f90"]},{name:"F#",mime:"text/x-fsharp",mode:"mllike",ext:["fs"],alias:["fsharp"]},{name:"Gas",mime:"text/x-gas",mode:"gas",ext:["s"]},{name:"Gherkin",mime:"text/x-feature",mode:"gherkin",ext:["feature"]},{name:"GitHub Flavored Markdown",mime:"text/x-gfm",mode:"gfm",file:/^(readme|contributing|history).md$/i},{name:"Go",mime:"text/x-go",mode:"go",ext:["go"]},{name:"Groovy",mime:"text/x-groovy",mode:"groovy",ext:["groovy","gradle"],file:/^Jenkinsfile$/},{name:"HAML",mime:"text/x-haml",mode:"haml",ext:["haml"]},{name:"Haskell",mime:"text/x-haskell",mode:"haskell",ext:["hs"]},{name:"Haskell (Literate)",mime:"text/x-literate-haskell",mode:"haskell-literate",ext:["lhs"]},{name:"Haxe",mime:"text/x-haxe",mode:"haxe",ext:["hx"]},{name:"HXML",mime:"text/x-hxml",mode:"haxe",ext:["hxml"]},{name:"ASP.NET",mime:"application/x-aspx",mode:"htmlembedded",ext:["aspx"],alias:["asp","aspx"]},{name:"HTML",mime:"text/html",mode:"htmlmixed",ext:["html","htm","handlebars","hbs"],alias:["xhtml"]},{name:"HTTP",mime:"message/http",mode:"http"},{name:"IDL",mime:"text/x-idl",mode:"idl",ext:["pro"]},{name:"Pug",mime:"text/x-pug",mode:"pug",ext:["jade","pug"],alias:["jade"]},{name:"Java",mime:"text/x-java",mode:"clike",ext:["java"]},{name:"Java Server Pages",mime:"application/x-jsp",mode:"htmlembedded",ext:["jsp"],alias:["jsp"]},{name:"JavaScript",mimes:["text/javascript","text/ecmascript","application/javascript","application/x-javascript","application/ecmascript"],mode:"javascript",ext:["js"],alias:["ecmascript","js","node"]},{name:"JSON",mimes:["application/json","application/x-json"],mode:"javascript",ext:["json","map"],alias:["json5"]},{name:"JSON-LD",mime:"application/ld+json",mode:"javascript",ext:["jsonld"],alias:["jsonld"]},{name:"JSX",mime:"text/jsx",mode:"jsx",ext:["jsx"]},{name:"Jinja2",mime:"null",mode:"jinja2"},{name:"Julia",mime:"text/x-julia",mode:"julia",ext:["jl"]},{name:"Kotlin",mime:"text/x-kotlin",mode:"clike",ext:["kt"]},{name:"LESS",mime:"text/x-less",mode:"css",ext:["less"]},{name:"LiveScript",mime:"text/x-livescript",mode:"livescript",ext:["ls"],alias:["ls"]},{name:"Lua",mime:"text/x-lua",mode:"lua",ext:["lua"]},{name:"Markdown",mime:"text/x-markdown",mode:"markdown",ext:["markdown","md","mkd"]},{name:"mIRC",mime:"text/mirc",mode:"mirc"},{name:"MariaDB SQL",mime:"text/x-mariadb",mode:"sql"},{name:"Mathematica",mime:"text/x-mathematica",mode:"mathematica",ext:["m","nb"]},{name:"Modelica",mime:"text/x-modelica",mode:"modelica",ext:["mo"]},{name:"MUMPS",mime:"text/x-mumps",mode:"mumps",ext:["mps"]},{name:"MS SQL",mime:"text/x-mssql",mode:"sql"},{name:"mbox",mime:"application/mbox",mode:"mbox",ext:["mbox"]},{name:"MySQL",mime:"text/x-mysql",mode:"sql"},{name:"Nginx",mime:"text/x-nginx-conf",mode:"nginx",file:/nginx.*\.conf$/i},{name:"NSIS",mime:"text/x-nsis",mode:"nsis",ext:["nsh","nsi"]},{name:"NTriples",mimes:["application/n-triples","application/n-quads","text/n-triples"],mode:"ntriples",ext:["nt","nq"]},{name:"Objective-C",mime:"text/x-objectivec",mode:"clike",ext:["m","mm"],alias:["objective-c","objc"]},{name:"OCaml",mime:"text/x-ocaml",mode:"mllike",ext:["ml","mli","mll","mly"]},{name:"Octave",mime:"text/x-octave",mode:"octave",ext:["m"]},{name:"Oz",mime:"text/x-oz",mode:"oz",ext:["oz"]},{name:"Pascal",mime:"text/x-pascal",mode:"pascal",ext:["p","pas"]},{name:"PEG.js",mime:"null",mode:"pegjs",ext:["jsonld"]},{name:"Perl",mime:"text/x-perl",mode:"perl",ext:["pl","pm"]},{name:"PHP",mimes:["text/x-php","application/x-httpd-php","application/x-httpd-php-open"],mode:"php",ext:["php","php3","php4","php5","php7","phtml"]},{name:"Pig",mime:"text/x-pig",mode:"pig",ext:["pig"]},{name:"Plain Text",mime:"text/plain",mode:"null",ext:["txt","text","conf","def","list","log"]},{name:"PLSQL",mime:"text/x-plsql",mode:"sql",ext:["pls"]},{name:"PowerShell",mime:"application/x-powershell",mode:"powershell",ext:["ps1","psd1","psm1"]},{name:"Properties files",mime:"text/x-properties",mode:"properties",ext:["properties","ini","in"],alias:["ini","properties"]},{name:"ProtoBuf",mime:"text/x-protobuf",mode:"protobuf",ext:["proto"]},{name:"Python",mime:"text/x-python",mode:"python",ext:["BUILD","bzl","py","pyw"],file:/^(BUCK|BUILD)$/},{name:"Puppet",mime:"text/x-puppet",mode:"puppet",ext:["pp"]},{name:"Q",mime:"text/x-q",mode:"q",ext:["q"]},{name:"R",mime:"text/x-rsrc",mode:"r",ext:["r","R"],alias:["rscript"]},{name:"reStructuredText",mime:"text/x-rst",mode:"rst",ext:["rst"],alias:["rst"]},{name:"RPM Changes",mime:"text/x-rpm-changes",mode:"rpm"},{name:"RPM Spec",mime:"text/x-rpm-spec",mode:"rpm",ext:["spec"]},{name:"Ruby",mime:"text/x-ruby",mode:"ruby",ext:["rb"],alias:["jruby","macruby","rake","rb","rbx"]},{name:"Rust",mime:"text/x-rustsrc",mode:"rust",ext:["rs"]},{name:"SAS",mime:"text/x-sas",mode:"sas",ext:["sas"]},{name:"Sass",mime:"text/x-sass",mode:"sass",ext:["sass"]},{name:"Scala",mime:"text/x-scala",mode:"clike",ext:["scala"]},{name:"Scheme",mime:"text/x-scheme",mode:"scheme",ext:["scm","ss"]},{name:"SCSS",mime:"text/x-scss",mode:"css",ext:["scss"]},{name:"Shell",mimes:["text/x-sh","application/x-sh"],mode:"shell",ext:["sh","ksh","bash"],alias:["bash","sh","zsh"],file:/^PKGBUILD$/},{name:"Sieve",mime:"application/sieve",mode:"sieve",ext:["siv","sieve"]},{name:"Slim",mimes:["text/x-slim","application/x-slim"],mode:"slim",ext:["slim"]},{name:"Smalltalk",mime:"text/x-stsrc",mode:"smalltalk",ext:["st"]},{name:"Smarty",mime:"text/x-smarty",mode:"smarty",ext:["tpl"]},{name:"Solr",mime:"text/x-solr",mode:"solr"},{name:"SML",mime:"text/x-sml",mode:"mllike",ext:["sml","sig","fun","smackspec"]},{name:"Soy",mime:"text/x-soy",mode:"soy",ext:["soy"],alias:["closure template"]},{name:"SPARQL",mime:"application/sparql-query",mode:"sparql",ext:["rq","sparql"],alias:["sparul"]},{name:"Spreadsheet",mime:"text/x-spreadsheet",mode:"spreadsheet",alias:["excel","formula"]},{name:"SQL",mime:"text/x-sql",mode:"sql",ext:["sql"]},{name:"SQLite",mime:"text/x-sqlite",mode:"sql"},{name:"Squirrel",mime:"text/x-squirrel",mode:"clike",ext:["nut"]},{name:"Stylus",mime:"text/x-styl",mode:"stylus",ext:["styl"]},{name:"Swift",mime:"text/x-swift",mode:"swift",ext:["swift"]},{name:"sTeX",mime:"text/x-stex",mode:"stex"},{name:"LaTeX",mime:"text/x-latex",mode:"stex",ext:["text","ltx"],alias:["tex"]},{name:"SystemVerilog",mime:"text/x-systemverilog",mode:"verilog",ext:["v","sv","svh"]},{name:"Tcl",mime:"text/x-tcl",mode:"tcl",ext:["tcl"]},{name:"Textile",mime:"text/x-textile",mode:"textile",ext:["textile"]},{name:"TiddlyWiki ",mime:"text/x-tiddlywiki",mode:"tiddlywiki"},{name:"Tiki wiki",mime:"text/tiki",mode:"tiki"},{name:"TOML",mime:"text/x-toml",mode:"toml",ext:["toml"]},{name:"Tornado",mime:"text/x-tornado",mode:"tornado"},{name:"troff",mime:"text/troff",mode:"troff",ext:["1","2","3","4","5","6","7","8","9"]},{name:"TTCN",mime:"text/x-ttcn",mode:"ttcn",ext:["ttcn","ttcn3","ttcnpp"]},{name:"TTCN_CFG",mime:"text/x-ttcn-cfg",mode:"ttcn-cfg",ext:["cfg"]},{name:"Turtle",mime:"text/turtle",mode:"turtle",ext:["ttl"]},{name:"TypeScript",mime:"application/typescript",mode:"javascript",ext:["ts"],alias:["ts"]},{name:"TypeScript-JSX",mime:"text/typescript-jsx",mode:"jsx",ext:["tsx"],alias:["tsx"]},{name:"Twig",mime:"text/x-twig",mode:"twig"},{name:"Web IDL",mime:"text/x-webidl",mode:"webidl",ext:["webidl"]},{name:"VB.NET",mime:"text/x-vb",mode:"vb",ext:["vb"]},{name:"VBScript",mime:"text/vbscript",mode:"vbscript",ext:["vbs"]},{name:"Velocity",mime:"text/velocity",mode:"velocity",ext:["vtl"]},{name:"Verilog",mime:"text/x-verilog",mode:"verilog",ext:["v"]},{name:"VHDL",mime:"text/x-vhdl",mode:"vhdl",ext:["vhd","vhdl"]},{name:"Vue.js Component",mimes:["script/x-vue","text/x-vue"],mode:"vue",ext:["vue"]},{name:"XML",mimes:["application/xml","text/xml"],mode:"xml",ext:["xml","xsl","xsd","svg"],alias:["rss","wsdl","xsd"]},{name:"XQuery",mime:"application/xquery",mode:"xquery",ext:["xy","xquery"]},{name:"Yacas",mime:"text/x-yacas",mode:"yacas",ext:["ys"]},{name:"YAML",mimes:["text/x-yaml","text/yaml"],mode:"yaml",ext:["yaml","yml"],alias:["yml"]},{name:"Z80",mime:"text/x-z80",mode:"z80",ext:["z80"]},{name:"mscgen",mime:"text/x-mscgen",mode:"mscgen",ext:["mscgen","mscin","msc"]},{name:"xu",mime:"text/x-xu",mode:"mscgen",ext:["xu"]},{name:"msgenny",mime:"text/x-msgenny",mode:"mscgen",ext:["msgenny"]}];for(var t=0;t<e.modeInfo.length;t++){var n=e.modeInfo[t];n.mimes&&(n.mime=n.mimes[0])}e.findModeByMIME=function(t){t=t.toLowerCase();for(var n=0;n<e.modeInfo.length;n++){var r=e.modeInfo[n];if(r.mime==t)return r;if(r.mimes)for(var i=0;i<r.mimes.length;i++)if(r.mimes[i]==t)return r}return/\+xml$/.test(t)?e.findModeByMIME("application/xml"):/\+json$/.test(t)?e.findModeByMIME("application/json"):void 0},e.findModeByExtension=function(t){for(var n=0;n<e.modeInfo.length;n++){var r=e.modeInfo[n];if(r.ext)for(var i=0;i<r.ext.length;i++)if(r.ext[i]==t)return r}},e.findModeByFileName=function(t){for(var n=0;n<e.modeInfo.length;n++){var r=e.modeInfo[n];if(r.file&&r.file.test(t))return r}var i=t.lastIndexOf("."),o=i>-1&&t.substring(i+1,t.length);return o?e.findModeByExtension(o):void 0},e.findModeByName=function(t){t=t.toLowerCase();for(var n=0;n<e.modeInfo.length;n++){var r=e.modeInfo[n];if(r.name.toLowerCase()==t)return r;if(r.alias)for(var i=0;i<r.alias.length;i++)if(r.alias[i].toLowerCase()==t)return r}}})},{"../lib/codemirror":68}],76:[function(e,t,n){!function(r){"object"==typeof n&&"object"==typeof t?r(e("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],r):r(CodeMirror)}(function(e){"use strict";e.defineMode("ruby",function(e){function t(e){for(var t={},n=0,r=e.length;r>n;++n)t[e[n]]=!0;return t}function n(e,t,n){return n.tokenize.push(e),e(t,n)}function r(e,t){if(e.sol()&&e.match("=begin")&&e.eol())return t.tokenize.push(u),"comment";if(e.eatSpace())return null;var r,o=e.next();if("`"==o||"'"==o||'"'==o)return n(s(o,"string",'"'==o||"`"==o),e,t);if("/"==o)return i(e)?n(s(o,"string-2",!0),e,t):"operator";if("%"==o){var a="string",h=!0;e.eat("s")?a="atom":e.eat(/[WQ]/)?a="string":e.eat(/[r]/)?a="string-2":e.eat(/[wxq]/)&&(a="string",h=!1);var d=e.eat(/[^\w\s=]/);return d?(p.propertyIsEnumerable(d)&&(d=p[d]),n(s(d,a,h,!0),e,t)):"operator"}if("#"==o)return e.skipToEnd(),"comment";if("<"==o&&(r=e.match(/^<-?[\`\"\']?([a-zA-Z_?]\w*)[\`\"\']?(?:;|$)/)))return n(l(r[1]),e,t);if("0"==o)return e.eat("x")?e.eatWhile(/[\da-fA-F]/):e.eat("b")?e.eatWhile(/[01]/):e.eatWhile(/[0-7]/),"number";if(/\d/.test(o))return e.match(/^[\d_]*(?:\.[\d_]+)?(?:[eE][+\-]?[\d_]+)?/),"number";if("?"==o){for(;e.match(/^\\[CM]-/););return e.eat("\\")?e.eatWhile(/\w/):e.next(),"string"}if(":"==o)return e.eat("'")?n(s("'","atom",!1),e,t):e.eat('"')?n(s('"',"atom",!0),e,t):e.eat(/[\<\>]/)?(e.eat(/[\<\>]/),"atom"):e.eat(/[\+\-\*\/\&\|\:\!]/)?"atom":e.eat(/[a-zA-Z$@_\xa1-\uffff]/)?(e.eatWhile(/[\w$\xa1-\uffff]/),e.eat(/[\?\!\=]/),"atom"):"operator";if("@"==o&&e.match(/^@?[a-zA-Z_\xa1-\uffff]/))return e.eat("@"),e.eatWhile(/[\w\xa1-\uffff]/),"variable-2";if("$"==o)return e.eat(/[a-zA-Z_]/)?e.eatWhile(/[\w]/):e.eat(/\d/)?e.eat(/\d/):e.next(),"variable-3";if(/[a-zA-Z_\xa1-\uffff]/.test(o))return e.eatWhile(/[\w\xa1-\uffff]/),e.eat(/[\?\!]/),e.eat(":")?"atom":"ident";if("|"!=o||!t.varList&&"{"!=t.lastTok&&"do"!=t.lastTok){if(/[\(\)\[\]{}\\;]/.test(o))return c=o,null;if("-"==o&&e.eat(">"))return"arrow";if(/[=+\-\/*:\.^%<>~|]/.test(o)){var f=e.eatWhile(/[=+\-\/*:\.^%<>~|]/);return"."!=o||f||(c="."),"operator"}return null}return c="|",null}function i(e){for(var t,n=e.pos,r=0,i=!1,o=!1;null!=(t=e.next());)if(o)o=!1;else{if("[{(".indexOf(t)>-1)r++;else if("]})".indexOf(t)>-1){if(r--,0>r)break}else if("/"==t&&0==r){i=!0;break}o="\\"==t}return e.backUp(e.pos-n),i}function o(e){return e||(e=1),function(t,n){if("}"==t.peek()){if(1==e)return n.tokenize.pop(),n.tokenize[n.tokenize.length-1](t,n);n.tokenize[n.tokenize.length-1]=o(e-1)}else"{"==t.peek()&&(n.tokenize[n.tokenize.length-1]=o(e+1));return r(t,n)}}function a(){var e=!1;return function(t,n){return e?(n.tokenize.pop(),n.tokenize[n.tokenize.length-1](t,n)):(e=!0,r(t,n))}}function s(e,t,n,r){return function(i,s){var l,u=!1;for("read-quoted-paused"===s.context.type&&(s.context=s.context.prev,i.eat("}"));null!=(l=i.next());){if(l==e&&(r||!u)){s.tokenize.pop();break}if(n&&"#"==l&&!u){if(i.eat("{")){"}"==e&&(s.context={prev:s.context,type:"read-quoted-paused"}),s.tokenize.push(o());break}if(/[@\$]/.test(i.peek())){s.tokenize.push(a());break}}u=!u&&"\\"==l}return t}}function l(e){return function(t,n){return t.match(e)?n.tokenize.pop():t.skipToEnd(),"string"}}function u(e,t){return e.sol()&&e.match("=end")&&e.eol()&&t.tokenize.pop(),e.skipToEnd(),"comment"}var c,h=t(["alias","and","BEGIN","begin","break","case","class","def","defined?","do","else","elsif","END","end","ensure","false","for","if","in","module","next","not","or","redo","rescue","retry","return","self","super","then","true","undef","unless","until","when","while","yield","nil","raise","throw","catch","fail","loop","callcc","caller","lambda","proc","public","protected","private","require","load","require_relative","extend","autoload","__END__","__FILE__","__LINE__","__dir__"]),d=t(["def","class","case","for","while","until","module","then","catch","loop","proc","begin"]),f=t(["end","until"]),p={"[":"]","{":"}","(":")"};return{startState:function(){return{tokenize:[r],indented:0,context:{type:"top",indented:-e.indentUnit},continuedLine:!1,lastTok:null,varList:!1}},token:function(e,t){c=null,e.sol()&&(t.indented=e.indentation());var n,r=t.tokenize[t.tokenize.length-1](e,t),i=c;if("ident"==r){var o=e.current();r="."==t.lastTok?"property":h.propertyIsEnumerable(e.current())?"keyword":/^[A-Z]/.test(o)?"tag":"def"==t.lastTok||"class"==t.lastTok||t.varList?"def":"variable","keyword"==r&&(i=o,d.propertyIsEnumerable(o)?n="indent":f.propertyIsEnumerable(o)?n="dedent":"if"!=o&&"unless"!=o||e.column()!=e.indentation()?"do"==o&&t.context.indented<t.indented&&(n="indent"):n="indent")}return(c||r&&"comment"!=r)&&(t.lastTok=i),"|"==c&&(t.varList=!t.varList),"indent"==n||/[\(\[\{]/.test(c)?t.context={prev:t.context,type:c||r,indented:t.indented}:("dedent"==n||/[\)\]\}]/.test(c))&&t.context.prev&&(t.context=t.context.prev),e.eol()&&(t.continuedLine="\\"==c||"operator"==r),r},indent:function(t,n){if(t.tokenize[t.tokenize.length-1]!=r)return 0;var i=n&&n.charAt(0),o=t.context,a=o.type==p[i]||"keyword"==o.type&&/^(?:end|until|else|elsif|when|rescue)\b/.test(n);return o.indented+(a?0:e.indentUnit)+(t.continuedLine?e.indentUnit:0)},electricInput:/^\s*(?:end|rescue|elsif|else|\})$/,lineComment:"#",fold:"indent"}}),e.defineMIME("text/x-ruby","ruby")})},{"../../lib/codemirror":68}],77:[function(e,t,n){!function(r){"object"==typeof n&&"object"==typeof t?r(e("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],r):r(CodeMirror)}(function(e){"use strict";var t={autoSelfClosers:{area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0,menuitem:!0},implicitlyClosed:{dd:!0,li:!0,optgroup:!0,option:!0,p:!0,rp:!0,rt:!0,tbody:!0,td:!0,tfoot:!0,th:!0,tr:!0},contextGrabbers:{dd:{dd:!0,dt:!0},dt:{dd:!0,dt:!0},li:{li:!0},option:{option:!0,optgroup:!0},optgroup:{optgroup:!0},p:{address:!0,article:!0,aside:!0,blockquote:!0,dir:!0,div:!0,dl:!0,fieldset:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,menu:!0,nav:!0,ol:!0,p:!0,pre:!0,section:!0,table:!0,ul:!0},rp:{rp:!0,rt:!0},rt:{rp:!0,rt:!0},tbody:{tbody:!0,tfoot:!0},td:{td:!0,th:!0},tfoot:{tbody:!0},th:{td:!0,th:!0},thead:{tbody:!0,tfoot:!0},tr:{tr:!0}},doNotIndent:{pre:!0},allowUnquoted:!0,allowMissing:!0,caseFold:!0},n={autoSelfClosers:{},implicitlyClosed:{},contextGrabbers:{},doNotIndent:{},allowUnquoted:!1,allowMissing:!1,allowMissingTagName:!1,caseFold:!1};e.defineMode("xml",function(r,i){function o(e,t){function n(n){return t.tokenize=n,n(e,t)}var r=e.next();if("<"==r)return e.eat("!")?e.eat("[")?e.match("CDATA[")?n(l("atom","]]>")):null:e.match("--")?n(l("comment","-->")):e.match("DOCTYPE",!0,!0)?(e.eatWhile(/[\w\._\-]/),n(u(1))):null:e.eat("?")?(e.eatWhile(/[\w\._\-]/),t.tokenize=l("meta","?>"),"meta"):(T=e.eat("/")?"closeTag":"openTag",t.tokenize=a,"tag bracket");if("&"==r){var i;return i=e.eat("#")?e.eat("x")?e.eatWhile(/[a-fA-F\d]/)&&e.eat(";"):e.eatWhile(/[\d]/)&&e.eat(";"):e.eatWhile(/[\w\.\-:]/)&&e.eat(";"),i?"atom":"error"}return e.eatWhile(/[^&<]/),null}function a(e,t){var n=e.next();if(">"==n||"/"==n&&e.eat(">"))return t.tokenize=o,T=">"==n?"endTag":"selfcloseTag","tag bracket";if("="==n)return T="equals",null;if("<"==n){t.tokenize=o,t.state=f,t.tagName=t.tagStart=null;var r=t.tokenize(e,t);return r?r+" tag error":"tag error"}return/[\'\"]/.test(n)?(t.tokenize=s(n),t.stringStartCol=e.column(),t.tokenize(e,t)):(e.match(/^[^\s\u00a0=<>\"\']*[^\s\u00a0=<>\"\'\/]/),"word")}function s(e){var t=function(t,n){for(;!t.eol();)if(t.next()==e){n.tokenize=a;break}return"string"};return t.isInAttribute=!0,t}function l(e,t){return function(n,r){for(;!n.eol();){if(n.match(t)){r.tokenize=o;break}n.next()}return e}}function u(e){return function(t,n){for(var r;null!=(r=t.next());){if("<"==r)return n.tokenize=u(e+1),n.tokenize(t,n);if(">"==r){if(1==e){n.tokenize=o;break}return n.tokenize=u(e-1),n.tokenize(t,n)}}return"meta"}}function c(e,t,n){this.prev=e.context,this.tagName=t,this.indent=e.indented,this.startOfLine=n,(k.doNotIndent.hasOwnProperty(t)||e.context&&e.context.noIndent)&&(this.noIndent=!0)}function h(e){e.context&&(e.context=e.context.prev)}function d(e,t){for(var n;;){if(!e.context)return;if(n=e.context.tagName,!k.contextGrabbers.hasOwnProperty(n)||!k.contextGrabbers[n].hasOwnProperty(t))return;h(e)}}function f(e,t,n){return"openTag"==e?(n.tagStart=t.column(),p):"closeTag"==e?m:f}function p(e,t,n){return"word"==e?(n.tagName=t.current(),E="tag",y):k.allowMissingTagName&&"endTag"==e?(E="tag bracket",y(e,t,n)):(E="error",p)}function m(e,t,n){if("word"==e){var r=t.current();return n.context&&n.context.tagName!=r&&k.implicitlyClosed.hasOwnProperty(n.context.tagName)&&h(n),n.context&&n.context.tagName==r||k.matchClosing===!1?(E="tag",g):(E="tag error",v)}return k.allowMissingTagName&&"endTag"==e?(E="tag bracket",g(e,t,n)):(E="error",v)}function g(e,t,n){return"endTag"!=e?(E="error",g):(h(n),f)}function v(e,t,n){return E="error",g(e,t,n)}function y(e,t,n){if("word"==e)return E="attribute",b;if("endTag"==e||"selfcloseTag"==e){var r=n.tagName,i=n.tagStart;return n.tagName=n.tagStart=null,"selfcloseTag"==e||k.autoSelfClosers.hasOwnProperty(r)?d(n,r):(d(n,r),n.context=new c(n,r,i==n.indented)),f}return E="error",y}function b(e,t,n){return"equals"==e?w:(k.allowMissing||(E="error"),y(e,t,n))}function w(e,t,n){return"string"==e?C:"word"==e&&k.allowUnquoted?(E="string",y):(E="error",y(e,t,n))}function C(e,t,n){return"string"==e?C:y(e,t,n)}var x=r.indentUnit,k={},S=i.htmlMode?t:n;for(var _ in S)k[_]=S[_];for(var _ in i)k[_]=i[_];var T,E;return o.isInText=!0,{startState:function(e){var t={tokenize:o,state:f,indented:e||0,tagName:null,tagStart:null,context:null};return null!=e&&(t.baseIndent=e),t},token:function(e,t){if(!t.tagName&&e.sol()&&(t.indented=e.indentation()),e.eatSpace())return null;T=null;var n=t.tokenize(e,t);return(n||T)&&"comment"!=n&&(E=null,t.state=t.state(T||n,e,t),E&&(n="error"==E?n+" error":E)),n},indent:function(t,n,r){var i=t.context;if(t.tokenize.isInAttribute)return t.tagStart==t.indented?t.stringStartCol+1:t.indented+x;if(i&&i.noIndent)return e.Pass;if(t.tokenize!=a&&t.tokenize!=o)return r?r.match(/^(\s*)/)[0].length:0;if(t.tagName)return k.multilineTagIndentPastTag!==!1?t.tagStart+t.tagName.length+2:t.tagStart+x*(k.multilineTagIndentFactor||1);if(k.alignCDATA&&/<!\[CDATA\[/.test(n))return 0;var s=n&&/^<(\/)?([\w_:\.-]*)/.exec(n);if(s&&s[1])for(;i;){if(i.tagName==s[2]){i=i.prev;break}if(!k.implicitlyClosed.hasOwnProperty(i.tagName))break;i=i.prev}else if(s)for(;i;){var l=k.contextGrabbers[i.tagName];if(!l||!l.hasOwnProperty(s[2]))break;i=i.prev}for(;i&&i.prev&&!i.startOfLine;)i=i.prev;return i?i.indent+x:t.baseIndent||0},electricInput:/<\/[\s\w:]+>$/,blockCommentStart:"<!--",blockCommentEnd:"-->",configuration:k.htmlMode?"html":"xml",helperType:k.htmlMode?"html":"xml",skipAttribute:function(e){e.state==w&&(e.state=y)}}}),e.defineMIME("text/xml","xml"),e.defineMIME("application/xml","xml"),e.mimeModes.hasOwnProperty("text/html")||e.defineMIME("text/html",{name:"xml",htmlMode:!0})})},{"../../lib/codemirror":68}],78:[function(e,t,n){!function(r){"object"==typeof n&&"object"==typeof t?r(e("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],r):r(CodeMirror)}(function(e){"use strict";e.defineMode("yaml",function(){var e=["true","false","on","off","yes","no"],t=new RegExp("\\b(("+e.join(")|(")+"))$","i");return{token:function(e,n){var r=e.peek(),i=n.escaped;if(n.escaped=!1,"#"==r&&(0==e.pos||/\s/.test(e.string.charAt(e.pos-1))))return e.skipToEnd(),"comment";if(e.match(/^('([^']|\\.)*'?|"([^"]|\\.)*"?)/))return"string";if(n.literal&&e.indentation()>n.keyCol)return e.skipToEnd(),"string";if(n.literal&&(n.literal=!1),e.sol()){if(n.keyCol=0,n.pair=!1,n.pairStart=!1,e.match(/---/))return"def";if(e.match(/\.\.\./))return"def";if(e.match(/\s*-\s+/))return"meta"}if(e.match(/^(\{|\}|\[|\])/))return"{"==r?n.inlinePairs++:"}"==r?n.inlinePairs--:"["==r?n.inlineList++:n.inlineList--,"meta";if(n.inlineList>0&&!i&&","==r)return e.next(),"meta";if(n.inlinePairs>0&&!i&&","==r)return n.keyCol=0,n.pair=!1,n.pairStart=!1,e.next(),"meta";if(n.pairStart){if(e.match(/^\s*(\||\>)\s*/))return n.literal=!0,"meta";if(e.match(/^\s*(\&|\*)[a-z0-9\._-]+\b/i))return"variable-2";if(0==n.inlinePairs&&e.match(/^\s*-?[0-9\.\,]+\s?$/))return"number";if(n.inlinePairs>0&&e.match(/^\s*-?[0-9\.\,]+\s?(?=(,|}))/))return"number";if(e.match(t))return"keyword"}return!n.pair&&e.match(/^\s*(?:[,\[\]{}&*!|>'"%@`][^\s'":]|[^,\[\]{}#&*!|>'"%@`])[^#]*?(?=\s*:($|\s))/)?(n.pair=!0,n.keyCol=e.indentation(),"atom"):n.pair&&e.match(/^:\s*/)?(n.pairStart=!0,"meta"):(n.pairStart=!1,n.escaped="\\"==r,e.next(),null)},startState:function(){return{pair:!1,pairStart:!1,keyCol:0,inlinePairs:0,inlineList:0,literal:!1,escaped:!1}}}}),e.defineMIME("text/x-yaml","yaml"),e.defineMIME("text/yaml","yaml")})},{"../../lib/codemirror":68}],79:[function(e,t,n){!function(e,r){"function"==typeof define&&define.amd?define(r):"object"==typeof n?t.exports=r():e.deepmerge=r()}(this,function(){return function e(t,n){var r=Array.isArray(n),i=r&&[]||{};return r?(t=t||[],i=i.concat(t),n.forEach(function(n,r){"undefined"==typeof i[r]?i[r]=n:"object"==typeof n?i[r]=e(t[r],n):-1===t.indexOf(n)&&i.push(n)})):(t&&"object"==typeof t&&Object.keys(t).forEach(function(e){i[e]=t[e]}),Object.keys(n).forEach(function(r){i[r]="object"==typeof n[r]&&n[r]?t[r]?e(t[r],n[r]):n[r]:n[r]})),i}})},{}],80:[function(e,t){var n=function(){function e(e){return{newPos:e.newPos,components:e.components.slice(0)}}function t(e){for(var t=[],n=0;n<e.length;n++)e[n]&&t.push(e[n]);return t}function n(e){var t=e;return t=t.replace(/&/g,"&amp;"),t=t.replace(/</g,"&lt;"),t=t.replace(/>/g,"&gt;"),t=t.replace(/"/g,"&quot;")}var r=function(e){this.ignoreWhitespace=e};r.prototype={diff:function(t,n){if(n===t)return[{value:n}];if(!n)return[{value:t,removed:!0}];if(!t)return[{value:n,added:!0}];n=this.tokenize(n),t=this.tokenize(t);var r=n.length,i=t.length,o=r+i,a=[{newPos:-1,components:[]}],s=this.extractCommon(a[0],n,t,0);if(a[0].newPos+1>=r&&s+1>=i)return a[0].components;for(var l=1;o>=l;l++)for(var u=-1*l;l>=u;u+=2){var c,h=a[u-1],d=a[u+1];s=(d?d.newPos:0)-u,h&&(a[u-1]=void 0);var f=h&&h.newPos+1<r,p=d&&s>=0&&i>s;if(f||p){!f||p&&h.newPos<d.newPos?(c=e(d),this.pushComponent(c.components,t[s],void 0,!0)):(c=e(h),c.newPos++,this.pushComponent(c.components,n[c.newPos],!0,void 0));var s=this.extractCommon(c,n,t,u);if(c.newPos+1>=r&&s+1>=i)return c.components;a[u]=c}else a[u]=void 0}},pushComponent:function(e,t,n,r){var i=e[e.length-1];i&&i.added===n&&i.removed===r?e[e.length-1]={value:this.join(i.value,t),added:n,removed:r}:e.push({value:t,added:n,removed:r})},extractCommon:function(e,t,n,r){for(var i=t.length,o=n.length,a=e.newPos,s=a-r;i>a+1&&o>s+1&&this.equals(t[a+1],n[s+1]);)a++,s++,this.pushComponent(e.components,t[a],void 0,void 0);return e.newPos=a,s},equals:function(e,t){var n=/\S/;return!this.ignoreWhitespace||n.test(e)||n.test(t)?e===t:!0},join:function(e,t){return e+t},tokenize:function(e){return e}};var i=new r,o=new r(!0),a=new r;o.tokenize=a.tokenize=function(e){return t(e.split(/(\s+|\b)/))};var s=new r(!0);s.tokenize=function(e){return t(e.split(/([{}:;,]|\s+)/))};var l=new r;return l.tokenize=function(e){for(var t=[],n=e.split(/^/m),r=0;r<n.length;r++){var i=n[r],o=n[r-1];"\n"==i&&o&&"\r"===o[o.length-1]?t[t.length-1]+="\n":i&&t.push(i)}return t},{Diff:r,diffChars:function(e,t){return i.diff(e,t)},diffWords:function(e,t){return o.diff(e,t)},diffWordsWithSpace:function(e,t){return a.diff(e,t)},diffLines:function(e,t){return l.diff(e,t)},diffCss:function(e,t){return s.diff(e,t)},createPatch:function(e,t,n,r,i){function o(e){return e.map(function(e){return" "+e})}function a(e,t,n){var r=u[u.length-2],i=t===u.length-2,o=t===u.length-3&&(n.added!==r.added||n.removed!==r.removed);/\n$/.test(n.value)||!i&&!o||e.push("\\ No newline at end of file")}var s=[];s.push("Index: "+e),s.push("==================================================================="),s.push("--- "+e+("undefined"==typeof r?"":"	"+r)),s.push("+++ "+e+("undefined"==typeof i?"":"	"+i));var u=l.diff(t,n);u[u.length-1].value||u.pop(),u.push({value:"",lines:[]});for(var c=0,h=0,d=[],f=1,p=1,m=0;m<u.length;m++){var g=u[m],v=g.lines||g.value.replace(/\n$/,"").split("\n");if(g.lines=v,g.added||g.removed){if(!c){var y=u[m-1];c=f,h=p,y&&(d=o(y.lines.slice(-4)),c-=d.length,h-=d.length)}d.push.apply(d,v.map(function(e){return(g.added?"+":"-")+e})),a(d,m,g),g.added?p+=v.length:f+=v.length}else{if(c)if(v.length<=8&&m<u.length-2)d.push.apply(d,o(v));else{var b=Math.min(v.length,4);s.push("@@ -"+c+","+(f-c+b)+" +"+h+","+(p-h+b)+" @@"),s.push.apply(s,d),s.push.apply(s,o(v.slice(0,b))),v.length<=4&&a(s,m,g),c=0,h=0,d=[]}f+=v.length,p+=v.length}}return s.join("\n")+"\n"},applyPatch:function(e,t){for(var n=t.split("\n"),r=[],i=!1,o=!1,a="I"===n[0][0]?4:0;a<n.length;a++)if("@"===n[a][0]){var s=n[a].split(/@@ -(\d+),(\d+) \+(\d+),(\d+) @@/);r.unshift({start:s[3],oldlength:s[2],oldlines:[],newlength:s[4],newlines:[]})}else"+"===n[a][0]?r[0].newlines.push(n[a].substr(1)):"-"===n[a][0]?r[0].oldlines.push(n[a].substr(1)):" "===n[a][0]?(r[0].newlines.push(n[a].substr(1)),r[0].oldlines.push(n[a].substr(1))):"\\"===n[a][0]&&("+"===n[a-1][0]?i=!0:"-"===n[a-1][0]&&(o=!0));for(var l=e.split("\n"),a=r.length-1;a>=0;a--){for(var u=r[a],c=0;c<u.oldlength;c++)if(l[u.start-1+c]!==u.oldlines[c])return!1;Array.prototype.splice.apply(l,[u.start-1,+u.oldlength].concat(u.newlines))}if(i)for(;!l[l.length-1];)l.pop();else o&&l.push("");return l.join("\n")},convertChangesToXML:function(e){for(var t=[],r=0;r<e.length;r++){var i=e[r];i.added?t.push("<ins>"):i.removed&&t.push("<del>"),t.push(n(i.value)),i.added?t.push("</ins>"):i.removed&&t.push("</del>")}return t.join("")},convertChangesToDMP:function(e){for(var t,n=[],r=0;r<e.length;r++)t=e[r],n.push([t.added?1:t.removed?-1:0,t.value]);return n}}}();"undefined"!=typeof t&&(t.exports=n)},{}],81:[function(e,t,n){!function(e,t){"use strict";"function"==typeof define&&define.amd?define(["exports"],t):"undefined"!=typeof n?t(n):t(e.esprima={})}(this,function(e){"use strict";function t(e,t){if(!e)throw new Error("ASSERT: "+t)}function n(e,t){return fn.slice(e,t)}function r(e){return"0123456789".indexOf(e)>=0}function i(e){return"0123456789abcdefABCDEF".indexOf(e)>=0}function o(e){return"01234567".indexOf(e)>=0}function a(e){return" "===e||"	"===e||""===e||"\f"===e||" "===e||e.charCodeAt(0)>=5760&&" ᠎             　﻿".indexOf(e)>=0}function s(e){return"\n"===e||"\r"===e||"\u2028"===e||"\u2029"===e
}function l(e){return"$"===e||"_"===e||"\\"===e||e>="a"&&"z">=e||e>="A"&&"Z">=e||e.charCodeAt(0)>=128&&dn.NonAsciiIdentifierStart.test(e)}function u(e){return"$"===e||"_"===e||"\\"===e||e>="a"&&"z">=e||e>="A"&&"Z">=e||e>="0"&&"9">=e||e.charCodeAt(0)>=128&&dn.NonAsciiIdentifierPart.test(e)}function c(e){switch(e){case"class":case"enum":case"export":case"extends":case"import":case"super":return!0}return!1}function h(e){switch(e){case"implements":case"interface":case"package":case"private":case"protected":case"public":case"static":case"yield":case"let":return!0}return!1}function d(e){return"eval"===e||"arguments"===e}function f(e){var t=!1;switch(e.length){case 2:t="if"===e||"in"===e||"do"===e;break;case 3:t="var"===e||"for"===e||"new"===e||"try"===e;break;case 4:t="this"===e||"else"===e||"case"===e||"void"===e||"with"===e;break;case 5:t="while"===e||"break"===e||"catch"===e||"throw"===e;break;case 6:t="return"===e||"typeof"===e||"delete"===e||"switch"===e;break;case 7:t="default"===e||"finally"===e;break;case 8:t="function"===e||"continue"===e||"debugger"===e;break;case 10:t="instanceof"===e}if(t)return!0;switch(e){case"const":return!0;case"yield":case"let":return!0}return pn&&h(e)?!0:c(e)}function p(){var e,t,n;for(t=!1,n=!1;yn>mn;)if(e=fn[mn],n)e=fn[mn++],s(e)&&(n=!1,"\r"===e&&"\n"===fn[mn]&&++mn,++gn,vn=mn);else if(t)s(e)?("\r"===e&&"\n"===fn[mn+1]&&++mn,++gn,++mn,vn=mn,mn>=yn&&T({},hn.UnexpectedToken,"ILLEGAL")):(e=fn[mn++],mn>=yn&&T({},hn.UnexpectedToken,"ILLEGAL"),"*"===e&&(e=fn[mn],"/"===e&&(++mn,t=!1)));else if("/"===e)if(e=fn[mn+1],"/"===e)mn+=2,n=!0;else{if("*"!==e)break;mn+=2,t=!0,mn>=yn&&T({},hn.UnexpectedToken,"ILLEGAL")}else if(a(e))++mn;else{if(!s(e))break;++mn,"\r"===e&&"\n"===fn[mn]&&++mn,++gn,vn=mn}}function m(e){var t,n,r,o=0;for(n="u"===e?4:2,t=0;n>t;++t){if(!(yn>mn&&i(fn[mn])))return"";r=fn[mn++],o=16*o+"0123456789abcdef".indexOf(r.toLowerCase())}return String.fromCharCode(o)}function g(){var e,t,n,r;if(e=fn[mn],l(e)){if(t=mn,"\\"===e){if(++mn,"u"!==fn[mn])return;if(++mn,r=mn,e=m("u")){if("\\"===e||!l(e))return;n=e}else mn=r,n="u"}else n=fn[mn++];for(;yn>mn&&(e=fn[mn],u(e));)if("\\"===e){if(++mn,"u"!==fn[mn])return;if(++mn,r=mn,e=m("u")){if("\\"===e||!u(e))return;n+=e}else mn=r,n+="u"}else n+=fn[mn++];return 1===n.length?{type:sn.Identifier,value:n,lineNumber:gn,lineStart:vn,range:[t,mn]}:f(n)?{type:sn.Keyword,value:n,lineNumber:gn,lineStart:vn,range:[t,mn]}:"null"===n?{type:sn.NullLiteral,value:n,lineNumber:gn,lineStart:vn,range:[t,mn]}:"true"===n||"false"===n?{type:sn.BooleanLiteral,value:n,lineNumber:gn,lineStart:vn,range:[t,mn]}:{type:sn.Identifier,value:n,lineNumber:gn,lineStart:vn,range:[t,mn]}}}function v(){var e,t,n,i=mn,o=fn[mn];return";"===o||"{"===o||"}"===o?(++mn,{type:sn.Punctuator,value:o,lineNumber:gn,lineStart:vn,range:[i,mn]}):","===o||"("===o||")"===o?(++mn,{type:sn.Punctuator,value:o,lineNumber:gn,lineStart:vn,range:[i,mn]}):(e=fn[mn+1],"."!==o||r(e)?(t=fn[mn+2],n=fn[mn+3],">"===o&&">"===e&&">"===t&&"="===n?(mn+=4,{type:sn.Punctuator,value:">>>=",lineNumber:gn,lineStart:vn,range:[i,mn]}):"="===o&&"="===e&&"="===t?(mn+=3,{type:sn.Punctuator,value:"===",lineNumber:gn,lineStart:vn,range:[i,mn]}):"!"===o&&"="===e&&"="===t?(mn+=3,{type:sn.Punctuator,value:"!==",lineNumber:gn,lineStart:vn,range:[i,mn]}):">"===o&&">"===e&&">"===t?(mn+=3,{type:sn.Punctuator,value:">>>",lineNumber:gn,lineStart:vn,range:[i,mn]}):"<"===o&&"<"===e&&"="===t?(mn+=3,{type:sn.Punctuator,value:"<<=",lineNumber:gn,lineStart:vn,range:[i,mn]}):">"===o&&">"===e&&"="===t?(mn+=3,{type:sn.Punctuator,value:">>=",lineNumber:gn,lineStart:vn,range:[i,mn]}):"="===e&&"<>=!+-*%&|^/".indexOf(o)>=0?(mn+=2,{type:sn.Punctuator,value:o+e,lineNumber:gn,lineStart:vn,range:[i,mn]}):o===e&&"+-<>&|".indexOf(o)>=0&&"+-<>&|".indexOf(e)>=0?(mn+=2,{type:sn.Punctuator,value:o+e,lineNumber:gn,lineStart:vn,range:[i,mn]}):"[]<>+-*%&|^!~?:=/".indexOf(o)>=0?{type:sn.Punctuator,value:fn[mn++],lineNumber:gn,lineStart:vn,range:[i,mn]}:void 0):{type:sn.Punctuator,value:fn[mn++],lineNumber:gn,lineStart:vn,range:[i,mn]})}function y(){var e,n,a;if(a=fn[mn],t(r(a)||"."===a,"Numeric literal must start with a decimal digit or a decimal point"),n=mn,e="","."!==a){if(e=fn[mn++],a=fn[mn],"0"===e){if("x"===a||"X"===a){for(e+=fn[mn++];yn>mn&&(a=fn[mn],i(a));)e+=fn[mn++];return e.length<=2&&T({},hn.UnexpectedToken,"ILLEGAL"),yn>mn&&(a=fn[mn],l(a)&&T({},hn.UnexpectedToken,"ILLEGAL")),{type:sn.NumericLiteral,value:parseInt(e,16),lineNumber:gn,lineStart:vn,range:[n,mn]}}if(o(a)){for(e+=fn[mn++];yn>mn&&(a=fn[mn],o(a));)e+=fn[mn++];return yn>mn&&(a=fn[mn],(l(a)||r(a))&&T({},hn.UnexpectedToken,"ILLEGAL")),{type:sn.NumericLiteral,value:parseInt(e,8),octal:!0,lineNumber:gn,lineStart:vn,range:[n,mn]}}r(a)&&T({},hn.UnexpectedToken,"ILLEGAL")}for(;yn>mn&&(a=fn[mn],r(a));)e+=fn[mn++]}if("."===a)for(e+=fn[mn++];yn>mn&&(a=fn[mn],r(a));)e+=fn[mn++];if("e"===a||"E"===a)if(e+=fn[mn++],a=fn[mn],("+"===a||"-"===a)&&(e+=fn[mn++]),a=fn[mn],r(a))for(e+=fn[mn++];yn>mn&&(a=fn[mn],r(a));)e+=fn[mn++];else a="character "+a,mn>=yn&&(a="<end>"),T({},hn.UnexpectedToken,"ILLEGAL");return yn>mn&&(a=fn[mn],l(a)&&T({},hn.UnexpectedToken,"ILLEGAL")),{type:sn.NumericLiteral,value:parseFloat(e),lineNumber:gn,lineStart:vn,range:[n,mn]}}function b(){var e,n,r,i,a,l,u="",c=!1;for(e=fn[mn],t("'"===e||'"'===e,"String literal must starts with a quote"),n=mn,++mn;yn>mn;){if(r=fn[mn++],r===e){e="";break}if("\\"===r)if(r=fn[mn++],s(r))++gn,"\r"===r&&"\n"===fn[mn]&&++mn;else switch(r){case"n":u+="\n";break;case"r":u+="\r";break;case"t":u+="	";break;case"u":case"x":l=mn,a=m(r),a?u+=a:(mn=l,u+=r);break;case"b":u+="\b";break;case"f":u+="\f";break;case"v":u+="";break;default:o(r)?(i="01234567".indexOf(r),0!==i&&(c=!0),yn>mn&&o(fn[mn])&&(c=!0,i=8*i+"01234567".indexOf(fn[mn++]),"0123".indexOf(r)>=0&&yn>mn&&o(fn[mn])&&(i=8*i+"01234567".indexOf(fn[mn++]))),u+=String.fromCharCode(i)):u+=r}else{if(s(r))break;u+=r}}return""!==e&&T({},hn.UnexpectedToken,"ILLEGAL"),{type:sn.StringLiteral,value:u,octal:c,lineNumber:gn,lineStart:vn,range:[n,mn]}}function w(){var e,n,r,i,o,a,l,c=!1,h=!1;for(bn=null,p(),r=mn,n=fn[mn],t("/"===n,"Regular expression literal must start with a slash"),e=fn[mn++];yn>mn;)if(n=fn[mn++],e+=n,"\\"===n)n=fn[mn++],s(n)&&T({},hn.UnterminatedRegExp),e+=n;else if(c)"]"===n&&(c=!1);else{if("/"===n){h=!0;break}"["===n?c=!0:s(n)&&T({},hn.UnterminatedRegExp)}for(h||T({},hn.UnterminatedRegExp),i=e.substr(1,e.length-2),o="";yn>mn&&(n=fn[mn],u(n));)if(++mn,"\\"===n&&yn>mn)if(n=fn[mn],"u"===n)if(++mn,l=mn,n=m("u"))for(o+=n,e+="\\u";mn>l;++l)e+=fn[l];else mn=l,o+="u",e+="\\u";else e+="\\";else o+=n,e+=n;try{a=new RegExp(i,o)}catch(d){T({},hn.InvalidRegExp)}return{literal:e,value:a,range:[r,mn]}}function C(e){return e.type===sn.Identifier||e.type===sn.Keyword||e.type===sn.BooleanLiteral||e.type===sn.NullLiteral}function x(){var e,t;return p(),mn>=yn?{type:sn.EOF,lineNumber:gn,lineStart:vn,range:[mn,mn]}:(t=v(),"undefined"!=typeof t?t:(e=fn[mn],"'"===e||'"'===e?b():"."===e||r(e)?y():(t=g(),"undefined"!=typeof t?t:(T({},hn.UnexpectedToken,"ILLEGAL"),void 0))))}function k(){var e;return bn?(mn=bn.range[1],gn=bn.lineNumber,vn=bn.lineStart,e=bn,bn=null,e):(bn=null,x())}function S(){var e,t,n;return null!==bn?bn:(e=mn,t=gn,n=vn,bn=x(),mn=e,gn=t,vn=n,bn)}function _(){var e,t,n,r;return e=mn,t=gn,n=vn,p(),r=gn!==t,mn=e,gn=t,vn=n,r}function T(e,t){var n,r=Array.prototype.slice.call(arguments,2),i=t.replace(/%(\d)/g,function(e,t){return r[t]||""});throw"number"==typeof e.lineNumber?(n=new Error("Line "+e.lineNumber+": "+i),n.index=e.range[0],n.lineNumber=e.lineNumber,n.column=e.range[0]-vn+1):(n=new Error("Line "+gn+": "+i),n.index=mn,n.lineNumber=gn,n.column=mn-vn+1),n}function E(){try{T.apply(null,arguments)}catch(e){if(!Cn.errors)throw e;Cn.errors.push(e)}}function M(e){if(e.type===sn.EOF&&T(e,hn.UnexpectedEOS),e.type===sn.NumericLiteral&&T(e,hn.UnexpectedNumber),e.type===sn.StringLiteral&&T(e,hn.UnexpectedString),e.type===sn.Identifier&&T(e,hn.UnexpectedIdentifier),e.type===sn.Keyword){if(c(e.value))T(e,hn.UnexpectedReserved);else if(pn&&h(e.value))return E(e,hn.StrictReservedWord),void 0;T(e,hn.UnexpectedToken,e.value)}T(e,hn.UnexpectedToken,e.value)}function R(e){var t=k();(t.type!==sn.Punctuator||t.value!==e)&&M(t)}function O(e){var t=k();(t.type!==sn.Keyword||t.value!==e)&&M(t)}function A(e){var t=S();return t.type===sn.Punctuator&&t.value===e}function L(e){var t=S();return t.type===sn.Keyword&&t.value===e}function D(){var e=S(),t=e.value;return e.type!==sn.Punctuator?!1:"="===t||"*="===t||"/="===t||"%="===t||"+="===t||"-="===t||"<<="===t||">>="===t||">>>="===t||"&="===t||"^="===t||"|="===t}function P(){var e,t;if(";"===fn[mn])return k(),void 0;if(t=gn,p(),gn===t){if(A(";"))return k(),void 0;e=S(),e.type===sn.EOF||A("}")||M(e)}}function H(e){return e.type===un.Identifier||e.type===un.MemberExpression}function N(){var e=[];for(R("[");!A("]");)A(",")?(k(),e.push(null)):(e.push(ut()),A("]")||R(","));return R("]"),{type:un.ArrayExpression,elements:e}}function I(e,t){var n,r;return n=pn,r=Nt(),t&&pn&&d(e[0].name)&&E(t,hn.StrictParamName),pn=n,{type:un.FunctionExpression,id:null,params:e,defaults:[],body:r,rest:null,generator:!1,expression:!1}}function j(){var e=k();return e.type===sn.StringLiteral||e.type===sn.NumericLiteral?(pn&&e.octal&&E(e,hn.StrictOctalLiteral),Gt(e)):{type:un.Identifier,name:e.value}}function F(){var e,t,n,r;return e=S(),e.type===sn.Identifier?(n=j(),"get"!==e.value||A(":")?"set"!==e.value||A(":")?(R(":"),{type:un.Property,key:n,value:ut(),kind:"init"}):(t=j(),R("("),e=S(),e.type!==sn.Identifier?(R(")"),E(e,hn.UnexpectedToken,e.value),{type:un.Property,key:t,value:I([]),kind:"set"}):(r=[ft()],R(")"),{type:un.Property,key:t,value:I(r,e),kind:"set"})):(t=j(),R("("),R(")"),{type:un.Property,key:t,value:I([]),kind:"get"})):e.type!==sn.EOF&&e.type!==sn.Punctuator?(t=j(),R(":"),{type:un.Property,key:t,value:ut(),kind:"init"}):(M(e),void 0)}function W(){var e,t,n,r=[],i={},o=String;for(R("{");!A("}");)e=F(),t=e.key.type===un.Identifier?e.key.name:o(e.key.value),n="init"===e.kind?cn.Data:"get"===e.kind?cn.Get:cn.Set,Object.prototype.hasOwnProperty.call(i,t)?(i[t]===cn.Data?pn&&n===cn.Data?E({},hn.StrictDuplicateProperty):n!==cn.Data&&E({},hn.AccessorDataProperty):n===cn.Data?E({},hn.AccessorDataProperty):i[t]&n&&E({},hn.AccessorGetSet),i[t]|=n):i[t]=n,r.push(e),A("}")||R(",");return R("}"),{type:un.ObjectExpression,properties:r}}function B(){var e;return R("("),e=ct(),R(")"),e}function z(){var e=S(),t=e.type;if(t===sn.Identifier)return{type:un.Identifier,name:k().value};if(t===sn.StringLiteral||t===sn.NumericLiteral)return pn&&e.octal&&E(e,hn.StrictOctalLiteral),Gt(k());if(t===sn.Keyword){if(L("this"))return k(),{type:un.ThisExpression};if(L("function"))return jt()}return t===sn.BooleanLiteral?(k(),e.value="true"===e.value,Gt(e)):t===sn.NullLiteral?(k(),e.value=null,Gt(e)):A("[")?N():A("{")?W():A("(")?B():A("/")||A("/=")?Gt(w()):M(k())}function U(){var e=[];if(R("("),!A(")"))for(;yn>mn&&(e.push(ut()),!A(")"));)R(",");return R(")"),e}function V(){var e=k();return C(e)||M(e),{type:un.Identifier,name:e.value}}function q(){return R("."),V()}function $(){var e;return R("["),e=ct(),R("]"),e}function Y(){var e;return O("new"),e={type:un.NewExpression,callee:K(),arguments:[]},A("(")&&(e.arguments=U()),e}function G(){var e;for(e=L("new")?Y():z();A(".")||A("[")||A("(");)e=A("(")?{type:un.CallExpression,callee:e,arguments:U()}:A("[")?{type:un.MemberExpression,computed:!0,object:e,property:$()}:{type:un.MemberExpression,computed:!1,object:e,property:q()};return e}function K(){var e;for(e=L("new")?Y():z();A(".")||A("[");)e=A("[")?{type:un.MemberExpression,computed:!0,object:e,property:$()}:{type:un.MemberExpression,computed:!1,object:e,property:q()};return e}function X(){var e,t=G();return e=S(),e.type!==sn.Punctuator?t:(!A("++")&&!A("--")||_()||(pn&&t.type===un.Identifier&&d(t.name)&&E({},hn.StrictLHSPostfix),H(t)||E({},hn.InvalidLHSInAssignment),t={type:un.UpdateExpression,operator:k().value,argument:t,prefix:!1}),t)}function J(){var e,t;return e=S(),e.type!==sn.Punctuator&&e.type!==sn.Keyword?X():A("++")||A("--")?(e=k(),t=J(),pn&&t.type===un.Identifier&&d(t.name)&&E({},hn.StrictLHSPrefix),H(t)||E({},hn.InvalidLHSInAssignment),t={type:un.UpdateExpression,operator:e.value,argument:t,prefix:!0}):A("+")||A("-")||A("~")||A("!")?t={type:un.UnaryExpression,operator:k().value,argument:J(),prefix:!0}:L("delete")||L("void")||L("typeof")?(t={type:un.UnaryExpression,operator:k().value,argument:J(),prefix:!0},pn&&"delete"===t.operator&&t.argument.type===un.Identifier&&E({},hn.StrictDelete),t):X()}function Z(){for(var e=J();A("*")||A("/")||A("%");)e={type:un.BinaryExpression,operator:k().value,left:e,right:J()};return e}function Q(){for(var e=Z();A("+")||A("-");)e={type:un.BinaryExpression,operator:k().value,left:e,right:Z()};return e}function et(){for(var e=Q();A("<<")||A(">>")||A(">>>");)e={type:un.BinaryExpression,operator:k().value,left:e,right:Q()};return e}function tt(){var e,t;for(t=wn.allowIn,wn.allowIn=!0,e=et();A("<")||A(">")||A("<=")||A(">=")||t&&L("in")||L("instanceof");)e={type:un.BinaryExpression,operator:k().value,left:e,right:et()};return wn.allowIn=t,e}function nt(){for(var e=tt();A("==")||A("!=")||A("===")||A("!==");)e={type:un.BinaryExpression,operator:k().value,left:e,right:tt()};return e}function rt(){for(var e=nt();A("&");)k(),e={type:un.BinaryExpression,operator:"&",left:e,right:nt()};return e}function it(){for(var e=rt();A("^");)k(),e={type:un.BinaryExpression,operator:"^",left:e,right:rt()};return e}function ot(){for(var e=it();A("|");)k(),e={type:un.BinaryExpression,operator:"|",left:e,right:it()};return e}function at(){for(var e=ot();A("&&");)k(),e={type:un.LogicalExpression,operator:"&&",left:e,right:ot()};return e}function st(){for(var e=at();A("||");)k(),e={type:un.LogicalExpression,operator:"||",left:e,right:at()};return e}function lt(){var e,t,n;return e=st(),A("?")&&(k(),t=wn.allowIn,wn.allowIn=!0,n=ut(),wn.allowIn=t,R(":"),e={type:un.ConditionalExpression,test:e,consequent:n,alternate:ut()}),e}function ut(){var e,t;return e=S(),t=lt(),D()&&(H(t)||E({},hn.InvalidLHSInAssignment),pn&&t.type===un.Identifier&&d(t.name)&&E(e,hn.StrictLHSAssignment),t={type:un.AssignmentExpression,operator:k().value,left:t,right:ut()}),t}function ct(){var e=ut();if(A(","))for(e={type:un.SequenceExpression,expressions:[e]};yn>mn&&A(",");)k(),e.expressions.push(ut());return e}function ht(){for(var e,t=[];yn>mn&&!A("}")&&(e=Ft(),"undefined"!=typeof e);)t.push(e);return t}function dt(){var e;return R("{"),e=ht(),R("}"),{type:un.BlockStatement,body:e}}function ft(){var e=k();return e.type!==sn.Identifier&&M(e),{type:un.Identifier,name:e.value}}function pt(e){var t=ft(),n=null;return pn&&d(t.name)&&E({},hn.StrictVarName),"const"===e?(R("="),n=ut()):A("=")&&(k(),n=ut()),{type:un.VariableDeclarator,id:t,init:n}}function mt(e){var t=[];do{if(t.push(pt(e)),!A(","))break;k()}while(yn>mn);return t}function gt(){var e;return O("var"),e=mt(),P(),{type:un.VariableDeclaration,declarations:e,kind:"var"}}function vt(e){var t;return O(e),t=mt(e),P(),{type:un.VariableDeclaration,declarations:t,kind:e}}function yt(){return R(";"),{type:un.EmptyStatement}}function bt(){var e=ct();return P(),{type:un.ExpressionStatement,expression:e}}function wt(){var e,t,n;return O("if"),R("("),e=ct(),R(")"),t=Ht(),L("else")?(k(),n=Ht()):n=null,{type:un.IfStatement,test:e,consequent:t,alternate:n}}function Ct(){var e,t,n;return O("do"),n=wn.inIteration,wn.inIteration=!0,e=Ht(),wn.inIteration=n,O("while"),R("("),t=ct(),R(")"),A(";")&&k(),{type:un.DoWhileStatement,body:e,test:t}}function xt(){var e,t,n;return O("while"),R("("),e=ct(),R(")"),n=wn.inIteration,wn.inIteration=!0,t=Ht(),wn.inIteration=n,{type:un.WhileStatement,test:e,body:t}}function kt(){var e=k();return{type:un.VariableDeclaration,declarations:mt(),kind:e.value}}function St(){var e,t,n,r,i,o,a;return e=t=n=null,O("for"),R("("),A(";")?k():(L("var")||L("let")?(wn.allowIn=!1,e=kt(),wn.allowIn=!0,1===e.declarations.length&&L("in")&&(k(),r=e,i=ct(),e=null)):(wn.allowIn=!1,e=ct(),wn.allowIn=!0,L("in")&&(H(e)||E({},hn.InvalidLHSInForIn),k(),r=e,i=ct(),e=null)),"undefined"==typeof r&&R(";")),"undefined"==typeof r&&(A(";")||(t=ct()),R(";"),A(")")||(n=ct())),R(")"),a=wn.inIteration,wn.inIteration=!0,o=Ht(),wn.inIteration=a,"undefined"==typeof r?{type:un.ForStatement,init:e,test:t,update:n,body:o}:{type:un.ForInStatement,left:r,right:i,body:o,each:!1}}function _t(){var e,t=null;return O("continue"),";"===fn[mn]?(k(),wn.inIteration||T({},hn.IllegalContinue),{type:un.ContinueStatement,label:null}):_()?(wn.inIteration||T({},hn.IllegalContinue),{type:un.ContinueStatement,label:null}):(e=S(),e.type===sn.Identifier&&(t=ft(),Object.prototype.hasOwnProperty.call(wn.labelSet,t.name)||T({},hn.UnknownLabel,t.name)),P(),null!==t||wn.inIteration||T({},hn.IllegalContinue),{type:un.ContinueStatement,label:t})}function Tt(){var e,t=null;return O("break"),";"===fn[mn]?(k(),wn.inIteration||wn.inSwitch||T({},hn.IllegalBreak),{type:un.BreakStatement,label:null}):_()?(wn.inIteration||wn.inSwitch||T({},hn.IllegalBreak),{type:un.BreakStatement,label:null}):(e=S(),e.type===sn.Identifier&&(t=ft(),Object.prototype.hasOwnProperty.call(wn.labelSet,t.name)||T({},hn.UnknownLabel,t.name)),P(),null!==t||wn.inIteration||wn.inSwitch||T({},hn.IllegalBreak),{type:un.BreakStatement,label:t})}function Et(){var e,t=null;return O("return"),wn.inFunctionBody||E({},hn.IllegalReturn)," "===fn[mn]&&l(fn[mn+1])?(t=ct(),P(),{type:un.ReturnStatement,argument:t}):_()?{type:un.ReturnStatement,argument:null}:(A(";")||(e=S(),A("}")||e.type===sn.EOF||(t=ct())),P(),{type:un.ReturnStatement,argument:t})}function Mt(){var e,t;return pn&&E({},hn.StrictModeWith),O("with"),R("("),e=ct(),R(")"),t=Ht(),{type:un.WithStatement,object:e,body:t}}function Rt(){var e,t,n=[];for(L("default")?(k(),e=null):(O("case"),e=ct()),R(":");yn>mn&&!(A("}")||L("default")||L("case"))&&(t=Ht(),"undefined"!=typeof t);)n.push(t);return{type:un.SwitchCase,test:e,consequent:n}}function Ot(){var e,t,n,r,i;if(O("switch"),R("("),e=ct(),R(")"),R("{"),t=[],A("}"))return k(),{type:un.SwitchStatement,discriminant:e,cases:t};for(r=wn.inSwitch,wn.inSwitch=!0,i=!1;yn>mn&&!A("}");)n=Rt(),null===n.test&&(i&&T({},hn.MultipleDefaultsInSwitch),i=!0),t.push(n);return wn.inSwitch=r,R("}"),{type:un.SwitchStatement,discriminant:e,cases:t}}function At(){var e;return O("throw"),_()&&T({},hn.NewlineAfterThrow),e=ct(),P(),{type:un.ThrowStatement,argument:e}}function Lt(){var e;return O("catch"),R("("),A(")")&&M(S()),e=ft(),pn&&d(e.name)&&E({},hn.StrictCatchVariable),R(")"),{type:un.CatchClause,param:e,body:dt()}}function Dt(){var e,t=[],n=null;return O("try"),e=dt(),L("catch")&&t.push(Lt()),L("finally")&&(k(),n=dt()),0!==t.length||n||T({},hn.NoCatchOrFinally),{type:un.TryStatement,block:e,guardedHandlers:[],handlers:t,finalizer:n}}function Pt(){return O("debugger"),P(),{type:un.DebuggerStatement}}function Ht(){var e,t,n=S();if(n.type===sn.EOF&&M(n),n.type===sn.Punctuator)switch(n.value){case";":return yt();case"{":return dt();case"(":return bt()}if(n.type===sn.Keyword)switch(n.value){case"break":return Tt();case"continue":return _t();case"debugger":return Pt();case"do":return Ct();case"for":return St();case"function":return It();case"if":return wt();case"return":return Et();case"switch":return Ot();case"throw":return At();case"try":return Dt();case"var":return gt();case"while":return xt();case"with":return Mt()}return e=ct(),e.type===un.Identifier&&A(":")?(k(),Object.prototype.hasOwnProperty.call(wn.labelSet,e.name)&&T({},hn.Redeclaration,"Label",e.name),wn.labelSet[e.name]=!0,t=Ht(),delete wn.labelSet[e.name],{type:un.LabeledStatement,label:e,body:t}):(P(),{type:un.ExpressionStatement,expression:e})}function Nt(){var e,t,r,i,o,a,s,l,u=[];for(R("{");yn>mn&&(t=S(),t.type===sn.StringLiteral)&&(e=Ft(),u.push(e),e.expression.type===un.Literal);)r=n(t.range[0]+1,t.range[1]-1),"use strict"===r?(pn=!0,i&&E(i,hn.StrictOctalLiteral)):!i&&t.octal&&(i=t);for(o=wn.labelSet,a=wn.inIteration,s=wn.inSwitch,l=wn.inFunctionBody,wn.labelSet={},wn.inIteration=!1,wn.inSwitch=!1,wn.inFunctionBody=!0;yn>mn&&!A("}")&&(e=Ft(),"undefined"!=typeof e);)u.push(e);return R("}"),wn.labelSet=o,wn.inIteration=a,wn.inSwitch=s,wn.inFunctionBody=l,{type:un.BlockStatement,body:u}}function It(){var e,t,n,r,i,o,a,s,l,u=[];if(O("function"),r=S(),e=ft(),pn?d(r.value)&&E(r,hn.StrictFunctionName):d(r.value)?(o=r,a=hn.StrictFunctionName):h(r.value)&&(o=r,a=hn.StrictReservedWord),R("("),!A(")"))for(l={};yn>mn&&(r=S(),t=ft(),pn?(d(r.value)&&(i=r,a=hn.StrictParamName),Object.prototype.hasOwnProperty.call(l,r.value)&&(i=r,a=hn.StrictParamDupe)):o||(d(r.value)?(o=r,a=hn.StrictParamName):h(r.value)?(o=r,a=hn.StrictReservedWord):Object.prototype.hasOwnProperty.call(l,r.value)&&(o=r,a=hn.StrictParamDupe)),u.push(t),l[t.name]=!0,!A(")"));)R(",");return R(")"),s=pn,n=Nt(),pn&&o&&T(o,a),pn&&i&&E(i,a),pn=s,{type:un.FunctionDeclaration,id:e,params:u,defaults:[],body:n,rest:null,generator:!1,expression:!1}}function jt(){var e,t,n,r,i,o,a,s,l=null,u=[];if(O("function"),A("(")||(e=S(),l=ft(),pn?d(e.value)&&E(e,hn.StrictFunctionName):d(e.value)?(n=e,r=hn.StrictFunctionName):h(e.value)&&(n=e,r=hn.StrictReservedWord)),R("("),!A(")"))for(s={};yn>mn&&(e=S(),i=ft(),pn?(d(e.value)&&(t=e,r=hn.StrictParamName),Object.prototype.hasOwnProperty.call(s,e.value)&&(t=e,r=hn.StrictParamDupe)):n||(d(e.value)?(n=e,r=hn.StrictParamName):h(e.value)?(n=e,r=hn.StrictReservedWord):Object.prototype.hasOwnProperty.call(s,e.value)&&(n=e,r=hn.StrictParamDupe)),u.push(i),s[i.name]=!0,!A(")"));)R(",");return R(")"),a=pn,o=Nt(),pn&&n&&T(n,r),pn&&t&&E(t,r),pn=a,{type:un.FunctionExpression,id:l,params:u,defaults:[],body:o,rest:null,generator:!1,expression:!1}}function Ft(){var e=S();if(e.type===sn.Keyword)switch(e.value){case"const":case"let":return vt(e.value);case"function":return It();default:return Ht()}return e.type!==sn.EOF?Ht():void 0}function Wt(){for(var e,t,r,i,o=[];yn>mn&&(t=S(),t.type===sn.StringLiteral)&&(e=Ft(),o.push(e),e.expression.type===un.Literal);)r=n(t.range[0]+1,t.range[1]-1),"use strict"===r?(pn=!0,i&&E(i,hn.StrictOctalLiteral)):!i&&t.octal&&(i=t);for(;yn>mn&&(e=Ft(),"undefined"!=typeof e);)o.push(e);return o}function Bt(){var e;return pn=!1,e={type:un.Program,body:Wt()}}function zt(e,n,r,i,o){t("number"==typeof r,"Comment must have valid position"),Cn.comments.length>0&&Cn.comments[Cn.comments.length-1].range[1]>r||Cn.comments.push({type:e,value:n,range:[r,i],loc:o})}function Ut(){var e,t,n,r,i,o;for(e="",i=!1,o=!1;yn>mn;)if(t=fn[mn],o)t=fn[mn++],s(t)?(n.end={line:gn,column:mn-vn-1},o=!1,zt("Line",e,r,mn-1,n),"\r"===t&&"\n"===fn[mn]&&++mn,++gn,vn=mn,e=""):mn>=yn?(o=!1,e+=t,n.end={line:gn,column:yn-vn},zt("Line",e,r,yn,n)):e+=t;else if(i)s(t)?("\r"===t&&"\n"===fn[mn+1]?(++mn,e+="\r\n"):e+=t,++gn,++mn,vn=mn,mn>=yn&&T({},hn.UnexpectedToken,"ILLEGAL")):(t=fn[mn++],mn>=yn&&T({},hn.UnexpectedToken,"ILLEGAL"),e+=t,"*"===t&&(t=fn[mn],"/"===t&&(e=e.substr(0,e.length-1),i=!1,++mn,n.end={line:gn,column:mn-vn},zt("Block",e,r,mn,n),e="")));else if("/"===t)if(t=fn[mn+1],"/"===t)n={start:{line:gn,column:mn-vn}},r=mn,mn+=2,o=!0,mn>=yn&&(n.end={line:gn,column:mn-vn},o=!1,zt("Line",e,r,mn,n));else{if("*"!==t)break;r=mn,mn+=2,i=!0,n={start:{line:gn,column:mn-vn-2}},mn>=yn&&T({},hn.UnexpectedToken,"ILLEGAL")}else if(a(t))++mn;else{if(!s(t))break;++mn,"\r"===t&&"\n"===fn[mn]&&++mn,++gn,vn=mn}}function Vt(){var e,t,n,r=[];for(e=0;e<Cn.comments.length;++e)t=Cn.comments[e],n={type:t.type,value:t.value},Cn.range&&(n.range=t.range),Cn.loc&&(n.loc=t.loc),r.push(n);Cn.comments=r}function qt(){var e,t,r,i,o;return p(),e=mn,t={start:{line:gn,column:mn-vn}},r=Cn.advance(),t.end={line:gn,column:mn-vn},r.type!==sn.EOF&&(i=[r.range[0],r.range[1]],o=n(r.range[0],r.range[1]),Cn.tokens.push({type:ln[r.type],value:o,range:i,loc:t})),r}function $t(){var e,t,n,r;return p(),e=mn,t={start:{line:gn,column:mn-vn}},n=Cn.scanRegExp(),t.end={line:gn,column:mn-vn},Cn.tokens.length>0&&(r=Cn.tokens[Cn.tokens.length-1],r.range[0]===e&&"Punctuator"===r.type&&("/"===r.value||"/="===r.value)&&Cn.tokens.pop()),Cn.tokens.push({type:"RegularExpression",value:n.literal,range:[e,mn],loc:t}),n}function Yt(){var e,t,n,r=[];for(e=0;e<Cn.tokens.length;++e)t=Cn.tokens[e],n={type:t.type,value:t.value},Cn.range&&(n.range=t.range),Cn.loc&&(n.loc=t.loc),r.push(n);Cn.tokens=r}function Gt(e){return{type:un.Literal,value:e.value}}function Kt(e){return{type:un.Literal,value:e.value,raw:n(e.range[0],e.range[1])}}function Xt(){var e={};return e.range=[mn,mn],e.loc={start:{line:gn,column:mn-vn},end:{line:gn,column:mn-vn}},e.end=function(){this.range[1]=mn,this.loc.end.line=gn,this.loc.end.column=mn-vn},e.applyGroup=function(e){Cn.range&&(e.groupRange=[this.range[0],this.range[1]]),Cn.loc&&(e.groupLoc={start:{line:this.loc.start.line,column:this.loc.start.column},end:{line:this.loc.end.line,column:this.loc.end.column}})},e.apply=function(e){Cn.range&&(e.range=[this.range[0],this.range[1]]),Cn.loc&&(e.loc={start:{line:this.loc.start.line,column:this.loc.start.column},end:{line:this.loc.end.line,column:this.loc.end.column}})},e}function Jt(){var e,t;return p(),e=Xt(),R("("),t=ct(),R(")"),e.end(),e.applyGroup(t),t}function Zt(){var e,t;for(p(),e=Xt(),t=L("new")?Y():z();A(".")||A("[");)A("[")?(t={type:un.MemberExpression,computed:!0,object:t,property:$()},e.end(),e.apply(t)):(t={type:un.MemberExpression,computed:!1,object:t,property:q()},e.end(),e.apply(t));return t}function Qt(){var e,t;for(p(),e=Xt(),t=L("new")?Y():z();A(".")||A("[")||A("(");)A("(")?(t={type:un.CallExpression,callee:t,arguments:U()},e.end(),e.apply(t)):A("[")?(t={type:un.MemberExpression,computed:!0,object:t,property:$()},e.end(),e.apply(t)):(t={type:un.MemberExpression,computed:!1,object:t,property:q()},e.end(),e.apply(t));return t}function en(e){var t,n,r;t="[object Array]"===Object.prototype.toString.apply(e)?[]:{};for(n in e)e.hasOwnProperty(n)&&"groupRange"!==n&&"groupLoc"!==n&&(r=e[n],t[n]=null===r||"object"!=typeof r||r instanceof RegExp?r:en(r));return t}function tn(e,t){return function(n){function r(e){return e.type===un.LogicalExpression||e.type===un.BinaryExpression}function i(n){var o,a;r(n.left)&&i(n.left),r(n.right)&&i(n.right),e&&(n.left.groupRange||n.right.groupRange?(o=n.left.groupRange?n.left.groupRange[0]:n.left.range[0],a=n.right.groupRange?n.right.groupRange[1]:n.right.range[1],n.range=[o,a]):"undefined"==typeof n.range&&(o=n.left.range[0],a=n.right.range[1],n.range=[o,a])),t&&(n.left.groupLoc||n.right.groupLoc?(o=n.left.groupLoc?n.left.groupLoc.start:n.left.loc.start,a=n.right.groupLoc?n.right.groupLoc.end:n.right.loc.end,n.loc={start:o,end:a}):"undefined"==typeof n.loc&&(n.loc={start:n.left.loc.start,end:n.right.loc.end}))}return function(){var o,a;return p(),o=Xt(),a=n.apply(null,arguments),o.end(),e&&"undefined"==typeof a.range&&o.apply(a),t&&"undefined"==typeof a.loc&&o.apply(a),r(a)&&i(a),a}}}function nn(){var e;Cn.comments&&(Cn.skipComment=p,p=Ut),Cn.raw&&(Cn.createLiteral=Gt,Gt=Kt),(Cn.range||Cn.loc)&&(Cn.parseGroupExpression=B,Cn.parseLeftHandSideExpression=K,Cn.parseLeftHandSideExpressionAllowCall=G,B=Jt,K=Zt,G=Qt,e=tn(Cn.range,Cn.loc),Cn.parseAdditiveExpression=Q,Cn.parseAssignmentExpression=ut,Cn.parseBitwiseANDExpression=rt,Cn.parseBitwiseORExpression=ot,Cn.parseBitwiseXORExpression=it,Cn.parseBlock=dt,Cn.parseFunctionSourceElements=Nt,Cn.parseCatchClause=Lt,Cn.parseComputedMember=$,Cn.parseConditionalExpression=lt,Cn.parseConstLetDeclaration=vt,Cn.parseEqualityExpression=nt,Cn.parseExpression=ct,Cn.parseForVariableDeclaration=kt,Cn.parseFunctionDeclaration=It,Cn.parseFunctionExpression=jt,Cn.parseLogicalANDExpression=at,Cn.parseLogicalORExpression=st,Cn.parseMultiplicativeExpression=Z,Cn.parseNewExpression=Y,Cn.parseNonComputedProperty=V,Cn.parseObjectProperty=F,Cn.parseObjectPropertyKey=j,Cn.parsePostfixExpression=X,Cn.parsePrimaryExpression=z,Cn.parseProgram=Bt,Cn.parsePropertyFunction=I,Cn.parseRelationalExpression=tt,Cn.parseStatement=Ht,Cn.parseShiftExpression=et,Cn.parseSwitchCase=Rt,Cn.parseUnaryExpression=J,Cn.parseVariableDeclaration=pt,Cn.parseVariableIdentifier=ft,Q=e(Cn.parseAdditiveExpression),ut=e(Cn.parseAssignmentExpression),rt=e(Cn.parseBitwiseANDExpression),ot=e(Cn.parseBitwiseORExpression),it=e(Cn.parseBitwiseXORExpression),dt=e(Cn.parseBlock),Nt=e(Cn.parseFunctionSourceElements),Lt=e(Cn.parseCatchClause),$=e(Cn.parseComputedMember),lt=e(Cn.parseConditionalExpression),vt=e(Cn.parseConstLetDeclaration),nt=e(Cn.parseEqualityExpression),ct=e(Cn.parseExpression),kt=e(Cn.parseForVariableDeclaration),It=e(Cn.parseFunctionDeclaration),jt=e(Cn.parseFunctionExpression),K=e(K),at=e(Cn.parseLogicalANDExpression),st=e(Cn.parseLogicalORExpression),Z=e(Cn.parseMultiplicativeExpression),Y=e(Cn.parseNewExpression),V=e(Cn.parseNonComputedProperty),F=e(Cn.parseObjectProperty),j=e(Cn.parseObjectPropertyKey),X=e(Cn.parsePostfixExpression),z=e(Cn.parsePrimaryExpression),Bt=e(Cn.parseProgram),I=e(Cn.parsePropertyFunction),tt=e(Cn.parseRelationalExpression),Ht=e(Cn.parseStatement),et=e(Cn.parseShiftExpression),Rt=e(Cn.parseSwitchCase),J=e(Cn.parseUnaryExpression),pt=e(Cn.parseVariableDeclaration),ft=e(Cn.parseVariableIdentifier)),"undefined"!=typeof Cn.tokens&&(Cn.advance=x,Cn.scanRegExp=w,x=qt,w=$t)}function rn(){"function"==typeof Cn.skipComment&&(p=Cn.skipComment),Cn.raw&&(Gt=Cn.createLiteral),(Cn.range||Cn.loc)&&(Q=Cn.parseAdditiveExpression,ut=Cn.parseAssignmentExpression,rt=Cn.parseBitwiseANDExpression,ot=Cn.parseBitwiseORExpression,it=Cn.parseBitwiseXORExpression,dt=Cn.parseBlock,Nt=Cn.parseFunctionSourceElements,Lt=Cn.parseCatchClause,$=Cn.parseComputedMember,lt=Cn.parseConditionalExpression,vt=Cn.parseConstLetDeclaration,nt=Cn.parseEqualityExpression,ct=Cn.parseExpression,kt=Cn.parseForVariableDeclaration,It=Cn.parseFunctionDeclaration,jt=Cn.parseFunctionExpression,B=Cn.parseGroupExpression,K=Cn.parseLeftHandSideExpression,G=Cn.parseLeftHandSideExpressionAllowCall,at=Cn.parseLogicalANDExpression,st=Cn.parseLogicalORExpression,Z=Cn.parseMultiplicativeExpression,Y=Cn.parseNewExpression,V=Cn.parseNonComputedProperty,F=Cn.parseObjectProperty,j=Cn.parseObjectPropertyKey,z=Cn.parsePrimaryExpression,X=Cn.parsePostfixExpression,Bt=Cn.parseProgram,I=Cn.parsePropertyFunction,tt=Cn.parseRelationalExpression,Ht=Cn.parseStatement,et=Cn.parseShiftExpression,Rt=Cn.parseSwitchCase,J=Cn.parseUnaryExpression,pt=Cn.parseVariableDeclaration,ft=Cn.parseVariableIdentifier),"function"==typeof Cn.scanRegExp&&(x=Cn.advance,w=Cn.scanRegExp)}function on(e){var t,n=e.length,r=[];for(t=0;n>t;++t)r[t]=e.charAt(t);return r}function an(e,t){var n,r;r=String,"string"==typeof e||e instanceof String||(e=r(e)),fn=e,mn=0,gn=fn.length>0?1:0,vn=0,yn=fn.length,bn=null,wn={allowIn:!0,labelSet:{},inFunctionBody:!1,inIteration:!1,inSwitch:!1},Cn={},"undefined"!=typeof t&&(Cn.range="boolean"==typeof t.range&&t.range,Cn.loc="boolean"==typeof t.loc&&t.loc,Cn.raw="boolean"==typeof t.raw&&t.raw,"boolean"==typeof t.tokens&&t.tokens&&(Cn.tokens=[]),"boolean"==typeof t.comment&&t.comment&&(Cn.comments=[]),"boolean"==typeof t.tolerant&&t.tolerant&&(Cn.errors=[])),yn>0&&"undefined"==typeof fn[0]&&(e instanceof String&&(fn=e.valueOf()),"undefined"==typeof fn[0]&&(fn=on(e))),nn();try{n=Bt(),"undefined"!=typeof Cn.comments&&(Vt(),n.comments=Cn.comments),"undefined"!=typeof Cn.tokens&&(Yt(),n.tokens=Cn.tokens),"undefined"!=typeof Cn.errors&&(n.errors=Cn.errors),(Cn.range||Cn.loc)&&(n.body=en(n.body))}catch(i){throw i}finally{rn(),Cn={}}return n}var sn,ln,un,cn,hn,dn,fn,pn,mn,gn,vn,yn,bn,wn,Cn;sn={BooleanLiteral:1,EOF:2,Identifier:3,Keyword:4,NullLiteral:5,NumericLiteral:6,Punctuator:7,StringLiteral:8},ln={},ln[sn.BooleanLiteral]="Boolean",ln[sn.EOF]="<end>",ln[sn.Identifier]="Identifier",ln[sn.Keyword]="Keyword",ln[sn.NullLiteral]="Null",ln[sn.NumericLiteral]="Numeric",ln[sn.Punctuator]="Punctuator",ln[sn.StringLiteral]="String",un={AssignmentExpression:"AssignmentExpression",ArrayExpression:"ArrayExpression",BlockStatement:"BlockStatement",BinaryExpression:"BinaryExpression",BreakStatement:"BreakStatement",CallExpression:"CallExpression",CatchClause:"CatchClause",ConditionalExpression:"ConditionalExpression",ContinueStatement:"ContinueStatement",DoWhileStatement:"DoWhileStatement",DebuggerStatement:"DebuggerStatement",EmptyStatement:"EmptyStatement",ExpressionStatement:"ExpressionStatement",ForStatement:"ForStatement",ForInStatement:"ForInStatement",FunctionDeclaration:"FunctionDeclaration",FunctionExpression:"FunctionExpression",Identifier:"Identifier",IfStatement:"IfStatement",Literal:"Literal",LabeledStatement:"LabeledStatement",LogicalExpression:"LogicalExpression",MemberExpression:"MemberExpression",NewExpression:"NewExpression",ObjectExpression:"ObjectExpression",Program:"Program",Property:"Property",ReturnStatement:"ReturnStatement",SequenceExpression:"SequenceExpression",SwitchStatement:"SwitchStatement",SwitchCase:"SwitchCase",ThisExpression:"ThisExpression",ThrowStatement:"ThrowStatement",TryStatement:"TryStatement",UnaryExpression:"UnaryExpression",UpdateExpression:"UpdateExpression",VariableDeclaration:"VariableDeclaration",VariableDeclarator:"VariableDeclarator",WhileStatement:"WhileStatement",WithStatement:"WithStatement"},cn={Data:1,Get:2,Set:4},hn={UnexpectedToken:"Unexpected token %0",UnexpectedNumber:"Unexpected number",UnexpectedString:"Unexpected string",UnexpectedIdentifier:"Unexpected identifier",UnexpectedReserved:"Unexpected reserved word",UnexpectedEOS:"Unexpected end of input",NewlineAfterThrow:"Illegal newline after throw",InvalidRegExp:"Invalid regular expression",UnterminatedRegExp:"Invalid regular expression: missing /",InvalidLHSInAssignment:"Invalid left-hand side in assignment",InvalidLHSInForIn:"Invalid left-hand side in for-in",MultipleDefaultsInSwitch:"More than one default clause in switch statement",NoCatchOrFinally:"Missing catch or finally after try",UnknownLabel:"Undefined label '%0'",Redeclaration:"%0 '%1' has already been declared",IllegalContinue:"Illegal continue statement",IllegalBreak:"Illegal break statement",IllegalReturn:"Illegal return statement",StrictModeWith:"Strict mode code may not include a with statement",StrictCatchVariable:"Catch variable may not be eval or arguments in strict mode",StrictVarName:"Variable name may not be eval or arguments in strict mode",StrictParamName:"Parameter name eval or arguments is not allowed in strict mode",StrictParamDupe:"Strict mode function may not have duplicate parameter names",StrictFunctionName:"Function name may not be eval or arguments in strict mode",StrictOctalLiteral:"Octal literals are not allowed in strict mode.",StrictDelete:"Delete of an unqualified identifier in strict mode.",StrictDuplicateProperty:"Duplicate data property in object literal not allowed in strict mode",AccessorDataProperty:"Object literal may not have data and accessor property with the same name",AccessorGetSet:"Object literal may not have multiple get/set accessors with the same name",StrictLHSAssignment:"Assignment to eval or arguments is not allowed in strict mode",StrictLHSPostfix:"Postfix increment/decrement may not have eval or arguments operand in strict mode",StrictLHSPrefix:"Prefix increment/decrement may not have eval or arguments operand in strict mode",StrictReservedWord:"Use of future reserved word in strict mode"},dn={NonAsciiIdentifierStart:new RegExp("[ªµºÀ-ÖØ-öø-ˁˆ-ˑˠ-ˤˬˮͰ-ʹͶͷͺ-ͽΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁҊ-ԧԱ-Ֆՙա-ևא-תװ-ײؠ-يٮٯٱ-ۓەۥۦۮۯۺ-ۼۿܐܒ-ܯݍ-ޥޱߊ-ߪߴߵߺࠀ-ࠕࠚࠤࠨࡀ-ࡘࢠࢢ-ࢬऄ-हऽॐक़-ॡॱ-ॷॹ-ॿঅ-ঌএঐও-নপ-রলশ-হঽৎড়ঢ়য়-ৡৰৱਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઍએ-ઑઓ-નપ-રલળવ-હઽૐૠૡଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହଽଡ଼ଢ଼ୟ-ୡୱஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹௐఅ-ఌఎ-ఐఒ-నప-ళవ-హఽౘౙౠౡಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽೞೠೡೱೲഅ-ഌഎ-ഐഒ-ഺഽൎൠൡൺ-ൿඅ-ඖක-නඳ-රලව-ෆก-ะาำเ-ๆກຂຄງຈຊຍດ-ທນ-ຟມ-ຣລວສຫອ-ະາຳຽເ-ໄໆໜ-ໟༀཀ-ཇཉ-ཬྈ-ྌက-ဪဿၐ-ၕၚ-ၝၡၥၦၮ-ၰၵ-ႁႎႠ-ჅჇჍა-ჺჼ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚᎀ-ᎏᎠ-Ᏼᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛮ-ᛰᜀ-ᜌᜎ-ᜑᜠ-ᜱᝀ-ᝑᝠ-ᝬᝮ-ᝰក-ឳៗៜᠠ-ᡷᢀ-ᢨᢪᢰ-ᣵᤀ-ᤜᥐ-ᥭᥰ-ᥴᦀ-ᦫᧁ-ᧇᨀ-ᨖᨠ-ᩔᪧᬅ-ᬳᭅ-ᭋᮃ-ᮠᮮᮯᮺ-ᯥᰀ-ᰣᱍ-ᱏᱚ-ᱽᳩ-ᳬᳮ-ᳱᳵᳶᴀ-ᶿḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼⁱⁿₐ-ₜℂℇℊ-ℓℕℙ-ℝℤΩℨK-ℭℯ-ℹℼ-ℿⅅ-ⅉⅎⅠ-ↈⰀ-Ⱞⰰ-ⱞⱠ-ⳤⳫ-ⳮⳲⳳⴀ-ⴥⴧⴭⴰ-ⵧⵯⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞⸯ々-〇〡-〩〱-〵〸-〼ぁ-ゖゝ-ゟァ-ヺー-ヿㄅ-ㄭㄱ-ㆎㆠ-ㆺㇰ-ㇿ㐀-䶵一-鿌ꀀ-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘟꘪꘫꙀ-ꙮꙿ-ꚗꚠ-ꛯꜗ-ꜟꜢ-ꞈꞋ-ꞎꞐ-ꞓꞠ-Ɦꟸ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠢꡀ-ꡳꢂ-ꢳꣲ-ꣷꣻꤊ-ꤥꤰ-ꥆꥠ-ꥼꦄ-ꦲꧏꨀ-ꨨꩀ-ꩂꩄ-ꩋꩠ-ꩶꩺꪀ-ꪯꪱꪵꪶꪹ-ꪽꫀꫂꫛ-ꫝꫠ-ꫪꫲ-ꫴꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꯀ-ꯢ가-힣ힰ-ퟆퟋ-ퟻ豈-舘並-龎ﬀ-ﬆﬓ-ﬗיִײַ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻﹰ-ﹴﹶ-ﻼＡ-Ｚａ-ｚｦ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ]"),NonAsciiIdentifierPart:new RegExp("[ªµºÀ-ÖØ-öø-ˁˆ-ˑˠ-ˤˬˮ̀-ʹͶͷͺ-ͽΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁ҃-҇Ҋ-ԧԱ-Ֆՙա-և֑-ׇֽֿׁׂׅׄא-תװ-ײؐ-ؚؠ-٩ٮ-ۓە-ۜ۟-۪ۨ-ۼۿܐ-݊ݍ-ޱ߀-ߵߺࠀ-࠭ࡀ-࡛ࢠࢢ-ࢬࣤ-ࣾऀ-ॣ०-९ॱ-ॷॹ-ॿঁ-ঃঅ-ঌএঐও-নপ-রলশ-হ়-ৄেৈো-ৎৗড়ঢ়য়-ৣ০-ৱਁ-ਃਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹ਼ਾ-ੂੇੈੋ-੍ੑਖ਼-ੜਫ਼੦-ੵઁ-ઃઅ-ઍએ-ઑઓ-નપ-રલળવ-હ઼-ૅે-ૉો-્ૐૠ-ૣ૦-૯ଁ-ଃଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହ଼-ୄେୈୋ-୍ୖୗଡ଼ଢ଼ୟ-ୣ୦-୯ୱஂஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹா-ூெ-ைொ-்ௐௗ௦-௯ఁ-ఃఅ-ఌఎ-ఐఒ-నప-ళవ-హఽ-ౄె-ైొ-్ౕౖౘౙౠ-ౣ౦-౯ಂಃಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹ಼-ೄೆ-ೈೊ-್ೕೖೞೠ-ೣ೦-೯ೱೲംഃഅ-ഌഎ-ഐഒ-ഺഽ-ൄെ-ൈൊ-ൎൗൠ-ൣ൦-൯ൺ-ൿංඃඅ-ඖක-නඳ-රලව-ෆ්ා-ුූෘ-ෟෲෳก-ฺเ-๎๐-๙ກຂຄງຈຊຍດ-ທນ-ຟມ-ຣລວສຫອ-ູົ-ຽເ-ໄໆ່-ໍ໐-໙ໜ-ໟༀ༘༙༠-༩༹༵༷༾-ཇཉ-ཬཱ-྄྆-ྗྙ-ྼ࿆က-၉ၐ-ႝႠ-ჅჇჍა-ჺჼ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚ፝-፟ᎀ-ᎏᎠ-Ᏼᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛮ-ᛰᜀ-ᜌᜎ-᜔ᜠ-᜴ᝀ-ᝓᝠ-ᝬᝮ-ᝰᝲᝳក-៓ៗៜ៝០-៩᠋-᠍᠐-᠙ᠠ-ᡷᢀ-ᢪᢰ-ᣵᤀ-ᤜᤠ-ᤫᤰ-᤻᥆-ᥭᥰ-ᥴᦀ-ᦫᦰ-ᧉ᧐-᧙ᨀ-ᨛᨠ-ᩞ᩠-᩿᩼-᪉᪐-᪙ᪧᬀ-ᭋ᭐-᭙᭫-᭳ᮀ-᯳ᰀ-᰷᱀-᱉ᱍ-ᱽ᳐-᳔᳒-ᳶᴀ-ᷦ᷼-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼ‌‍‿⁀⁔ⁱⁿₐ-ₜ⃐-⃥⃜⃡-⃰ℂℇℊ-ℓℕℙ-ℝℤΩℨK-ℭℯ-ℹℼ-ℿⅅ-ⅉⅎⅠ-ↈⰀ-Ⱞⰰ-ⱞⱠ-ⳤⳫ-ⳳⴀ-ⴥⴧⴭⴰ-ⵧⵯ⵿-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞⷠ-ⷿⸯ々-〇〡-〯〱-〵〸-〼ぁ-ゖ゙゚ゝ-ゟァ-ヺー-ヿㄅ-ㄭㄱ-ㆎㆠ-ㆺㇰ-ㇿ㐀-䶵一-鿌ꀀ-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘫꙀ-꙯ꙴ-꙽ꙿ-ꚗꚟ-꛱ꜗ-ꜟꜢ-ꞈꞋ-ꞎꞐ-ꞓꞠ-Ɦꟸ-ꠧꡀ-ꡳꢀ-꣄꣐-꣙꣠-ꣷꣻ꤀-꤭ꤰ-꥓ꥠ-ꥼꦀ-꧀ꧏ-꧙ꨀ-ꨶꩀ-ꩍ꩐-꩙ꩠ-ꩶꩺꩻꪀ-ꫂꫛ-ꫝꫠ-ꫯꫲ-꫶ꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꯀ-ꯪ꯬꯭꯰-꯹가-힣ힰ-ퟆퟋ-ퟻ豈-舘並-龎ﬀ-ﬆﬓ-ﬗיִ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻ︀-️︠-︦︳︴﹍-﹏ﹰ-ﹴﹶ-ﻼ０-９Ａ-Ｚ＿ａ-ｚｦ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ]")},"undefined"==typeof"esprima"[0]&&(n=function(e,t){return fn.slice(e,t).join("")
}),e.version="1.0.4",e.parse=an,e.Syntax=function(){var e,t={};"function"==typeof Object.create&&(t=Object.create(null));for(e in un)un.hasOwnProperty(e)&&(t[e]=un[e]);return"function"==typeof Object.freeze&&Object.freeze(t),t}()})},{}],82:[function(e,t){function n(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function r(e){return"function"==typeof e}function i(e){return"number"==typeof e}function o(e){return"object"==typeof e&&null!==e}function a(e){return void 0===e}t.exports=n,n.EventEmitter=n,n.prototype._events=void 0,n.prototype._maxListeners=void 0,n.defaultMaxListeners=10,n.prototype.setMaxListeners=function(e){if(!i(e)||0>e||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},n.prototype.emit=function(e){var t,n,i,s,l,u;if(this._events||(this._events={}),"error"===e&&(!this._events.error||o(this._events.error)&&!this._events.error.length)){if(t=arguments[1],t instanceof Error)throw t;var c=new Error('Uncaught, unspecified "error" event. ('+t+")");throw c.context=t,c}if(n=this._events[e],a(n))return!1;if(r(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:s=Array.prototype.slice.call(arguments,1),n.apply(this,s)}else if(o(n))for(s=Array.prototype.slice.call(arguments,1),u=n.slice(),i=u.length,l=0;i>l;l++)u[l].apply(this,s);return!0},n.prototype.addListener=function(e,t){var i;if(!r(t))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,r(t.listener)?t.listener:t),this._events[e]?o(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,o(this._events[e])&&!this._events[e].warned&&(i=a(this._maxListeners)?n.defaultMaxListeners:this._maxListeners,i&&i>0&&this._events[e].length>i&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace())),this},n.prototype.on=n.prototype.addListener,n.prototype.once=function(e,t){function n(){this.removeListener(e,n),i||(i=!0,t.apply(this,arguments))}if(!r(t))throw TypeError("listener must be a function");var i=!1;return n.listener=t,this.on(e,n),this},n.prototype.removeListener=function(e,t){var n,i,a,s;if(!r(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(n=this._events[e],a=n.length,i=-1,n===t||r(n.listener)&&n.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(o(n)){for(s=a;s-->0;)if(n[s]===t||n[s].listener&&n[s].listener===t){i=s;break}if(0>i)return this;1===n.length?(n.length=0,delete this._events[e]):n.splice(i,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},n.prototype.removeAllListeners=function(e){var t,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(n=this._events[e],r(n))this.removeListener(e,n);else if(n)for(;n.length;)this.removeListener(e,n[n.length-1]);return delete this._events[e],this},n.prototype.listeners=function(e){var t;return t=this._events&&this._events[e]?r(this._events[e])?[this._events[e]]:this._events[e].slice():[]},n.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(r(t))return 1;if(t)return t.length}return 0},n.listenerCount=function(e,t){return e.listenerCount(t)}},{}],83:[function(e,t,n){!function(e){if("object"==typeof n&&"undefined"!=typeof t)t.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var r;r="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,r.Handsontable=e()}}(function(){var t;return function(t,n,r){return function i(t,n,r){function o(l,u){if(!n[l]){if(!t[l]){var c="function"==typeof e&&e;if(!u&&c)return c(l,!0);if(a)return a(l,!0);if(s[l]&&"undefined"!=typeof window[s[l]])return window[s[l]];var h=new Error("Cannot find module '"+l+"'");throw h.code="MODULE_NOT_FOUND",h}var d=n[l]={exports:{}};t[l][0].call(d.exports,function(e){var n=t[l][1][e];return o(n?n:e)},d,d.exports,i,t,n,r)}return n[l].exports}for(var a="function"==typeof e&&e,s=JSON.parse('{"zeroclipboard":"ZeroClipboard","moment":"moment","pikaday":"Pikaday"}')||{},l=0;l<r.length;l++)o(r[l]);return o}(t,n,r),function(){return Handsontable}}({1:[function(){"use strict";window.jQuery&&!function(e,t,n){t.fn.handsontable=function(e){var t,r,i,o,a,s=this.first(),l=s.data("handsontable");if("string"!=typeof e)return a=e||{},l?l.updateSettings(a):(l=new n.Core(s[0],a),s.data("handsontable",l),l.init()),s;if(i=[],arguments.length>1)for(t=1,r=arguments.length;r>t;t++)i.push(arguments[t]);if(l){if("undefined"==typeof l[e])throw new Error("Handsontable do not provide action: "+e);o=l[e].apply(l,i),"destroy"===e&&s.removeData()}return o}}(window,jQuery,Handsontable)},{}],2:[function(e,t,n){"use strict";Object.defineProperties(n,{WalkontableBorder:{get:function(){return w}},__esModule:{value:!0}});var r,i,o,a,s,l=(r=e("helpers/dom/element"),r&&r.__esModule&&r||{"default":r}),u=l.getComputedStyle,c=l.getTrimmingContainer,h=l.innerWidth,d=l.innerHeight,f=l.offset,p=l.outerHeight,m=l.outerWidth,g=(i=e("helpers/dom/event"),i&&i.__esModule&&i||{"default":i}).stopImmediatePropagation,v=(o=e("eventManager"),o&&o.__esModule&&o||{"default":o}).EventManager,y=(a=e("cell/coords"),a&&a.__esModule&&a||{"default":a}).WalkontableCellCoords,b=(s=e("overlay/_base.js"),s&&s.__esModule&&s||{"default":s}).WalkontableOverlay,w=function(e,t){t&&(this.eventManager=new v(e),this.instance=e,this.wot=e,this.settings=t,this.mouseDown=!1,this.main=null,this.top=null,this.left=null,this.bottom=null,this.right=null,this.topStyle=null,this.leftStyle=null,this.bottomStyle=null,this.rightStyle=null,this.cornerDefaultStyle={width:"5px",height:"5px",borderWidth:"2px",borderStyle:"solid",borderColor:"#FFF"},this.corner=null,this.cornerStyle=null,this.createBorders(t),this.registerListeners())};$traceurRuntime.createClass(w,{registerListeners:function(){var e=this;this.eventManager.addEventListener(document.body,"mousedown",function(){return e.onMouseDown()}),this.eventManager.addEventListener(document.body,"mouseup",function(){return e.onMouseUp()});for(var t=this,n=function(n){t.eventManager.addEventListener(t.main.childNodes[n],"mouseenter",function(t){return e.onMouseEnter(t,e.main.childNodes[n])})},r=0,i=this.main.childNodes.length;i>r;r++)n(r,i)},onMouseDown:function(){this.mouseDown=!0},onMouseUp:function(){this.mouseDown=!1},onMouseEnter:function(e,t){function n(e){return e.clientY<Math.floor(o.top)?!0:e.clientY>Math.ceil(o.top+o.height)?!0:e.clientX<Math.floor(o.left)?!0:e.clientX>Math.ceil(o.left+o.width)?!0:void 0}function r(e){n(e)&&(i.eventManager.removeEventListener(document.body,"mousemove",r),t.style.display="block")}if(this.mouseDown&&this.wot.getSetting("hideBorderOnMouseDownOver")){e.preventDefault(),g(e);var i=this,o=t.getBoundingClientRect();t.style.display="none",this.eventManager.addEventListener(document.body,"mousemove",r)}},createBorders:function(e){this.main=document.createElement("div");var t=["top","left","bottom","right","corner"],n=this.main.style;n.position="absolute",n.top=0,n.left=0;for(var r=0;5>r;r++){var i=t[r],o=document.createElement("div");o.className="wtBorder "+(this.settings.className||""),this.settings[i]&&this.settings[i].hide&&(o.className+=" hidden"),n=o.style,n.backgroundColor=this.settings[i]&&this.settings[i].color?this.settings[i].color:e.border.color,n.height=this.settings[i]&&this.settings[i].width?this.settings[i].width+"px":e.border.width+"px",n.width=this.settings[i]&&this.settings[i].width?this.settings[i].width+"px":e.border.width+"px",this.main.appendChild(o)}this.top=this.main.childNodes[0],this.left=this.main.childNodes[1],this.bottom=this.main.childNodes[2],this.right=this.main.childNodes[3],this.topStyle=this.top.style,this.leftStyle=this.left.style,this.bottomStyle=this.bottom.style,this.rightStyle=this.right.style,this.corner=this.main.childNodes[4],this.corner.className+=" corner",this.cornerStyle=this.corner.style,this.cornerStyle.width=this.cornerDefaultStyle.width,this.cornerStyle.height=this.cornerDefaultStyle.height,this.cornerStyle.border=[this.cornerDefaultStyle.borderWidth,this.cornerDefaultStyle.borderStyle,this.cornerDefaultStyle.borderColor].join(" "),Handsontable.mobileBrowser&&this.createMultipleSelectorHandles(),this.disappear(),this.wot.wtTable.bordersHolder||(this.wot.wtTable.bordersHolder=document.createElement("div"),this.wot.wtTable.bordersHolder.className="htBorders",this.wot.wtTable.spreader.appendChild(this.wot.wtTable.bordersHolder)),this.wot.wtTable.bordersHolder.insertBefore(this.main,this.wot.wtTable.bordersHolder.firstChild)},createMultipleSelectorHandles:function(){this.selectionHandles={topLeft:document.createElement("DIV"),topLeftHitArea:document.createElement("DIV"),bottomRight:document.createElement("DIV"),bottomRightHitArea:document.createElement("DIV")};var e=10,t=40;this.selectionHandles.topLeft.className="topLeftSelectionHandle",this.selectionHandles.topLeftHitArea.className="topLeftSelectionHandle-HitArea",this.selectionHandles.bottomRight.className="bottomRightSelectionHandle",this.selectionHandles.bottomRightHitArea.className="bottomRightSelectionHandle-HitArea",this.selectionHandles.styles={topLeft:this.selectionHandles.topLeft.style,topLeftHitArea:this.selectionHandles.topLeftHitArea.style,bottomRight:this.selectionHandles.bottomRight.style,bottomRightHitArea:this.selectionHandles.bottomRightHitArea.style};var n={position:"absolute",height:t+"px",width:t+"px","border-radius":parseInt(t/1.5,10)+"px"};for(var r in n)n.hasOwnProperty(r)&&(this.selectionHandles.styles.bottomRightHitArea[r]=n[r],this.selectionHandles.styles.topLeftHitArea[r]=n[r]);var i={position:"absolute",height:e+"px",width:e+"px","border-radius":parseInt(e/1.5,10)+"px",background:"#F5F5FF",border:"1px solid #4285c8"};for(var o in i)i.hasOwnProperty(o)&&(this.selectionHandles.styles.bottomRight[o]=i[o],this.selectionHandles.styles.topLeft[o]=i[o]);this.main.appendChild(this.selectionHandles.topLeft),this.main.appendChild(this.selectionHandles.bottomRight),this.main.appendChild(this.selectionHandles.topLeftHitArea),this.main.appendChild(this.selectionHandles.bottomRightHitArea)},isPartRange:function(e,t){return!this.wot.selections.area.cellRange||e==this.wot.selections.area.cellRange.to.row&&t==this.wot.selections.area.cellRange.to.col?!1:!0},updateMultipleSelectionHandlesPosition:function(e,t,n,r,i,o){var a=parseInt(this.selectionHandles.styles.topLeft.width,10),s=parseInt(this.selectionHandles.styles.topLeftHitArea.width,10);this.selectionHandles.styles.topLeft.top=parseInt(n-a,10)+"px",this.selectionHandles.styles.topLeft.left=parseInt(r-a,10)+"px",this.selectionHandles.styles.topLeftHitArea.top=parseInt(n-s/4*3,10)+"px",this.selectionHandles.styles.topLeftHitArea.left=parseInt(r-s/4*3,10)+"px",this.selectionHandles.styles.bottomRight.top=parseInt(n+o,10)+"px",this.selectionHandles.styles.bottomRight.left=parseInt(r+i,10)+"px",this.selectionHandles.styles.bottomRightHitArea.top=parseInt(n+o-s/4,10)+"px",this.selectionHandles.styles.bottomRightHitArea.left=parseInt(r+i-s/4,10)+"px",this.settings.border.multipleSelectionHandlesVisible&&this.settings.border.multipleSelectionHandlesVisible()?(this.selectionHandles.styles.topLeft.display="block",this.selectionHandles.styles.topLeftHitArea.display="block",this.isPartRange(e,t)?(this.selectionHandles.styles.bottomRight.display="none",this.selectionHandles.styles.bottomRightHitArea.display="none"):(this.selectionHandles.styles.bottomRight.display="block",this.selectionHandles.styles.bottomRightHitArea.display="block")):(this.selectionHandles.styles.topLeft.display="none",this.selectionHandles.styles.bottomRight.display="none",this.selectionHandles.styles.topLeftHitArea.display="none",this.selectionHandles.styles.bottomRightHitArea.display="none"),e==this.wot.wtSettings.getSetting("fixedRowsTop")||t==this.wot.wtSettings.getSetting("fixedColumnsLeft")?(this.selectionHandles.styles.topLeft.zIndex="9999",this.selectionHandles.styles.topLeftHitArea.zIndex="9999"):(this.selectionHandles.styles.topLeft.zIndex="",this.selectionHandles.styles.topLeftHitArea.zIndex="")},appear:function(e){if(!this.disabled){var t,n,r,i,o,a,s,l,g,v,w,C,x,k,S,_,T,E,M;M=b.isOverlayTypeOf(this.wot.cloneOverlay,b.CLONE_TOP)||b.isOverlayTypeOf(this.wot.cloneOverlay,b.CLONE_TOP_LEFT_CORNER)?this.wot.getSetting("fixedRowsTop"):b.isOverlayTypeOf(this.wot.cloneOverlay,b.CLONE_BOTTOM)||b.isOverlayTypeOf(this.wot.cloneOverlay,b.CLONE_BOTTOM_LEFT_CORNER)?this.wot.getSetting("fixedRowsBottom"):this.wot.wtTable.getRenderedRowsCount();for(var R=0;M>R;R++){var O=this.wot.wtTable.rowFilter.renderedToSource(R);if(O>=e[0]&&O<=e[2]){x=O;break}}for(var A=M-1;A>=0;A--){var L=this.wot.wtTable.rowFilter.renderedToSource(A);if(L>=e[0]&&L<=e[2]){S=L;break}}M=this.wot.wtTable.getRenderedColumnsCount();for(var D=0;M>D;D++){var P=this.wot.wtTable.columnFilter.renderedToSource(D);if(P>=e[1]&&P<=e[3]){k=P;break}}for(var H=M-1;H>=0;H--){var N=this.wot.wtTable.columnFilter.renderedToSource(H);if(N>=e[1]&&N<=e[3]){_=N;break}}if(void 0===x||void 0===k)return this.disappear(),void 0;t=x!==S||k!==_,n=this.wot.wtTable.getCell(new y(x,k)),r=t?this.wot.wtTable.getCell(new y(S,_)):n,i=f(n),o=t?f(r):i,a=f(this.wot.wtTable.TABLE),l=i.top,w=o.top+p(r)-l,v=i.left,C=o.left+m(r)-v,s=l-a.top-1,g=v-a.left-1;var I=u(n);parseInt(I.borderTopWidth,10)>0&&(s+=1,w=w>0?w-1:0),parseInt(I.borderLeftWidth,10)>0&&(g+=1,C=C>0?C-1:0),this.topStyle.top=s+"px",this.topStyle.left=g+"px",this.topStyle.width=C+"px",this.topStyle.display="block",this.leftStyle.top=s+"px",this.leftStyle.left=g+"px",this.leftStyle.height=w+"px",this.leftStyle.display="block";var j=Math.floor(this.settings.border.width/2);this.bottomStyle.top=s+w-j+"px",this.bottomStyle.left=g+"px",this.bottomStyle.width=C+"px",this.bottomStyle.display="block",this.rightStyle.top=s+"px",this.rightStyle.left=g+C-j+"px",this.rightStyle.height=w+1+"px",this.rightStyle.display="block",Handsontable.mobileBrowser||!this.hasSetting(this.settings.border.cornerVisible)||this.isPartRange(S,_)?this.cornerStyle.display="none":(this.cornerStyle.top=s+w-4+"px",this.cornerStyle.left=g+C-4+"px",this.cornerStyle.borderRightWidth=this.cornerDefaultStyle.borderWidth,this.cornerStyle.width=this.cornerDefaultStyle.width,this.cornerStyle.display="block",T=c(this.wot.wtTable.TABLE),_===this.wot.getSetting("totalColumns")-1&&(E=r.offsetLeft+m(r)>=h(T),E&&(this.cornerStyle.left=Math.floor(g+C-3-parseInt(this.cornerDefaultStyle.width)/2)+"px",this.cornerStyle.borderRightWidth=0)),S===this.wot.getSetting("totalRows")-1&&(E=r.offsetTop+p(r)>=d(T),E&&(this.cornerStyle.top=Math.floor(s+w-3-parseInt(this.cornerDefaultStyle.height)/2)+"px",this.cornerStyle.borderBottomWidth=0))),Handsontable.mobileBrowser&&this.updateMultipleSelectionHandlesPosition(x,k,s,g,C,w)}},disappear:function(){this.topStyle.display="none",this.leftStyle.display="none",this.bottomStyle.display="none",this.rightStyle.display="none",this.cornerStyle.display="none",Handsontable.mobileBrowser&&(this.selectionHandles.styles.topLeft.display="none",this.selectionHandles.styles.bottomRight.display="none")},hasSetting:function(e){return"function"==typeof e?e():!!e}},{}),window.WalkontableBorder=w},{"cell/coords":5,eventManager:41,"helpers/dom/element":45,"helpers/dom/event":46,"overlay/_base.js":11}],3:[function(e,t,n){"use strict";Object.defineProperties(n,{WalkontableViewportColumnsCalculator:{get:function(){return i}},__esModule:{value:!0}});var r=new WeakMap,i=function(e,t,n,i,o,a,s){r.set(this,{viewportWidth:e,scrollOffset:t,totalColumns:n,columnWidthFn:i,overrideFn:o,onlyFullyVisible:a}),this.count=0,this.startColumn=null,this.endColumn=null,this.startPosition=null,this.stretchAllRatio=0,this.stretchLastWidth=0,this.stretch=s,this.totalTargetWidth=0,this.needVerifyLastColumnWidth=!0,this.stretchAllColumnsWidth=[],this.calculate()},o=i;$traceurRuntime.createClass(i,{calculate:function(){for(var e,t=0,n=!0,i=[],o=r.get(this),a=o.onlyFullyVisible,s=o.overrideFn,l=o.scrollOffset,u=o.totalColumns,c=o.viewportWidth,h=0;u>h;h++)if(e=this._getColumnWidth(h),l>=t&&!a&&(this.startColumn=h),t>=l&&l+c>=t+e&&(null==this.startColumn&&(this.startColumn=h),this.endColumn=h),i.push(t),t+=e,a||(this.endColumn=h),t>=l+c){n=!1;break}if(this.endColumn===u-1&&n)for(this.startColumn=this.endColumn;this.startColumn>0;){var d=i[this.endColumn]+e-i[this.startColumn-1];if((c>=d||!a)&&this.startColumn--,d>c)break}null!==this.startColumn&&s&&s(this),this.startPosition=i[this.startColumn],void 0==this.startPosition&&(this.startPosition=null),null!==this.startColumn&&(this.count=this.endColumn-this.startColumn+1)},refreshStretching:function(e){if("none"!==this.stretch){for(var t,n,i=0,o=r.get(this),a=o.totalColumns,s=0;a>s;s++)t=this._getColumnWidth(s),i+=t;this.totalTargetWidth=e,n=i-e,"all"===this.stretch&&0>n?(this.stretchAllRatio=e/i,this.stretchAllColumnsWidth=[],this.needVerifyLastColumnWidth=!0):"last"===this.stretch&&1/0!==e&&(this.stretchLastWidth=-n+this._getColumnWidth(a-1))}},getStretchedColumnWidth:function(e,t){var n=null;return"all"===this.stretch&&0!==this.stretchAllRatio?n=this._getStretchedAllColumnWidth(e,t):"last"===this.stretch&&0!==this.stretchLastWidth&&(n=this._getStretchedLastColumnWidth(e)),n},_getStretchedAllColumnWidth:function(e,t){var n=0,i=r.get(this),o=i.totalColumns;if(this.stretchAllColumnsWidth[e]||(this.stretchAllColumnsWidth[e]=Math.round(t*this.stretchAllRatio)),this.stretchAllColumnsWidth.length===o&&this.needVerifyLastColumnWidth){this.needVerifyLastColumnWidth=!1;for(var a=0;a<this.stretchAllColumnsWidth.length;a++)n+=this.stretchAllColumnsWidth[a];n!==this.totalTargetWidth&&(this.stretchAllColumnsWidth[this.stretchAllColumnsWidth.length-1]+=this.totalTargetWidth-n)}return this.stretchAllColumnsWidth[e]},_getStretchedLastColumnWidth:function(e){var t=r.get(this),n=t.totalColumns;return e===n-1?this.stretchLastWidth:null},_getColumnWidth:function(e){var t=r.get(this).columnWidthFn(e);return void 0===t&&(t=o.DEFAULT_WIDTH),t}},{get DEFAULT_WIDTH(){return 50}}),window.WalkontableViewportColumnsCalculator=i},{}],4:[function(e,t,n){"use strict";Object.defineProperties(n,{WalkontableViewportRowsCalculator:{get:function(){return i}},__esModule:{value:!0}});var r=new WeakMap,i=function(e,t,n,i,o,a,s){r.set(this,{viewportHeight:e,scrollOffset:t,totalRows:n,rowHeightFn:i,overrideFn:o,onlyFullyVisible:a,horizontalScrollbarHeight:s}),this.count=0,this.startRow=null,this.endRow=null,this.startPosition=null,this.calculate()},o=i;$traceurRuntime.createClass(i,{calculate:function(){for(var e=0,t=!0,n=[],i=r.get(this),a=i.onlyFullyVisible,s=i.overrideFn,l=i.rowHeightFn,u=i.scrollOffset,c=i.totalRows,h=i.viewportHeight,d=i.horizontalScrollbarHeight||0,f=0;c>f;f++){var p=l(f);if(void 0===p&&(p=o.DEFAULT_HEIGHT),u>=e&&!a&&(this.startRow=f),e>=u&&u+h-d>=e+p&&(null===this.startRow&&(this.startRow=f),this.endRow=f),n.push(e),e+=p,a||(this.endRow=f),e>=u+h-d){t=!1;break}}if(this.endRow===c-1&&t)for(this.startRow=this.endRow;this.startRow>0;){var m=n[this.endRow]+p-n[this.startRow-1];if((h-d>=m||!a)&&this.startRow--,m>=h-d)break}null!==this.startRow&&s&&s(this),this.startPosition=n[this.startRow],void 0==this.startPosition&&(this.startPosition=null),null!==this.startRow&&(this.count=this.endRow-this.startRow+1)}},{get DEFAULT_HEIGHT(){return 23}}),window.WalkontableViewportRowsCalculator=i},{}],5:[function(e,t,n){"use strict";Object.defineProperties(n,{WalkontableCellCoords:{get:function(){return r}},__esModule:{value:!0}});var r=function(e,t){"undefined"!=typeof e&&"undefined"!=typeof t?(this.row=e,this.col=t):(this.row=null,this.col=null)};$traceurRuntime.createClass(r,{isValid:function(e){return this.row<0||this.col<0?!1:this.row>=e.getSetting("totalRows")||this.col>=e.getSetting("totalColumns")?!1:!0},isEqual:function(e){return e===this?!0:this.row===e.row&&this.col===e.col},isSouthEastOf:function(e){return this.row>=e.row&&this.col>=e.col},isNorthWestOf:function(e){return this.row<=e.row&&this.col<=e.col},isSouthWestOf:function(e){return this.row>=e.row&&this.col<=e.col},isNorthEastOf:function(e){return this.row<=e.row&&this.col>=e.col}},{}),window.WalkontableCellCoords=r},{}],6:[function(e,t,n){"use strict";Object.defineProperties(n,{WalkontableCellRange:{get:function(){return o}},__esModule:{value:!0}});var r,i=(r=e("cell/coords"),r&&r.__esModule&&r||{"default":r}).WalkontableCellCoords,o=function(e,t,n){this.highlight=e,this.from=t,this.to=n},a=o;$traceurRuntime.createClass(o,{isValid:function(e){return this.from.isValid(e)&&this.to.isValid(e)},isSingle:function(){return this.from.row===this.to.row&&this.from.col===this.to.col},getHeight:function(){return Math.max(this.from.row,this.to.row)-Math.min(this.from.row,this.to.row)+1},getWidth:function(){return Math.max(this.from.col,this.to.col)-Math.min(this.from.col,this.to.col)+1},includes:function(e){var t=this.getTopLeftCorner(),n=this.getBottomRightCorner();return e.row<0&&(e.row=0),e.col<0&&(e.col=0),t.row<=e.row&&n.row>=e.row&&t.col<=e.col&&n.col>=e.col},includesRange:function(e){return this.includes(e.getTopLeftCorner())&&this.includes(e.getBottomRightCorner())},isEqual:function(e){return Math.min(this.from.row,this.to.row)==Math.min(e.from.row,e.to.row)&&Math.max(this.from.row,this.to.row)==Math.max(e.from.row,e.to.row)&&Math.min(this.from.col,this.to.col)==Math.min(e.from.col,e.to.col)&&Math.max(this.from.col,this.to.col)==Math.max(e.from.col,e.to.col)},overlaps:function(e){return e.isSouthEastOf(this.getTopLeftCorner())&&e.isNorthWestOf(this.getBottomRightCorner())},isSouthEastOf:function(e){return this.getTopLeftCorner().isSouthEastOf(e)||this.getBottomRightCorner().isSouthEastOf(e)},isNorthWestOf:function(e){return this.getTopLeftCorner().isNorthWestOf(e)||this.getBottomRightCorner().isNorthWestOf(e)},expand:function(e){var t=this.getTopLeftCorner(),n=this.getBottomRightCorner();return e.row<t.row||e.col<t.col||e.row>n.row||e.col>n.col?(this.from=new i(Math.min(t.row,e.row),Math.min(t.col,e.col)),this.to=new i(Math.max(n.row,e.row),Math.max(n.col,e.col)),!0):!1},expandByRange:function(e){if(this.includesRange(e)||!this.overlaps(e))return!1;var t=this.getTopLeftCorner(),n=this.getBottomRightCorner(),r=(this.getTopRightCorner(),this.getBottomLeftCorner(),e.getTopLeftCorner()),o=e.getBottomRightCorner(),s=Math.min(t.row,r.row),l=Math.min(t.col,r.col),u=Math.max(n.row,o.row),c=Math.max(n.col,o.col),h=new i(s,l),d=new i(u,c),f=new a(h,h,d).isCorner(this.from,e),p=e.isEqual(new a(h,h,d));return f&&!p&&(this.from.col>h.col&&(h.col=c,d.col=l),this.from.row>h.row&&(h.row=u,d.row=s)),this.from=h,this.to=d,!0},getDirection:function(){return this.from.isNorthWestOf(this.to)?"NW-SE":this.from.isNorthEastOf(this.to)?"NE-SW":this.from.isSouthEastOf(this.to)?"SE-NW":this.from.isSouthWestOf(this.to)?"SW-NE":void 0},setDirection:function(e){switch(e){case"NW-SE":this.from=this.getTopLeftCorner(),this.to=this.getBottomRightCorner();break;case"NE-SW":this.from=this.getTopRightCorner(),this.to=this.getBottomLeftCorner();break;case"SE-NW":this.from=this.getBottomRightCorner(),this.to=this.getTopLeftCorner();break;case"SW-NE":this.from=this.getBottomLeftCorner(),this.to=this.getTopRightCorner()}},getTopLeftCorner:function(){return new i(Math.min(this.from.row,this.to.row),Math.min(this.from.col,this.to.col))},getBottomRightCorner:function(){return new i(Math.max(this.from.row,this.to.row),Math.max(this.from.col,this.to.col))},getTopRightCorner:function(){return new i(Math.min(this.from.row,this.to.row),Math.max(this.from.col,this.to.col))},getBottomLeftCorner:function(){return new i(Math.max(this.from.row,this.to.row),Math.min(this.from.col,this.to.col))},isCorner:function(e,t){return t&&t.includes(e)&&(this.getTopLeftCorner().isEqual(new i(t.from.row,t.from.col))||this.getTopRightCorner().isEqual(new i(t.from.row,t.to.col))||this.getBottomLeftCorner().isEqual(new i(t.to.row,t.from.col))||this.getBottomRightCorner().isEqual(new i(t.to.row,t.to.col)))?!0:e.isEqual(this.getTopLeftCorner())||e.isEqual(this.getTopRightCorner())||e.isEqual(this.getBottomLeftCorner())||e.isEqual(this.getBottomRightCorner())},getOppositeCorner:function(e,t){if(!(e instanceof i))return!1;if(t&&t.includes(e)){if(this.getTopLeftCorner().isEqual(new i(t.from.row,t.from.col)))return this.getBottomRightCorner();if(this.getTopRightCorner().isEqual(new i(t.from.row,t.to.col)))return this.getBottomLeftCorner();if(this.getBottomLeftCorner().isEqual(new i(t.to.row,t.from.col)))return this.getTopRightCorner();if(this.getBottomRightCorner().isEqual(new i(t.to.row,t.to.col)))return this.getTopLeftCorner()}return e.isEqual(this.getBottomRightCorner())?this.getTopLeftCorner():e.isEqual(this.getTopLeftCorner())?this.getBottomRightCorner():e.isEqual(this.getTopRightCorner())?this.getBottomLeftCorner():e.isEqual(this.getBottomLeftCorner())?this.getTopRightCorner():void 0},getBordersSharedWith:function(e){if(!this.includesRange(e))return[];var t={top:Math.min(this.from.row,this.to.row),bottom:Math.max(this.from.row,this.to.row),left:Math.min(this.from.col,this.to.col),right:Math.max(this.from.col,this.to.col)},n={top:Math.min(e.from.row,e.to.row),bottom:Math.max(e.from.row,e.to.row),left:Math.min(e.from.col,e.to.col),right:Math.max(e.from.col,e.to.col)},r=[];return t.top==n.top&&r.push("top"),t.right==n.right&&r.push("right"),t.bottom==n.bottom&&r.push("bottom"),t.left==n.left&&r.push("left"),r},getInner:function(){for(var e=this.getTopLeftCorner(),t=this.getBottomRightCorner(),n=[],r=e.row;r<=t.row;r++)for(var o=e.col;o<=t.col;o++)this.from.row===r&&this.from.col===o||this.to.row===r&&this.to.col===o||n.push(new i(r,o));return n},getAll:function(){for(var e=this.getTopLeftCorner(),t=this.getBottomRightCorner(),n=[],r=e.row;r<=t.row;r++)for(var o=e.col;o<=t.col;o++)e.row===r&&e.col===o?n.push(e):t.row===r&&t.col===o?n.push(t):n.push(new i(r,o));return n},forAll:function(e){for(var t=this.getTopLeftCorner(),n=this.getBottomRightCorner(),r=t.row;r<=n.row;r++)for(var i=t.col;i<=n.col;i++){var o=e(r,i);if(o===!1)return}}},{}),window.WalkontableCellRange=o},{"cell/coords":5}],7:[function(e,t,n){"use strict";Object.defineProperties(n,{Walkontable:{get:function(){return L}},__esModule:{value:!0}});var r,i,o,a,s,l,u,c,h,d,f,p,m,g,v=(r=e("helpers/dom/element"),r&&r.__esModule&&r||{"default":r}),y=v.addClass,b=v.fastInnerText,w=v.isVisible,C=v.removeClass,x=(i=e("helpers/object"),i&&i.__esModule&&i||{"default":i}).objectEach,k=(o=e("helpers/string"),o&&o.__esModule&&o||{"default":o}),S=k.toUpperCaseFirst,_=k.randomString,T=(a=e("event"),a&&a.__esModule&&a||{"default":a}).WalkontableEvent,E=(s=e("overlays"),s&&s.__esModule&&s||{"default":s}).WalkontableOverlays,M=(l=e("scroll"),l&&l.__esModule&&l||{"default":l}).WalkontableScroll,R=(u=e("settings"),u&&u.__esModule&&u||{"default":u}).WalkontableSettings,O=(c=e("table"),c&&c.__esModule&&c||{"default":c}).WalkontableTable,A=(h=e("viewport"),h&&h.__esModule&&h||{"default":h}).WalkontableViewport,L=((d=e("overlay/_base.js"),d&&d.__esModule&&d||{"default":d}).WalkontableOverlay,(f=e("overlay/top.js"),f&&f.__esModule&&f||{"default":f}).WalkontableTopOverlay,(p=e("overlay/left.js"),p&&p.__esModule&&p||{"default":p}).WalkontableLeftOverlay,(m=e("overlay/debug.js"),m&&m.__esModule&&m||{"default":m}).WalkontableDebugOverlay,(g=e("overlay/topLeftCorner.js"),g&&g.__esModule&&g||{"default":g}).WalkontableTopLeftCornerOverlay,function(e){var t=[];if(this.guid="wt_"+_(),e.cloneSource?(this.cloneSource=e.cloneSource,this.cloneOverlay=e.cloneOverlay,this.wtSettings=e.cloneSource.wtSettings,this.wtTable=new O(this,e.table,e.wtRootElement),this.wtScroll=new M(this),this.wtViewport=e.cloneSource.wtViewport,this.wtEvent=new T(this),this.selections=this.cloneSource.selections):(this.wtSettings=new R(this,e),this.wtTable=new O(this,e.table),this.wtScroll=new M(this),this.wtViewport=new A(this),this.wtEvent=new T(this),this.selections=this.getSetting("selections"),this.wtOverlays=new E(this),this.exportSettingsAsClassNames()),this.wtTable.THEAD.childNodes.length&&this.wtTable.THEAD.childNodes[0].childNodes.length){for(var n=0,r=this.wtTable.THEAD.childNodes[0].childNodes.length;r>n;n++)t.push(this.wtTable.THEAD.childNodes[0].childNodes[n].innerHTML);this.getSetting("columnHeaders").length||this.update("columnHeaders",[function(e,n){b(n,t[e])}])}this.drawn=!1,this.drawInterrupted=!1});$traceurRuntime.createClass(L,{draw:function(){var e=void 0!==arguments[0]?arguments[0]:!1;return this.drawInterrupted=!1,e||w(this.wtTable.TABLE)?this.wtTable.draw(e):this.drawInterrupted=!0,this},getCell:function(e){var t=void 0!==arguments[1]?arguments[1]:!1;if(!t)return this.wtTable.getCell(e);var n=this.wtSettings.getSetting("totalRows"),r=this.wtSettings.getSetting("fixedRowsTop"),i=this.wtSettings.getSetting("fixedRowsBottom"),o=this.wtSettings.getSetting("fixedColumnsLeft");if(e.row<r&&e.col<o)return this.wtOverlays.topLeftCornerOverlay.clone.wtTable.getCell(e);if(e.row<r)return this.wtOverlays.topOverlay.clone.wtTable.getCell(e);if(e.col<o&&e.row>=n-i){if(this.wtOverlays.bottomLeftCornerOverlay.clone)return this.wtOverlays.bottomLeftCornerOverlay.clone.wtTable.getCell(e)}else{if(e.col<o)return this.wtOverlays.leftOverlay.clone.wtTable.getCell(e);if(e.row>n-i&&this.wtOverlays.bottomOverlay.clone)return this.wtOverlays.bottomOverlay.clone.wtTable.getCell(e)}return this.wtTable.getCell(e)},update:function(e,t){return this.wtSettings.update(e,t)},scrollVertical:function(e){return this.wtOverlays.topOverlay.scrollTo(e),this.getSetting("onScrollVertically"),this},scrollHorizontal:function(e){return this.wtOverlays.leftOverlay.scrollTo(e),this.getSetting("onScrollHorizontally"),this},scrollViewport:function(e){return this.wtScroll.scrollViewport(e),this},getViewport:function(){return[this.wtTable.getFirstVisibleRow(),this.wtTable.getFirstVisibleColumn(),this.wtTable.getLastVisibleRow(),this.wtTable.getLastVisibleColumn()]},getOverlayName:function(){return this.cloneOverlay?this.cloneOverlay.type:"master"},exportSettingsAsClassNames:function(){var e=this,t={rowHeaders:["array"],columnHeaders:["array"]},n=[],r=[];x(t,function(t,i){t.indexOf("array")>-1&&e.getSetting(i).length&&r.push("ht"+S(i)),n.push("ht"+S(i))}),C(this.wtTable.wtRootElement.parentNode,n),y(this.wtTable.wtRootElement.parentNode,r)},getSetting:function(e,t,n,r,i){return this.wtSettings.getSetting(e,t,n,r,i)},hasSetting:function(e){return this.wtSettings.has(e)},destroy:function(){this.wtOverlays.destroy(),this.wtEvent.destroy()}},{}),window.Walkontable=L},{event:8,"helpers/dom/element":45,"helpers/object":50,"helpers/string":52,"overlay/_base.js":11,"overlay/debug.js":12,"overlay/left.js":13,"overlay/top.js":14,"overlay/topLeftCorner.js":15,overlays:16,scroll:17,settings:19,table:20,viewport:22}],8:[function(e,t,n){"use strict";function r(e){var t=this,n=c(e);this.instance=e;var r=[null,null];this.dblClickTimeout=[null,null];var i,o,a=function(e){var n=t.parentCell(e.realTarget);l(e.realTarget,"corner")?t.instance.getSetting("onCellCornerMouseDown",e,e.realTarget):n.TD&&t.instance.hasSetting("onCellMouseDown")&&t.instance.getSetting("onCellMouseDown",e,n.coords,n.TD,t.instance),2!==e.button&&n.TD&&(r[0]=n.TD,clearTimeout(t.dblClickTimeout[0]),t.dblClickTimeout[0]=setTimeout(function(){r[0]=null},1e3))},h=function(){t.instance.touchMoving=!0},d=function(e){n.addEventListener(this,"touchmove",h),t.checkIfTouchMove=setTimeout(function(){return t.instance.touchMoving===!0?(t.instance.touchMoving=void 0,n.removeEventListener("touchmove",h,!1),void 0):(a(e),void 0)
},30)},f=function(e){var n,r;t.instance.hasSetting("onCellMouseOver")&&(n=t.instance.wtTable.TABLE,r=s(e.realTarget,["TD","TH"],n),r&&r!==o&&u(r,n)&&(o=r,t.instance.getSetting("onCellMouseOver",e,t.instance.wtTable.getCoords(r),r,t.instance)))},p=function(e){if(2!==e.button){var n=t.parentCell(e.realTarget);n.TD===r[0]&&n.TD===r[1]?(l(e.realTarget,"corner")?t.instance.getSetting("onCellCornerDblClick",e,n.coords,n.TD,t.instance):t.instance.getSetting("onCellDblClick",e,n.coords,n.TD,t.instance),r[0]=null,r[1]=null):n.TD===r[0]&&(r[1]=n.TD,clearTimeout(t.dblClickTimeout[1]),t.dblClickTimeout[1]=setTimeout(function(){r[1]=null},500))}},m=function(e){clearTimeout(i),e.preventDefault(),p(e)};if(n.addEventListener(this.instance.wtTable.holder,"mousedown",a),n.addEventListener(this.instance.wtTable.TABLE,"mouseover",f),n.addEventListener(this.instance.wtTable.holder,"mouseup",p),this.instance.wtTable.holder.parentNode.parentNode&&Handsontable.mobileBrowser&&!t.instance.wtTable.isWorkingOnClone()){var g="."+this.instance.wtTable.holder.parentNode.className.split(" ").join(".");n.addEventListener(this.instance.wtTable.holder,"touchstart",function(e){t.instance.touchApplied=!0,u(e.target,g)&&d.call(e.target,e)}),n.addEventListener(this.instance.wtTable.holder,"touchend",function(e){t.instance.touchApplied=!1,u(e.target,g)&&m.call(e.target,e)}),t.instance.momentumScrolling||(t.instance.momentumScrolling={}),n.addEventListener(this.instance.wtTable.holder,"scroll",function(){clearTimeout(t.instance.momentumScrolling._timeout),t.instance.momentumScrolling.ongoing||t.instance.getSetting("onBeforeTouchScroll"),t.instance.momentumScrolling.ongoing=!0,t.instance.momentumScrolling._timeout=setTimeout(function(){t.instance.touchApplied||(t.instance.momentumScrolling.ongoing=!1,t.instance.getSetting("onAfterMomentumScroll"))},200)})}n.addEventListener(window,"resize",function(){"none"!==t.instance.getSetting("stretchH")&&t.instance.draw()}),this.destroy=function(){clearTimeout(this.dblClickTimeout[0]),clearTimeout(this.dblClickTimeout[1]),n.destroy()}}Object.defineProperties(n,{WalkontableEvent:{get:function(){return r}},__esModule:{value:!0}});var i,o,a=(i=e("helpers/dom/element"),i&&i.__esModule&&i||{"default":i}),s=a.closest,l=a.hasClass,u=a.isChildOf,c=(o=e("eventManager"),o&&o.__esModule&&o||{"default":o}).eventManager;r.prototype.parentCell=function(e){var t={},n=this.instance.wtTable.TABLE,r=s(e,["TD","TH"],n);return r&&u(r,n)?(t.coords=this.instance.wtTable.getCoords(r),t.TD=r):l(e,"wtBorder")&&l(e,"current")?(t.coords=this.instance.selections.current.cellRange.highlight,t.TD=this.instance.wtTable.getCell(t.coords)):l(e,"wtBorder")&&l(e,"area")&&this.instance.selections.area.cellRange&&(t.coords=this.instance.selections.area.cellRange.to,t.TD=this.instance.wtTable.getCell(t.coords)),t},window.WalkontableEvent=r},{eventManager:41,"helpers/dom/element":45}],9:[function(e,t,n){"use strict";Object.defineProperties(n,{WalkontableColumnFilter:{get:function(){return r}},__esModule:{value:!0}});var r=function(e,t,n){this.offset=e,this.total=t,this.countTH=n};$traceurRuntime.createClass(r,{offsetted:function(e){return e+this.offset},unOffsetted:function(e){return e-this.offset},renderedToSource:function(e){return this.offsetted(e)},sourceToRendered:function(e){return this.unOffsetted(e)},offsettedTH:function(e){return e-this.countTH},unOffsettedTH:function(e){return e+this.countTH},visibleRowHeadedColumnToSourceColumn:function(e){return this.renderedToSource(this.offsettedTH(e))},sourceColumnToVisibleRowHeadedColumn:function(e){return this.unOffsettedTH(this.sourceToRendered(e))}},{}),window.WalkontableColumnFilter=r},{}],10:[function(e,t,n){"use strict";Object.defineProperties(n,{WalkontableRowFilter:{get:function(){return r}},__esModule:{value:!0}});var r=function(e,t,n){this.offset=e,this.total=t,this.countTH=n};$traceurRuntime.createClass(r,{offsetted:function(e){return e+this.offset},unOffsetted:function(e){return e-this.offset},renderedToSource:function(e){return this.offsetted(e)},sourceToRendered:function(e){return this.unOffsetted(e)},offsettedTH:function(e){return e-this.countTH},unOffsettedTH:function(e){return e+this.countTH},visibleColHeadedRowToSourceRow:function(e){return this.renderedToSource(this.offsettedTH(e))},sourceRowToVisibleColHeadedRow:function(e){return this.unOffsettedTH(this.sourceToRendered(e))}},{}),window.WalkontableRowFilter=r},{}],11:[function(e,t,n){"use strict";Object.defineProperties(n,{WalkontableOverlay:{get:function(){return d}},__esModule:{value:!0}});var r,i,o,a=(r=e("helpers/dom/element"),r&&r.__esModule&&r||{"default":r}),s=a.getScrollableElement,l=a.getTrimmingContainer,u=(i=e("helpers/object"),i&&i.__esModule&&i||{"default":i}).defineGetter,c=(o=e("eventManager"),o&&o.__esModule&&o||{"default":o}).eventManager,h={},d=function(e){u(this,"wot",e,{writable:!1}),this.instance=this.wot,this.type="",this.TABLE=this.wot.wtTable.TABLE,this.hider=this.wot.wtTable.hider,this.spreader=this.wot.wtTable.spreader,this.holder=this.wot.wtTable.holder,this.wtRootElement=this.wot.wtTable.wtRootElement,this.trimmingContainer=l(this.hider.parentNode.parentNode),this.mainTableScrollableElement=s(this.wot.wtTable.TABLE),this.needFullRender=this.shouldBeRendered(),this.areElementSizesAdjusted=!1},f=d;$traceurRuntime.createClass(d,{shouldBeRendered:function(){return!0},makeClone:function(e){if(-1===f.CLONE_TYPES.indexOf(e))throw new Error('Clone type "'+e+'" is not supported.');var t=document.createElement("DIV"),n=document.createElement("TABLE");return t.className="ht_clone_"+e+" handsontable",t.style.position="absolute",t.style.top=0,t.style.left=0,t.style.overflow="hidden",n.className=this.wot.wtTable.TABLE.className,t.appendChild(n),this.type=e,this.wot.wtTable.wtRootElement.parentNode.appendChild(t),new Walkontable({cloneSource:this.wot,cloneOverlay:this,table:n})},refresh:function(){var e=void 0!==arguments[0]?arguments[0]:!1,t=this.shouldBeRendered();this.clone&&(this.needFullRender||t)&&this.clone.draw(e),this.needFullRender=t},destroy:function(){c(this.clone).destroy()}},{get CLONE_TOP(){return"top"},get CLONE_BOTTOM(){return"bottom"},get CLONE_LEFT(){return"left"},get CLONE_TOP_LEFT_CORNER(){return"top_left_corner"},get CLONE_BOTTOM_LEFT_CORNER(){return"bottom_left_corner"},get CLONE_DEBUG(){return"debug"},get CLONE_TYPES(){return[f.CLONE_TOP,f.CLONE_BOTTOM,f.CLONE_LEFT,f.CLONE_TOP_LEFT_CORNER,f.CLONE_BOTTOM_LEFT_CORNER,f.CLONE_DEBUG]},registerOverlay:function(e,t){if(-1===f.CLONE_TYPES.indexOf(e))throw new Error("Unsupported overlay ("+e+").");h[e]=t},createOverlay:function(e,t){return new h[e](t)},isOverlayTypeOf:function(e,t){return e&&h[t]?e instanceof h[t]:!1}}),window.WalkontableOverlay=d},{eventManager:41,"helpers/dom/element":45,"helpers/object":50}],12:[function(e,t,n){"use strict";Object.defineProperties(n,{WalkontableDebugOverlay:{get:function(){return s}},__esModule:{value:!0}});var r,i,o=(r=e("helpers/dom/element"),r&&r.__esModule&&r||{"default":r}).addClass,a=(i=e("_base"),i&&i.__esModule&&i||{"default":i}).WalkontableOverlay,s=function(e){$traceurRuntime.superConstructor(l).call(this,e),this.clone=this.makeClone(a.CLONE_DEBUG),this.clone.wtTable.holder.style.opacity=.4,this.clone.wtTable.holder.style.textShadow="0 0 2px #ff0000",o(this.clone.wtTable.holder.parentNode,"wtDebugVisible")},l=s;$traceurRuntime.createClass(s,{},{},a),window.WalkontableDebugOverlay=s,a.registerOverlay(a.CLONE_DEBUG,s)},{_base:11,"helpers/dom/element":45}],13:[function(e,t,n){"use strict";Object.defineProperties(n,{WalkontableLeftOverlay:{get:function(){return m}},__esModule:{value:!0}});var r,i,o=(r=e("helpers/dom/element"),r&&r.__esModule&&r||{"default":r}),a=o.addClass,s=o.getScrollbarWidth,l=o.getScrollLeft,u=o.getWindowScrollTop,c=o.hasClass,h=o.outerWidth,d=o.removeClass,f=o.setOverlayPosition,p=(i=e("_base"),i&&i.__esModule&&i||{"default":i}).WalkontableOverlay,m=function(e){$traceurRuntime.superConstructor(g).call(this,e),this.clone=this.makeClone(p.CLONE_LEFT)},g=m;$traceurRuntime.createClass(m,{shouldBeRendered:function(){return this.wot.getSetting("fixedColumnsLeft")||this.wot.getSetting("rowHeaders").length?!0:!1},resetFixedPosition:function(){if(this.needFullRender&&this.wot.wtTable.holder.parentNode){var e=this.clone.wtTable.holder.parentNode,t=0;if(this.trimmingContainer===window){var n,r,i=this.wot.wtTable.hider.getBoundingClientRect(),o=Math.ceil(i.left),a=Math.ceil(i.right);r=this.wot.wtTable.hider.style.top,r=""===r?0:r,n=0>o&&a-e.offsetWidth>0?-o:0,t=n,n+="px",f(e,n,r)}else t=this.getScrollPosition();this.adjustHeaderBordersPosition(t),this.adjustElementsSize()}},setScrollPosition:function(e){this.mainTableScrollableElement===window?window.scrollTo(e,u()):this.mainTableScrollableElement.scrollLeft=e},onScroll:function(){this.wot.getSetting("onScrollVertically")},sumCellSizes:function(e,t){for(var n=0,r=this.wot.wtSettings.defaultColumnWidth;t>e;)n+=this.wot.wtTable.getStretchedColumnWidth(e)||r,e++;return n},adjustElementsSize:function(){var e=void 0!==arguments[0]?arguments[0]:!1;(this.needFullRender||e)&&(this.adjustRootElementSize(),this.adjustRootChildrenSize(),e||(this.areElementSizesAdjusted=!0))},adjustRootElementSize:function(){var e,t=this.wot.wtTable.holder,n=t.clientHeight===t.offsetHeight?0:s(),r=this.clone.wtTable.holder.parentNode,i=r.style;this.trimmingContainer!==window&&(i.height=this.wot.wtViewport.getWorkspaceHeight()-n+"px"),this.clone.wtTable.holder.style.height=i.height,e=h(this.clone.wtTable.TABLE),i.width=(0===e?e:e+4)+"px"},adjustRootChildrenSize:function(){var e=s();this.clone.wtTable.hider.style.height=this.hider.style.height,this.clone.wtTable.holder.style.height=this.clone.wtTable.holder.parentNode.style.height,0===e&&(e=30),this.clone.wtTable.holder.style.width=parseInt(this.clone.wtTable.holder.parentNode.style.width,10)+e+"px"},applyToDOM:function(){var e=this.wot.getSetting("totalColumns");if(this.areElementSizesAdjusted||this.adjustElementsSize(),"number"==typeof this.wot.wtViewport.columnsRenderCalculator.startPosition)this.spreader.style.left=this.wot.wtViewport.columnsRenderCalculator.startPosition+"px";else{if(0!==e)throw new Error("Incorrect value of the columnsRenderCalculator");this.spreader.style.left="0"}this.spreader.style.right="",this.needFullRender&&this.syncOverlayOffset()},syncOverlayOffset:function(){this.clone.wtTable.spreader.style.top="number"==typeof this.wot.wtViewport.rowsRenderCalculator.startPosition?this.wot.wtViewport.rowsRenderCalculator.startPosition+"px":""},scrollTo:function(e,t){var n=this.getTableParentOffset(),r=this.wot.cloneSource?this.wot.cloneSource:this.wot,i=r.wtTable.holder,o=0;t&&i.offsetWidth!==i.clientWidth&&(o=s()),t?(n+=this.sumCellSizes(0,e+1),n-=this.wot.wtViewport.getViewportWidth()):n+=this.sumCellSizes(this.wot.getSetting("fixedColumnsLeft"),e),n+=o,this.setScrollPosition(n)},getTableParentOffset:function(){return this.trimmingContainer===window?this.wot.wtTable.holderOffset.left:0},getScrollPosition:function(){return l(this.mainTableScrollableElement)},adjustHeaderBordersPosition:function(e){var t=this.wot.wtTable.holder.parentNode,n=this.wot.getSetting("rowHeaders"),r=this.wot.getSetting("fixedColumnsLeft");if(r&&!n.length)a(t,"innerBorderLeft");else if(!r&&n.length){var i=c(t,"innerBorderLeft");e?a(t,"innerBorderLeft"):d(t,"innerBorderLeft"),(!i&&e||i&&!e)&&this.wot.wtOverlays.adjustElementsSize()}}},{},p),window.WalkontableLeftOverlay=m,p.registerOverlay(p.CLONE_LEFT,m)},{_base:11,"helpers/dom/element":45}],14:[function(e,t,n){"use strict";Object.defineProperties(n,{WalkontableTopOverlay:{get:function(){return m}},__esModule:{value:!0}});var r,i,o=(r=e("helpers/dom/element"),r&&r.__esModule&&r||{"default":r}),a=o.addClass,s=o.getScrollbarWidth,l=o.getScrollTop,u=o.getWindowScrollLeft,c=o.hasClass,h=o.outerHeight,d=o.removeClass,f=o.setOverlayPosition,p=(i=e("_base"),i&&i.__esModule&&i||{"default":i}).WalkontableOverlay,m=function(e){$traceurRuntime.superConstructor(g).call(this,e),this.clone=this.makeClone(p.CLONE_TOP)},g=m;$traceurRuntime.createClass(m,{shouldBeRendered:function(){return this.wot.getSetting("fixedRowsTop")||this.wot.getSetting("columnHeaders").length?!0:!1},resetFixedPosition:function(){if(this.needFullRender&&this.wot.wtTable.holder.parentNode){var e=this.clone.wtTable.holder.parentNode,t=0;if(this.wot.wtOverlays.leftOverlay.trimmingContainer===window){var n,r,i=this.wot.wtTable.hider.getBoundingClientRect(),o=Math.ceil(i.top),a=Math.ceil(i.bottom);n=this.wot.wtTable.hider.style.left,n=""===n?0:n,r=0>o&&a-e.offsetHeight>0?-o:0,t=r,r+="px",f(e,n,r)}else t=this.getScrollPosition();this.adjustHeaderBordersPosition(t),this.adjustElementsSize()}},setScrollPosition:function(e){this.mainTableScrollableElement===window?window.scrollTo(u(),e):this.mainTableScrollableElement.scrollTop=e},onScroll:function(){this.wot.getSetting("onScrollHorizontally")},sumCellSizes:function(e,t){for(var n=0,r=this.wot.wtSettings.settings.defaultRowHeight;t>e;){var i=this.wot.wtTable.getRowHeight(e);n+=void 0===i?r:i,e++}return n},adjustElementsSize:function(){var e=void 0!==arguments[0]?arguments[0]:!1;(this.needFullRender||e)&&(this.adjustRootElementSize(),this.adjustRootChildrenSize(),e||(this.areElementSizesAdjusted=!0))},adjustRootElementSize:function(){var e,t=this.wot.wtTable.holder,n=t.clientWidth===t.offsetWidth?0:s(),r=this.clone.wtTable.holder.parentNode,i=r.style;this.trimmingContainer!==window&&(i.width=this.wot.wtViewport.getWorkspaceWidth()-n+"px"),this.clone.wtTable.holder.style.width=i.width,e=h(this.clone.wtTable.TABLE),i.height=(0===e?e:e+4)+"px"},adjustRootChildrenSize:function(){var e=s();this.clone.wtTable.hider.style.width=this.hider.style.width,this.clone.wtTable.holder.style.width=this.clone.wtTable.holder.parentNode.style.width,0===e&&(e=30),this.clone.wtTable.holder.style.height=parseInt(this.clone.wtTable.holder.parentNode.style.height,10)+e+"px"},applyToDOM:function(){var e=this.wot.getSetting("totalRows");if(this.areElementSizesAdjusted||this.adjustElementsSize(),"number"==typeof this.wot.wtViewport.rowsRenderCalculator.startPosition)this.spreader.style.top=this.wot.wtViewport.rowsRenderCalculator.startPosition+"px";else{if(0!==e)throw new Error("Incorrect value of the rowsRenderCalculator");this.spreader.style.top="0"}this.spreader.style.bottom="",this.needFullRender&&this.syncOverlayOffset()},syncOverlayOffset:function(){this.clone.wtTable.spreader.style.left="number"==typeof this.wot.wtViewport.columnsRenderCalculator.startPosition?this.wot.wtViewport.columnsRenderCalculator.startPosition+"px":""},scrollTo:function(e,t){var n=this.getTableParentOffset(),r=this.wot.cloneSource?this.wot.cloneSource:this.wot,i=r.wtTable.holder,o=0;if(t&&i.offsetHeight!==i.clientHeight&&(o=s()),t){var a=this.wot.getSetting("fixedRowsBottom"),l=(this.wot.getSetting("fixedRowsTop"),this.wot.getSetting("totalRows"));n+=this.sumCellSizes(0,e+1),n-=this.wot.wtViewport.getViewportHeight()-this.sumCellSizes(l-a,l),n+=1}else n+=this.sumCellSizes(this.wot.getSetting("fixedRowsTop"),e);n+=o,this.setScrollPosition(n)},getTableParentOffset:function(){return this.mainTableScrollableElement===window?this.wot.wtTable.holderOffset.top:0},getScrollPosition:function(){return l(this.mainTableScrollableElement)},adjustHeaderBordersPosition:function(e){if(0===this.wot.getSetting("fixedRowsTop")&&this.wot.getSetting("columnHeaders").length>0){var t=this.wot.wtTable.holder.parentNode,n=c(t,"innerBorderTop");e?a(t,"innerBorderTop"):d(t,"innerBorderTop"),(!n&&e||n&&!e)&&this.wot.wtOverlays.adjustElementsSize()}if(0===this.wot.getSetting("rowHeaders").length){var r=this.clone.wtTable.THEAD.querySelectorAll("th:nth-of-type(2)");if(r)for(var i=0;i<r.length;i++)r[i].style["border-left-width"]=0}}},{},p),window.WalkontableTopOverlay=m,p.registerOverlay(p.CLONE_TOP,m)},{_base:11,"helpers/dom/element":45}],15:[function(e,t,n){"use strict";Object.defineProperties(n,{WalkontableTopLeftCornerOverlay:{get:function(){return c}},__esModule:{value:!0}});var r,i,o=(r=e("helpers/dom/element"),r&&r.__esModule&&r||{"default":r}),a=o.outerHeight,s=o.outerWidth,l=o.setOverlayPosition,u=(i=e("_base"),i&&i.__esModule&&i||{"default":i}).WalkontableOverlay,c=function(e){$traceurRuntime.superConstructor(h).call(this,e),this.clone=this.makeClone(u.CLONE_TOP_LEFT_CORNER)},h=c;$traceurRuntime.createClass(c,{shouldBeRendered:function(){return(this.wot.getSetting("fixedRowsTop")||this.wot.getSetting("columnHeaders").length)&&(this.wot.getSetting("fixedColumnsLeft")||this.wot.getSetting("rowHeaders").length)?!0:!1},resetFixedPosition:function(){if(this.wot.wtTable.holder.parentNode){var e=this.clone.wtTable.holder.parentNode,t=a(this.clone.wtTable.TABLE),n=s(this.clone.wtTable.TABLE);if(this.trimmingContainer===window){var r,i,o=this.wot.wtTable.hider.getBoundingClientRect(),u=Math.ceil(o.top),c=Math.ceil(o.left),h=Math.ceil(o.bottom),d=Math.ceil(o.right);r=0>c&&d-e.offsetWidth>0?-c+"px":"0",i=0>u&&h-e.offsetHeight>0?-u+"px":"0",l(e,r,i)}e.style.height=(0===t?t:t+4)+"px",e.style.width=(0===n?n:n+4)+"px"}}},{},u),window.WalkontableTopLeftCornerOverlay=c,u.registerOverlay(u.CLONE_TOP_LEFT_CORNER,c)},{_base:11,"helpers/dom/element":45}],16:[function(e,t,n){"use strict";Object.defineProperties(n,{WalkontableOverlays:{get:function(){return f}},__esModule:{value:!0}});var r,i,o,a=(r=e("helpers/dom/element"),r&&r.__esModule&&r||{"default":r}),s=a.getScrollableElement,l=a.getScrollbarWidth,u=a.getScrollLeft,c=a.getScrollTop,h=(i=e("helpers/unicode"),i&&i.__esModule&&i||{"default":i}).isKey,d=(o=e("eventManager"),o&&o.__esModule&&o||{"default":o}).EventManager,f=function(e){this.wot=e,this.instance=this.wot,this.eventManager=new d(this.wot),this.wot.update("scrollbarWidth",l()),this.wot.update("scrollbarHeight",l()),this.mainTableScrollableElement=s(this.wot.wtTable.TABLE),this.topOverlay=WalkontableOverlay.createOverlay(WalkontableOverlay.CLONE_TOP,this.wot),this.bottomOverlay="undefined"==typeof WalkontableBottomOverlay?{needFullRender:!1}:WalkontableOverlay.createOverlay(WalkontableOverlay.CLONE_BOTTOM,this.wot),this.leftOverlay=WalkontableOverlay.createOverlay(WalkontableOverlay.CLONE_LEFT,this.wot),this.topOverlay.needFullRender&&this.leftOverlay.needFullRender&&(this.topLeftCornerOverlay=WalkontableOverlay.createOverlay(WalkontableOverlay.CLONE_TOP_LEFT_CORNER,this.wot)),this.bottomLeftCornerOverlay=this.bottomOverlay.needFullRender&&this.leftOverlay.needFullRender&&"undefined"!=typeof WalkontableBottomLeftCornerOverlay?WalkontableOverlay.createOverlay(WalkontableOverlay.CLONE_BOTTOM_LEFT_CORNER,this.wot):{needFullRender:!1},this.wot.getSetting("debug")&&(this.debug=WalkontableOverlay.createOverlay(WalkontableOverlay.CLONE_DEBUG,this.wot)),this.destroyed=!1,this.keyPressed=!1,this.spreaderLastSize={width:null,height:null},this.overlayScrollPositions={master:{top:0,left:0},top:{top:null,left:0},bottom:{top:null,left:0},left:{top:0,left:null}},this.verticalScrolling=!1,this.horizontalScrolling=!1,this.delegatedScrollCallback=!1,this.registerListeners()};$traceurRuntime.createClass(f,{refreshAll:function(){if(this.wot.drawn){if(!this.wot.wtTable.holder.parentNode)return this.destroy(),void 0;this.wot.draw(!0),this.verticalScrolling&&this.leftOverlay.onScroll(),this.horizontalScrolling&&this.topOverlay.onScroll(),this.verticalScrolling=!1,this.horizontalScrolling=!1}},registerListeners:function(){var e=this;this.eventManager.addEventListener(document.documentElement,"keydown",function(t){return e.onKeyDown(t)}),this.eventManager.addEventListener(document.documentElement,"keyup",function(){return e.onKeyUp()}),this.eventManager.addEventListener(document,"visibilitychange",function(){return e.onKeyUp()}),this.eventManager.addEventListener(this.mainTableScrollableElement,"scroll",function(t){return e.onTableScroll(t)}),this.topOverlay.needFullRender&&(this.eventManager.addEventListener(this.topOverlay.clone.wtTable.holder,"scroll",function(t){return e.onTableScroll(t)}),this.eventManager.addEventListener(this.topOverlay.clone.wtTable.holder,"wheel",function(t){return e.onTableScroll(t)})),this.bottomOverlay.needFullRender&&(this.eventManager.addEventListener(this.bottomOverlay.clone.wtTable.holder,"scroll",function(t){return e.onTableScroll(t)}),this.eventManager.addEventListener(this.bottomOverlay.clone.wtTable.holder,"wheel",function(t){return e.onTableScroll(t)})),this.leftOverlay.needFullRender&&(this.eventManager.addEventListener(this.leftOverlay.clone.wtTable.holder,"scroll",function(t){return e.onTableScroll(t)}),this.eventManager.addEventListener(this.leftOverlay.clone.wtTable.holder,"wheel",function(t){return e.onTableScroll(t)})),this.topOverlay.trimmingContainer!==window&&this.leftOverlay.trimmingContainer!==window&&this.eventManager.addEventListener(window,"wheel",function(t){var n,r=t.wheelDeltaY||t.deltaY,i=t.wheelDeltaX||t.deltaX;e.topOverlay.clone.wtTable.holder.contains(t.realTarget)?n="top":e.bottomOverlay.clone&&e.bottomOverlay.clone.wtTable.holder.contains(t.realTarget)?n="bottom":e.leftOverlay.clone.wtTable.holder.contains(t.realTarget)&&(n="left"),"top"==n&&0!==r?t.preventDefault():"left"==n&&0!==i?t.preventDefault():"bottom"==n&&0!==r&&t.preventDefault()})},onTableScroll:function(e){Handsontable.mobileBrowser||(!this.keyPressed||this.mainTableScrollableElement===window||e.target.contains(this.mainTableScrollableElement))&&("scroll"===e.type?this.syncScrollPositions(e):this.translateMouseWheelToScroll(e))},onKeyDown:function(e){this.keyPressed=h(e.keyCode,"ARROW_UP|ARROW_RIGHT|ARROW_DOWN|ARROW_LEFT")},onKeyUp:function(){this.keyPressed=!1},translateMouseWheelToScroll:function(e){for(var t,n=this.topOverlay.clone.wtTable.holder,r=this.bottomOverlay.clone?this.bottomOverlay.clone.wtTable.holder:null,i=this.leftOverlay.clone.wtTable.holder,o={type:"wheel"},a=e.target,s=e.wheelDeltaY||-1*e.deltaY,l=e.wheelDeltaX||-1*e.deltaX;a!=document&&null!=a;){if(a.className.indexOf("wtHolder")>-1){t=a;break}a=a.parentNode}return o.target=t,t==n?this.syncScrollPositions(o,-.2*s):t==r?this.syncScrollPositions(o,-.2*s):t==i&&this.syncScrollPositions(o,-.2*l),!1},syncScrollPositions:function(e){var t=void 0!==arguments[1]?arguments[1]:null;if(!this.destroyed){if(0===arguments.length)return this.syncScrollWithMaster(),void 0;var n,r,i,o=this.mainTableScrollableElement,a=e.target,s=0,l=!1,h=!1;this.topOverlay.needFullRender&&(n=this.topOverlay.clone.wtTable.holder),this.bottomOverlay.needFullRender&&(i=this.bottomOverlay.clone.wtTable.holder),this.leftOverlay.needFullRender&&(r=this.leftOverlay.clone.wtTable.holder),a===document&&(a=window),a===o?(s=u(a),this.overlayScrollPositions.master.left!==s&&(this.horizontalScrolling=!0,this.overlayScrollPositions.master.left=s,l=!0,n&&(n.scrollLeft=s,h=this.mainTableScrollableElement!==window),i&&(i.scrollLeft=s,h=this.mainTableScrollableElement!==window)),s=c(a),this.overlayScrollPositions.master.top!==s&&(this.verticalScrolling=!0,this.overlayScrollPositions.master.top=s,l=!0,r&&(r.scrollTop=s,h=this.mainTableScrollableElement!==window))):a===i?(s=u(a),this.overlayScrollPositions.bottom.left!==s&&(this.horizontalScrolling=!0,this.overlayScrollPositions.bottom.left=s,l=!0,o.scrollLeft=s),null!==t&&(l=!0,o.scrollTop+=t)):a===n?(s=u(a),this.overlayScrollPositions.top.left!==s&&(this.horizontalScrolling=!0,this.overlayScrollPositions.top.left=s,l=!0,o.scrollLeft=s),null!==t&&(l=!0,o.scrollTop+=t)):a===r&&(s=c(a),this.overlayScrollPositions.left.top!==s&&(this.verticalScrolling=!0,this.overlayScrollPositions.left.top=s,l=!0,o.scrollTop=s),null!==t&&(l=!0,o.scrollLeft+=t)),!this.keyPressed&&l&&"scroll"===e.type&&(this.delegatedScrollCallback?this.delegatedScrollCallback=!1:this.refreshAll(),h&&(this.delegatedScrollCallback=!0))}},syncScrollWithMaster:function(){var e=this.topOverlay.mainTableScrollableElement;this.topOverlay.needFullRender&&(this.topOverlay.clone.wtTable.holder.scrollLeft=e.scrollLeft),this.leftOverlay.needFullRender&&(this.leftOverlay.clone.wtTable.holder.scrollTop=e.scrollTop)},destroy:function(){this.eventManager.destroy(),this.topOverlay.destroy(),this.bottomOverlay.clone&&this.bottomOverlay.destroy(),this.leftOverlay.destroy(),this.topLeftCornerOverlay&&this.topLeftCornerOverlay.destroy(),this.bottomLeftCornerOverlay&&this.bottomLeftCornerOverlay.clone&&this.bottomLeftCornerOverlay.destroy(),this.debug&&this.debug.destroy(),this.destroyed=!0},refresh:function(){var e=void 0!==arguments[0]?arguments[0]:!1;if(this.topOverlay.areElementSizesAdjusted&&this.leftOverlay.areElementSizesAdjusted){var t=this.wot.wtTable.wtRootElement.parentNode||this.wot.wtTable.wtRootElement,n=t.clientWidth,r=t.clientHeight;(n!==this.spreaderLastSize.width||r!==this.spreaderLastSize.height)&&(this.spreaderLastSize.width=n,this.spreaderLastSize.height=r,this.adjustElementsSize())}this.bottomOverlay.clone&&this.bottomOverlay.refresh(e),this.leftOverlay.refresh(e),this.topOverlay.refresh(e),this.topLeftCornerOverlay&&this.topLeftCornerOverlay.refresh(e),this.bottomLeftCornerOverlay&&this.bottomLeftCornerOverlay.clone&&this.bottomLeftCornerOverlay.refresh(e),this.debug&&this.debug.refresh(e)},adjustElementsSize:function(){var e=void 0!==arguments[0]?arguments[0]:!1,t=this.wot.getSetting("totalColumns"),n=this.wot.getSetting("totalRows"),r=this.wot.wtViewport.getRowHeaderWidth(),i=this.wot.wtViewport.getColumnHeaderHeight(),o=this.wot.wtTable.hider.style;o.width=r+this.leftOverlay.sumCellSizes(0,t)+"px",o.height=i+this.topOverlay.sumCellSizes(0,n)+1+"px",this.topOverlay.adjustElementsSize(e),this.leftOverlay.adjustElementsSize(e),this.bottomOverlay.clone&&this.bottomOverlay.adjustElementsSize(e)},applyToDOM:function(){this.topOverlay.areElementSizesAdjusted&&this.leftOverlay.areElementSizesAdjusted||this.adjustElementsSize(),this.topOverlay.applyToDOM(),this.bottomOverlay.clone&&this.bottomOverlay.applyToDOM(),this.leftOverlay.applyToDOM()}},{}),window.WalkontableOverlays=f},{eventManager:41,"helpers/dom/element":45,"helpers/unicode":53}],17:[function(e,t,n){"use strict";Object.defineProperties(n,{WalkontableScroll:{get:function(){return r}},__esModule:{value:!0}});var r=function(e){this.wot=e,this.instance=e};$traceurRuntime.createClass(r,{scrollViewport:function(e){if(this.wot.drawn){var t=this.wot.getSetting("totalRows"),n=this.wot.getSetting("totalColumns"),r=this.instance.getSetting("fixedRowsTop"),i=this.instance.getSetting("fixedRowsBottom"),o=this.instance.getSetting("fixedColumnsLeft");if(e.row<0||e.row>t-1)throw new Error("row "+e.row+" does not exist");if(e.col<0||e.col>n-1)throw new Error("column "+e.col+" does not exist");e.row>this.instance.wtTable.getLastVisibleRow()&&e.row<t-i?this.wot.wtOverlays.topOverlay.scrollTo(e.row,!0):e.row>=r&&e.row<this.instance.wtTable.getFirstVisibleRow()&&this.wot.wtOverlays.topOverlay.scrollTo(e.row),e.col>this.instance.wtTable.getLastVisibleColumn()?this.wot.wtOverlays.leftOverlay.scrollTo(e.col,!0):e.col>=o&&e.col<this.instance.wtTable.getFirstVisibleColumn()&&this.wot.wtOverlays.leftOverlay.scrollTo(e.col)}}},{}),window.WalkontableScroll=r},{}],18:[function(e,t,n){"use strict";Object.defineProperties(n,{WalkontableSelection:{get:function(){return h}},__esModule:{value:!0}});var r,i,o,a,s=(r=e("helpers/dom/element"),r&&r.__esModule&&r||{"default":r}).addClass,l=(i=e("border"),i&&i.__esModule&&i||{"default":i}).WalkontableBorder,u=(o=e("cell/coords"),o&&o.__esModule&&o||{"default":o}).WalkontableCellCoords,c=(a=e("cell/range"),a&&a.__esModule&&a||{"default":a}).WalkontableCellRange,h=function(e,t){this.settings=e,this.cellRange=t||null,this.instanceBorders={}};$traceurRuntime.createClass(h,{getBorder:function(e){return this.instanceBorders[e.guid]?this.instanceBorders[e.guid]:(this.instanceBorders[e.guid]=new l(e,this.settings),void 0)},isEmpty:function(){return null===this.cellRange},add:function(e){this.isEmpty()?this.cellRange=new c(e,e,e):this.cellRange.expand(e)},replace:function(e,t){if(!this.isEmpty()){if(this.cellRange.from.isEqual(e))return this.cellRange.from=t,!0;if(this.cellRange.to.isEqual(e))return this.cellRange.to=t,!0}return!1},clear:function(){this.cellRange=null},getCorners:function(){var e=this.cellRange.getTopLeftCorner(),t=this.cellRange.getBottomRightCorner();return[e.row,e.col,t.row,t.col]},addClassAtCoords:function(e,t,n,r){var i=e.wtTable.getCell(new u(t,n));"object"==typeof i&&s(i,r)},draw:function(e){if(this.isEmpty()){if(this.settings.border){var t=this.getBorder(e);t&&t.disappear()}}else{for(var n,r,i,o=e.wtTable.getRenderedRowsCount(),a=e.wtTable.getRenderedColumnsCount(),l=this.getCorners(),u=0;a>u;u++)r=e.wtTable.columnFilter.renderedToSource(u),r>=l[1]&&r<=l[3]&&(i=e.wtTable.getColumnHeader(r),i&&this.settings.highlightColumnClassName&&s(i,this.settings.highlightColumnClassName));for(var c=0;o>c;c++){n=e.wtTable.rowFilter.renderedToSource(c),n>=l[0]&&n<=l[2]&&(i=e.wtTable.getRowHeader(n),i&&this.settings.highlightRowClassName&&s(i,this.settings.highlightRowClassName));for(var h=0;a>h;h++)r=e.wtTable.columnFilter.renderedToSource(h),n>=l[0]&&n<=l[2]&&r>=l[1]&&r<=l[3]?this.settings.className&&this.addClassAtCoords(e,n,r,this.settings.className):n>=l[0]&&n<=l[2]?this.settings.highlightRowClassName&&this.addClassAtCoords(e,n,r,this.settings.highlightRowClassName):r>=l[1]&&r<=l[3]&&this.settings.highlightColumnClassName&&this.addClassAtCoords(e,n,r,this.settings.highlightColumnClassName)}if(e.getSetting("onBeforeDrawBorders",l,this.settings.className),this.settings.border){var d=this.getBorder(e);d&&d.appear(l)}}}},{}),window.WalkontableSelection=h},{border:2,"cell/coords":5,"cell/range":6,"helpers/dom/element":45}],19:[function(e,t,n){"use strict";Object.defineProperties(n,{WalkontableSettings:{get:function(){return o}},__esModule:{value:!0}});var r,i=(r=e("helpers/dom/element"),r&&r.__esModule&&r||{"default":r}).fastInnerText,o=function(e,t){var n=this;this.wot=e,this.instance=e,this.defaults={table:void 0,debug:!1,externalRowCalculator:!1,stretchH:"none",currentRowClassName:null,currentColumnClassName:null,data:void 0,fixedColumnsLeft:0,fixedRowsTop:0,fixedRowsBottom:0,minSpareRows:0,rowHeaders:function(){return[]},columnHeaders:function(){return[]},totalRows:void 0,totalColumns:void 0,cellRenderer:function(e,t,r){var o=n.getSetting("data",e,t);i(r,void 0===o||null===o?"":o)},columnWidth:function(){},rowHeight:function(){},defaultRowHeight:23,defaultColumnWidth:50,selections:null,hideBorderOnMouseDownOver:!1,viewportRowCalculatorOverride:null,viewportColumnCalculatorOverride:null,onCellMouseDown:null,onCellMouseOver:null,onCellDblClick:null,onCellCornerMouseDown:null,onCellCornerDblClick:null,beforeDraw:null,onDraw:null,onBeforeDrawBorders:null,onScrollVertically:null,onScrollHorizontally:null,onBeforeTouchScroll:null,onAfterMomentumScroll:null,scrollbarWidth:10,scrollbarHeight:10,renderAllRows:!1,groups:!1},this.settings={};for(var r in this.defaults)if(this.defaults.hasOwnProperty(r))if(void 0!==t[r])this.settings[r]=t[r];else{if(void 0===this.defaults[r])throw new Error('A required setting "'+r+'" was not provided');this.settings[r]=this.defaults[r]}};$traceurRuntime.createClass(o,{update:function(e,t){if(void 0===t)for(var n in e)e.hasOwnProperty(n)&&(this.settings[n]=e[n]);else this.settings[e]=t;return this.wot},getSetting:function(e,t,n,r,i){return"function"==typeof this.settings[e]?this.settings[e](t,n,r,i):void 0!==t&&Array.isArray(this.settings[e])?this.settings[e][t]:this.settings[e]},has:function(e){return!!this.settings[e]}},{}),window.WalkontableSettings=o},{"helpers/dom/element":45}],20:[function(e,t,n){"use strict";Object.defineProperties(n,{WalkontableTable:{get:function(){return C}},__esModule:{value:!0}});var r,i,o,a,s,l,u=(r=e("helpers/dom/element"),r&&r.__esModule&&r||{"default":r}),c=u.getStyle,h=u.getTrimmingContainer,d=u.hasClass,f=u.index,p=u.offset,m=u.removeClass,g=u.removeTextNodes,v=(u.overlayContainsElement,(i=e("cell/coords"),i&&i.__esModule&&i||{"default":i}).WalkontableCellCoords),y=((o=e("cell/range"),o&&o.__esModule&&o||{"default":o}).WalkontableCellRange,(a=e("filter/column"),a&&a.__esModule&&a||{"default":a}).WalkontableColumnFilter),b=(s=e("filter/row"),s&&s.__esModule&&s||{"default":s}).WalkontableRowFilter,w=(l=e("tableRenderer"),l&&l.__esModule&&l||{"default":l}).WalkontableTableRenderer,C=function(e,t){this.wot=e,this.instance=this.wot,this.TABLE=t,this.TBODY=null,this.THEAD=null,this.COLGROUP=null,this.tableOffset=0,this.holderOffset=0,g(this.TABLE),this.spreader=this.createSpreader(this.TABLE),this.hider=this.createHider(this.spreader),this.holder=this.createHolder(this.hider),this.wtRootElement=this.holder.parentNode,this.alignOverlaysWithTrimmingContainer(),this.fixTableDomTree(),this.colgroupChildrenLength=this.COLGROUP.childNodes.length,this.theadChildrenLength=this.THEAD.firstChild?this.THEAD.firstChild.childNodes.length:0,this.tbodyChildrenLength=this.TBODY.childNodes.length,this.rowFilter=null,this.columnFilter=null
};$traceurRuntime.createClass(C,{fixTableDomTree:function(){this.TBODY=this.TABLE.querySelector("tbody"),this.TBODY||(this.TBODY=document.createElement("tbody"),this.TABLE.appendChild(this.TBODY)),this.THEAD=this.TABLE.querySelector("thead"),this.THEAD||(this.THEAD=document.createElement("thead"),this.TABLE.insertBefore(this.THEAD,this.TBODY)),this.COLGROUP=this.TABLE.querySelector("colgroup"),this.COLGROUP||(this.COLGROUP=document.createElement("colgroup"),this.TABLE.insertBefore(this.COLGROUP,this.THEAD)),this.wot.getSetting("columnHeaders").length&&!this.THEAD.childNodes.length&&this.THEAD.appendChild(document.createElement("TR"))},createSpreader:function(e){var t,n=e.parentNode;return n&&1===n.nodeType&&d(n,"wtHolder")||(t=document.createElement("div"),t.className="wtSpreader",n&&n.insertBefore(t,e),t.appendChild(e)),t.style.position="relative",t},createHider:function(e){var t,n=e.parentNode;return n&&1===n.nodeType&&d(n,"wtHolder")||(t=document.createElement("div"),t.className="wtHider",n&&n.insertBefore(t,e),t.appendChild(e)),t},createHolder:function(e){var t,n=e.parentNode;return n&&1===n.nodeType&&d(n,"wtHolder")||(t=document.createElement("div"),t.style.position="relative",t.className="wtHolder",n&&n.insertBefore(t,e),this.isWorkingOnClone()||(t.parentNode.className+="ht_master handsontable"),t.appendChild(e)),t},alignOverlaysWithTrimmingContainer:function(){var e=h(this.wtRootElement);this.isWorkingOnClone()||(this.holder.parentNode.style.position="relative",e===window?(this.holder.style.overflow="visible",this.wtRootElement.style.overflow="visible"):(this.holder.style.width=c(e,"width"),this.holder.style.height=c(e,"height"),this.holder.style.overflow=""))},isWorkingOnClone:function(){return!!this.wot.cloneSource},draw:function(e){var t=this.instance.getSetting("totalRows");if(this.isWorkingOnClone()||(this.holderOffset=p(this.holder),e=this.wot.wtViewport.createRenderCalculators(e)),e)this.isWorkingOnClone()||this.wot.wtViewport.createVisibleCalculators(),this.wot.wtOverlays&&this.wot.wtOverlays.refresh(!0);else{this.tableOffset=this.isWorkingOnClone()?this.wot.cloneSource.wtTable.tableOffset:p(this.TABLE);var n;n=WalkontableOverlay.isOverlayTypeOf(this.wot.cloneOverlay,WalkontableOverlay.CLONE_DEBUG)||WalkontableOverlay.isOverlayTypeOf(this.wot.cloneOverlay,WalkontableOverlay.CLONE_TOP)||WalkontableOverlay.isOverlayTypeOf(this.wot.cloneOverlay,WalkontableOverlay.CLONE_TOP_LEFT_CORNER)?0:WalkontableOverlay.isOverlayTypeOf(this.instance.cloneOverlay,WalkontableOverlay.CLONE_BOTTOM)||WalkontableOverlay.isOverlayTypeOf(this.instance.cloneOverlay,WalkontableOverlay.CLONE_BOTTOM_LEFT_CORNER)?t-this.wot.getSetting("fixedRowsBottom"):this.wot.wtViewport.rowsRenderCalculator.startRow;var r;r=WalkontableOverlay.isOverlayTypeOf(this.wot.cloneOverlay,WalkontableOverlay.CLONE_DEBUG)||WalkontableOverlay.isOverlayTypeOf(this.wot.cloneOverlay,WalkontableOverlay.CLONE_LEFT)||WalkontableOverlay.isOverlayTypeOf(this.wot.cloneOverlay,WalkontableOverlay.CLONE_TOP_LEFT_CORNER)||WalkontableOverlay.isOverlayTypeOf(this.wot.cloneOverlay,WalkontableOverlay.CLONE_BOTTOM_LEFT_CORNER)?0:this.wot.wtViewport.columnsRenderCalculator.startColumn,this.rowFilter=new b(n,t,this.wot.getSetting("columnHeaders").length),this.columnFilter=new y(r,this.wot.getSetting("totalColumns"),this.wot.getSetting("rowHeaders").length),this._doDraw(),this.alignOverlaysWithTrimmingContainer()}return this.refreshSelections(e),this.isWorkingOnClone()||(this.wot.wtOverlays.topOverlay.resetFixedPosition(),this.wot.wtOverlays.bottomOverlay.clone&&this.wot.wtOverlays.bottomOverlay.resetFixedPosition(),this.wot.wtOverlays.leftOverlay.resetFixedPosition(),this.wot.wtOverlays.topLeftCornerOverlay&&this.wot.wtOverlays.topLeftCornerOverlay.resetFixedPosition(),this.instance.wtOverlays.bottomLeftCornerOverlay&&this.instance.wtOverlays.bottomLeftCornerOverlay.clone&&this.wot.wtOverlays.bottomLeftCornerOverlay.resetFixedPosition()),this.wot.drawn=!0,this},_doDraw:function(){var e=new w(this);e.render()},removeClassFromCells:function(e){for(var t=this.TABLE.querySelectorAll("."+e),n=0,r=t.length;r>n;n++)m(t[n],e)},refreshSelections:function(e){if(this.wot.selections){var t=this.wot.selections.length;if(e)for(var n=0;t>n;n++)this.wot.selections[n].settings.className&&this.removeClassFromCells(this.wot.selections[n].settings.className),this.wot.selections[n].settings.highlightRowClassName&&this.removeClassFromCells(this.wot.selections[n].settings.highlightRowClassName),this.wot.selections[n].settings.highlightColumnClassName&&this.removeClassFromCells(this.wot.selections[n].settings.highlightColumnClassName);for(var r=0;t>r;r++)this.wot.selections[r].draw(this.wot,e)}},getCell:function(e){if(this.isRowBeforeRenderedRows(e.row))return-1;if(this.isRowAfterRenderedRows(e.row))return-2;var t=this.TBODY.childNodes[this.rowFilter.sourceToRendered(e.row)];return t?t.childNodes[this.columnFilter.sourceColumnToVisibleRowHeadedColumn(e.col)]:void 0},getColumnHeader:function(e){var t=void 0!==arguments[1]?arguments[1]:0,n=this.THEAD.childNodes[t];return n?n.childNodes[this.columnFilter.sourceColumnToVisibleRowHeadedColumn(e)]:void 0},getRowHeader:function(e){if(0===this.columnFilter.sourceColumnToVisibleRowHeadedColumn(0))return null;var t=this.TBODY.childNodes[this.rowFilter.sourceToRendered(e)];return t?t.childNodes[0]:void 0},getCoords:function(e){var t=e.parentNode,n=f(t);n=t.parentNode===this.THEAD?this.rowFilter.visibleColHeadedRowToSourceRow(n):this.rowFilter.renderedToSource(n);var r=this.columnFilter.visibleRowHeadedColumnToSourceColumn(e.cellIndex);return new v(n,r)},getTrForRow:function(e){return this.TBODY.childNodes[this.rowFilter.sourceToRendered(e)]},getFirstRenderedRow:function(){return this.wot.wtViewport.rowsRenderCalculator.startRow},getFirstVisibleRow:function(){return this.wot.wtViewport.rowsVisibleCalculator.startRow},getFirstRenderedColumn:function(){return this.wot.wtViewport.columnsRenderCalculator.startColumn},getFirstVisibleColumn:function(){return this.wot.wtViewport.columnsVisibleCalculator.startColumn},getLastRenderedRow:function(){return this.wot.wtViewport.rowsRenderCalculator.endRow},getLastVisibleRow:function(){return this.wot.wtViewport.rowsVisibleCalculator.endRow},getLastRenderedColumn:function(){return this.wot.wtViewport.columnsRenderCalculator.endColumn},getLastVisibleColumn:function(){return this.wot.wtViewport.columnsVisibleCalculator.endColumn},isRowBeforeRenderedRows:function(e){return this.rowFilter.sourceToRendered(e)<0&&e>=0},isRowAfterViewport:function(e){return this.rowFilter.sourceToRendered(e)>this.getLastVisibleRow()},isRowAfterRenderedRows:function(e){return this.rowFilter.sourceToRendered(e)>this.getLastRenderedRow()},isColumnBeforeViewport:function(e){return this.columnFilter.sourceToRendered(e)<0&&e>=0},isColumnAfterViewport:function(e){return this.columnFilter.sourceToRendered(e)>this.getLastVisibleColumn()},isLastRowFullyVisible:function(){return this.getLastVisibleRow()===this.getLastRenderedRow()},isLastColumnFullyVisible:function(){return this.getLastVisibleColumn()===this.getLastRenderedColumn()},getRenderedColumnsCount:function(){return WalkontableOverlay.isOverlayTypeOf(this.wot.cloneOverlay,WalkontableOverlay.CLONE_DEBUG)?this.wot.getSetting("totalColumns"):WalkontableOverlay.isOverlayTypeOf(this.wot.cloneOverlay,WalkontableOverlay.CLONE_LEFT)||WalkontableOverlay.isOverlayTypeOf(this.wot.cloneOverlay,WalkontableOverlay.CLONE_TOP_LEFT_CORNER)||WalkontableOverlay.isOverlayTypeOf(this.wot.cloneOverlay,WalkontableOverlay.CLONE_BOTTOM_LEFT_CORNER)?this.wot.getSetting("fixedColumnsLeft"):this.wot.wtViewport.columnsRenderCalculator.count},getRenderedRowsCount:function(){return WalkontableOverlay.isOverlayTypeOf(this.wot.cloneOverlay,WalkontableOverlay.CLONE_DEBUG)?this.wot.getSetting("totalRows"):WalkontableOverlay.isOverlayTypeOf(this.wot.cloneOverlay,WalkontableOverlay.CLONE_TOP)||WalkontableOverlay.isOverlayTypeOf(this.wot.cloneOverlay,WalkontableOverlay.CLONE_TOP_LEFT_CORNER)?this.wot.getSetting("fixedRowsTop"):WalkontableOverlay.isOverlayTypeOf(this.wot.cloneOverlay,WalkontableOverlay.CLONE_BOTTOM)||WalkontableOverlay.isOverlayTypeOf(this.wot.cloneOverlay,WalkontableOverlay.CLONE_BOTTOM_LEFT_CORNER)?this.instance.getSetting("fixedRowsBottom"):this.wot.wtViewport.rowsRenderCalculator.count},getVisibleRowsCount:function(){return this.wot.wtViewport.rowsVisibleCalculator.count},allRowsInViewport:function(){return this.wot.getSetting("totalRows")==this.getVisibleRowsCount()},getRowHeight:function(e){var t=this.wot.wtSettings.settings.rowHeight(e),n=this.wot.wtViewport.oversizedRows[e];return void 0!==n&&(t=void 0===t?n:Math.max(t,n)),t},getColumnHeaderHeight:function(e){var t=this.wot.wtSettings.settings.defaultRowHeight,n=this.wot.wtViewport.oversizedColumnHeaders[e];return void 0!==n&&(t=t?Math.max(t,n):n),t},getVisibleColumnsCount:function(){return this.wot.wtViewport.columnsVisibleCalculator.count},allColumnsInViewport:function(){return this.wot.getSetting("totalColumns")==this.getVisibleColumnsCount()},getColumnWidth:function(e){var t=this.wot.wtSettings.settings.columnWidth;return"function"==typeof t?t=t(e):"object"==typeof t&&(t=t[e]),t||this.wot.wtSettings.settings.defaultColumnWidth},getStretchedColumnWidth:function(e){var t=this.getColumnWidth(e),n=-1===[void 0,null].indexOf(t)?t:this.instance.wtSettings.settings.defaultColumnWidth,r=this.wot.wtViewport.columnsRenderCalculator;if(r){var i=r.getStretchedColumnWidth(e,n);i&&(n=i)}return n}},{}),window.WalkontableTable=C},{"cell/coords":5,"cell/range":6,"filter/column":9,"filter/row":10,"helpers/dom/element":45,tableRenderer:21}],21:[function(e,t,n){"use strict";function r(e,t){var n=document.createElement("TH");return t.insertBefore(n,e),t.removeChild(e),n}function i(e,t){var n=document.createElement("TD");return t.insertBefore(n,e),t.removeChild(e),n}Object.defineProperties(n,{WalkontableTableRenderer:{get:function(){return d}},__esModule:{value:!0}});var o,a=(o=e("helpers/dom/element"),o&&o.__esModule&&o||{"default":o}),s=a.addClass,l=a.empty,u=a.getScrollbarWidth,c=a.hasClass,h=a.innerHeight,d=function(e){this.wtTable=e,this.wot=e.instance,this.instance=e.instance,this.rowFilter=e.rowFilter,this.columnFilter=e.columnFilter,this.TABLE=e.TABLE,this.THEAD=e.THEAD,this.TBODY=e.TBODY,this.COLGROUP=e.COLGROUP,this.rowHeaders=[],this.rowHeaderCount=0,this.columnHeaders=[],this.columnHeaderCount=0,this.fixedRowsTop=0,this.fixedRowsBottom=0};$traceurRuntime.createClass(d,{render:function(){this.wtTable.isWorkingOnClone()||this.wot.getSetting("beforeDraw",!0),this.rowHeaders=this.wot.getSetting("rowHeaders"),this.rowHeaderCount=this.rowHeaders.length,this.fixedRowsTop=this.wot.getSetting("fixedRowsTop"),this.fixedRowsBottom=this.wot.getSetting("fixedRowsBottom"),this.columnHeaders=this.wot.getSetting("columnHeaders"),this.columnHeaderCount=this.columnHeaders.length;var e,t=this.wtTable.getRenderedColumnsCount(),n=this.wtTable.getRenderedRowsCount(),r=this.wot.getSetting("totalColumns"),i=this.wot.getSetting("totalRows"),o=!1;if((WalkontableOverlay.isOverlayTypeOf(this.wot.cloneOverlay,WalkontableOverlay.CLONE_BOTTOM)||WalkontableOverlay.isOverlayTypeOf(this.wot.cloneOverlay,WalkontableOverlay.CLONE_BOTTOM_LEFT_CORNER))&&(this.columnHeaders=[],this.columnHeaderCount=0),r>0&&(this.adjustAvailableNodes(),o=!0,this.renderColumnHeaders(),this.renderRows(i,n,t),this.wtTable.isWorkingOnClone()||(e=this.wot.wtViewport.getWorkspaceWidth(),this.wot.wtViewport.containerWidth=null),this.adjustColumnHeaderHeights(),this.adjustColumnWidths(t),this.markOversizedColumns()),o||this.adjustAvailableNodes(),this.removeRedundantRows(n),this.wtTable.isWorkingOnClone()){if(WalkontableOverlay.isOverlayTypeOf(this.wot.cloneOverlay,WalkontableOverlay.CLONE_BOTTOM)){var a=this.wot.cloneOverlay.instance;this.wot.cloneOverlay.markOversizedFixedBottomRows(),a.wtOverlays.adjustElementsSize()}}else{if(this.markOversizedRows(),this.wot.wtViewport.createVisibleCalculators(),this.wot.wtOverlays.refresh(!1),this.wot.wtOverlays.applyToDOM(),e!==this.wot.wtViewport.getWorkspaceWidth()){this.wot.wtViewport.containerWidth=null;for(var s=this.wtTable.getFirstRenderedColumn(),l=this.wtTable.getLastRenderedColumn(),u=s;l>u;u++){var c=this.wtTable.getStretchedColumnWidth(u),h=this.columnFilter.sourceToRendered(u);this.COLGROUP.childNodes[h+this.rowHeaderCount].style.width=c+"px"}}this.wot.getSetting("onDraw",!0)}},removeRedundantRows:function(e){for(;this.wtTable.tbodyChildrenLength>e;)this.TBODY.removeChild(this.TBODY.lastChild),this.wtTable.tbodyChildrenLength--},renderRows:function(e,t,n){for(var r,i,o=0,a=this.rowFilter.renderedToSource(o),s=this.wtTable.isWorkingOnClone();e>a&&a>=0&&(o>1e3&&console.error("Security brake: Too much TRs. Please define height for your table, which will enforce scrollbars."),void 0===t||o!==t);){if(i=this.getOrCreateTrForRow(o,i),this.renderRowHeaders(a,i),this.adjustColumns(i,n+this.rowHeaderCount),r=this.renderCells(a,i,n),(!s||WalkontableOverlay.isOverlayTypeOf(this.wot.cloneOverlay,WalkontableOverlay.CLONE_BOTTOM))&&this.resetOversizedRow(a),i.firstChild){var l=this.wot.wtTable.getRowHeight(a);l?(l--,i.firstChild.style.height=l+"px"):i.firstChild.style.height=""}o++,a=this.rowFilter.renderedToSource(o)}},resetOversizedRow:function(e){this.wot.getSetting("externalRowCalculator")||this.wot.wtViewport.oversizedRows&&this.wot.wtViewport.oversizedRows[e]&&(this.wot.wtViewport.oversizedRows[e]=void 0)},markOversizedRows:function(){if(!this.wot.getSetting("externalRowCalculator")){{var e,t,n,r,i,o=this.instance.wtTable.TBODY.childNodes.length,a=o*this.instance.wtSettings.settings.defaultRowHeight,s=h(this.instance.wtTable.TBODY)-1;this.instance.getSetting("totalRows")}if(a!==s||this.instance.getSetting("fixedRowsBottom"))for(;o;)o--,n=this.instance.wtTable.rowFilter.renderedToSource(o),e=this.instance.wtTable.getRowHeight(n),r=this.instance.wtTable.getTrForRow(n),i=r.querySelector("th"),t=i?h(i):h(r)-1,(!e&&this.instance.wtSettings.settings.defaultRowHeight<t||t>e)&&(this.instance.wtViewport.oversizedRows[n]=++t)}},markOversizedColumns:function(){var e=this.wot.getOverlayName();if(this.columnHeaderCount&&!this.wot.wtViewport.isMarkedOversizedColumn[e]&&!this.wtTable.isWorkingOnClone()){for(var t=this.wtTable.getRenderedColumnsCount(),n=0;n<this.columnHeaderCount;n++)for(var r=-1*this.rowHeaderCount;t>r;r++)this.markIfOversizedColumnHeader(r);this.wot.wtViewport.isMarkedOversizedColumn[e]=!0}},adjustColumnHeaderHeights:function(){for(var e=this.wot.getSetting("columnHeaders"),t=this.wot.wtTable.THEAD.childNodes,n=this.wot.wtViewport.oversizedColumnHeaders,r=0,i=e.length;i>r;r++)if(n[r]){if(0===t[r].childNodes.length)return;t[r].childNodes[0].style.height=n[r]+"px"}},markIfOversizedColumnHeader:function(e){for(var t,n,r,i=this.wot.wtTable.columnFilter.renderedToSource(e),o=this.columnHeaderCount,a=this.wot.wtSettings.settings.defaultRowHeight;o;)o--,t=this.wot.wtTable.getColumnHeaderHeight(o),n=this.wot.wtTable.getColumnHeader(i,o),n&&(r=h(n),(!t&&r>a||r>t)&&(this.wot.wtViewport.oversizedColumnHeaders[o]=r))},renderCells:function(e,t,n){for(var r,o,a=0;n>a;a++)o=this.columnFilter.renderedToSource(a),r=0===a?t.childNodes[this.columnFilter.sourceColumnToVisibleRowHeadedColumn(o)]:r.nextSibling,"TH"==r.nodeName&&(r=i(r,t)),c(r,"hide")||(r.className=""),r.removeAttribute("style"),this.wot.wtSettings.settings.cellRenderer(e,o,r);return r},adjustColumnWidths:function(e){var t=0,n=this.wot.cloneSource?this.wot.cloneSource:this.wot,r=n.wtTable.holder;r.offsetHeight<r.scrollHeight&&(t=u()),this.wot.wtViewport.columnsRenderCalculator.refreshStretching(this.wot.wtViewport.getViewportWidth()-t);for(var i=0;e>i;i++){var o=this.wtTable.getStretchedColumnWidth(this.columnFilter.renderedToSource(i));this.COLGROUP.childNodes[i+this.rowHeaderCount].style.width=o+"px"}},appendToTbody:function(e){this.TBODY.appendChild(e),this.wtTable.tbodyChildrenLength++},getOrCreateTrForRow:function(e,t){var n;return e>=this.wtTable.tbodyChildrenLength?(n=this.createRow(),this.appendToTbody(n)):n=0===e?this.TBODY.firstChild:t.nextSibling,n.className&&n.removeAttribute("class"),n},createRow:function(){for(var e=document.createElement("TR"),t=0;t<this.rowHeaderCount;t++)e.appendChild(document.createElement("TH"));return e},renderRowHeader:function(e,t,n){n.className="",n.removeAttribute("style"),this.rowHeaders[t](e,n,t)},renderRowHeaders:function(e,t){for(var n=t.firstChild,i=0;i<this.rowHeaderCount;i++)n?"TD"==n.nodeName&&(n=r(n,t)):(n=document.createElement("TH"),t.appendChild(n)),this.renderRowHeader(e,i,n),n=n.nextSibling},adjustAvailableNodes:function(){this.adjustColGroups(),this.adjustThead()},renderColumnHeaders:function(){this.wot.getOverlayName();if(this.columnHeaderCount)for(var e=this.wtTable.getRenderedColumnsCount(),t=0;t<this.columnHeaderCount;t++)for(var n=this.getTrForColumnHeaders(t),r=-1*this.rowHeaderCount;e>r;r++){var i=this.columnFilter.renderedToSource(r);this.renderColumnHeader(t,i,n.childNodes[r+this.rowHeaderCount])}},adjustColGroups:function(){for(var e=this.wtTable.getRenderedColumnsCount();this.wtTable.colgroupChildrenLength<e+this.rowHeaderCount;)this.COLGROUP.appendChild(document.createElement("COL")),this.wtTable.colgroupChildrenLength++;for(;this.wtTable.colgroupChildrenLength>e+this.rowHeaderCount;)this.COLGROUP.removeChild(this.COLGROUP.lastChild),this.wtTable.colgroupChildrenLength--;this.rowHeaderCount&&s(this.COLGROUP.childNodes[0],"rowHeader")},adjustThead:function(){var e=this.wtTable.getRenderedColumnsCount(),t=this.THEAD.firstChild;if(this.columnHeaders.length){for(var n=0,r=this.columnHeaders.length;r>n;n++){for(t=this.THEAD.childNodes[n],t||(t=document.createElement("TR"),this.THEAD.appendChild(t)),this.theadChildrenLength=t.childNodes.length;this.theadChildrenLength<e+this.rowHeaderCount;)t.appendChild(document.createElement("TH")),this.theadChildrenLength++;for(;this.theadChildrenLength>e+this.rowHeaderCount;)t.removeChild(t.lastChild),this.theadChildrenLength--}var i=this.THEAD.childNodes.length;if(i>this.columnHeaders.length)for(var o=this.columnHeaders.length;i>o;o++)this.THEAD.removeChild(this.THEAD.lastChild)}else t&&l(t)},getTrForColumnHeaders:function(e){return this.THEAD.childNodes[e]},renderColumnHeader:function(e,t,n){return n.className="",n.removeAttribute("style"),this.columnHeaders[e](t,n,e)},adjustColumns:function(e,t){for(var n=e.childNodes.length;t>n;){var r=document.createElement("TD");e.appendChild(r),n++}for(;n>t;)e.removeChild(e.lastChild),n--},removeRedundantColumns:function(e){for(;this.wtTable.tbodyChildrenLength>e;)this.TBODY.removeChild(this.TBODY.lastChild),this.wtTable.tbodyChildrenLength--}},{}),window.WalkontableTableRenderer=d},{"helpers/dom/element":45}],22:[function(e,t,n){"use strict";Object.defineProperties(n,{WalkontableViewport:{get:function(){return v}},__esModule:{value:!0}});var r,i,o,a,s=(r=e("helpers/dom/element"),r&&r.__esModule&&r||{"default":r}),l=s.getScrollbarWidth,u=s.getScrollTop,c=s.getStyle,h=s.offset,d=s.outerHeight,f=s.outerWidth,p=(i=e("eventManager"),i&&i.__esModule&&i||{"default":i}).EventManager,m=(o=e("calculator/viewportColumns"),o&&o.__esModule&&o||{"default":o}).WalkontableViewportColumnsCalculator,g=(a=e("calculator/viewportRows"),a&&a.__esModule&&a||{"default":a}).WalkontableViewportRowsCalculator,v=function(e){var t=this;this.wot=e,this.instance=this.wot,this.oversizedRows=[],this.oversizedColumnHeaders=[],this.isMarkedOversizedColumn={},this.clientHeight=0,this.containerWidth=0/0,this.rowHeaderWidth=0/0,this.rowsVisibleCalculator=null,this.columnsVisibleCalculator=null,this.eventManager=new p(this.wot),this.eventManager.addEventListener(window,"resize",function(){t.clientHeight=t.getWorkspaceHeight()})};$traceurRuntime.createClass(v,{getWorkspaceHeight:function(){var e,t=this.instance.wtOverlays.topOverlay.trimmingContainer,n=0;return t===window?n=document.documentElement.clientHeight:(e=d(t),n=e>0&&t.clientHeight>0?t.clientHeight:1/0),n},getWorkspaceWidth:function(){var e,t,n=this.instance.getSetting("totalColumns"),r=this.instance.wtOverlays.leftOverlay.trimmingContainer,i=this.instance.getSetting("stretchH"),o=document.documentElement.offsetWidth;return e=Handsontable.freezeOverlays?Math.min(o-this.getWorkspaceOffset().left,o):Math.min(this.getContainerFillWidth(),o-this.getWorkspaceOffset().left,o),r===window&&n>0&&this.sumColumnWidths(0,n-1)>e?document.documentElement.clientWidth:r!==window&&(t=c(this.instance.wtOverlays.leftOverlay.trimmingContainer,"overflow"),"scroll"==t||"hidden"==t||"auto"==t)?Math.max(e,r.clientWidth):"none"!==i&&i?e:Math.max(e,f(this.instance.wtTable.TABLE))},hasVerticalScroll:function(){return this.getWorkspaceActualHeight()>this.getWorkspaceHeight()},hasHorizontalScroll:function(){return this.getWorkspaceActualWidth()>this.getWorkspaceWidth()},sumColumnWidths:function(e,t){for(var n=0;t>e;)n+=this.wot.wtTable.getColumnWidth(e),e++;return n},getContainerFillWidth:function(){if(this.containerWidth)return this.containerWidth;var e,t,n=this.instance.wtTable.holder;return t=document.createElement("div"),t.style.width="100%",t.style.height="1px",n.appendChild(t),e=t.offsetWidth,this.containerWidth=e,n.removeChild(t),e},getWorkspaceOffset:function(){return h(this.wot.wtTable.TABLE)},getWorkspaceActualHeight:function(){return d(this.wot.wtTable.TABLE)},getWorkspaceActualWidth:function(){return f(this.wot.wtTable.TABLE)||f(this.wot.wtTable.TBODY)||f(this.wot.wtTable.THEAD)},getColumnHeaderHeight:function(){return isNaN(this.columnHeaderHeight)&&(this.columnHeaderHeight=d(this.wot.wtTable.THEAD)),this.columnHeaderHeight},getViewportHeight:function(){var e,t=this.getWorkspaceHeight();return 1/0===t?t:(e=this.getColumnHeaderHeight(),e>0&&(t-=e),t)},getRowHeaderWidth:function(){if(this.wot.cloneSource)return this.wot.cloneSource.wtViewport.getRowHeaderWidth();if(isNaN(this.rowHeaderWidth)){var e=this.instance.getSetting("rowHeaders");if(e.length){var t=this.instance.wtTable.TABLE.querySelector("TH");this.rowHeaderWidth=0;for(var n=0,r=e.length;r>n;n++)t?(this.rowHeaderWidth+=f(t),t=t.nextSibling):this.rowHeaderWidth+=50}else this.rowHeaderWidth=0}return this.rowHeaderWidth},getViewportWidth:function(){var e,t=this.getWorkspaceWidth();return 1/0===t?t:(e=this.getRowHeaderWidth(),e>0?t-e:t)},createRowsCalculator:function(){var e,t,n,r,i,o,a,s=void 0!==arguments[0]?arguments[0]:!1,c=this;return this.rowHeaderWidth=0/0,e=this.wot.wtSettings.settings.renderAllRows?1/0:this.getViewportHeight(),t=u(this.wot.wtOverlays.mainTableScrollableElement)-this.wot.wtOverlays.topOverlay.getTableParentOffset(),0>t&&(t=0),n=this.wot.getSetting("fixedRowsTop"),i=this.wot.getSetting("fixedRowsBottom"),a=this.wot.getSetting("totalRows"),n&&(o=this.wot.wtOverlays.topOverlay.sumCellSizes(0,n),t+=o,e-=o),i&&this.wot.wtOverlays.bottomOverlay.clone&&(o=this.wot.wtOverlays.bottomOverlay.sumCellSizes(a-i,a),e-=o),r=this.wot.wtTable.holder.clientHeight===this.wot.wtTable.holder.offsetHeight?0:l(),new g(e,t,this.wot.getSetting("totalRows"),function(e){return c.wot.wtTable.getRowHeight(e)},s?null:this.wot.wtSettings.settings.viewportRowCalculatorOverride,s,r)},createColumnsCalculator:function(){var e,t,n=void 0!==arguments[0]?arguments[0]:!1,r=this,i=this.getViewportWidth();if(this.columnHeaderHeight=0/0,e=this.wot.wtOverlays.leftOverlay.getScrollPosition()-this.wot.wtOverlays.leftOverlay.getTableParentOffset(),0>e&&(e=0),t=this.wot.getSetting("fixedColumnsLeft")){var o=this.wot.wtOverlays.leftOverlay.sumCellSizes(0,t);e+=o,i-=o}return this.wot.wtTable.holder.clientWidth!==this.wot.wtTable.holder.offsetWidth&&(i-=l()),new m(i,e,this.wot.getSetting("totalColumns"),function(e){return r.wot.wtTable.getColumnWidth(e)},n?null:this.wot.wtSettings.settings.viewportColumnCalculatorOverride,n,this.wot.getSetting("stretchH"))},createRenderCalculators:function(){var e=void 0!==arguments[0]?arguments[0]:!1;if(e){var t=this.createRowsCalculator(!0),n=this.createColumnsCalculator(!0);this.areAllProposedVisibleRowsAlreadyRendered(t)&&this.areAllProposedVisibleColumnsAlreadyRendered(n)||(e=!1)}return e||(this.rowsRenderCalculator=this.createRowsCalculator(),this.columnsRenderCalculator=this.createColumnsCalculator()),this.rowsVisibleCalculator=null,this.columnsVisibleCalculator=null,e},createVisibleCalculators:function(){this.rowsVisibleCalculator=this.createRowsCalculator(!0),this.columnsVisibleCalculator=this.createColumnsCalculator(!0)},areAllProposedVisibleRowsAlreadyRendered:function(e){return this.rowsVisibleCalculator?e.startRow<this.rowsRenderCalculator.startRow||e.startRow===this.rowsRenderCalculator.startRow&&e.startRow>0?!1:e.endRow>this.rowsRenderCalculator.endRow||e.endRow===this.rowsRenderCalculator.endRow&&e.endRow<this.wot.getSetting("totalRows")-1?!1:!0:!1},areAllProposedVisibleColumnsAlreadyRendered:function(e){return this.columnsVisibleCalculator?e.startColumn<this.columnsRenderCalculator.startColumn||e.startColumn===this.columnsRenderCalculator.startColumn&&e.startColumn>0?!1:e.endColumn>this.columnsRenderCalculator.endColumn||e.endColumn===this.columnsRenderCalculator.endColumn&&e.endColumn<this.wot.getSetting("totalColumns")-1?!1:!0:!1}},{}),window.WalkontableViewport=v},{"calculator/viewportColumns":3,"calculator/viewportRows":4,eventManager:41,"helpers/dom/element":45}],23:[function(e){"use strict";var t,n,r,i,o,a,s,l,u,c,h,d,f,p,m,g,v,y,b;window.Handsontable=function N(e,t){var n=new N.Core(e,t||{});return n.init(),n},t=e("shims/classes"),t&&t.__esModule&&t||{"default":t},n=e("es6collections"),n&&n.__esModule&&n||{"default":n};var w=(r=e("pluginHooks"),r&&r.__esModule&&r||{"default":r}).Hooks;Handsontable.hooks||(Handsontable.hooks=new w),i=e("core"),i&&i.__esModule&&i||{"default":i},o=e("renderers/_cellDecorator"),o&&o.__esModule&&o||{"default":o},a=e("cellTypes"),a&&a.__esModule&&a||{"default":a},s=e("plugins/jqueryHandsontable"),s&&s.__esModule&&s||{"default":s};var C=(l=e("helpers/array"),l&&l.__esModule&&l||{"default":l}),x=(u=e("helpers/browser"),u&&u.__esModule&&u||{"default":u}),k=(c=e("helpers/data"),c&&c.__esModule&&c||{"default":c}),S=(h=e("helpers/function"),h&&h.__esModule&&h||{"default":h}),_=(d=e("helpers/mixed"),d&&d.__esModule&&d||{"default":d}),T=(f=e("helpers/number"),f&&f.__esModule&&f||{"default":f}),E=(p=e("helpers/object"),p&&p.__esModule&&p||{"default":p}),M=(m=e("helpers/setting"),m&&m.__esModule&&m||{"default":m}),R=(g=e("helpers/string"),g&&g.__esModule&&g||{"default":g}),O=(v=e("helpers/unicode"),v&&v.__esModule&&v||{"default":v}),A=(y=e("helpers/dom/element"),y&&y.__esModule&&y||{"default":y}),L=(b=e("helpers/dom/event"),b&&b.__esModule&&b||{"default":b}),D=[C,x,k,S,_,T,E,M,R,O],P=[A,L];Handsontable.buildDate="Fri Dec 04 2015 11:56:12 GMT+0100 (CET)",Handsontable.packageName="handsontable",Handsontable.version="0.20.2";var H="@@baseVersion";/^@@/.test(H)||(Handsontable.baseVersion=H),Handsontable.plugins={},Handsontable.helper={},Handsontable.dom={},Handsontable.Dom=Handsontable.dom,C.arrayEach(D,function(e){C.arrayEach(Object.getOwnPropertyNames(e),function(t){"_"!==t.charAt(0)&&(Handsontable.helper[t]=e[t])})}),C.arrayEach(P,function(e){C.arrayEach(Object.getOwnPropertyNames(e),function(t){"_"!==t.charAt(0)&&(Handsontable.dom[t]=e[t])})})},{cellTypes:24,core:25,es6collections:"es6collections","helpers/array":42,"helpers/browser":43,"helpers/data":44,"helpers/dom/element":45,"helpers/dom/event":46,"helpers/function":47,"helpers/mixed":48,"helpers/number":49,"helpers/object":50,"helpers/setting":51,"helpers/string":52,"helpers/unicode":53,pluginHooks:56,"plugins/jqueryHandsontable":1,"renderers/_cellDecorator":89,"shims/classes":96}],24:[function(e){"use strict";{var t,n,r,i,o,a,s,l,u,c,h,d,f,p,m,g,v,y,b,w,C,x,k=(t=e("helpers/browser"),t&&t.__esModule&&t||{"default":t}).isMobileBrowser,S=(n=e("editors"),n&&n.__esModule&&n||{"default":n}).getEditorConstructor,_=(r=e("renderers"),r&&r.__esModule&&r||{"default":r}).getRenderer;(i=e("editors/autocompleteEditor"),i&&i.__esModule&&i||{"default":i}).AutocompleteEditor,(o=e("editors/checkboxEditor"),o&&o.__esModule&&o||{"default":o}).CheckboxEditor,(a=e("editors/dateEditor"),a&&a.__esModule&&a||{"default":a}).DateEditor,(s=e("editors/dropdownEditor"),s&&s.__esModule&&s||{"default":s}).DropdownEditor,(l=e("editors/handsontableEditor"),l&&l.__esModule&&l||{"default":l}).HandsontableEditor,(u=e("editors/mobileTextEditor"),u&&u.__esModule&&u||{"default":u}).MobileTextEditor,(c=e("editors/numericEditor"),c&&c.__esModule&&c||{"default":c}).NumericEditor,(h=e("editors/passwordEditor"),h&&h.__esModule&&h||{"default":h}).PasswordEditor,(d=e("editors/selectEditor"),d&&d.__esModule&&d||{"default":d}).SelectEditor,(f=e("editors/textEditor"),f&&f.__esModule&&f||{"default":f}).TextEditor,(p=e("renderers/autocompleteRenderer"),p&&p.__esModule&&p||{"default":p}).AutocompleteRenderer,(m=e("renderers/checkboxRenderer"),m&&m.__esModule&&m||{"default":m}).CheckboxRenderer,(g=e("renderers/htmlRenderer"),g&&g.__esModule&&g||{"default":g}).HtmlRenderer,(v=e("renderers/numericRenderer"),v&&v.__esModule&&v||{"default":v}).NumericRenderer,(y=e("renderers/passwordRenderer"),y&&y.__esModule&&y||{"default":y}).PasswordRenderer,(b=e("renderers/textRenderer"),b&&b.__esModule&&b||{"default":b}).TextRenderer,(w=e("validators/autocompleteValidator"),w&&w.__esModule&&w||{"default":w}).AutocompleteValidator,(C=e("validators/dateValidator"),C&&C.__esModule&&C||{"default":C}).DateValidator,(x=e("validators/numericValidator"),x&&x.__esModule&&x||{"default":x}).NumericValidator}Handsontable.mobileBrowser=k(),Handsontable.AutocompleteCell={editor:S("autocomplete"),renderer:_("autocomplete"),validator:Handsontable.AutocompleteValidator},Handsontable.CheckboxCell={editor:S("checkbox"),renderer:_("checkbox")},Handsontable.TextCell={editor:Handsontable.mobileBrowser?S("mobile"):S("text"),renderer:_("text")},Handsontable.NumericCell={editor:S("numeric"),renderer:_("numeric"),validator:Handsontable.NumericValidator,dataType:"number"},Handsontable.DateCell={editor:S("date"),validator:Handsontable.DateValidator,renderer:_("autocomplete")},Handsontable.HandsontableCell={editor:S("handsontable"),renderer:_("autocomplete")},Handsontable.PasswordCell={editor:S("password"),renderer:_("password"),copyable:!1},Handsontable.DropdownCell={editor:S("dropdown"),renderer:_("autocomplete"),validator:Handsontable.AutocompleteValidator},Handsontable.cellTypes={text:Handsontable.TextCell,date:Handsontable.DateCell,numeric:Handsontable.NumericCell,checkbox:Handsontable.CheckboxCell,autocomplete:Handsontable.AutocompleteCell,handsontable:Handsontable.HandsontableCell,password:Handsontable.PasswordCell,dropdown:Handsontable.DropdownCell},Handsontable.cellLookup={validator:{numeric:Handsontable.NumericValidator,autocomplete:Handsontable.AutocompleteValidator}}},{editors:29,"editors/autocompleteEditor":31,"editors/checkboxEditor":32,"editors/dateEditor":33,"editors/dropdownEditor":34,"editors/handsontableEditor":35,"editors/mobileTextEditor":36,"editors/numericEditor":37,"editors/passwordEditor":38,"editors/selectEditor":39,"editors/textEditor":40,"helpers/browser":43,renderers:88,"renderers/autocompleteRenderer":90,"renderers/checkboxRenderer":91,"renderers/htmlRenderer":92,"renderers/numericRenderer":93,"renderers/passwordRenderer":94,"renderers/textRenderer":95,"validators/autocompleteValidator":100,"validators/dateValidator":101,"validators/numericValidator":102}],25:[function(e){"use strict";var t,n,r,i,o,a,s,l,u,c,h,d,f,p,m,g,v,y,b,w=(t=e("numeral"),t&&t.__esModule&&t||{"default":t}).default,C=(n=e("helpers/dom/element"),n&&n.__esModule&&n||{"default":n}),x=C.addClass,k=C.empty,S=C.isChildOfWebComponentTable,_=C.removeClass,T=(r=e("helpers/setting"),r&&r.__esModule&&r||{"default":r}).columnFactory,E=(i=e("dataMap"),i&&i.__esModule&&i||{"default":i}).DataMap,M=(o=e("editorManager"),o&&o.__esModule&&o||{"default":o}).EditorManager,R=(a=e("eventManager"),a&&a.__esModule&&a||{"default":a}).eventManager,O=(s=e("helpers/object"),s&&s.__esModule&&s||{"default":s}),A=O.extend,L=O.duckSchema,D=O.isObjectEquals,P=O.deepClone,H=(l=e("helpers/array"),l&&l.__esModule&&l||{"default":l}).arrayFlatten,N=(u=e("plugins"),u&&u.__esModule&&u||{"default":u}).getPlugin,I=(c=e("renderers"),c&&c.__esModule&&c||{"default":c}).getRenderer,j=(h=e("helpers/string"),h&&h.__esModule&&h||{"default":h}).randomString,F=(d=e("helpers/number"),d&&d.__esModule&&d||{"default":d}).rangeEach,W=(f=e("tableView"),f&&f.__esModule&&f||{"default":f}).TableView,B=(p=e("dataSource"),p&&p.__esModule&&p||{"default":p}).DataSource,z=(m=e("helpers/data"),m&&m.__esModule&&m||{"default":m}),U=z.translateRowsToColumns,V=z.cellMethodLookupFactory,q=z.spreadsheetColumnLabel,$=(g=e("3rdparty/walkontable/src/cell/coords"),g&&g.__esModule&&g||{"default":g}).WalkontableCellCoords,Y=(v=e("3rdparty/walkontable/src/cell/range"),v&&v.__esModule&&v||{"default":v}).WalkontableCellRange,G=((y=e("3rdparty/walkontable/src/selection"),y&&y.__esModule&&y||{"default":y}).WalkontableSelection,(b=e("3rdparty/walkontable/src/calculator/viewportColumns"),b&&b.__esModule&&b||{"default":b}).WalkontableViewportColumnsCalculator);
Handsontable.activeGuid=null,Handsontable.Core=function(e,t){function n(){var e=!1;return{validatorsInQueue:0,valid:!0,addValidatorToQueue:function(){this.validatorsInQueue++,e=!1},removeValidatorFormQueue:function(){this.validatorsInQueue=this.validatorsInQueue-1<0?0:this.validatorsInQueue-1,this.checkIfQueueIsEmpty()},onQueueEmpty:function(){},checkIfQueueIsEmpty:function(){0==this.validatorsInQueue&&0==e&&(e=!0,this.onQueueEmpty(this.valid))}}}function r(e,t,r){function i(){var n;e.length&&(n=Handsontable.hooks.run(g,"beforeChange",e,t),"function"==typeof n?console.warn("Your beforeChange callback returns a function. It's not supported since Handsontable 0.12.1 (and the returned function will not be executed)."):n===!1&&e.splice(0,e.length)),r()}var o=new n;o.onQueueEmpty=i;for(var a=e.length-1;a>=0;a--)if(null===e[a])e.splice(a,1);else{var s=e[a][0],l=h.propToCol(e[a][1]),u=g.runHooks("modifyCol",l),c=g.getCellMeta(s,u);if("numeric"===c.type&&"string"==typeof e[a][3]&&e[a][3].length>0&&(/^-?[\d\s]*(\.|\,)?\d*$/.test(e[a][3])||c.format)){var d=e[a][3].length;"undefined"==typeof c.language?w.language("en"):e[a][3].indexOf(".")===d-3&&-1===e[a][3].indexOf(",")?w.language("en"):w.language(c.language),w.validate(e[a][3])&&(e[a][3]=w().unformat(e[a][3]))}g.getCellValidator(c)&&(o.addValidatorToQueue(),g.validateCell(e[a][3],c,function(t,n){return function(r){if("boolean"!=typeof r)throw new Error("Validation error: result is not boolean");r===!1&&n.allowInvalid===!1&&(e.splice(t,1),n.valid=!0,--t),o.removeValidatorFormQueue()}}(a,c),t))}o.checkIfQueueIsEmpty()}function i(e,t){var n=e.length-1;if(!(0>n)){for(;n>=0;n--)if(null!==e[n]){if(null!=e[n][2]||null!=e[n][3]){if(c.settings.allowInsertRow)for(;e[n][0]>g.countRows()-1;)h.createRow();if("array"===g.dataType&&c.settings.allowInsertColumn)for(;h.propToCol(e[n][1])>g.countCols()-1;)h.createCol();h.set(e[n][0],e[n][1],e[n][3])}}else e.splice(n,1);g.forceFullRender=!0,f.adjustRowsAndCols(),Handsontable.hooks.run(g,"beforeChangeRender",e,t),p.refreshBorders(null,!0),g.view.wt.wtOverlays.adjustElementsSize(),Handsontable.hooks.run(g,"afterChange",e,t||"edit")}}function o(e,t,n){return"object"==typeof e?e:[[e,t,n]]}function a(e){if(e.hasOwnProperty("type")){var t,n={};if("object"==typeof e.type)t=e.type;else if("string"==typeof e.type&&(t=Handsontable.cellTypes[e.type],void 0===t))throw new Error('You declared cell type "'+e.type+'" as a string that is not mapped to a known object. Cell type must be an object or a string mapped to an object in Handsontable.cellTypes');for(var r in t)t.hasOwnProperty(r)&&!e.hasOwnProperty(r)&&(n[r]=t[r]);return n}}function s(e){return Handsontable.hooks.run(g,"modifyRow",e)}function l(e){return Handsontable.hooks.run(g,"modifyCol",e)}function u(){throw new Error("This method cannot be called because this Handsontable instance has been destroyed")}var c,h,d,f,p,m,g=this,v=function(){},y=R(g);A(v.prototype,K.prototype),A(v.prototype,t),A(v.prototype,a(t)),this.rootElement=e,this.isHotTableEnv=S(this.rootElement),Handsontable.eventManager.isHotTableEnv=this.isHotTableEnv,this.container=document.createElement("DIV"),this.renderCall=!1,e.insertBefore(this.container,e.firstChild),this.guid="ht_"+j(),this.rootElement.id&&"ht_"!==this.rootElement.id.substring(0,3)||(this.rootElement.id=this.guid),c={cellSettings:[],columnSettings:[],columnsSettingConflicts:["data","width"],settings:new v,selRange:null,isPopulated:null,scrollable:null,firstRun:!0},f={alter:function(e,t,n,r,i){var o;switch(n=n||1,e){case"insert_row":if(g.getSettings().maxRows===g.countSourceRows())return;o=h.createRow(t,n),o&&(p.isSelected()&&c.selRange.from.row>=t?(c.selRange.from.row=c.selRange.from.row+o,p.transformEnd(o,0)):p.refreshBorders());break;case"insert_col":if(o=h.createCol(t,n)){if(Array.isArray(g.getSettings().colHeaders)){var a=[t,0];a.length+=o,Array.prototype.splice.apply(g.getSettings().colHeaders,a)}p.isSelected()&&c.selRange.from.col>=t?(c.selRange.from.col=c.selRange.from.col+o,p.transformEnd(0,o)):p.refreshBorders()}break;case"remove_row":h.removeRow(t,n),c.cellSettings.splice(t,n);var s=g.countRows(),l=g.getSettings().fixedRowsTop;l>=t+1&&(g.getSettings().fixedRowsTop-=Math.min(n,l-t));var u=g.getSettings().fixedRowsBottom;u&&t+1>=s-u&&(g.getSettings().fixedRowsBottom-=Math.min(n,u-t)),f.adjustRowsAndCols(),p.refreshBorders();break;case"remove_col":h.removeCol(t,n);for(var d=0,m=h.getAll().length;m>d;d++)d in c.cellSettings&&c.cellSettings[d].splice(t,n);var v=g.getSettings().fixedColumnsLeft;v>=t+1&&(g.getSettings().fixedColumnsLeft-=Math.min(n,v-t)),Array.isArray(g.getSettings().colHeaders)&&("undefined"==typeof t&&(t=-1),g.getSettings().colHeaders.splice(t,n)),f.adjustRowsAndCols(),p.refreshBorders();break;default:throw new Error('There is no such action "'+e+'"')}i||f.adjustRowsAndCols()},adjustRowsAndCols:function(){if(c.settings.minRows){var e=g.countRows();if(e<c.settings.minRows)for(var t=0,n=c.settings.minRows;n-e>t;t++)h.createRow(g.countRows(),1,!0)}if(c.settings.minSpareRows){var r=g.countEmptyRows(!0);if(r<c.settings.minSpareRows)for(;r<c.settings.minSpareRows&&g.countRows()<c.settings.maxRows;r++)h.createRow(g.countRows(),1,!0)}var i;if((c.settings.minCols||c.settings.minSpareCols)&&(i=g.countEmptyCols(!0)),c.settings.minCols&&!c.settings.columns&&g.countCols()<c.settings.minCols)for(;g.countCols()<c.settings.minCols;i++)h.createCol(g.countCols(),1,!0);if(c.settings.minSpareCols&&!c.settings.columns&&"array"===g.dataType&&i<c.settings.minSpareCols)for(;i<c.settings.minSpareCols&&g.countCols()<c.settings.maxCols;i++)h.createCol(g.countCols(),1,!0);var o=g.countRows(),a=g.countCols();if((0===o||0===a)&&p.deselect(),p.isSelected()){var s=!1,l=c.selRange.from.row,u=c.selRange.from.col,d=c.selRange.to.row,f=c.selRange.to.col;l>o-1?(l=o-1,s=!0,d>l&&(d=l)):d>o-1&&(d=o-1,s=!0,l>d&&(l=d)),u>a-1?(u=a-1,s=!0,f>u&&(f=u)):f>a-1&&(f=a-1,s=!0,u>f&&(u=f)),s&&g.selectCell(l,u,d,f)}g.view&&g.view.wt.wtOverlays.adjustElementsSize()},populateFromArray:function(e,t,n,r,i,o,a){var s,l,u,h,d=[],f={};if(l=t.length,0===l)return!1;{var p,m,v,y;({row:null===n?null:n.row,col:null===n?null:n.col})}switch(i){case"shift_down":for(p=n?n.col-e.col+1:0,m=n?n.row-e.row+1:0,t=U(t),u=0,h=t.length,v=Math.max(h,p);v>u;u++)if(h>u){for(s=0,l=t[u].length;m-l>s;s++)t[u].push(t[u][s%l]);t[u].unshift(e.col+u,e.row,0),g.spliceCol.apply(g,t[u])}else t[u%h][0]=e.col+u,g.spliceCol.apply(g,t[u%h]);break;case"shift_right":for(p=n?n.col-e.col+1:0,m=n?n.row-e.row+1:0,s=0,l=t.length,y=Math.max(l,m);y>s;s++)if(l>s){for(u=0,h=t[s].length;p-h>u;u++)t[s].push(t[s][u%h]);t[s].unshift(e.row+s,e.col,0),g.spliceRow.apply(g,t[s])}else t[s%l][0]=e.row+s,g.spliceRow.apply(g,t[s%l]);break;case"overwrite":default:f.row=e.row,f.col=e.col;var b,w={row:n&&e?n.row-e.row+1:1,col:n&&e?n.col-e.col+1:1},C=0,x=0,k=!0,S=function(e){var n=void 0!==arguments[1]?arguments[1]:null,r=t[e%t.length];return null!==n?r[n%r.length]:r},_=t.length,T=n?n.row-e.row+1:0;for(l=n?T:Math.max(_,T),s=0;l>s&&!(n&&f.row>n.row&&T>_||!c.settings.allowInsertRow&&f.row>g.countRows()-1||f.row>=c.settings.maxRows);s++){var E=s-C,M=S(E).length,R=n?n.col-e.col+1:0;if(h=n?R:Math.max(M,R),f.col=e.col,b=g.getCellMeta(f.row,f.col),"paste"!==r&&"autofill"!==r||!b.skipRowOnPaste){for(x=0,u=0;h>u&&!(n&&f.col>n.col&&R>M||!c.settings.allowInsertColumn&&f.col>g.countCols()-1||f.col>=c.settings.maxCols);u++)if(b=g.getCellMeta(f.row,f.col),"paste"!==r&&"autofill"!==r||!b.skipColumnOnPaste)if(b.readOnly)f.col++;else{var O=u-x,A=S(E,O),H=g.getDataAtCell(f.row,f.col),N={row:E,col:O};if("autofill"===r){var I=g.runHooks("beforeAutofillInsidePopulate",N,o,t,a,{},w);I&&(A="undefined"==typeof I.value?A:I.value)}if(null!==A&&"object"==typeof A)if(null===H||"object"!=typeof H)k=!1;else{var j=L(H[0]||H),F=L(A[0]||A);D(j,F)?A=P(A):k=!1}else null!==H&&"object"==typeof H&&(k=!1);k&&d.push([f.row,f.col,A]),k=!0,f.col++}else x++,f.col++,h++;f.row++}else C++,f.row++,l++}g.setDataAtCell(d,null,null,r||"populateFromArray")}}},this.selection=p={inProgress:!1,selectedHeader:{cols:!1,rows:!1},setSelectedHeaders:function(e,t){g.selection.selectedHeader.rows=e,g.selection.selectedHeader.cols=t},begin:function(){g.selection.inProgress=!0},finish:function(){var e=g.getSelected();Handsontable.hooks.run(g,"afterSelectionEnd",e[0],e[1],e[2],e[3]),Handsontable.hooks.run(g,"afterSelectionEndByProp",e[0],g.colToProp(e[1]),e[2],g.colToProp(e[3])),g.selection.inProgress=!1},isInProgress:function(){return g.selection.inProgress},setRangeStart:function(e,t){Handsontable.hooks.run(g,"beforeSetRangeStart",e),c.selRange=new Y(e,e,e),p.setRangeEnd(e,null,t)},setRangeEnd:function(e,t,n){if(null!==c.selRange){var r,i=!1,o=!0,a=g.view.wt.wtTable.getFirstVisibleRow(),s=g.view.wt.wtTable.getFirstVisibleColumn(),l={row:null,col:null};Handsontable.hooks.run(g,"beforeSetRangeEnd",e),g.selection.begin(),l.row=e.row<0?a:e.row,l.col=e.col<0?s:e.col,c.selRange.to=new $(l.row,l.col),c.settings.multiSelect||(c.selRange.from=e),g.view.wt.selections.current.clear(),r=g.getCellMeta(c.selRange.highlight.row,c.selRange.highlight.col).disableVisualSelection,"string"==typeof r&&(r=[r]),(r===!1||Array.isArray(r)&&-1===r.indexOf("current"))&&g.view.wt.selections.current.add(c.selRange.highlight),g.view.wt.selections.area.clear(),(r===!1||Array.isArray(r)&&-1===r.indexOf("area"))&&p.isMultiple()&&(g.view.wt.selections.area.add(c.selRange.from),g.view.wt.selections.area.add(c.selRange.to)),(c.settings.currentRowClassName||c.settings.currentColClassName)&&(g.view.wt.selections.highlight.clear(),g.view.wt.selections.highlight.add(c.selRange.from),g.view.wt.selections.highlight.add(c.selRange.to)),Handsontable.hooks.run(g,"afterSelection",c.selRange.from.row,c.selRange.from.col,c.selRange.to.row,c.selRange.to.col),Handsontable.hooks.run(g,"afterSelectionByProp",c.selRange.from.row,h.colToProp(c.selRange.from.col),c.selRange.to.row,h.colToProp(c.selRange.to.col)),(0===c.selRange.from.row&&c.selRange.to.row===g.countRows()-1&&g.countRows()>1||0===c.selRange.from.col&&c.selRange.to.col===g.countCols()-1&&g.countCols()>1)&&(i=!0),(e.row<0||e.col<0)&&(o=!1),t!==!1&&!i&&o&&(c.selRange.from&&!p.isMultiple()?g.view.scrollViewport(c.selRange.from):g.view.scrollViewport(e)),p.refreshBorders(null,n)}},refreshBorders:function(e,t){t||m.destroyEditor(e),g.view.render(),p.isSelected()&&!t&&m.prepareEditor()},isMultiple:function(){var e=!(c.selRange.to.col===c.selRange.from.col&&c.selRange.to.row===c.selRange.from.row),t=Handsontable.hooks.run(g,"afterIsMultipleSelection",e);return e?t:void 0},transformStart:function(e,t,n,r){var i,o,a,s,l=new $(e,t),u=0,h=0;g.runHooks("modifyTransformStart",l),i=g.countRows(),o=g.countCols(),s=g.getSettings().fixedRowsBottom,c.selRange.highlight.row+e>i-1?n&&c.settings.minSpareRows>0&&!(s&&c.selRange.highlight.row>=i-s-1)?(g.alter("insert_row",i),i=g.countRows()):c.settings.autoWrapCol&&(l.row=1-i,l.col=c.selRange.highlight.col+l.col==o-1?1-o:1):c.settings.autoWrapCol&&c.selRange.highlight.row+l.row<0&&c.selRange.highlight.col+l.col>=0&&(l.row=i-1,l.col=c.selRange.highlight.col+l.col==0?o-1:-1),c.selRange.highlight.col+l.col>o-1?n&&c.settings.minSpareCols>0?(g.alter("insert_col",o),o=g.countCols()):c.settings.autoWrapRow&&(l.row=c.selRange.highlight.row+l.row==i-1?1-i:1,l.col=1-o):c.settings.autoWrapRow&&c.selRange.highlight.col+l.col<0&&c.selRange.highlight.row+l.row>=0&&(l.row=c.selRange.highlight.row+l.row==0?i-1:-1,l.col=o-1),a=new $(c.selRange.highlight.row+l.row,c.selRange.highlight.col+l.col),a.row<0?(u=-1,a.row=0):a.row>0&&a.row>=i&&(u=1,a.row=i-1),a.col<0?(h=-1,a.col=0):a.col>0&&a.col>=o&&(h=1,a.col=o-1),g.runHooks("afterModifyTransformStart",a,u,h),p.setRangeStart(a,r)},transformEnd:function(e,t){var n,r,i,o=new $(e,t),a=0,s=0;g.runHooks("modifyTransformEnd",o),n=g.countRows(),r=g.countCols(),i=new $(c.selRange.to.row+o.row,c.selRange.to.col+o.col),i.row<0?(a=-1,i.row=0):i.row>0&&i.row>=n&&(a=1,i.row=n-1),i.col<0?(s=-1,i.col=0):i.col>0&&i.col>=r&&(s=1,i.col=r-1),g.runHooks("afterModifyTransformEnd",i,a,s),p.setRangeEnd(i,!0)},isSelected:function(){return null!==c.selRange},inInSelection:function(e){return p.isSelected()?c.selRange.includes(e):!1},deselect:function(){p.isSelected()&&(g.selection.inProgress=!1,c.selRange=null,g.view.wt.selections.current.clear(),g.view.wt.selections.area.clear(),(c.settings.currentRowClassName||c.settings.currentColClassName)&&g.view.wt.selections.highlight.clear(),m.destroyEditor(),p.refreshBorders(),Handsontable.hooks.run(g,"afterDeselect"))},selectAll:function(){c.settings.multiSelect&&(p.setRangeStart(new $(0,0)),p.setRangeEnd(new $(g.countRows()-1,g.countCols()-1),!1))},empty:function(){if(p.isSelected()){var e,t,n=c.selRange.getTopLeftCorner(),r=c.selRange.getBottomRightCorner(),i=[];for(e=n.row;e<=r.row;e++)for(t=n.col;t<=r.col;t++)g.getCellMeta(e,t).readOnly||i.push([e,t,""]);g.setDataAtCell(i)}}},this.init=function(){d=new B(g,c.settings.data),Handsontable.hooks.run(g,"beforeInit"),Handsontable.mobileBrowser&&x(g.rootElement,"mobile"),this.updateSettings(c.settings,!0),this.view=new W(this),m=new M(g,c,p,h),this.forceFullRender=!0,Handsontable.hooks.run(g,"init"),this.view.render(),"object"==typeof c.firstRun&&(Handsontable.hooks.run(g,"afterChange",c.firstRun[0],c.firstRun[1]),c.firstRun=!1),Handsontable.hooks.run(g,"afterInit")},this.validateCell=function(e,t,n,r){function i(e){var r=t.physicalCol,i=t.physicalRow,o=g.getCell(i,r,!0);o&&g.view.wt.wtSettings.settings.cellRenderer(i,r,o),n(e)}var o=g.getCellValidator(t);"[object RegExp]"===Object.prototype.toString.call(o)&&(o=function(e){return function(t,n){n(e.test(t))}}(o)),"function"==typeof o?(e=Handsontable.hooks.run(g,"beforeValidate",e,t.row,t.prop,r),g._registerTimeout(setTimeout(function(){o.call(t,e,function(n){n=Handsontable.hooks.run(g,"afterValidate",n,e,t.row,t.prop,r),t.valid=n,i(n),Handsontable.hooks.run(g,"postAfterValidate",n,e,t.row,t.prop,r)})},0))):(t.valid=!0,i(t.valid))},this.setDataAtCell=function(e,t,n,a){var s,l,u,c=o(e,t,n),d=[];for(s=0,l=c.length;l>s;s++){if("object"!=typeof c[s])throw new Error("Method `setDataAtCell` accepts row number or changes array of arrays as its first parameter");if("number"!=typeof c[s][1])throw new Error("Method `setDataAtCell` accepts row and column number as its parameters. If you want to use object property name, use method `setDataAtRowProp`");u=h.colToProp(c[s][1]),d.push([c[s][0],u,h.get(c[s][0],u),c[s][2]])}a||"object"!=typeof e||(a=t),r(d,a,function(){i(d,a)})},this.setDataAtRowProp=function(e,t,n,a){var s,l,u=o(e,t,n),c=[];for(s=0,l=u.length;l>s;s++)c.push([u[s][0],u[s][1],h.get(u[s][0],u[s][1]),u[s][2]]);a||"object"!=typeof e||(a=t),r(c,a,function(){i(c,a)})},this.listen=function(){Handsontable.activeGuid=g.guid},this.unlisten=function(){Handsontable.activeGuid=null},this.isListening=function(){return Handsontable.activeGuid===g.guid},this.destroyEditor=function(e){p.refreshBorders(e)},this.populateFromArray=function(e,t,n,r,i,o,a,s,l){var u;if("object"!=typeof n||"object"!=typeof n[0])throw new Error("populateFromArray parameter `input` must be an array of arrays");return u="number"==typeof r?new $(r,i):null,f.populateFromArray(new $(e,t),n,u,o,a,s,l)},this.spliceCol=function(){return h.spliceCol.apply(h,arguments)},this.spliceRow=function(){return h.spliceRow.apply(h,arguments)},this.getSelected=function(){return p.isSelected()?[c.selRange.from.row,c.selRange.from.col,c.selRange.to.row,c.selRange.to.col]:void 0},this.getSelectedRange=function(){return p.isSelected()?c.selRange:void 0},this.render=function(){g.view&&(g.renderCall=!0,g.forceFullRender=!0,p.refreshBorders(null,!0))},this.loadData=function(e){function t(){c.cellSettings.length=0}if("object"==typeof e&&null!==e)e.push&&e.splice||(e=[e]);else{if(null!==e)throw new Error("loadData only accepts array of objects or array of arrays ("+typeof e+" given)");e=[];for(var n,r=0,i=c.settings.startRows;i>r;r++){n=[];for(var o=0,a=c.settings.startCols;a>o;o++)n.push(null);e.push(n)}}c.isPopulated=!1,v.prototype.data=e,g.dataType=Array.isArray(c.settings.dataSchema)||Array.isArray(e[0])?"array":"function"==typeof c.settings.dataSchema?"function":"object",h=new E(g,c,v),d.data=e,d.dataType=g.dataType,d.colToProp=h.colToProp.bind(h),d.propToCol=h.propToCol.bind(h),t(),f.adjustRowsAndCols(),Handsontable.hooks.run(g,"afterLoadData",c.firstRun),c.firstRun?c.firstRun=[null,"loadData"]:(Handsontable.hooks.run(g,"afterChange",null,"loadData"),g.render()),c.isPopulated=!0},this.getData=function(e,t,n,r){return"undefined"==typeof e?h.getAll():h.getRange(new $(e,t),new $(n,r),h.DESTINATION_RENDERER)},this.getCopyableText=function(e,t,n,r){return h.getCopyableText(new $(e,t),new $(n,r))},this.getCopyableData=function(e,t){return h.getCopyable(e,h.colToProp(t))},this.getSchema=function(){return h.getSchema()},this.updateSettings=function(e,t){var n,r;if("undefined"!=typeof e.rows)throw new Error('"rows" setting is no longer supported. do you mean startRows, minRows or maxRows?');if("undefined"!=typeof e.cols)throw new Error('"cols" setting is no longer supported. do you mean startCols, minCols or maxCols?');for(n in e)"data"!==n&&(Handsontable.hooks.getRegistered().indexOf(n)>-1?("function"==typeof e[n]||Array.isArray(e[n]))&&g.addHook(n,e[n]):!t&&e.hasOwnProperty(n)&&(v.prototype[n]=e[n]));if(void 0===e.data&&void 0===c.settings.data?g.loadData(null):void 0!==e.data?g.loadData(e.data):void 0!==e.columns&&h.createMap(),r=g.countCols(),c.cellSettings.length=0,r>0){var i,o;for(n=0;r>n;n++)c.columnSettings[n]=T(v,c.columnsSettingConflicts),i=c.columnSettings[n].prototype,v.prototype.columns&&(o=v.prototype.columns[n],A(i,o),A(i,a(o)))}if("undefined"!=typeof e.cell)for(n in e.cell)if(e.cell.hasOwnProperty(n)){var s=e.cell[n];g.setCellMetaObject(s.row,s.col,s)}if(Handsontable.hooks.run(g,"afterCellMetaReset"),"undefined"!=typeof e.className&&(v.prototype.className&&_(g.rootElement,v.prototype.className),e.className&&x(g.rootElement,e.className)),"undefined"!=typeof e.height){var l=e.height;"function"==typeof l&&(l=l()),g.rootElement.style.height=l+"px"}if("undefined"!=typeof e.width){var u=e.width;"function"==typeof u&&(u=u()),g.rootElement.style.width=u+"px"}l&&(g.rootElement.style.overflow="hidden"),t||Handsontable.hooks.run(g,"afterUpdateSettings"),f.adjustRowsAndCols(),g.view&&!c.firstRun&&(g.forceFullRender=!0,p.refreshBorders(null,!0))},this.getValue=function(){var e=g.getSelected();if(v.prototype.getValue){if("function"==typeof v.prototype.getValue)return v.prototype.getValue.call(g);if(e)return g.getData()[e[0]][v.prototype.getValue]}else if(e)return g.getDataAtCell(e[0],e[1])},this.getSettings=function(){return c.settings},this.clear=function(){p.selectAll(),p.empty()},this.alter=function(e,t,n,r,i){f.alter(e,t,n,r,i)},this.getCell=function(e,t,n){return g.view.getCellAtCoords(new $(e,t),n)},this.getCoords=function(e){return this.view.wt.wtTable.getCoords.call(this.view.wt.wtTable,e)},this.colToProp=function(e){return h.colToProp(e)},this.propToCol=function(e){return h.propToCol(e)},this.getDataAtCell=function(e,t){return h.get(e,h.colToProp(t))},this.getDataAtRowProp=function(e,t){return h.get(e,t)},this.getDataAtCol=function(e){var t=[];return t.concat.apply(t,h.getRange(new $(0,e),new $(c.settings.data.length-1,e),h.DESTINATION_RENDERER))},this.getDataAtProp=function(e){var t,n=[];return t=h.getRange(new $(0,h.propToCol(e)),new $(c.settings.data.length-1,h.propToCol(e)),h.DESTINATION_RENDERER),n.concat.apply(n,t)},this.getSourceData=function(e,t,n,r){var i;return i=void 0===e?d.getData():d.getByRange(new $(e,t),new $(n,r))},this.getSourceDataAtCol=function(e){return d.getAtColumn(e)},this.getSourceDataAtRow=function(e){return d.getAtRow(e)},this.getSourceDataAtCell=function(e,t){return d.getAtCell(e,t)},this.getDataAtRow=function(e){var t=h.getRange(new $(e,0),new $(e,this.countCols()-1),h.DESTINATION_RENDERER);return t[0]},this.getDataType=function(e,t,n,r){var i=this,o=null,a=null;void 0===e&&(e=0,n=this.countRows(),t=0,r=this.countCols()),void 0===n&&(n=e),void 0===r&&(r=t);var s="mixed";return F(Math.min(e,n),Math.max(e,n),function(e){var n=!0;return F(Math.min(t,r),Math.max(t,r),function(t){var r=i.getCellMeta(e,t);return a=r.type,o?n=o===a:o=a,n}),s=n?a:"mixed",n}),s},this.removeCellMeta=function(e,t,n){var r=g.getCellMeta(e,t);void 0!=r[n]&&delete c.cellSettings[e][t][n]},this.setCellMetaObject=function(e,t,n){if("object"==typeof n)for(var r in n)if(n.hasOwnProperty(r)){var i=n[r];this.setCellMeta(e,t,r,i)}},this.setCellMeta=function(e,t,n,r){c.cellSettings[e]||(c.cellSettings[e]=[]),c.cellSettings[e][t]||(c.cellSettings[e][t]=new c.columnSettings[t]),c.cellSettings[e][t][n]=r,Handsontable.hooks.run(g,"afterSetCellMeta",e,t,n,r)},this.getCellsMeta=function(){return H(c.cellSettings)},this.getCellMeta=function(e,t){var n,r=h.colToProp(t),i=e,o=t;if(e=s(e),t=l(t),c.columnSettings[t]||(c.columnSettings[t]=T(v,c.columnsSettingConflicts)),c.cellSettings[e]||(c.cellSettings[e]=[]),c.cellSettings[e][t]||(c.cellSettings[e][t]=new c.columnSettings[t]),n=c.cellSettings[e][t],n.row=e,n.col=t,n.physicalRow=i,n.physicalCol=o,n.prop=r,n.instance=g,Handsontable.hooks.run(g,"beforeGetCellMeta",e,t,n),A(n,a(n)),n.cells){var u=n.cells.call(n,e,t,r);u&&(A(n,u),A(n,a(u)))}return Handsontable.hooks.run(g,"afterGetCellMeta",e,t,n),n},this.isColumnModificationAllowed=function(){return!("object"===g.dataType||g.getSettings().columns)};var b=V("renderer");this.getCellRenderer=function(e,t){var n=b.call(this,e,t);return I(n)},this.getCellEditor=V("editor"),this.getCellValidator=V("validator"),this.validateCells=function(e){var t=new n;t.onQueueEmpty=e;for(var r=g.countRows()-1;r>=0;){for(var i=g.countCols()-1;i>=0;)t.addValidatorToQueue(),g.validateCell(g.getDataAtCell(r,i),g.getCellMeta(r,i),function(e){if("boolean"!=typeof e)throw new Error("Validation error: result is not boolean");e===!1&&(t.valid=!1),t.removeValidatorFormQueue()},"validateCells"),i--;r--}t.checkIfQueueIsEmpty()},this.getRowHeader=function(e){var t=c.settings.rowHeaders;return void 0!==e&&(e=Handsontable.hooks.run(g,"modifyRowHeader",e)),void 0===e?(t=[],F(g.countRows()-1,function(e){t.push(g.getRowHeader(e))})):Array.isArray(t)&&void 0!==t[e]?t=t[e]:"function"==typeof t?t=t(e):t&&"string"!=typeof t&&"number"!=typeof t&&(t=e+1),t},this.hasRowHeaders=function(){return!!c.settings.rowHeaders},this.hasColHeaders=function(){if(void 0!==c.settings.colHeaders&&null!==c.settings.colHeaders)return!!c.settings.colHeaders;for(var e=0,t=g.countCols();t>e;e++)if(g.getColHeader(e))return!0;return!1},this.getColHeader=function(e){if(e=Handsontable.hooks.run(g,"modifyColHeader",e),void 0===e){for(var t=[],n=0,r=g.countCols();r>n;n++)t.push(g.getColHeader(n));return t}var i=e;return e=Handsontable.hooks.run(g,"modifyCol",e),c.settings.columns&&c.settings.columns[e]&&c.settings.columns[e].title?c.settings.columns[e].title:Array.isArray(c.settings.colHeaders)&&void 0!==c.settings.colHeaders[e]?c.settings.colHeaders[e]:"function"==typeof c.settings.colHeaders?c.settings.colHeaders(e):c.settings.colHeaders&&"string"!=typeof c.settings.colHeaders&&"number"!=typeof c.settings.colHeaders?q(i):c.settings.colHeaders},this._getColWidthFromSettings=function(e){var t=g.getCellMeta(0,e),n=t.width;if((void 0===n||n===c.settings.width)&&(n=t.colWidths),void 0!==n&&null!==n){switch(typeof n){case"object":n=n[e];break;case"function":n=n(e)}"string"==typeof n&&(n=parseInt(n,10))}return n},this.getColWidth=function(e){var t=g._getColWidthFromSettings(e);return t=Handsontable.hooks.run(g,"modifyColWidth",t,e),void 0===t&&(t=G.DEFAULT_WIDTH),t},this._getRowHeightFromSettings=function(e){var t=c.settings.rowHeights;if(void 0!==t&&null!==t){switch(typeof t){case"object":t=t[e];break;case"function":t=t(e)}"string"==typeof t&&(t=parseInt(t,10))}return t},this.getRowHeight=function(e){var t=g._getRowHeightFromSettings(e);return t=Handsontable.hooks.run(g,"modifyRowHeight",t,e)},this.countSourceRows=function(){return g.getSourceData()?g.getSourceData().length:0},this.countRows=function(){return h.getLength()},this.countCols=function(){return"object"===g.dataType||"function"===g.dataType?c.settings.columns&&c.settings.columns.length?c.settings.columns.length:h.colToPropCache.length:"array"===g.dataType?c.settings.columns&&c.settings.columns.length?c.settings.columns.length:c.settings.data&&c.settings.data[0]&&c.settings.data[0].length?c.settings.data[0].length:0:void 0},this.getColspanOffset=function(e,t){var n=0;if(g.colspanArray){for(var r=0;e>r;r++)n+=g.colspanArray[t][r]-1||0;return n}for(var n=0,i=g.view.wt.wtTable.THEAD.childNodes.length-t-1,o=g.view.wt.wtTable.THEAD.querySelector("tr:nth-child("+parseInt(i+1,10)+")"),a=g.view.wt.wtSettings.settings.rowHeaders().length,r=a;a+e>r;r++)o.childNodes[r].hasAttribute("colspan")&&(n+=parseInt(o.childNodes[r].getAttribute("colspan"),10)-1);return n},this.getHeaderColspan=function(e,t){var n=g.view.wt.wtTable.THEAD.childNodes.length-t-1,r=g.view.wt.wtSettings.settings.rowHeaders().length,i=g.view.wt.wtTable.THEAD.querySelector("tr:nth-child("+parseInt(n+1,10)+")"),o=r+e-g.view.wt.wtViewport.columnsRenderCalculator.startColumn;return i.childNodes[o].hasAttribute("colspan")?parseInt(i.childNodes[o].getAttribute("colspan"),10):0},this.rowOffset=function(){return g.view.wt.wtTable.getFirstRenderedRow()},this.colOffset=function(){return g.view.wt.wtTable.getFirstRenderedColumn()},this.countRenderedRows=function(){return g.view.wt.drawn?g.view.wt.wtTable.getRenderedRowsCount():-1},this.countVisibleRows=function(){return g.view.wt.drawn?g.view.wt.wtTable.getVisibleRowsCount():-1},this.countRenderedCols=function(){return g.view.wt.drawn?g.view.wt.wtTable.getRenderedColumnsCount():-1},this.countVisibleCols=function(){return g.view.wt.drawn?g.view.wt.wtTable.getVisibleColumnsCount():-1},this.countEmptyRows=function(e){for(var t,n=g.countRows()-1,r=0;n>=0;){if(t=Handsontable.hooks.run(this,"modifyRow",n),g.isEmptyRow(t))r++;else if(e)break;n--}return r},this.countEmptyCols=function(e){if(g.countRows()<1)return 0;for(var t=g.countCols()-1,n=0;t>=0;){if(g.isEmptyCol(t))n++;else if(e)break;t--}return n},this.isEmptyRow=function(e){return c.settings.isEmptyRow.call(g,e)},this.isEmptyCol=function(e){return c.settings.isEmptyCol.call(g,e)},this.selectCell=function(e,t,n,r,i,o){var a;if(o="undefined"==typeof o||o===!0,"number"!=typeof e||0>e||e>=g.countRows())return!1;if("number"!=typeof t||0>t||t>=g.countCols())return!1;if("undefined"!=typeof n){if("number"!=typeof n||0>n||n>=g.countRows())return!1;if("number"!=typeof r||0>r||r>=g.countCols())return!1}return a=new $(e,t),c.selRange=new Y(a,a,a),o&&g.listen(),"undefined"==typeof n?p.setRangeEnd(c.selRange.from,i):p.setRangeEnd(new $(n,r),i),g.selection.finish(),!0},this.selectCellByProp=function(){return arguments[1]=h.propToCol(arguments[1]),"undefined"!=typeof arguments[3]&&(arguments[3]=h.propToCol(arguments[3])),g.selectCell.apply(g,arguments)},this.deselectCell=function(){p.deselect()},this.destroy=function(){g._clearTimeouts(),g.view&&g.view.destroy(),d&&d.destroy(),d=null,k(g.rootElement),y.destroy(),Handsontable.hooks.run(g,"afterDestroy"),Handsontable.hooks.destroy(g);for(var e in g)g.hasOwnProperty(e)&&("function"==typeof g[e]?g[e]=u:"guid"!==e&&(g[e]=null));c=null,h=null,f=null,p=null,m=null,g=null,v=null},this.getActiveEditor=function(){return m.getActiveEditor()},this.getPlugin=function(e){return N(this,e)},this.getInstance=function(){return g},this.addHook=function(e,t){Handsontable.hooks.add(e,t,g)},this.hasHook=function(e){return Handsontable.hooks.has(e,g)},this.addHookOnce=function(e,t){Handsontable.hooks.once(e,t,g)},this.removeHook=function(e,t){Handsontable.hooks.remove(e,t,g)},this.runHooks=function(e,t,n,r,i,o,a){return Handsontable.hooks.run(g,e,t,n,r,i,o,a)},this.timeouts=[],this._registerTimeout=function(e){this.timeouts.push(e)},this._clearTimeouts=function(){for(var e=0,t=this.timeouts.length;t>e;e++)clearTimeout(this.timeouts[e])},this.version=Handsontable.version,Handsontable.hooks.run(g,"construct")};var K=function(){};K.prototype={data:void 0,dataSchema:void 0,width:void 0,height:void 0,startRows:5,startCols:5,rowHeaders:null,colHeaders:null,colWidths:void 0,rowHeights:void 0,columns:void 0,cells:void 0,cell:[],comments:!1,customBorders:!1,minRows:0,minCols:0,maxRows:1/0,maxCols:1/0,minSpareRows:0,minSpareCols:0,allowInsertRow:!0,allowInsertColumn:!0,allowRemoveRow:!0,allowRemoveColumn:!0,multiSelect:!0,fillHandle:!0,fixedRowsTop:0,fixedRowsBottom:0,fixedColumnsLeft:0,outsideClickDeselects:!0,enterBeginsEditing:!0,enterMoves:{row:1,col:0},tabMoves:{row:0,col:1},autoWrapRow:!1,autoWrapCol:!1,copyRowsLimit:1e3,copyColsLimit:1e3,pasteMode:"overwrite",persistentState:!1,currentRowClassName:void 0,currentColClassName:void 0,className:void 0,tableClassName:void 0,stretchH:"none",isEmptyRow:function(e){var t,n,r,i;for(t=0,n=this.countCols();n>t;t++)if(r=this.getDataAtCell(e,t),""!==r&&null!==r&&"undefined"!=typeof r)return"object"==typeof r?(i=this.getCellMeta(e,t),D(this.getSchema()[i.prop],r)):!1;return!0},isEmptyCol:function(e){var t,n,r;for(t=0,n=this.countRows();n>t;t++)if(r=this.getDataAtCell(t,e),""!==r&&null!==r&&"undefined"!=typeof r)return!1;return!0},observeDOMVisibility:!0,allowInvalid:!0,invalidCellClassName:"htInvalid",placeholder:!1,placeholderCellClassName:"htPlaceholder",readOnlyCellClassName:"htDimmed",renderer:void 0,commentedCellClassName:"htCommentCell",fragmentSelection:!1,readOnly:!1,skipColumnOnPaste:!1,search:!1,type:"text",copyable:!0,editor:void 0,autoComplete:void 0,visibleRows:10,trimDropdown:!0,debug:!1,wordWrap:!0,noWordWrapClassName:"htNoWrap",contextMenu:void 0,contextMenuCopyPaste:void 0,copyPaste:void 0,undo:void 0,columnSorting:void 0,manualColumnMove:void 0,manualColumnResize:void 0,manualRowMove:void 0,manualRowResize:void 0,mergeCells:!1,viewportRowRenderingOffset:"auto",viewportColumnRenderingOffset:"auto",validator:void 0,disableVisualSelection:!1,sortIndicator:!1,manualColumnFreeze:void 0,trimWhitespace:!0,settings:void 0,source:void 0,title:void 0,checkedTemplate:void 0,uncheckedTemplate:void 0,label:void 0,format:void 0,language:void 0,selectOptions:void 0,autoColumnSize:void 0,autoRowSize:void 0,dateFormat:void 0,correctFormat:!1,defaultDate:void 0,strict:void 0,renderAllRows:void 0},Handsontable.DefaultSettings=K},{"3rdparty/walkontable/src/calculator/viewportColumns":3,"3rdparty/walkontable/src/cell/coords":5,"3rdparty/walkontable/src/cell/range":6,"3rdparty/walkontable/src/selection":18,dataMap:26,dataSource:27,editorManager:28,eventManager:41,"helpers/array":42,"helpers/data":44,"helpers/dom/element":45,"helpers/number":49,"helpers/object":50,"helpers/setting":51,"helpers/string":52,numeral:"numeral",plugins:57,renderers:88,tableView:97}],26:[function(e,t,n){"use strict";function r(e,t,n){this.instance=e,this.priv=t,this.GridSettings=n,this.dataSource=this.instance.getSettings().data,this.duckSchema=this.dataSource[0]?this.recursiveDuckSchema(this.dataSource[0]):{},this.createMap()}Object.defineProperties(n,{DataMap:{get:function(){return r}},__esModule:{value:!0}});var i,o,a,s,l,u,c,h=(i=e("SheetClip"),i&&i.__esModule&&i||{"default":i}).default,d=(o=e("helpers/data"),o&&o.__esModule&&o||{"default":o}).cellMethodLookupFactory,f=(a=e("helpers/setting"),a&&a.__esModule&&a||{"default":a}).columnFactory,p=(s=e("helpers/object"),s&&s.__esModule&&s||{"default":s}),m=p.duckSchema,g=p.deepExtend,v=(l=e("helpers/array"),l&&l.__esModule&&l||{"default":l}),y=v.extendArray,b=v.to2dArray,w=(u=e("helpers/number"),u&&u.__esModule&&u||{"default":u}).rangeEach,C=(c=e("multiMap"),c&&c.__esModule&&c||{"default":c}).MultiMap;r.prototype.DESTINATION_RENDERER=1,r.prototype.DESTINATION_CLIPBOARD_GENERATOR=2,r.prototype.recursiveDuckSchema=function(e){return m(e)},r.prototype.recursiveDuckColumns=function(e,t,n){var r,i;if("undefined"==typeof t&&(t=0,n=""),"object"==typeof e&&!Array.isArray(e))for(i in e)e.hasOwnProperty(i)&&(null===e[i]?(r=n+i,this.colToPropCache.push(r),this.propToColCache.set(r,t),t++):t=this.recursiveDuckColumns(e[i],t,i+"."));
return t},r.prototype.createMap=function(){var e,t,n=this.getSchema();if("undefined"==typeof n)throw new Error("trying to create `columns` definition but you didnt' provide `schema` nor `data`");this.colToPropCache=[],this.propToColCache=new C;var r=this.instance.getSettings().columns;if(r)for(e=0,t=r.length;t>e;e++)"undefined"!=typeof r[e].data&&(this.colToPropCache[e]=r[e].data,this.propToColCache.set(r[e].data,e));else this.recursiveDuckColumns(n)},r.prototype.colToProp=function(e){return e=Handsontable.hooks.run(this.instance,"modifyCol",e),this.colToPropCache&&"undefined"!=typeof this.colToPropCache[e]?this.colToPropCache[e]:e},r.prototype.propToCol=function(e){var t;return t="undefined"==typeof this.propToColCache.get(e)?e:this.propToColCache.get(e),t=Handsontable.hooks.run(this.instance,"modifyCol",t)},r.prototype.getSchema=function(){var e=this.instance.getSettings().dataSchema;return e?"function"==typeof e?e():e:this.duckSchema},r.prototype.createRow=function(e,t,n){var r,i,o=this.instance.countCols(),a=0;t||(t=1),("number"!=typeof e||e>=this.instance.countSourceRows())&&(e=this.instance.countSourceRows()),i=e;for(var s=this.instance.getSettings().maxRows;t>a&&this.instance.countSourceRows()<s;){if("array"===this.instance.dataType){r=[];for(var l=0;o>l;l++)r.push(null)}else"function"===this.instance.dataType?r=this.instance.getSettings().dataSchema(e):(r={},g(r,this.getSchema()));e===this.instance.countSourceRows()?this.dataSource.push(r):this.dataSource.splice(e,0,r),a++,i++}return Handsontable.hooks.run(this.instance,"afterCreateRow",e,a,n),this.instance.forceFullRender=!0,a},r.prototype.createCol=function(e,t,n){if(!this.instance.isColumnModificationAllowed())throw new Error("Cannot create new column. When data source in an object, you can only have as much columns as defined in first data row, data schema or in the 'columns' setting.If you want to be able to add new columns, you have to use array datasource.");var r,i,o=this.instance.countSourceRows(),a=this.dataSource,s=0;t||(t=1),i=e;for(var l=this.instance.getSettings().maxCols;t>s&&this.instance.countCols()<l;){if(r=f(this.GridSettings,this.priv.columnsSettingConflicts),"number"!=typeof e||e>=this.instance.countCols()){for(var u=0;o>u;u++)"undefined"==typeof a[u]&&(a[u]=[]),a[u].push(null);this.priv.columnSettings.push(r)}else{for(var u=0;o>u;u++)a[u].splice(i,0,null);this.priv.columnSettings.splice(i,0,r)}s++,i++}return Handsontable.hooks.run(this.instance,"afterCreateCol",e,s,n),this.instance.forceFullRender=!0,s},r.prototype.removeRow=function(e,t){t||(t=1),"number"!=typeof e&&(e=-t),e=(this.instance.countSourceRows()+e)%this.instance.countSourceRows();var n=this.physicalRowsToLogical(e,t),r=Handsontable.hooks.run(this.instance,"beforeRemoveRow",e,t,n);if(r!==!1){var i=this.dataSource,o=i.filter(function(e,t){return-1==n.indexOf(t)});i.length=0,Array.prototype.push.apply(i,o),Handsontable.hooks.run(this.instance,"afterRemoveRow",e,t,n),this.instance.forceFullRender=!0}},r.prototype.removeCol=function(e,t){if("object"===this.instance.dataType||this.instance.getSettings().columns)throw new Error("cannot remove column with object data source or columns option specified");t||(t=1),"number"!=typeof e&&(e=-t),e=(this.instance.countCols()+e)%this.instance.countCols();var n=Handsontable.hooks.run(this.instance,"beforeRemoveCol",e,t);if(n!==!1){for(var r=this.dataSource,i=0,o=this.instance.countSourceRows();o>i;i++)r[i].splice(e,t);this.priv.columnSettings.splice(e,t),Handsontable.hooks.run(this.instance,"afterRemoveCol",e,t),this.instance.forceFullRender=!0}},r.prototype.spliceCol=function(e,t,n){var r=4<=arguments.length?[].slice.call(arguments,3):[],i=this.instance.getDataAtCol(e),o=i.slice(t,t+n),a=i.slice(t+n);y(r,a);for(var s=0;n>s;)r.push(null),s++;return b(r),this.instance.populateFromArray(t,e,r,null,null,"spliceCol"),o},r.prototype.spliceRow=function(e,t,n){var r=4<=arguments.length?[].slice.call(arguments,3):[],i=this.instance.getSourceDataAtRow(e),o=i.slice(t,t+n),a=i.slice(t+n);y(r,a);for(var s=0;n>s;)r.push(null),s++;return this.instance.populateFromArray(e,t,[r],null,null,"spliceRow"),o},r.prototype.get=function(e,t){if(e=Handsontable.hooks.run(this.instance,"modifyRow",e),"string"==typeof t&&t.indexOf(".")>-1){var n=t.split("."),r=this.dataSource[e];if(!r)return null;for(var i=0,o=n.length;o>i;i++)if(r=r[n[i]],"undefined"==typeof r)return null;return r}return"function"==typeof t?t(this.dataSource.slice(e,e+1)[0]):this.dataSource[e]&&this.dataSource[e].hasOwnProperty&&this.dataSource[e].hasOwnProperty(t)?this.dataSource[e][t]:null};var x=d("copyable",!1);r.prototype.getCopyable=function(e,t){return x.call(this.instance,e,this.propToCol(t))?this.get(e,t):""},r.prototype.set=function(e,t,n,r){if(e=Handsontable.hooks.run(this.instance,"modifyRow",e,r||"datamapGet"),"string"==typeof t&&t.indexOf(".")>-1){for(var i=t.split("."),o=this.dataSource[e],a=0,s=i.length-1;s>a;a++)"undefined"==typeof o[i[a]]&&(o[i[a]]={}),o=o[i[a]];o[i[a]]=n}else"function"==typeof t?t(this.dataSource.slice(e,e+1)[0],n):this.dataSource[e][t]=n},r.prototype.physicalRowsToLogical=function(e,t){for(var n,r=this.instance.countSourceRows(),i=(r+e)%r,o=[],a=t;r>i&&a;)n=Handsontable.hooks.run(this.instance,"modifyRow",i),o.push(n),a--,i++;return o},r.prototype.clear=function(){for(var e=0;e<this.instance.countSourceRows();e++)for(var t=0;t<this.instance.countCols();t++)this.set(e,this.colToProp(t),"")},r.prototype.getLength=function(){var e=this,t=this.instance.countSourceRows();return Handsontable.hooks.has("modifyRow",this.instance)&&w(this.instance.countSourceRows()-1,function(n){n=Handsontable.hooks.run(e.instance,"modifyRow",n),null===n&&t--}),t},r.prototype.getAll=function(){var e={row:0,col:0},t={row:Math.max(this.instance.countSourceRows()-1,0),col:Math.max(this.instance.countCols()-1,0)};return e.row-t.row!==0||this.instance.countSourceRows()?this.getRange(e,t,r.prototype.DESTINATION_RENDERER):[]},r.prototype.getRange=function(e,t,n){var r,i,o,a,s,l=[],u=n===this.DESTINATION_CLIPBOARD_GENERATOR?this.getCopyable:this.get;for(i=Math.max(e.row,t.row),a=Math.max(e.col,t.col),r=Math.min(e.row,t.row);i>=r;r++){s=[];var c=Handsontable.hooks.run(this.instance,"modifyRow",r);for(o=Math.min(e.col,t.col);a>=o;o++){if(null===c)break;s.push(u.call(this,r,this.colToProp(o)))}null!==c&&l.push(s)}return l},r.prototype.getText=function(e,t){return h.stringify(this.getRange(e,t,this.DESTINATION_RENDERER))},r.prototype.getCopyableText=function(e,t){return h.stringify(this.getRange(e,t,this.DESTINATION_CLIPBOARD_GENERATOR))},Handsontable.DataMap=r},{SheetClip:"SheetClip","helpers/array":42,"helpers/data":44,"helpers/number":49,"helpers/object":50,"helpers/setting":51,multiMap:55}],27:[function(e,t,n){"use strict";Object.defineProperties(n,{DataSource:{get:function(){return f}},__esModule:{value:!0}});var r,i,o,a,s,l=((r=e("helpers/data"),r&&r.__esModule&&r||{"default":r}).cellMethodLookupFactory,(i=e("helpers/setting"),i&&i.__esModule&&i||{"default":i}).columnFactory,o=e("helpers/object"),o&&o.__esModule&&o||{"default":o}),u=(l.duckSchema,l.deepExtend,l.getProperty),c=(a=e("helpers/array"),a&&a.__esModule&&a||{"default":a}),h=(c.extendArray,c.arrayEach),d=(s=e("helpers/number"),s&&s.__esModule&&s||{"default":s}).rangeEach,f=function(e,t){this.hot=e,this.data=t,this.dataType="array",this.colToProp=function(){},this.propToCol=function(){}};$traceurRuntime.createClass(f,{getData:function(){return this.data},getAtColumn:function(e){var t=this,n=[];return h(this.data,function(r){var i=t.colToProp(e);r="string"==typeof i?u(r,i):r[i],n.push(r)}),n},getAtRow:function(e){return this.data[e]},getAtCell:function(e,t){return this.data[e][this.colToProp(t)]},getByRange:function(e,t){var n=this,r=Math.min(e.row,t.row),i=Math.min(e.col,t.col),o=Math.max(e.row,t.row),a=Math.max(e.col,t.col),s=[];return d(r,o,function(e){var t,r=n.getAtRow(e);"array"===n.dataType?t=r.slice(i,a):"object"===n.dataType&&(t={},d(i,a,function(e){var i=n.colToProp(e);t[i]=r[i]})),s.push(t)}),s},destroy:function(){this.data=null,this.hot=null}},{})},{"helpers/array":42,"helpers/data":44,"helpers/number":49,"helpers/object":50,"helpers/setting":51}],28:[function(e,t,n){"use strict";function r(e,t,n){function r(e){var r="function"==typeof t.settings.enterMoves?t.settings.enterMoves(event):t.settings.enterMoves;e?n.transformStart(-r.row,-r.col):n.transformStart(r.row,r.col,!0)}function i(e){e?n.transformEnd(-1,0):n.transformStart(-1,0)}function o(e){e?n.transformEnd(1,0):n.transformStart(1,0)}function a(e){e?n.transformEnd(0,1):n.transformStart(0,1)}function s(e){e?n.transformEnd(0,-1):n.transformStart(0,-1)}function l(l){var c,p;if(e.isListening()&&(Handsontable.hooks.run(e,"beforeKeyDown",l),!C&&!v(l)&&(t.lastKeyCode=l.keyCode,n.isSelected()))){if(c=(l.ctrlKey||l.metaKey)&&!l.altKey,b&&!b.isWaiting()&&!(d(l.keyCode)||f(l.keyCode)||c||w.isEditorOpened()))return w.openEditor("",l),void 0;switch(p=l.shiftKey?n.setRangeEnd:n.setRangeStart,l.keyCode){case h.A:!w.isEditorOpened()&&c&&(n.selectAll(),l.preventDefault(),m(l));break;case h.ARROW_UP:w.isEditorOpened()&&!b.isWaiting()&&w.closeEditorAndSaveChanges(c),i(l.shiftKey),l.preventDefault(),m(l);break;case h.ARROW_DOWN:w.isEditorOpened()&&!b.isWaiting()&&w.closeEditorAndSaveChanges(c),o(l.shiftKey),l.preventDefault(),m(l);break;case h.ARROW_RIGHT:w.isEditorOpened()&&!b.isWaiting()&&w.closeEditorAndSaveChanges(c),a(l.shiftKey),l.preventDefault(),m(l);break;case h.ARROW_LEFT:w.isEditorOpened()&&!b.isWaiting()&&w.closeEditorAndSaveChanges(c),s(l.shiftKey),l.preventDefault(),m(l);break;case h.TAB:var y="function"==typeof t.settings.tabMoves?t.settings.tabMoves(l):t.settings.tabMoves;l.shiftKey?n.transformStart(-y.row,-y.col):n.transformStart(y.row,y.col,!0),l.preventDefault(),m(l);break;case h.BACKSPACE:case h.DELETE:n.empty(l),w.prepareEditor(),l.preventDefault();break;case h.F2:w.openEditor(null,l),b&&b.enableFullEditMode(),l.preventDefault();break;case h.ENTER:w.isEditorOpened()?(b&&b.state!==Handsontable.EditorState.WAITING&&w.closeEditorAndSaveChanges(c),r(l.shiftKey)):e.getSettings().enterBeginsEditing?(w.openEditor(null,l),b&&b.enableFullEditMode()):r(l.shiftKey),l.preventDefault(),g(l);break;case h.ESCAPE:w.isEditorOpened()&&w.closeEditorAndRestoreOriginalValue(c),l.preventDefault();break;case h.HOME:l.ctrlKey||l.metaKey?p(new u(0,t.selRange.from.col)):p(new u(t.selRange.from.row,0)),l.preventDefault(),m(l);break;case h.END:l.ctrlKey||l.metaKey?p(new u(e.countRows()-1,t.selRange.from.col)):p(new u(t.selRange.from.row,e.countCols()-1)),l.preventDefault(),m(l);break;case h.PAGE_UP:n.transformStart(-e.countVisibleRows(),0),l.preventDefault(),m(l);break;case h.PAGE_DOWN:n.transformStart(e.countVisibleRows(),0),l.preventDefault(),m(l)}}}function c(){function t(e,t,n){"TD"==n.nodeName&&(w.openEditor(),b&&b.enableFullEditMode())}e.addHook("afterDocumentKeyDown",l),p.addEventListener(document.documentElement,"keydown",function(t){e.runHooks("afterDocumentKeyDown",t)}),e.view.wt.update("onCellDblClick",t),e.addHook("afterDestroy",function(){C=!0})}var p,b,w=this,C=!1;p=y(e),this.destroyEditor=function(e){this.closeEditor(e)},this.getActiveEditor=function(){return b},this.prepareEditor=function(){var n,r,i,o,a,s,l;return b&&b.isWaiting()?(this.closeEditor(!1,!1,function(e){e&&w.prepareEditor()}),void 0):(n=t.selRange.highlight.row,r=t.selRange.highlight.col,i=e.colToProp(r),o=e.getCell(n,r),a=e.getDataAtCell(n,r),s=e.getCellMeta(n,r),l=e.getCellEditor(s),l?(b=Handsontable.editors.getEditor(l,e),b.prepare(n,r,i,o,a,s)):b=void 0,void 0)},this.isEditorOpened=function(){return b&&b.isOpened()},this.openEditor=function(e,t){b&&!b.cellProperties.readOnly?b.beginEditing(e,t):b&&b.cellProperties.readOnly&&t&&t.keyCode===h.ENTER&&r()},this.closeEditor=function(e,t,n){b?b.finishEditing(e,t,n):n&&n(!1)},this.closeEditorAndSaveChanges=function(e){return this.closeEditor(!1,e)},this.closeEditorAndRestoreOriginalValue=function(e){return this.closeEditor(!0,e)},c()}Object.defineProperties(n,{EditorManager:{get:function(){return r}},__esModule:{value:!0}});var i,o,a,s,l,u=(i=e("3rdparty/walkontable/src/cell/coords"),i&&i.__esModule&&i||{"default":i}).WalkontableCellCoords,c=(o=e("helpers/unicode"),o&&o.__esModule&&o||{"default":o}),h=c.KEY_CODES,d=c.isMetaKey,f=c.isCtrlKey,p=(a=e("helpers/dom/event"),a&&a.__esModule&&a||{"default":a}),m=p.stopPropagation,g=p.stopImmediatePropagation,v=p.isImmediatePropagationStopped,y=((s=e("editors"),s&&s.__esModule&&s||{"default":s}).getEditor,(l=e("eventManager"),l&&l.__esModule&&l||{"default":l}).eventManager);Handsontable.EditorManager=r},{"3rdparty/walkontable/src/cell/coords":5,editors:29,eventManager:41,"helpers/dom/event":46,"helpers/unicode":53}],29:[function(e,t,n){"use strict";function r(e){var t,n;n={},t=e,this.getConstructor=function(){return e},this.getInstance=function(e){return e.guid in n||(n[e.guid]=new t(e)),n[e.guid]}}function i(e,t){var n=new r(t);"string"==typeof e&&(c[e]=n,Handsontable.editors[u(e)+"Editor"]=t),h.set(t,n)}function o(e,t){var n;if("function"==typeof e)h.get(e)||i(null,e),n=h.get(e);else{if("string"!=typeof e)throw Error('Only strings and functions can be passed as "editor" parameter ');n=c[e]}if(!n)throw Error('No editor registered under name "'+e+'"');return n.getInstance(t)}function a(e){var t;if("string"!=typeof e)throw Error('Only strings and functions can be passed as "editor" parameter ');if(t=c[e],!t)throw Error('No editor registered under name "'+e+'"');return t.getConstructor()}function s(e){return c[e]?!0:!1}Object.defineProperties(n,{registerEditor:{get:function(){return i}},getEditor:{get:function(){return o}},hasEditor:{get:function(){return s}},getEditorConstructor:{get:function(){return a}},__esModule:{value:!0}});var l,u=(l=e("helpers/string"),l&&l.__esModule&&l||{"default":l}).toUpperCaseFirst,c={},h=new WeakMap;Handsontable.editors=Handsontable.editors||{},Handsontable.editors.registerEditor=i,Handsontable.editors.getEditor=o},{"helpers/string":52}],30:[function(e,t,n){"use strict";function r(e){this.instance=e,this.state=Handsontable.EditorState.VIRGIN,this._opened=!1,this._fullEditMode=!1,this._closeCallback=null,this.init()}Object.defineProperties(n,{BaseEditor:{get:function(){return r}},__esModule:{value:!0}});var i,o,a=(i=e("helpers/mixed"),i&&i.__esModule&&i||{"default":i}).stringify,s=(o=e("3rdparty/walkontable/src/cell/coords"),o&&o.__esModule&&o||{"default":o}).WalkontableCellCoords;Handsontable.editors=Handsontable.editors||{},Handsontable.editors.BaseEditor=r,Handsontable.EditorState={VIRGIN:"STATE_VIRGIN",EDITING:"STATE_EDITING",WAITING:"STATE_WAITING",FINISHED:"STATE_FINISHED"},r.prototype._fireCallbacks=function(e){this._closeCallback&&(this._closeCallback(e),this._closeCallback=null)},r.prototype.init=function(){},r.prototype.getValue=function(){throw Error("Editor getValue() method unimplemented")},r.prototype.setValue=function(){throw Error("Editor setValue() method unimplemented")},r.prototype.open=function(){throw Error("Editor open() method unimplemented")},r.prototype.close=function(){throw Error("Editor close() method unimplemented")},r.prototype.prepare=function(e,t,n,r,i,o){this.TD=r,this.row=e,this.col=t,this.prop=n,this.originalValue=i,this.cellProperties=o,this.instance.view.isMouseDown()&&document.activeElement&&document.activeElement!==document.body?document.activeElement.blur():document.activeElement||document.body.focus(),this.state=Handsontable.EditorState.VIRGIN},r.prototype.extend=function(){function e(){n.apply(this,arguments)}function t(e,t){function n(){}return n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e,e}var n=this.constructor;return t(e,n)},r.prototype.saveValue=function(e,t){var n,r;t?(n=this.instance.getSelected(),n[0]>n[2]&&(r=n[0],n[0]=n[2],n[2]=r),n[1]>n[3]&&(r=n[1],n[1]=n[3],n[3]=r),this.instance.populateFromArray(n[0],n[1],e,n[2],n[3],"edit")):this.instance.populateFromArray(this.row,this.col,e,null,null,"edit")},r.prototype.beginEditing=function(e,t){this.state==Handsontable.EditorState.VIRGIN&&(this.instance.view.scrollViewport(new s(this.row,this.col)),this.instance.view.render(),this.state=Handsontable.EditorState.EDITING,e="string"==typeof e?e:this.originalValue,this.setValue(a(e)),this.open(t),this._opened=!0,this.focus(),this.instance.view.render())},r.prototype.finishEditing=function(e,t,n){var r,i=this;if(n){var o=this._closeCallback;this._closeCallback=function(e){o&&o(e),n(e)}}if(!this.isWaiting()){if(this.state==Handsontable.EditorState.VIRGIN)return this.instance._registerTimeout(setTimeout(function(){i._fireCallbacks(!0)},0)),void 0;if(this.state==Handsontable.EditorState.EDITING){if(e)return this.cancelChanges(),this.instance.view.render(),void 0;r=this.instance.getSettings().trimWhitespace?[["string"==typeof this.getValue()?String.prototype.trim.call(this.getValue()||""):this.getValue()]]:[[this.getValue()]],this.state=Handsontable.EditorState.WAITING,this.saveValue(r,t),this.instance.getCellValidator(this.cellProperties)?this.instance.addHookOnce("postAfterValidate",function(e){i.state=Handsontable.EditorState.FINISHED,i.discardEditor(e)}):(this.state=Handsontable.EditorState.FINISHED,this.discardEditor(!0))}}},r.prototype.cancelChanges=function(){this.state=Handsontable.EditorState.FINISHED,this.discardEditor()},r.prototype.discardEditor=function(e){this.state===Handsontable.EditorState.FINISHED&&(e===!1&&this.cellProperties.allowInvalid!==!0?(this.instance.selectCell(this.row,this.col),this.focus(),this.state=Handsontable.EditorState.EDITING,this._fireCallbacks(!1)):(this.close(),this._opened=!1,this._fullEditMode=!1,this.state=Handsontable.EditorState.VIRGIN,this._fireCallbacks(!0)))},r.prototype.enableFullEditMode=function(){this._fullEditMode=!0},r.prototype.isInFullEditMode=function(){return this._fullEditMode},r.prototype.isOpened=function(){return this._opened},r.prototype.isWaiting=function(){return this.state===Handsontable.EditorState.WAITING},r.prototype.checkEditorSection=function(){var e=this.instance.countRows(),t="";return this.row<this.instance.getSettings().fixedRowsTop?t=this.col<this.instance.getSettings().fixedColumnsLeft?"top-left-corner":"top":this.instance.getSettings().fixedRowsBottom&&this.row>=e-this.instance.getSettings().fixedRowsBottom?t=this.col<this.instance.getSettings().fixedColumnsLeft?"bottom-left-corner":"bottom":this.col<this.instance.getSettings().fixedColumnsLeft&&(t="left"),t}},{"3rdparty/walkontable/src/cell/coords":5,"helpers/mixed":48}],31:[function(e,t,n){"use strict";function r(e){T=!1;var t=this.getActiveEditor();if(d(e.keyCode)||e.keyCode===h.BACKSPACE||e.keyCode===h.DELETE||e.keyCode===h.INSERT){var n=0;if(e.keyCode===h.C&&(e.ctrlKey||e.metaKey))return;t.isOpened()||(n+=10),t.htEditor&&t.instance._registerTimeout(setTimeout(function(){t.queryChoices(t.TEXTAREA.value),T=!0},n))}}Object.defineProperties(n,{AutocompleteEditor:{get:function(){return _}},__esModule:{value:!0}});var i,o,a,s,l,u,c=(i=e("helpers/unicode"),i&&i.__esModule&&i||{"default":i}),h=c.KEY_CODES,d=c.isPrintableChar,f=(o=e("helpers/mixed"),o&&o.__esModule&&o||{"default":o}).stringify,p=(a=e("helpers/array"),a&&a.__esModule&&a||{"default":a}).pivot,m=(s=e("helpers/dom/element"),s&&s.__esModule&&s||{"default":s}),g=m.addClass,v=m.getCaretPosition,y=m.getScrollbarWidth,b=m.getSelectionEndPosition,w=m.outerWidth,C=m.setCaretPosition,x=(l=e("editors"),l&&l.__esModule&&l||{"default":l}),k=(x.getEditorConstructor,x.registerEditor),S=(u=e("handsontableEditor"),u&&u.__esModule&&u||{"default":u}).HandsontableEditor,_=S.prototype.extend();_.prototype.init=function(){S.prototype.init.apply(this,arguments),this.query=null,this.choices=[]},_.prototype.createElements=function(){S.prototype.createElements.apply(this,arguments),g(this.htContainer,"autocompleteEditor"),g(this.htContainer,-1===window.navigator.platform.indexOf("Mac")?"":"htMacScroll")};var T=!1;_.prototype.prepare=function(){this.instance.addHook("beforeKeyDown",r),S.prototype.prepare.apply(this,arguments)},_.prototype.open=function(){this.TEXTAREA_PARENT.style.overflow="auto",S.prototype.open.apply(this,arguments),this.TEXTAREA_PARENT.style.overflow="";var e=this.htEditor.getInstance(),t=this,n=void 0===this.cellProperties.trimDropdown?!0:this.cellProperties.trimDropdown;this.TEXTAREA.style.visibility="visible",this.focus(),e.updateSettings({colWidths:n?[w(this.TEXTAREA)-2]:void 0,width:n?w(this.TEXTAREA)+y()+2:void 0,afterRenderer:function(e,n,r,i,o){var a,s,l=this.getCellMeta(n,r).filteringCaseSensitive===!0,o=f(o);o&&(a=l?o.indexOf(this.query):o.toLowerCase().indexOf(t.query.toLowerCase()),-1!=a&&(s=o.substr(a,t.query.length),e.innerHTML=o.replace(s,"<strong>"+s+"</strong>")))},autoColumnSize:!0,modifyColWidth:function(e,t){var r=this.getPlugin("autoColumnSize").widths;return r[t]&&(e=r[t]),n?e:e+15}}),this.htEditor.view.wt.wtTable.holder.parentNode.style["padding-right"]=y()+2+"px",T&&(T=!1),t.instance._registerTimeout(setTimeout(function(){t.queryChoices(t.TEXTAREA.value)},0))},_.prototype.close=function(){S.prototype.close.apply(this,arguments)},_.prototype.queryChoices=function(e){if(this.query=e,"function"==typeof this.cellProperties.source){var t=this;this.cellProperties.source(e,function(e){t.updateChoicesList(e)})}else if(Array.isArray(this.cellProperties.source)){var n;if(e&&this.cellProperties.filter!==!1){var r=this.cellProperties.filteringCaseSensitive===!0,i=e.toLowerCase();n=this.cellProperties.source.filter(function(t){return r?-1!=t.indexOf(e):-1!=t.toLowerCase().indexOf(i)})}else n=this.cellProperties.source;this.updateChoicesList(n)}else this.updateChoicesList([])},_.prototype.updateChoicesList=function(e){var t,n=v(this.TEXTAREA),r=b(this.TEXTAREA),i=_.sortByRelevance(this.getValue(),e,this.cellProperties.filteringCaseSensitive);if(0==this.cellProperties.filter)t=i[0];else{for(var o=[],a=0,s=i.length;s>a;a++)o.push(e[i[a]]);t=0,e=o}this.choices=e,this.htEditor.loadData(p([e])),this.updateDropdownHeight(),this.cellProperties.strict===!0&&this.highlightBestMatchingChoice(t),this.instance.listen(),this.TEXTAREA.focus(),C(this.TEXTAREA,n,n==r?void 0:r)},_.prototype.updateDropdownHeight=function(){var e=this.htEditor.getColWidth(0)+y()+2,t=void 0===this.cellProperties.trimDropdown?!0:this.cellProperties.trimDropdown;this.htEditor.updateSettings({height:this.getDropdownHeight(),width:t?void 0:e}),this.htEditor.view.wt.wtTable.alignOverlaysWithTrimmingContainer()},_.prototype.finishEditing=function(e){e||this.instance.removeHook("beforeKeyDown",r),S.prototype.finishEditing.apply(this,arguments)},_.prototype.highlightBestMatchingChoice=function(e){"number"==typeof e?this.htEditor.selectCell(e,0):this.htEditor.deselectCell()},_.sortByRelevance=function(e,t,n){var r,i,o,a,s,l=[],u=e.length,c=[];if(0===u){for(a=0,s=t.length;s>a;a++)c.push(a);return c}for(a=0,s=t.length;s>a;a++)r=f(t[a]),i=n?r.indexOf(e):r.toLowerCase().indexOf(e.toLowerCase()),-1!=i&&(o=r.length-i-u,l.push({baseIndex:a,index:i,charsLeft:o,value:r}));for(l.sort(function(e,t){return-1===t.index?-1:-1===e.index?1:e.index<t.index?-1:t.index<e.index?1:e.index===t.index?e.charsLeft<t.charsLeft?-1:e.charsLeft>t.charsLeft?1:0:void 0}),a=0,s=l.length;s>a;a++)c.push(l[a].baseIndex);return c},_.prototype.getDropdownHeight=function(){var e=this.htEditor.getInstance().getRowHeight(0)||23,t=this.cellProperties.visibleRows;return this.choices.length>=t?t*e:this.choices.length*e+8},_.prototype.allowKeyEventPropagation=function(e){var t={row:this.htEditor.getSelectedRange()?this.htEditor.getSelectedRange().from.row:-1},n=!1;return e===h.ARROW_DOWN&&t.row<this.htEditor.countRows()-1&&(n=!0),e===h.ARROW_UP&&t.row>-1&&(n=!0),n},k("autocomplete",_)},{editors:29,handsontableEditor:35,"helpers/array":42,"helpers/dom/element":45,"helpers/mixed":48,"helpers/unicode":53}],32:[function(e,t,n){"use strict";Object.defineProperties(n,{CheckboxEditor:{get:function(){return u}},__esModule:{value:!0}});var r,i,o,a=(r=e("editors"),r&&r.__esModule&&r||{"default":r}).registerEditor,s=(i=e("_baseEditor"),i&&i.__esModule&&i||{"default":i}).BaseEditor,l=(o=e("helpers/dom/element"),o&&o.__esModule&&o||{"default":o}).hasClass,u=function(){$traceurRuntime.superConstructor(c).apply(this,arguments)},c=u;$traceurRuntime.createClass(u,{beginEditing:function(){var e=this.TD.querySelector('input[type="checkbox"]');l(e,"htBadValue")||e.click()},finishEditing:function(){},init:function(){},open:function(){},close:function(){},getValue:function(){},setValue:function(){},focus:function(){}},{},s),a("checkbox",u)},{_baseEditor:30,editors:29,"helpers/dom/element":45}],33:[function(e,t,n){"use strict";Object.defineProperties(n,{DateEditor:{get:function(){return S}},__esModule:{value:!0}});var r,i,o,a,s,l,u,c,h,d=(r=e("helpers/dom/element"),r&&r.__esModule&&r||{"default":r}),f=d.addClass,p=d.outerHeight,m=(i=e("helpers/object"),i&&i.__esModule&&i||{"default":i}).deepExtend,g=(o=e("eventManager"),o&&o.__esModule&&o||{"default":o}).EventManager,v=(a=e("editors"),a&&a.__esModule&&a||{"default":a}),y=(v.getEditor,v.registerEditor),b=(s=e("helpers/unicode"),s&&s.__esModule&&s||{"default":s}).isMetaKey,w=(l=e("helpers/dom/event"),l&&l.__esModule&&l||{"default":l}).stopPropagation,C=(u=e("textEditor"),u&&u.__esModule&&u||{"default":u}).TextEditor,x=(c=e("moment"),c&&c.__esModule&&c||{"default":c}).default,k=(h=e("pikaday"),h&&h.__esModule&&h||{"default":h}).default;Handsontable.editors=Handsontable.editors||{},Handsontable.editors.DateEditor=S;var S=function(e){this.$datePicker=null,this.datePicker=null,this.datePickerStyle=null,this.defaultDateFormat="DD/MM/YYYY",this.isCellEdited=!1,this.parentDestroyed=!1,$traceurRuntime.superConstructor(_).call(this,e)},_=S;$traceurRuntime.createClass(S,{init:function(){var e=this;if("function"!=typeof x)throw new Error("You need to include moment.js to your project.");if("function"!=typeof k)throw new Error("You need to include Pikaday to your project.");$traceurRuntime.superGet(this,_.prototype,"init").call(this),this.instance.addHook("afterDestroy",function(){e.parentDestroyed=!0,e.destroyElements()})},createElements:function(){$traceurRuntime.superGet(this,_.prototype,"createElements").call(this),this.datePicker=document.createElement("DIV"),this.datePickerStyle=this.datePicker.style,this.datePickerStyle.position="absolute",this.datePickerStyle.top=0,this.datePickerStyle.left=0,this.datePickerStyle.zIndex=9999,f(this.datePicker,"htDatepickerHolder"),document.body.appendChild(this.datePicker),this.$datePicker=new k(this.getDatePickerConfig());var e=new g(this);e.addEventListener(this.datePicker,"mousedown",function(e){return w(e)}),this.hideDatepicker()},destroyElements:function(){this.$datePicker.destroy()},prepare:function(e,t,n,r,i,o){this._opened=!1,$traceurRuntime.superGet(this,_.prototype,"prepare").call(this,e,t,n,r,i,o)},open:function(){var e=void 0!==arguments[0]?arguments[0]:null;$traceurRuntime.superGet(this,_.prototype,"open").call(this),this.showDatepicker(e)},close:function(){var e=this;this._opened=!1,this.instance._registerTimeout(setTimeout(function(){e.instance.selection.refreshBorders()},0)),$traceurRuntime.superGet(this,_.prototype,"close").call(this)},finishEditing:function(){var e=void 0!==arguments[0]?arguments[0]:!1,t=void 0!==arguments[1]?arguments[1]:!1;if(e){var n=this.originalValue;void 0!==n&&this.setValue(n)}this.hideDatepicker(),$traceurRuntime.superGet(this,_.prototype,"finishEditing").call(this,e,t)},showDatepicker:function(e){this.$datePicker.config(this.getDatePickerConfig());var t,n=this.TD.getBoundingClientRect(),r=this.cellProperties.dateFormat||this.defaultDateFormat,i=this.$datePicker.config(),o=this.instance.view.isMouseDown(),a=e?b(e.keyCode):!1;this.datePickerStyle.top=window.pageYOffset+n.top+p(this.TD)+"px",this.datePickerStyle.left=window.pageXOffset+n.left+"px",this.$datePicker._onInputFocus=function(){},i.format=r,this.originalValue?(t=this.originalValue,x(t,r,!0).isValid()&&this.$datePicker.setMoment(x(t,r),!0),a||o||this.setValue("")):this.cellProperties.defaultDate?(t=this.cellProperties.defaultDate,i.defaultDate=t,x(t,r,!0).isValid()&&this.$datePicker.setMoment(x(t,r),!0),a||o||this.setValue("")):this.$datePicker.gotoToday(),this.datePickerStyle.display="block",this.$datePicker.show()},hideDatepicker:function(){this.datePickerStyle.display="none",this.$datePicker.hide()},getDatePickerConfig:function(){var e=this,t=this.TEXTAREA,n={};this.cellProperties&&this.cellProperties.datePickerConfig&&m(n,this.cellProperties.datePickerConfig);var r=n.onSelect,i=n.onClose;return n.field=t,n.trigger=t,n.container=this.datePicker,n.bound=!1,n.format=n.format||this.defaultDateFormat,n.reposition=n.reposition||!1,n.onSelect=function(t){isNaN(t.getTime())||(t=x(t).format(e.cellProperties.dateFormat||e.defaultDateFormat)),e.setValue(t),e.hideDatepicker(),r&&r()},n.onClose=function(){e.parentDestroyed||e.finishEditing(!1),i&&i()},n}},{},C),y("date",S)},{editors:29,eventManager:41,"helpers/dom/element":45,"helpers/dom/event":46,"helpers/object":50,"helpers/unicode":53,moment:"moment",pikaday:"pikaday",textEditor:40}],34:[function(e,t,n){"use strict";Object.defineProperties(n,{DropdownEditor:{get:function(){return l}},__esModule:{value:!0}});var r,i,o=(r=e("editors"),r&&r.__esModule&&r||{"default":r}),a=(o.getEditor,o.registerEditor),s=(i=e("autocompleteEditor"),i&&i.__esModule&&i||{"default":i}).AutocompleteEditor,l=function(){$traceurRuntime.superConstructor(u).apply(this,arguments)},u=l;$traceurRuntime.createClass(l,{prepare:function(e,t,n,r,i,o){$traceurRuntime.superGet(this,u.prototype,"prepare").call(this,e,t,n,r,i,o),this.cellProperties.filter=!1,this.cellProperties.strict=!0}},{},s),Handsontable.hooks.add("beforeValidate",function(e,t,n){var r=this.getCellMeta(t,n);r.editor===Handsontable.editors.DropdownEditor&&void 0===r.strict&&(r.filter=!1,r.strict=!0)}),a("dropdown",l)},{autocompleteEditor:31,editors:29}],35:[function(e,t,n){"use strict";Object.defineProperties(n,{HandsontableEditor:{get:function(){return y}},__esModule:{value:!0}});var r,i,o,a,s,l,u=(r=e("helpers/unicode"),r&&r.__esModule&&r||{"default":r}).KEY_CODES,c=(i=e("helpers/object"),i&&i.__esModule&&i||{"default":i}).extend,h=(o=e("helpers/dom/element"),o&&o.__esModule&&o||{"default":o}).setCaretPosition,d=(a=e("helpers/dom/event"),a&&a.__esModule&&a||{"default":a}),f=d.stopImmediatePropagation,p=d.isImmediatePropagationStopped,m=(s=e("editors"),s&&s.__esModule&&s||{"default":s}),g=(m.getEditor,m.registerEditor),v=(l=e("textEditor"),l&&l.__esModule&&l||{"default":l}).TextEditor,y=v.prototype.extend();y.prototype.createElements=function(){v.prototype.createElements.apply(this,arguments);var e=document.createElement("DIV");e.className="handsontableEditor",this.TEXTAREA_PARENT.appendChild(e),this.htContainer=e,this.assignHooks()},y.prototype.prepare=function(e,t,n,r,i,o){v.prototype.prepare.apply(this,arguments);var a=this,s={startRows:0,startCols:0,minRows:0,minCols:0,className:"listbox",copyPaste:!1,autoColumnSize:!1,autoRowSize:!1,readOnly:!0,fillHandle:!1,afterOnCellMouseDown:function(){var e=this.getValue();void 0!==e&&a.setValue(e),a.instance.destroyEditor()}};this.cellProperties.handsontable&&c(s,o.handsontable),this.htOptions=s};var b=function(e){if(!p(e)){var t,n=this.getActiveEditor(),r=n.htEditor.getInstance();if(e.keyCode==u.ARROW_DOWN)if(r.getSelected()){var i=r.getSelected()[0],o=r.countRows()-1;t=Math.min(o,i+1)}else t=0;else if(e.keyCode==u.ARROW_UP&&r.getSelected()){var i=r.getSelected()[0];t=i-1}void 0!==t&&(0>t?r.deselectCell():r.selectCell(t,0),r.getData().length&&(e.preventDefault(),f(e),n.instance.listen(),n.TEXTAREA.focus()))}};y.prototype.open=function(){this.instance.addHook("beforeKeyDown",b),v.prototype.open.apply(this,arguments),this.htEditor&&this.htEditor.destroy(),this.htEditor=new Handsontable(this.htContainer,this.htOptions),this.cellProperties.strict?(this.htEditor.selectCell(0,0),this.TEXTAREA.style.visibility="hidden"):(this.htEditor.deselectCell(),this.TEXTAREA.style.visibility="visible"),h(this.TEXTAREA,0,this.TEXTAREA.value.length)
},y.prototype.close=function(){this.instance.removeHook("beforeKeyDown",b),this.instance.listen(),v.prototype.close.apply(this,arguments)},y.prototype.focus=function(){this.instance.listen(),v.prototype.focus.apply(this,arguments)},y.prototype.beginEditing=function(){var e=this.instance.getSettings().onBeginEditing;e&&e()===!1||v.prototype.beginEditing.apply(this,arguments)},y.prototype.finishEditing=function(){if(this.htEditor&&this.htEditor.isListening()&&this.instance.listen(),this.htEditor&&this.htEditor.getSelected()){var e=this.htEditor.getInstance().getValue();void 0!==e&&this.setValue(e)}return v.prototype.finishEditing.apply(this,arguments)},y.prototype.assignHooks=function(){var e=this;this.instance.addHook("afterDestroy",function(){e.htEditor&&e.htEditor.destroy()})},g("handsontable",y)},{editors:29,"helpers/dom/element":45,"helpers/dom/event":46,"helpers/object":50,"helpers/unicode":53,textEditor:40}],36:[function(e,t,n){"use strict";Object.defineProperties(n,{MobileTextEditor:{get:function(){return M}},__esModule:{value:!0}});var r,i,o,a,s,l,u=(r=e("helpers/unicode"),r&&r.__esModule&&r||{"default":r}).KEY_CODES,c=(i=e("helpers/dom/event"),i&&i.__esModule&&i||{"default":i}),h=c.stopImmediatePropagation,d=c.isImmediatePropagationStopped,f=(o=e("helpers/dom/element"),o&&o.__esModule&&o||{"default":o}),p=f.addClass,m=f.getScrollLeft,g=f.getScrollTop,v=f.hasClass,y=f.isChildOf,b=f.offset,w=f.outerHeight,C=f.outerWidth,x=f.removeClass,k=f.setCaretPosition,S=(a=e("editors"),a&&a.__esModule&&a||{"default":a}),_=(S.getEditor,S.registerEditor),T=(s=e("_baseEditor"),s&&s.__esModule&&s||{"default":s}).BaseEditor,E=(l=e("eventManager"),l&&l.__esModule&&l||{"default":l}).eventManager,M=T.prototype.extend(),R={},O=function(){this.controls={},this.controls.leftButton=document.createElement("DIV"),this.controls.leftButton.className="leftButton",this.controls.rightButton=document.createElement("DIV"),this.controls.rightButton.className="rightButton",this.controls.upButton=document.createElement("DIV"),this.controls.upButton.className="upButton",this.controls.downButton=document.createElement("DIV"),this.controls.downButton.className="downButton";for(var e in this.controls)this.controls.hasOwnProperty(e)&&this.positionControls.appendChild(this.controls[e])};M.prototype.valueChanged=function(){return this.initValue!=this.getValue()},M.prototype.init=function(){var e=this;this.eventManager=E(this.instance),this.createElements(),this.bindEvents(),this.instance.addHook("afterDestroy",function(){e.destroy()})},M.prototype.getValue=function(){return this.TEXTAREA.value},M.prototype.setValue=function(e){this.initValue=e,this.TEXTAREA.value=e},M.prototype.createElements=function(){this.editorContainer=document.createElement("DIV"),this.editorContainer.className="htMobileEditorContainer",this.cellPointer=document.createElement("DIV"),this.cellPointer.className="cellPointer",this.moveHandle=document.createElement("DIV"),this.moveHandle.className="moveHandle",this.inputPane=document.createElement("DIV"),this.inputPane.className="inputs",this.positionControls=document.createElement("DIV"),this.positionControls.className="positionControls",this.TEXTAREA=document.createElement("TEXTAREA"),p(this.TEXTAREA,"handsontableInput"),this.inputPane.appendChild(this.TEXTAREA),this.editorContainer.appendChild(this.cellPointer),this.editorContainer.appendChild(this.moveHandle),this.editorContainer.appendChild(this.inputPane),this.editorContainer.appendChild(this.positionControls),O.call(this),document.body.appendChild(this.editorContainer)},M.prototype.onBeforeKeyDown=function(e){var t=this,n=t.getActiveEditor();if(e.target===n.TEXTAREA&&!d(e))switch(e.keyCode){case u.ENTER:n.close(),e.preventDefault();break;case u.BACKSPACE:h(e)}},M.prototype.open=function(){this.instance.addHook("beforeKeyDown",this.onBeforeKeyDown),p(this.editorContainer,"active"),x(this.cellPointer,"hidden"),this.updateEditorPosition()},M.prototype.focus=function(){this.TEXTAREA.focus(),k(this.TEXTAREA,this.TEXTAREA.value.length)},M.prototype.close=function(){this.TEXTAREA.blur(),this.instance.removeHook("beforeKeyDown",this.onBeforeKeyDown),x(this.editorContainer,"active")},M.prototype.scrollToView=function(){var e=this.instance.getSelectedRange().highlight;this.instance.view.scrollViewport(e)},M.prototype.hideCellPointer=function(){v(this.cellPointer,"hidden")||p(this.cellPointer,"hidden")},M.prototype.updateEditorPosition=function(e,t){if(e&&t)e=parseInt(e,10),t=parseInt(t,10),this.editorContainer.style.top=t+"px",this.editorContainer.style.left=e+"px";else{var n=this.instance.getSelected(),r=this.instance.getCell(n[0],n[1]);if(R.cellPointer||(R.cellPointer={height:w(this.cellPointer),width:C(this.cellPointer)}),R.editorContainer||(R.editorContainer={width:C(this.editorContainer)}),void 0!==r){var i=this.instance.view.wt.wtOverlays.leftOverlay.trimmingContainer==window?0:m(this.instance.view.wt.wtOverlays.leftOverlay.holder),o=this.instance.view.wt.wtOverlays.topOverlay.trimmingContainer==window?0:g(this.instance.view.wt.wtOverlays.topOverlay.holder),a=b(r),s=C(r),l={x:i,y:o};this.editorContainer.style.top=parseInt(a.top+w(r)-l.y+R.cellPointer.height,10)+"px",this.editorContainer.style.left=parseInt(window.innerWidth/2-R.editorContainer.width/2,10)+"px",a.left+s/2>parseInt(this.editorContainer.style.left,10)+R.editorContainer.width?this.editorContainer.style.left=window.innerWidth-R.editorContainer.width+"px":a.left+s/2<parseInt(this.editorContainer.style.left,10)+20&&(this.editorContainer.style.left="0px"),this.cellPointer.style.left=parseInt(a.left-R.cellPointer.width/2-b(this.editorContainer).left+s/2-l.x,10)+"px"}}},M.prototype.updateEditorData=function(){var e=this.instance.getSelected(),t=this.instance.getDataAtCell(e[0],e[1]);this.row=e[0],this.col=e[1],this.setValue(t),this.updateEditorPosition()},M.prototype.prepareAndSave=function(){var e;return this.valueChanged()?(e=this.instance.getSettings().trimWhitespace?[[String.prototype.trim.call(this.getValue())]]:[[this.getValue()]],this.saveValue(e),void 0):!0},M.prototype.bindEvents=function(){var e=this;this.eventManager.addEventListener(this.controls.leftButton,"touchend",function(t){e.prepareAndSave(),e.instance.selection.transformStart(0,-1,null,!0),e.updateEditorData(),t.preventDefault()}),this.eventManager.addEventListener(this.controls.rightButton,"touchend",function(t){e.prepareAndSave(),e.instance.selection.transformStart(0,1,null,!0),e.updateEditorData(),t.preventDefault()}),this.eventManager.addEventListener(this.controls.upButton,"touchend",function(t){e.prepareAndSave(),e.instance.selection.transformStart(-1,0,null,!0),e.updateEditorData(),t.preventDefault()}),this.eventManager.addEventListener(this.controls.downButton,"touchend",function(t){e.prepareAndSave(),e.instance.selection.transformStart(1,0,null,!0),e.updateEditorData(),t.preventDefault()}),this.eventManager.addEventListener(this.moveHandle,"touchstart",function(t){if(1==t.touches.length){var n=t.touches[0],r={x:e.editorContainer.offsetLeft,y:e.editorContainer.offsetTop},i={x:n.pageX-r.x,y:n.pageY-r.y};e.eventManager.addEventListener(this,"touchmove",function(t){var n=t.touches[0];e.updateEditorPosition(n.pageX-i.x,n.pageY-i.y),e.hideCellPointer(),t.preventDefault()})}}),this.eventManager.addEventListener(document.body,"touchend",function(t){y(t.target,e.editorContainer)||y(t.target,e.instance.rootElement)||e.close()}),this.eventManager.addEventListener(this.instance.view.wt.wtOverlays.leftOverlay.holder,"scroll",function(){e.instance.view.wt.wtOverlays.leftOverlay.trimmingContainer!=window&&e.hideCellPointer()}),this.eventManager.addEventListener(this.instance.view.wt.wtOverlays.topOverlay.holder,"scroll",function(){e.instance.view.wt.wtOverlays.topOverlay.trimmingContainer!=window&&e.hideCellPointer()})},M.prototype.destroy=function(){this.eventManager.clear(),this.editorContainer.parentNode.removeChild(this.editorContainer)},_("mobile",M)},{_baseEditor:30,editors:29,eventManager:41,"helpers/dom/element":45,"helpers/dom/event":46,"helpers/unicode":53}],37:[function(e,t,n){"use strict";Object.defineProperties(n,{NumericEditor:{get:function(){return c}},__esModule:{value:!0}});var r,i,o,a=(r=e("numeral"),r&&r.__esModule&&r||{"default":r}).default,s=(i=e("editors"),i&&i.__esModule&&i||{"default":i}),l=(s.getEditor,s.registerEditor),u=(o=e("textEditor"),o&&o.__esModule&&o||{"default":o}).TextEditor,c=function(){$traceurRuntime.superConstructor(h).apply(this,arguments)},h=c;$traceurRuntime.createClass(c,{beginEditing:function(e){if("undefined"==typeof e&&this.originalValue){"undefined"!=typeof this.cellProperties.language&&a.language(this.cellProperties.language);var t=a.languageData().delimiters.decimal;e=(""+this.originalValue).replace(".",t)}$traceurRuntime.superGet(this,h.prototype,"beginEditing").call(this,e)}},{},u),l("numeric",c)},{editors:29,numeral:"numeral",textEditor:40}],38:[function(e,t,n){"use strict";Object.defineProperties(n,{PasswordEditor:{get:function(){return c}},__esModule:{value:!0}});var r,i,o,a=(r=e("helpers/dom/element"),r&&r.__esModule&&r||{"default":r}).empty,s=(i=e("editors"),i&&i.__esModule&&i||{"default":i}),l=(s.getEditor,s.registerEditor),u=(o=e("textEditor"),o&&o.__esModule&&o||{"default":o}).TextEditor,c=function(){$traceurRuntime.superConstructor(h).apply(this,arguments)},h=c;$traceurRuntime.createClass(c,{createElements:function(){$traceurRuntime.superGet(this,h.prototype,"createElements").call(this),this.TEXTAREA=document.createElement("input"),this.TEXTAREA.setAttribute("type","password"),this.TEXTAREA.className="handsontableInput",this.textareaStyle=this.TEXTAREA.style,this.textareaStyle.width=0,this.textareaStyle.height=0,a(this.TEXTAREA_PARENT),this.TEXTAREA_PARENT.appendChild(this.TEXTAREA)}},{},u),l("password",c)},{editors:29,"helpers/dom/element":45,textEditor:40}],39:[function(e,t,n){"use strict";Object.defineProperties(n,{SelectEditor:{get:function(){return S}},__esModule:{value:!0}});var r,i,o,a,s,l=(r=e("helpers/dom/element"),r&&r.__esModule&&r||{"default":r}),u=l.addClass,c=l.empty,h=l.fastInnerHTML,d=l.getComputedStyle,f=l.getCssTransform,p=l.getScrollableElement,m=l.offset,g=l.outerHeight,v=l.outerWidth,y=l.resetCssTransform,b=(i=e("helpers/dom/event"),i&&i.__esModule&&i||{"default":i}).stopImmediatePropagation,w=(o=e("helpers/unicode"),o&&o.__esModule&&o||{"default":o}).KEY_CODES,C=(a=e("editors"),a&&a.__esModule&&a||{"default":a}),x=(C.getEditor,C.registerEditor),k=(s=e("_baseEditor"),s&&s.__esModule&&s||{"default":s}).BaseEditor,S=k.prototype.extend();S.prototype.init=function(){this.select=document.createElement("SELECT"),u(this.select,"htSelectEditor"),this.select.style.display="none",this.instance.rootElement.appendChild(this.select),this.registerHooks()},S.prototype.registerHooks=function(){var e=this;this.instance.addHook("afterScrollHorizontally",function(){return e.refreshDimensions()}),this.instance.addHook("afterScrollVertically",function(){return e.refreshDimensions()}),this.instance.addHook("afterColumnResize",function(){return e.refreshDimensions()}),this.instance.addHook("afterRowResize",function(){return e.refreshDimensions()})},S.prototype.prepare=function(){k.prototype.prepare.apply(this,arguments);var e,t=this.cellProperties.selectOptions;e="function"==typeof t?this.prepareOptions(t(this.row,this.col,this.prop)):this.prepareOptions(t),c(this.select);for(var n in e)if(e.hasOwnProperty(n)){var r=document.createElement("OPTION");r.value=n,h(r,e[n]),this.select.appendChild(r)}},S.prototype.prepareOptions=function(e){var t={};if(Array.isArray(e))for(var n=0,r=e.length;r>n;n++)t[e[n]]=e[n];else"object"==typeof e&&(t=e);return t},S.prototype.getValue=function(){return this.select.value},S.prototype.setValue=function(e){this.select.value=e};var _=function(e){var t=this,n=t.getActiveEditor();switch(e.keyCode){case w.ARROW_UP:var r=n.select.selectedIndex-1;r>=0&&(n.select[r].selected=!0),b(e),e.preventDefault();break;case w.ARROW_DOWN:var i=n.select.selectedIndex+1;i<=n.select.length-1&&(n.select[i].selected=!0),b(e),e.preventDefault()}};S.prototype.open=function(){this._opened=!0,this.refreshDimensions(),this.select.style.display="",this.instance.addHook("beforeKeyDown",_)},S.prototype.close=function(){this._opened=!1,this.select.style.display="none",this.instance.removeHook("beforeKeyDown",_)},S.prototype.focus=function(){this.select.focus()},S.prototype.refreshDimensions=function(){if(this.state===Handsontable.EditorState.EDITING){if(this.TD=this.getEditedCell(),!this.TD)return this.close(),void 0;{var e,t=v(this.TD)+1,n=g(this.TD)+1,r=m(this.TD),i=m(this.instance.rootElement),o=p(this.TD),a=r.top-i.top-1-(o.scrollTop||0),s=r.left-i.left-1-(o.scrollLeft||0),l=this.checkEditorSection(),u=this.instance.getSettings();u.rowHeaders?1:0,u.colHeaders?1:0}switch(l){case"top":e=f(this.instance.view.wt.wtOverlays.topOverlay.clone.wtTable.holder.parentNode);break;case"left":e=f(this.instance.view.wt.wtOverlays.leftOverlay.clone.wtTable.holder.parentNode);break;case"top-left-corner":e=f(this.instance.view.wt.wtOverlays.topLeftCornerOverlay.clone.wtTable.holder.parentNode);break;case"bottom-left-corner":e=f(this.instance.view.wt.wtOverlays.bottomLeftCornerOverlay.clone.wtTable.holder.parentNode);break;case"bottom":e=f(this.instance.view.wt.wtOverlays.bottomOverlay.clone.wtTable.holder.parentNode)}0===this.instance.getSelected()[0]&&(a+=1),0===this.instance.getSelected()[1]&&(s+=1);var c=this.select.style;e&&-1!=e?c[e[0]]=e[1]:y(this.select);var h=d(this.TD);parseInt(h.borderTopWidth,10)>0&&(n-=1),parseInt(h.borderLeftWidth,10)>0&&(t-=1),c.height=n+"px",c.minWidth=t+"px",c.top=a+"px",c.left=s+"px",c.margin="0px"}},S.prototype.getEditedCell=function(){var e,t=this.checkEditorSection();switch(t){case"top":e=this.instance.view.wt.wtOverlays.topOverlay.clone.wtTable.getCell({row:this.row,col:this.col}),this.select.style.zIndex=101;break;case"corner":e=this.instance.view.wt.wtOverlays.topLeftCornerOverlay.clone.wtTable.getCell({row:this.row,col:this.col}),this.select.style.zIndex=103;break;case"left":e=this.instance.view.wt.wtOverlays.leftOverlay.clone.wtTable.getCell({row:this.row,col:this.col}),this.select.style.zIndex=102;break;default:e=this.instance.getCell(this.row,this.col),this.select.style.zIndex=""}return-1!=e&&-2!=e?e:void 0},x("select",S)},{_baseEditor:30,editors:29,"helpers/dom/element":45,"helpers/dom/event":46,"helpers/unicode":53}],40:[function(e,t,n){"use strict";Object.defineProperties(n,{TextEditor:{get:function(){return O}},__esModule:{value:!0}});var r,i,o,a,s,l,u,c=(r=e("helpers/dom/element"),r&&r.__esModule&&r||{"default":r}),h=c.addClass,d=c.getCaretPosition,f=c.getComputedStyle,p=c.getCssTransform,m=c.getScrollableElement,g=c.innerWidth,v=c.offset,y=c.resetCssTransform,b=c.setCaretPosition,w=(i=e("autoResize"),i&&i.__esModule&&i||{"default":i}).default,C=(o=e("_baseEditor"),o&&o.__esModule&&o||{"default":o}).BaseEditor,x=(a=e("eventManager"),a&&a.__esModule&&a||{"default":a}).eventManager,k=(s=e("editors"),s&&s.__esModule&&s||{"default":s}),S=(k.getEditor,k.registerEditor),_=(l=e("helpers/unicode"),l&&l.__esModule&&l||{"default":l}).KEY_CODES,T=(u=e("helpers/dom/event"),u&&u.__esModule&&u||{"default":u}),E=T.stopPropagation,M=T.stopImmediatePropagation,R=T.isImmediatePropagationStopped,O=C.prototype.extend();O.prototype.init=function(){var e=this;this.createElements(),this.eventManager=x(this),this.bindEvents(),this.autoResize=w(),this.instance.addHook("afterDestroy",function(){e.destroy()})},O.prototype.getValue=function(){return this.TEXTAREA.value},O.prototype.setValue=function(e){this.TEXTAREA.value=e};var A=function(e){var t,n=this,r=n.getActiveEditor();if(t=(e.ctrlKey||e.metaKey)&&!e.altKey,e.target===r.TEXTAREA&&!R(e)){if(17===e.keyCode||224===e.keyCode||91===e.keyCode||93===e.keyCode)return M(e),void 0;switch(e.keyCode){case _.ARROW_RIGHT:r.isInFullEditMode()&&(!r.isWaiting()&&!r.allowKeyEventPropagation||!r.isWaiting()&&r.allowKeyEventPropagation&&!r.allowKeyEventPropagation(e.keyCode))&&M(e);break;case _.ARROW_LEFT:r.isInFullEditMode()&&(!r.isWaiting()&&!r.allowKeyEventPropagation||!r.isWaiting()&&r.allowKeyEventPropagation&&!r.allowKeyEventPropagation(e.keyCode))&&M(e);break;case _.ARROW_UP:case _.ARROW_DOWN:r.isInFullEditMode()&&(!r.isWaiting()&&!r.allowKeyEventPropagation||!r.isWaiting()&&r.allowKeyEventPropagation&&!r.allowKeyEventPropagation(e.keyCode))&&M(e);break;case _.ENTER:var i=r.instance.getSelected(),o=!(i[0]===i[2]&&i[1]===i[3]);if(t&&!o||e.altKey){if(r.isOpened()){var a=d(r.TEXTAREA),s=r.getValue(),l=s.slice(0,a)+"\n"+s.slice(a);r.setValue(l),b(r.TEXTAREA,a+1)}else r.beginEditing(r.originalValue+"\n");M(e)}e.preventDefault();break;case _.A:case _.X:case _.C:case _.V:t&&M(e);break;case _.BACKSPACE:case _.DELETE:case _.HOME:case _.END:M(e)}-1===[_.ARROW_UP,_.ARROW_RIGHT,_.ARROW_DOWN,_.ARROW_LEFT].indexOf(e.keyCode)&&r.autoResize.resize(String.fromCharCode(e.keyCode))}};O.prototype.open=function(){this.refreshDimensions(),this.instance.addHook("beforeKeyDown",A)},O.prototype.close=function(){this.textareaParentStyle.display="none",this.autoResize.unObserve(),document.activeElement===this.TEXTAREA&&this.instance.listen(),this.instance.removeHook("beforeKeyDown",A)},O.prototype.focus=function(){this.TEXTAREA.focus(),b(this.TEXTAREA,this.TEXTAREA.value.length)},O.prototype.createElements=function(){this.TEXTAREA=document.createElement("TEXTAREA"),h(this.TEXTAREA,"handsontableInput"),this.textareaStyle=this.TEXTAREA.style,this.textareaStyle.width=0,this.textareaStyle.height=0,this.TEXTAREA_PARENT=document.createElement("DIV"),h(this.TEXTAREA_PARENT,"handsontableInputHolder"),this.textareaParentStyle=this.TEXTAREA_PARENT.style,this.textareaParentStyle.top=0,this.textareaParentStyle.left=0,this.textareaParentStyle.display="none",this.TEXTAREA_PARENT.appendChild(this.TEXTAREA),this.instance.rootElement.appendChild(this.TEXTAREA_PARENT);var e=this;this.instance._registerTimeout(setTimeout(function(){e.refreshDimensions()},0))},O.prototype.getEditedCell=function(){var e,t=this.checkEditorSection();switch(t){case"top":e=this.instance.view.wt.wtOverlays.topOverlay.clone.wtTable.getCell({row:this.row,col:this.col}),this.textareaParentStyle.zIndex=101;break;case"top-left-corner":e=this.instance.view.wt.wtOverlays.topLeftCornerOverlay.clone.wtTable.getCell({row:this.row,col:this.col}),this.textareaParentStyle.zIndex=103;break;case"bottom-left-corner":e=this.instance.view.wt.wtOverlays.bottomLeftCornerOverlay.clone.wtTable.getCell({row:this.row,col:this.col}),this.textareaParentStyle.zIndex=103;break;case"left":e=this.instance.view.wt.wtOverlays.leftOverlay.clone.wtTable.getCell({row:this.row,col:this.col}),this.textareaParentStyle.zIndex=102;break;case"bottom":e=this.instance.view.wt.wtOverlays.bottomOverlay.clone.wtTable.getCell({row:this.row,col:this.col}),this.textareaParentStyle.zIndex=102;break;default:e=this.instance.getCell(this.row,this.col),this.textareaParentStyle.zIndex=""}return-1!=e&&-2!=e?e:void 0},O.prototype.refreshDimensions=function(){if(this.state===Handsontable.EditorState.EDITING){if(this.TD=this.getEditedCell(),!this.TD)return this.close(!0),void 0;var e,t=v(this.TD),n=v(this.instance.rootElement),r=m(this.TD),i=this.instance.countRows(),o=t.top-n.top-1-(r.scrollTop||0),a=t.left-n.left-1-(r.scrollLeft||0),s=this.instance.getSettings(),l=(s.rowHeaders?1:0,s.colHeaders?1:0),u=this.checkEditorSection(),c=this.TD.style.backgroundColor;switch(u){case"top":e=p(this.instance.view.wt.wtOverlays.topOverlay.clone.wtTable.holder.parentNode);break;case"left":e=p(this.instance.view.wt.wtOverlays.leftOverlay.clone.wtTable.holder.parentNode);break;case"top-left-corner":e=p(this.instance.view.wt.wtOverlays.topLeftCornerOverlay.clone.wtTable.holder.parentNode);break;case"bottom-left-corner":e=p(this.instance.view.wt.wtOverlays.bottomLeftCornerOverlay.clone.wtTable.holder.parentNode);break;case"bottom":e=p(this.instance.view.wt.wtOverlays.bottomOverlay.clone.wtTable.holder.parentNode)}(l&&0===this.instance.getSelected()[0]||s.fixedRowsBottom&&this.instance.getSelected()[0]===i-s.fixedRowsBottom)&&(o+=1),0===this.instance.getSelected()[1]&&(a+=1),e&&-1!=e?this.textareaParentStyle[e[0]]=e[1]:y(this.textareaParentStyle),this.textareaParentStyle.top=o+"px",this.textareaParentStyle.left=a+"px";var h=this.TD.offsetTop-this.instance.view.wt.wtOverlays.topOverlay.getScrollPosition(),d=this.TD.offsetLeft-this.instance.view.wt.wtOverlays.leftOverlay.getScrollPosition(),b=g(this.TD)-8,w=this.instance.view.maximumVisibleElementWidth(d)-9,C=this.TD.scrollHeight+1,x=Math.max(this.instance.view.maximumVisibleElementHeight(h)-2,23),k=f(this.TD);this.TEXTAREA.style.fontSize=k.fontSize,this.TEXTAREA.style.fontFamily=k.fontFamily,this.TEXTAREA.style.backgroundColor="",this.TEXTAREA.style.backgroundColor=c?c:f(this.TEXTAREA).backgroundColor,this.autoResize.init(this.TEXTAREA,{minHeight:Math.min(C,x),maxHeight:x,minWidth:Math.min(b,w),maxWidth:w},!0),this.textareaParentStyle.display="block"}},O.prototype.bindEvents=function(){var e=this;this.eventManager.addEventListener(this.TEXTAREA,"cut",function(e){E(e)}),this.eventManager.addEventListener(this.TEXTAREA,"paste",function(e){E(e)}),this.instance.addHook("afterScrollHorizontally",function(){e.refreshDimensions()}),this.instance.addHook("afterScrollVertically",function(){e.refreshDimensions()}),this.instance.addHook("afterColumnResize",function(){e.refreshDimensions(),e.focus()}),this.instance.addHook("afterRowResize",function(){e.refreshDimensions(),e.focus()}),this.instance.addHook("afterDestroy",function(){e.eventManager.destroy()})},O.prototype.destroy=function(){this.eventManager.destroy()},S("text",O)},{_baseEditor:30,autoResize:"autoResize",editors:29,eventManager:41,"helpers/dom/element":45,"helpers/dom/event":46,"helpers/unicode":53}],41:[function(e,t,n){"use strict";function r(e,t){var n,r,i,o,a,s="HOT-TABLE";if(t.isTargetWebComponent=!1,t.realTarget=t.target,!Handsontable.eventManager.isHotTableEnv)return t;for(t=l(t),a=t.path?t.path.length:0;a--;){if(t.path[a].nodeName===s)n=!0;else if(n&&t.path[a].shadowRoot){o=t.path[a];break}0!==a||o||(o=t.path[a])}return o||(o=t.target),t.isTargetWebComponent=!0,c()?t.realTarget=t.srcElement||t.toElement:(e instanceof Handsontable.Core||e instanceof Walkontable)&&(e instanceof Handsontable.Core?r=e.view?e.view.wt.wtTable.TABLE:null:e instanceof Walkontable&&(r=e.wtTable.TABLE.parentNode.parentNode),i=u(t.target,[s],r),t.realTarget=i?r.querySelector(s)||t.target:t.target),Object.defineProperty(t,"target",{get:function(){return l(o)},enumerable:!0,configurable:!0}),t}function i(e){return new h(e)}Object.defineProperties(n,{EventManager:{get:function(){return h}},eventManager:{get:function(){return i}},__esModule:{value:!0}});var o,a,s=(o=e("helpers/dom/element"),o&&o.__esModule&&o||{"default":o}),l=s.polymerWrap,u=s.closest,c=(a=e("helpers/browser"),a&&a.__esModule&&a||{"default":a}).isWebComponentSupportedNatively,h=function(){var e=void 0!==arguments[0]?arguments[0]:null;this.context=e||this,this.context.eventListeners||(this.context.eventListeners=[])};$traceurRuntime.createClass(h,{addEventListener:function(e,t,n){function i(e){void 0==e.target&&void 0!=e.srcElement&&(e.definePoperty?e.definePoperty("target",{value:e.srcElement}):e.target=e.srcElement),void 0==e.preventDefault&&(e.definePoperty?e.definePoperty("preventDefault",{value:function(){this.returnValue=!1}}):e.preventDefault=function(){this.returnValue=!1}),e=r(a,e),n.call(this,e)}var o=this,a=this.context;return this.context.eventListeners.push({element:e,event:t,callback:n,callbackProxy:i}),window.addEventListener?e.addEventListener(t,i,!1):e.attachEvent("on"+t,i),Handsontable.countEventManagerListeners++,function(){o.removeEventListener(e,t,n)}},removeEventListener:function(e,t,n){for(var r,i=this.context.eventListeners.length;i--;)if(r=this.context.eventListeners[i],r.event==t&&r.element==e){if(n&&n!=r.callback)continue;this.context.eventListeners.splice(i,1),r.element.removeEventListener?r.element.removeEventListener(r.event,r.callbackProxy,!1):r.element.detachEvent("on"+r.event,r.callbackProxy),Handsontable.countEventManagerListeners--}},clearEvents:function(){if(this.context)for(var e=this.context.eventListeners.length;e--;){var t=this.context.eventListeners[e];t&&this.removeEventListener(t.element,t.event,t.callback)}},clear:function(){this.clearEvents()},destroy:function(){this.clearEvents(),this.context=null},fireEvent:function(e,t){var n,r={bubbles:!0,cancelable:"mousemove"!==t,view:window,detail:0,screenX:0,screenY:0,clientX:1,clientY:1,ctrlKey:!1,altKey:!1,shiftKey:!1,metaKey:!1,button:0,relatedTarget:void 0};document.createEvent?(n=document.createEvent("MouseEvents"),n.initMouseEvent(t,r.bubbles,r.cancelable,r.view,r.detail,r.screenX,r.screenY,r.clientX,r.clientY,r.ctrlKey,r.altKey,r.shiftKey,r.metaKey,r.button,r.relatedTarget||document.body.parentNode)):n=document.createEventObject(),e.dispatchEvent?e.dispatchEvent(n):e.fireEvent("on"+t,n)}},{}),window.Handsontable=window.Handsontable||{},Handsontable.countEventManagerListeners=0,Handsontable.eventManager=i},{"helpers/browser":43,"helpers/dom/element":45}],42:[function(e,t,n){"use strict";function r(e){for(var t=0,n=e.length;n>t;)e[t]=[e[t]],t++}function i(e,t){for(var n=0,r=t.length;r>n;)e.push(t[n]),n++}function o(e){var t=[];if(!e||0===e.length||!e[0]||0===e[0].length)return t;for(var n=e.length,r=e[0].length,i=0;n>i;i++)for(var o=0;r>o;o++)t[o]||(t[o]=[]),t[o][i]=e[i][o];return t}function a(e,t,n,r){var i=-1,o=e.length;for(r&&o&&(n=e[++i]);++i<o;)n=t(n,e[i],i,e);return n}function s(e,t){for(var n=-1,r=e.length,i=-1,o=[];++n<r;){var a=e[n];t(a,n,e)&&(o[++i]=a)}return o}function l(e,t){for(var n=-1,r=e.length,i=-1,o=[];++n<r;){var a=e[n];o[++i]=t(a,n,e)}return o}function u(e,t){for(var n=-1,r=e.length;++n<r&&t(e[n],n,e)!==!1;);return e}function c(e){return a(e,function(e,t){return e+t},0)}function h(e){return a(e,function(e,t){return e>t?e:t},Array.isArray(e)?e[0]:void 0)}function d(e){return a(e,function(e,t){return t>e?e:t},Array.isArray(e)?e[0]:void 0)}function f(e){return e.length?c(e)/e.length:0}function p(e){return a(e,function(e,t){return e.concat(Array.isArray(t)?p(t):t)},[])}function m(e){var t=[];return u(e,function(e){-1===t.indexOf(e)&&t.push(e)}),t}Object.defineProperties(n,{to2dArray:{get:function(){return r}},extendArray:{get:function(){return i}},pivot:{get:function(){return o}},arrayReduce:{get:function(){return a}},arrayFilter:{get:function(){return s}},arrayMap:{get:function(){return l}},arrayEach:{get:function(){return u}},arraySum:{get:function(){return c}},arrayMax:{get:function(){return h}},arrayMin:{get:function(){return d}},arrayAvg:{get:function(){return f}},arrayFlatten:{get:function(){return p}},arrayUnique:{get:function(){return m}},__esModule:{value:!0}})},{}],43:[function(e,t,n){"use strict";function r(){return f}function i(){return p}function o(){return m}function a(){return g}function s(e){return e||(e=navigator.userAgent),/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(e)}function l(){return"ontouchstart"in window}function u(){var e=document.createElement("div");return e.createShadowRoot&&e.createShadowRoot.toString().match(/\[native code\]/)?!0:!1}function c(){var e=document.createElement("TABLE");e.style.borderSpacing=0,e.style.borderWidth=0,e.style.padding=0;var t=document.createElement("TBODY");e.appendChild(t),t.appendChild(document.createElement("TR")),t.firstChild.appendChild(document.createElement("TD")),t.firstChild.firstChild.innerHTML="<tr><td>t<br>t</td></tr>";var n=document.createElement("CAPTION");n.innerHTML="c<br>c<br>c<br>c",n.style.padding=0,n.style.margin=0,e.insertBefore(n,t),document.body.appendChild(e),d=e.offsetHeight<2*e.lastChild.offsetHeight,document.body.removeChild(e)}function h(){return void 0===d&&c(),d}Object.defineProperties(n,{isIE8:{get:function(){return r}},isIE9:{get:function(){return i}},isSafari:{get:function(){return o}},isChrome:{get:function(){return a}},isMobileBrowser:{get:function(){return s}},isTouchSupported:{get:function(){return l}},isWebComponentSupportedNatively:{get:function(){return u}},hasCaptionProblem:{get:function(){return h}},__esModule:{value:!0}});var d,f=!document.createTextNode("test").textContent,p=!!document.documentMode,m=/Safari/.test(navigator.userAgent)&&/Apple Computer/.test(navigator.vendor),g=/Chrome/.test(navigator.userAgent)&&/Google/.test(navigator.vendor)},{}],44:[function(e,t,n){"use strict";function r(e){for(var t,n=e+1,r="";n>0;)t=(n-1)%26,r=String.fromCharCode(65+t)+r,n=parseInt((n-t)/26,10);return r}function i(e,t){e="number"==typeof e?e:100,t="number"==typeof t?t:4;var n,i,o=[];for(n=0;e>n;n++){var a=[];for(i=0;t>i;i++)a.push(r(i)+(n+1));o.push(a)}return o}function o(e,t){e="number"==typeof e?e:100,t="number"==typeof t?t:4;var n,i,o=[];for(n=0;e>n;n++){var a={};for(i=0;t>i;i++)a["prop"+i]=r(i)+(n+1);o.push(a)}return o}function a(e,t){for(var n,r=[],i=0;e>i;i++){n=[];for(var o=0;t>o;o++)n.push("");r.push(n)}return r}function s(e){var t,n,r,i,o=[],a=0;for(t=0,n=e.length;n>t;t++)for(r=0,i=e[t].length;i>r;r++)r==a&&(o.push([]),a++),o[r].push(e[t][r]);return o}function l(e,t){function n(e){var t=Handsontable.cellTypes[e];if("undefined"==typeof t)throw new Error('You declared cell type "'+e+'" as a string that is not mapped to a known object. Cell type must be an object or a string mapped to an object in Handsontable.cellTypes');return t}return t="undefined"==typeof t?!0:t,function(r,i){return function o(r){if(r){if(r.hasOwnProperty(e)&&void 0!==r[e])return r[e];if(r.hasOwnProperty("type")&&r.type){var i;if("string"!=typeof r.type)throw new Error("Cell type must be a string ");if(i=n(r.type),i.hasOwnProperty(e))return i[e];if(t)return}return o(c(r))}}("number"==typeof r?this.getCellMeta(r,i):r)}}Object.defineProperties(n,{spreadsheetColumnLabel:{get:function(){return r}},createSpreadsheetData:{get:function(){return i}},createSpreadsheetObjectData:{get:function(){return o}},createEmptySpreadsheetData:{get:function(){return a}},translateRowsToColumns:{get:function(){return s}},cellMethodLookupFactory:{get:function(){return l}},__esModule:{value:!0}});var u,c=(u=e("object"),u&&u.__esModule&&u||{"default":u}).getPrototypeOf},{object:50}],45:[function(e,t,n){"use strict";function r(e,t,n){for(;null!=e&&e!==n;){if(e.nodeType===Node.ELEMENT_NODE&&(t.indexOf(e.nodeName)>-1||t.indexOf(e)>-1))return e;e=e.host&&e.nodeType===Node.DOCUMENT_FRAGMENT_NODE?e.host:e.parentNode}return null}function i(e,t){var n=e.parentNode,r=[];for("string"==typeof t?r=Array.prototype.slice.call(document.querySelectorAll(t),0):r.push(t);null!=n;){if(r.indexOf(n)>-1)return!0;n=n.parentNode}return!1}function o(e){function t(e){return e.nodeType===Node.ELEMENT_NODE&&e.nodeName===r.toUpperCase()}var n,r="hot-table",i=!1;for(n=a(e);null!=n;){if(t(n)){i=!0;break}if(n.host&&n.nodeType===Node.DOCUMENT_FRAGMENT_NODE){if(i=t(n.host))break;n=n.host}n=n.parentNode}return i}function a(e){return"undefined"!=typeof Polymer&&"function"==typeof wrap?wrap(e):e}function s(e){return"undefined"!=typeof Polymer&&"function"==typeof unwrap?unwrap(e):e}function l(e){var t=0;if(e.previousSibling)for(;e=e.previousSibling;)++t;return t}function u(e,t){var n=document.querySelector(".ht_clone_"+e);return n?n.contains(t):null}function c(e){var t=0,n=[];if(!e||!e.length)return n;for(;e[t];)n.push(e[t]),t++;return n}function h(e,t){return G(e,t)}function d(e,t){return K(e,t)}function f(e,t){return X(e,t)}function p(e,t){if(3===e.nodeType)t.removeChild(e);else if(["TABLE","THEAD","TBODY","TFOOT","TR"].indexOf(e.nodeName)>-1)for(var n=e.childNodes,r=n.length-1;r>=0;r--)p(n[r],e)}function m(e){for(var t;t=e.lastChild;)e.removeChild(t)}function g(e,t){at.test(t)?e.innerHTML=t:v(e,t)}function v(e,t){var n=e.firstChild;n&&3===n.nodeType&&null===n.nextSibling?st?n.textContent=t:n.data=t:(m(e),e.appendChild(document.createTextNode(t)))}function y(e){for(var t=e;s(t)!==document.documentElement;){if(null===t)return!1;
if(t.nodeType===Node.DOCUMENT_FRAGMENT_NODE){if(t.host){if(t.host.impl)return y(t.host.impl);if(t.host)return y(t.host);throw new Error("Lost in Web Components world")}return!1}if("none"===t.style.display)return!1;t=t.parentNode}return!0}function b(e){var t,n,r,i,o;if(i=document.documentElement,tt()&&e.firstChild&&"CAPTION"===e.firstChild.nodeName)return o=e.getBoundingClientRect(),{top:o.top+(window.pageYOffset||i.scrollTop)-(i.clientTop||0),left:o.left+(window.pageXOffset||i.scrollLeft)-(i.clientLeft||0)};for(t=e.offsetLeft,n=e.offsetTop,r=e;(e=e.offsetParent)&&e!==document.body;)t+=e.offsetLeft,n+=e.offsetTop,r=e;return r&&"fixed"===r.style.position&&(t+=window.pageXOffset||i.scrollLeft,n+=window.pageYOffset||i.scrollTop),{left:t,top:n}}function w(){var e=window.scrollY;return void 0===e&&(e=document.documentElement.scrollTop),e}function C(){var e=window.scrollX;return void 0===e&&(e=document.documentElement.scrollLeft),e}function x(e){return e===window?w():e.scrollTop}function k(e){return e===window?C():e.scrollLeft}function S(e){for(var t,n,r,i=e.parentNode,o=["auto","scroll"],a="",s="",l="",u="";i&&i.style&&document.body!==i;){if(t=i.style.overflow,n=i.style.overflowX,r=i.style.overflowY,"scroll"==t||"scroll"==n||"scroll"==r)return i;if(window.getComputedStyle&&(a=window.getComputedStyle(i),s=a.getPropertyValue("overflow"),l=a.getPropertyValue("overflow-y"),u=a.getPropertyValue("overflow-x"),"scroll"===s||"scroll"===u||"scroll"===l))return i;if(i.clientHeight<=i.scrollHeight&&(-1!==o.indexOf(r)||-1!==o.indexOf(t)||-1!==o.indexOf(s)||-1!==o.indexOf(l)))return i;if(i.clientWidth<=i.scrollWidth&&(-1!==o.indexOf(n)||-1!==o.indexOf(t)||-1!==o.indexOf(s)||-1!==o.indexOf(u)))return i;i=i.parentNode}return window}function _(e){for(var t=e.parentNode;t&&t.style&&document.body!==t;){if("visible"!==t.style.overflow&&""!==t.style.overflow)return t;if(window.getComputedStyle){var n=window.getComputedStyle(t);if("visible"!==n.getPropertyValue("overflow")&&""!==n.getPropertyValue("overflow"))return t}t=t.parentNode}return window}function T(e,t){if(e){if(e!==window){var n,r=e.style[t];return""!==r&&void 0!==r?r:(n=E(e),""!==n[t]&&void 0!==n[t]?n[t]:void 0)}if("width"===t)return window.innerWidth+"px";if("height"===t)return window.innerHeight+"px"}}function E(e){return e.currentStyle||document.defaultView.getComputedStyle(e)}function M(e){return e.offsetWidth}function R(e){return tt()&&e.firstChild&&"CAPTION"===e.firstChild.nodeName?e.offsetHeight+e.firstChild.offsetHeight:e.offsetHeight}function O(e){return e.clientHeight||e.innerHeight}function A(e){return e.clientWidth||e.innerWidth}function L(e,t,n){window.addEventListener?e.addEventListener(t,n,!1):e.attachEvent("on"+t,n)}function D(e,t,n){window.removeEventListener?e.removeEventListener(t,n,!1):e.detachEvent("on"+t,n)}function P(e){if(e.selectionStart)return e.selectionStart;if(document.selection){e.focus();var t=document.selection.createRange();if(null==t)return 0;var n=e.createTextRange(),r=n.duplicate();return n.moveToBookmark(t.getBookmark()),r.setEndPoint("EndToStart",n),r.text.length}return 0}function H(e){if(e.selectionEnd)return e.selectionEnd;if(document.selection){var t=document.selection.createRange();if(null==t)return 0;var n=e.createTextRange();return n.text.indexOf(t.text)+t.text.length}}function N(){var e="";return window.getSelection?e=window.getSelection().toString():document.selection&&"Control"!==document.selection.type&&(e=document.selection.createRange().text),e}function I(e,t,n){if(void 0===n&&(n=t),e.setSelectionRange){e.focus();try{e.setSelectionRange(t,n)}catch(r){var i=e.parentNode,o=i.style.display;i.style.display="block",e.setSelectionRange(t,n),i.style.display=o}}else if(e.createTextRange){var a=e.createTextRange();a.collapse(!0),a.moveEnd("character",n),a.moveStart("character",t),a.select()}}function j(){var e=document.createElement("p");e.style.width="100%",e.style.height="200px";var t=document.createElement("div");t.style.position="absolute",t.style.top="0px",t.style.left="0px",t.style.visibility="hidden",t.style.width="200px",t.style.height="150px",t.style.overflow="hidden",t.appendChild(e),(document.body||document.documentElement).appendChild(t);var n=e.offsetWidth;t.style.overflow="scroll";var r=e.offsetWidth;return n==r&&(r=t.clientWidth),(document.body||document.documentElement).removeChild(t),n-r}function F(){return void 0===ot&&(ot=j()),ot}function W(e,t,n){Z()||Q()?(e.style.top=n,e.style.left=t):et()?e.style["-webkit-transform"]="translate3d("+t+","+n+",0)":e.style.transform="translate3d("+t+","+n+",0)"}function B(e){var t;return e.style.transform&&""!==(t=e.style.transform)?["transform",t]:e.style["-webkit-transform"]&&""!==(t=e.style["-webkit-transform"])?["-webkit-transform",t]:-1}function z(e){e.transform&&""!==e.transform?e.transform="":e["-webkit-transform"]&&""!==e["-webkit-transform"]&&(e["-webkit-transform"]="")}function U(e){var t=["INPUT","SELECT","TEXTAREA"];return t.indexOf(e.nodeName)>-1||"true"===e.contentEditable}function V(e){return U(e)&&-1==e.className.indexOf("handsontableInput")&&-1==e.className.indexOf("copyPaste")}function q(e){return ct.call(window,e)}function $(e){ht.call(window,e)}Object.defineProperties(n,{closest:{get:function(){return r}},isChildOf:{get:function(){return i}},isChildOfWebComponentTable:{get:function(){return o}},polymerWrap:{get:function(){return a}},polymerUnwrap:{get:function(){return s}},index:{get:function(){return l}},overlayContainsElement:{get:function(){return u}},hasClass:{get:function(){return h}},addClass:{get:function(){return d}},removeClass:{get:function(){return f}},removeTextNodes:{get:function(){return p}},empty:{get:function(){return m}},HTML_CHARACTERS:{get:function(){return at}},fastInnerHTML:{get:function(){return g}},fastInnerText:{get:function(){return v}},isVisible:{get:function(){return y}},offset:{get:function(){return b}},getWindowScrollTop:{get:function(){return w}},getWindowScrollLeft:{get:function(){return C}},getScrollTop:{get:function(){return x}},getScrollLeft:{get:function(){return k}},getScrollableElement:{get:function(){return S}},getTrimmingContainer:{get:function(){return _}},getStyle:{get:function(){return T}},getComputedStyle:{get:function(){return E}},outerWidth:{get:function(){return M}},outerHeight:{get:function(){return R}},innerHeight:{get:function(){return O}},innerWidth:{get:function(){return A}},addEvent:{get:function(){return L}},removeEvent:{get:function(){return D}},getCaretPosition:{get:function(){return P}},getSelectionEndPosition:{get:function(){return H}},getSelectionText:{get:function(){return N}},setCaretPosition:{get:function(){return I}},getScrollbarWidth:{get:function(){return F}},setOverlayPosition:{get:function(){return W}},getCssTransform:{get:function(){return B}},resetCssTransform:{get:function(){return z}},isInput:{get:function(){return U}},isOutsideInput:{get:function(){return V}},requestAnimationFrame:{get:function(){return q}},cancelAnimationFrame:{get:function(){return $}},__esModule:{value:!0}});var Y,G,K,X,J=(Y=e("../browser"),Y&&Y.__esModule&&Y||{"default":Y}),Z=J.isIE8,Q=J.isIE9,et=J.isSafari,tt=J.hasCaptionProblem,nt=document.documentElement.classList?!0:!1;if(nt){var rt=function(){var e=document.createElement("div");return e.classList.add("test","test2"),e.classList.contains("test2")}();G=function(e,t){return""===t?!1:e.classList.contains(t)},K=function(e,t){var n=0;if("string"==typeof t&&(t=t.split(" ")),t=c(t),rt)e.classList.add.apply(e.classList,t);else for(;t&&t[n];)e.classList.add(t[n]),n++},X=function(e,t){var n=0;if("string"==typeof t&&(t=t.split(" ")),t=c(t),rt)e.classList.remove.apply(e.classList,t);else for(;t&&t[n];)e.classList.remove(t[n]),n++}}else{var it=function(e){return new RegExp("(\\s|^)"+e+"(\\s|$)")};G=function(e,t){return e.className.match(it(t))?!0:!1},K=function(e,t){var n=0,r=e.className;if("string"==typeof t&&(t=t.split(" ")),""===r)r=t.join(" ");else for(;t&&t[n];)it(t[n]).test(r)||(r+=" "+t[n]),n++;e.className=r},X=function(e,t){var n=0,r=e.className;for("string"==typeof t&&(t=t.split(" "));t&&t[n];)r=r.replace(it(t[n])," ").trim(),n++;e.className!==r&&(e.className=r)}}for(var ot,at=/(<(.*)>|&(.*);)/,st=document.createTextNode("test").textContent?!0:!1,lt=0,ut=["ms","moz","webkit","o"],ct=window.requestAnimationFrame,ht=window.cancelAnimationFrame,dt=0;dt<ut.length&&!ct;++dt)ct=window[ut[dt]+"RequestAnimationFrame"],ht=window[ut[dt]+"CancelAnimationFrame"]||window[ut[dt]+"CancelRequestAnimationFrame"];ct||(ct=function(e){var t=(new Date).getTime(),n=Math.max(0,16-(t-lt)),r=window.setTimeout(function(){e(t+n)},n);return lt=t+n,r}),ht||(ht=function(e){clearTimeout(e)})},{"../browser":43}],46:[function(e,t,n){"use strict";function r(e){e.isImmediatePropagationEnabled=!1,e.cancelBubble=!0}function i(e){return e.isImmediatePropagationEnabled===!1}function o(e){"function"==typeof e.stopPropagation?e.stopPropagation():e.cancelBubble=!0}function a(e){if(e.pageX)return e.pageX;var t=getWindowScrollLeft(),n=e.clientX+t;return n}function s(e){if(e.pageY)return e.pageY;var t=getWindowScrollTop(),n=e.clientY+t;return n}Object.defineProperties(n,{stopImmediatePropagation:{get:function(){return r}},isImmediatePropagationStopped:{get:function(){return i}},stopPropagation:{get:function(){return o}},pageX:{get:function(){return a}},pageY:{get:function(){return s}},__esModule:{value:!0}})},{}],47:[function(e,t,n){"use strict";function r(e,t){return function(){return e.apply(t,arguments)}}function i(e){function t(){var t=this,a=arguments,s=Date.now(),l=!1;i.lastCallThrottled=!0,r||(r=s,l=!0);var u=n-(s-r);return l?(i.lastCallThrottled=!1,e.apply(this,a)):(o&&clearTimeout(o),o=setTimeout(function(){i.lastCallThrottled=!1,e.apply(t,a),r=0,o=void 0},u)),i}var n=void 0!==arguments[1]?arguments[1]:200,r=0,i={lastCallThrottled:!0},o=null;return t}function o(e){function t(){s=o}function n(){return s?(s--,e.apply(this,arguments)):a.apply(this,arguments)}var r=void 0!==arguments[1]?arguments[1]:200,o=void 0!==arguments[2]?arguments[2]:10,a=i(e,r),s=o;return n.clearHits=t,n}Object.defineProperties(n,{proxy:{get:function(){return r}},throttle:{get:function(){return i}},throttleAfterHits:{get:function(){return o}},__esModule:{value:!0}})},{}],48:[function(e,t,n){"use strict";function r(e){switch(typeof e){case"string":case"number":return e+"";case"object":return null===e?"":e.toString();case"undefined":return"";default:return e.toString()}}Object.defineProperties(n,{stringify:{get:function(){return r}},__esModule:{value:!0}})},{}],49:[function(e,t,n){"use strict";function r(e){var t=typeof e;return"number"==t?!isNaN(e)&&isFinite(e):"string"==t?e.length?1==e.length?/\d/.test(e):/^\s*[+-]?\s*(?:(?:\d+(?:\.\d+)?(?:e[+-]?\d+)?)|(?:0x[a-f\d]+))\s*$/i.test(e):!1:"object"==t?!(!e||"number"!=typeof e.valueOf()||e instanceof Date):!1}function i(e,t,n){var r=-1;for("function"==typeof t?(n=t,t=e):r=e-1;++r<=t&&n(r)!==!1;);}function o(e,t,n){var r=e+1;for("function"==typeof t&&(n=t,t=0);--r>=t&&n(r)!==!1;);}function a(e,t){return t=parseInt(t.toString().replace("%",""),10),t=parseInt(e*t/100)}Object.defineProperties(n,{isNumeric:{get:function(){return r}},rangeEach:{get:function(){return i}},rangeEachReverse:{get:function(){return o}},valueAccordingPercent:{get:function(){return a}},__esModule:{value:!0}})},{}],50:[function(e,t,n){"use strict";function r(e){var t;return Array.isArray(e)?t=[]:(t={},p(e,function(e,n){t[n]=e&&"object"==typeof e&&!Array.isArray(e)?r(e):Array.isArray(e)?e.length&&"object"==typeof e[0]&&!Array.isArray(e[0])?[r(e[0])]:[]:null})),t}function i(e,t){return t.prototype.constructor=t,e.prototype=new t,e.prototype.constructor=e,e}function o(e,t){return p(t,function(t,n){e[n]=t}),e}function a(e,t){p(t,function(n,r){t[r]&&"object"==typeof t[r]?(e[r]||(e[r]=Array.isArray(t[r])?[]:{}),a(e[r],t[r])):e[r]=t[r]})}function s(e){return"object"==typeof e?JSON.parse(JSON.stringify(e)):e}function l(e){var t={};return p(e,function(e,n){t[n]=e}),t}function u(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return e.MIXINS||(e.MIXINS=[]),v(t,function(t){e.MIXINS.push(t.MIXIN_NAME),p(t,function(t,n){if(void 0!==e.prototype[n])throw new Error("Mixin conflict. Property '"+n+"' already exist and cannot be overwritten.");if("function"==typeof t)e.prototype[n]=t;else{var r=function(e,t){e="_"+e;var n=function(e){return(Array.isArray(e)||h(e))&&(e=s(e)),e};return function(){return void 0===this[e]&&(this[e]=n(t)),this[e]}},i=function(e){return e="_"+e,function(t){this[e]=t}};Object.defineProperty(e.prototype,n,{get:r(n,t),set:i(n),configurable:!0})}})}),e}function c(e,t){return JSON.stringify(e)===JSON.stringify(t)}function h(e){return"[object Object]"==Object.prototype.toString.call(e)}function d(e){var t;if("object"==typeof e.__proto__)t=e.__proto__;else{var n,r=e.constructor;"function"==typeof e.constructor&&(n=r,delete e.constructor&&(r=e.constructor,e.constructor=n)),t=r?r.prototype:null}return t}function f(e,t,n,r){r.value=n,r.writable=r.writable!==!1,r.enumerable=r.enumerable!==!1,r.configurable=r.configurable!==!1,Object.defineProperty(e,t,r)}function p(e,t){for(var n in e)if((!e.hasOwnProperty||e.hasOwnProperty&&e.hasOwnProperty(n))&&t(e[n],n,e)===!1)break;return e}function m(e,t){var n=t.split("."),r=e;return p(n,function(e){return r=r[e],void 0===r?(r=void 0,!1):void 0}),r}Object.defineProperties(n,{duckSchema:{get:function(){return r}},inherit:{get:function(){return i}},extend:{get:function(){return o}},deepExtend:{get:function(){return a}},deepClone:{get:function(){return s}},clone:{get:function(){return l}},mixin:{get:function(){return u}},isObjectEquals:{get:function(){return c}},isObject:{get:function(){return h}},getPrototypeOf:{get:function(){return d}},defineGetter:{get:function(){return f}},objectEach:{get:function(){return p}},getProperty:{get:function(){return m}},__esModule:{value:!0}});var g,v=(g=e("array"),g&&g.__esModule&&g||{"default":g}).arrayEach},{array:42}],51:[function(e,t,n){"use strict";function r(e,t){function n(){}o(n,e);for(var r=0,i=t.length;i>r;r++)n.prototype[t[r]]=void 0;return n}Object.defineProperties(n,{columnFactory:{get:function(){return r}},__esModule:{value:!0}});var i,o=(i=e("object"),i&&i.__esModule&&i||{"default":i}).inherit},{object:50}],52:[function(e,t,n){"use strict";function r(e){return e[0].toUpperCase()+e.substr(1)}function i(e,t){var n=!0;return p(t.length-1,function(r){return e.charAt(r)!==t.charAt(r)?(n=!1,!1):void 0}),n}function o(e,t){var n=!0,r=t.length-1,i=e.length-1;return p(r,function(o){var a=i-o,s=r-o;return e.charAt(a)!==t.charAt(s)?(n=!1,!1):void 0}),n}function a(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=[],r=e.length;r--;){var i=f(e[r]).toLowerCase();-1===n.indexOf(i)&&n.push(i)}return 1===n.length}function s(){function e(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return e()+e()+e()+e()}function l(e){return/^([0-9][0-9]?\%$)|(^100\%$)/.test(e)}function u(e){var t=void 0!==arguments[1]?arguments[1]:{};return(e+"").replace(/(?:\\)?\[([^\[\]]+)]/g,function(e,n){return"\\"===e.charAt(0)?e.substr(1,e.length-1):void 0===t[n]?"":t[n]})}function c(e,t){var n=void 0!==arguments[2]?arguments[2]:" ";if(e+="",e.length>=t)return e;n=String(n);var r=n.length;r||(n=" ");var i=t-e.length,o=Math.ceil(i/n.length),a="";return p(o,function(){a+=n}),a=a.slice(0,i),a+e}Object.defineProperties(n,{toUpperCaseFirst:{get:function(){return r}},startsWith:{get:function(){return i}},endsWith:{get:function(){return o}},equalsIgnoreCase:{get:function(){return a}},randomString:{get:function(){return s}},isPercentValue:{get:function(){return l}},substitute:{get:function(){return u}},padStart:{get:function(){return c}},__esModule:{value:!0}});var h,d,f=(h=e("mixed"),h&&h.__esModule&&h||{"default":h}).stringify,p=(d=e("number"),d&&d.__esModule&&d||{"default":d}).rangeEach},{mixed:48,number:49}],53:[function(e,t,n){"use strict";function r(e){return 32==e||e>=48&&57>=e||e>=96&&111>=e||e>=186&&192>=e||e>=219&&222>=e||e>=226||e>=65&&90>=e}function i(e){var t=[u.ARROW_DOWN,u.ARROW_UP,u.ARROW_LEFT,u.ARROW_RIGHT,u.HOME,u.END,u.DELETE,u.BACKSPACE,u.F1,u.F2,u.F3,u.F4,u.F5,u.F6,u.F7,u.F8,u.F9,u.F10,u.F11,u.F12,u.TAB,u.PAGE_DOWN,u.PAGE_UP,u.ENTER,u.ESCAPE,u.SHIFT,u.CAPS_LOCK,u.ALT];return-1!==t.indexOf(e)}function o(e){return-1!==[u.CONTROL_LEFT,224,u.COMMAND_LEFT,u.COMMAND_RIGHT].indexOf(e)}function a(e,t){var n=t.split("|"),r=!1;return l(n,function(t){return e===u[t]?(r=!0,!1):void 0}),r}Object.defineProperties(n,{KEY_CODES:{get:function(){return u}},isPrintableChar:{get:function(){return r}},isMetaKey:{get:function(){return i}},isCtrlKey:{get:function(){return o}},isKey:{get:function(){return a}},__esModule:{value:!0}});var s,l=(s=e("array"),s&&s.__esModule&&s||{"default":s}).arrayEach,u={MOUSE_LEFT:1,MOUSE_RIGHT:3,MOUSE_MIDDLE:2,BACKSPACE:8,COMMA:188,INSERT:45,DELETE:46,END:35,ENTER:13,ESCAPE:27,CONTROL_LEFT:91,COMMAND_LEFT:17,COMMAND_RIGHT:93,ALT:18,HOME:36,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,SPACE:32,SHIFT:16,CAPS_LOCK:20,TAB:9,ARROW_RIGHT:39,ARROW_LEFT:37,ARROW_UP:38,ARROW_DOWN:40,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,A:65,X:88,C:67,V:86}},{array:42}],54:[function(e,t,n){"use strict";Object.defineProperties(n,{localHooks:{get:function(){return l}},__esModule:{value:!0}});var r,i,o=(r=e("helpers/array"),r&&r.__esModule&&r||{"default":r}).arrayEach,a=(i=e("helpers/object"),i&&i.__esModule&&i||{"default":i}).defineGetter,s="localHooks",l={_localHooks:Object.create(null),addLocalHook:function(e,t){this._localHooks[e]||(this._localHooks[e]=[]),this._localHooks[e].push(t)},runLocalHooks:function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=this;this._localHooks[e]&&o(this._localHooks[e],function(e){return e.apply(r,t)})},clearLocalHooks:function(){this._localHooks={}}};a(l,"MIXIN_NAME",s,{writable:!1,enumerable:!1}),Handsontable.utils=Handsontable.utils||{},Handsontable.utils.localHooks=l},{"helpers/array":42,"helpers/object":50}],55:[function(e,t,n){"use strict";function r(){function e(e){return null!==e&&!n(e)&&("string"==typeof e||"number"==typeof e)}function t(e){return null!==e&&("object"==typeof e||"function"==typeof e)}function n(e){return e!==e}var r={arrayMap:[],weakMap:new WeakMap};return{get:function(n){return e(n)?r.arrayMap[n]:t(n)?r.weakMap.get(n):void 0},set:function(n,i){if(e(n))r.arrayMap[n]=i;else{if(!t(n))throw new Error("Invalid key type");r.weakMap.set(n,i)}},"delete":function(n){e(n)?delete r.arrayMap[n]:t(n)&&r.weakMap.delete(n)}}}Object.defineProperties(n,{MultiMap:{get:function(){return r}},__esModule:{value:!0}}),window.MultiMap=r},{}],56:[function(e,t,n){"use strict";Object.defineProperties(n,{Hooks:{get:function(){return l}},__esModule:{value:!0}});var r,i,o=["afterCellMetaReset","afterChange","afterChangesObserved","afterContextMenuDefaultOptions","afterContextMenuHide","afterContextMenuShow","afterCopyLimit","afterCreateCol","afterCreateRow","afterDeselect","afterDestroy","afterDocumentKeyDown","afterGetCellMeta","afterGetColHeader","afterGetRowHeader","afterInit","afterLoadData","afterMomentumScroll","afterOnCellCornerMouseDown","afterOnCellMouseDown","afterOnCellMouseOver","afterRemoveCol","afterRemoveRow","afterRender","afterRenderer","afterScrollHorizontally","afterScrollVertically","afterSelection","afterSelectionByProp","afterSelectionEnd","afterSelectionEndByProp","afterSetCellMeta","afterUpdateSettings","afterValidate","beforeAutofill","beforeCellAlignment","beforeChange","beforeChangeRender","beforeDrawBorders","beforeGetCellMeta","beforeInit","beforeInitWalkontable","beforeKeyDown","beforeOnCellMouseDown","beforeRemoveCol","beforeRemoveRow","beforeRender","beforeSetRangeEnd","beforeTouchScroll","beforeValidate","construct","init","modifyCol","modifyColHeader","modifyColWidth","modifyRow","modifyRowHeader","modifyRowHeight","persistentStateLoad","persistentStateReset","persistentStateSave","beforeColumnSort","afterColumnSort","afterAutofillApplyValues","modifyCopyableRange","beforeColumnMove","afterColumnMove","beforeRowMove","afterRowMove","beforeColumnResize","afterColumnResize","beforeRowResize","afterRowResize"],a=(r=e("helpers/array"),r&&r.__esModule&&r||{"default":r}).arrayEach,s=(i=e("helpers/object"),i&&i.__esModule&&i||{"default":i}).objectEach,l=function(){this.globalBucket=this.createEmptyBucket()};$traceurRuntime.createClass(l,{createEmptyBucket:function(){var e=Object.create(null);return a(o,function(t){return e[t]=[]}),e},getBucket:function(){var e=void 0!==arguments[0]?arguments[0]:null;return e?(e.pluginHookBucket||(e.pluginHookBucket=this.createEmptyBucket()),e.pluginHookBucket):this.globalBucket},add:function(e,t){var n=void 0!==arguments[2]?arguments[2]:null,r=this;if(Array.isArray(t))a(t,function(t){return r.add(e,t,n)});else{var i=this.getBucket(n);"undefined"==typeof i[e]&&(this.register(e),i[e]=[]),t.skip=!1,-1===i[e].indexOf(t)&&i[e].push(t)}return this},once:function(e,t){var n=void 0!==arguments[2]?arguments[2]:null,r=this;Array.isArray(t)?a(t,function(t){return r.once(e,t,n)}):(t.runOnce=!0,this.add(e,t,n))},remove:function(e,t){var n=void 0!==arguments[2]?arguments[2]:null,r=this.getBucket(n);return"undefined"!=typeof r[e]&&r[e].indexOf(t)>=0?(t.skip=!0,!0):!1},has:function(e){var t=void 0!==arguments[1]?arguments[1]:null,n=this.getBucket(t);return void 0!==n[e]&&n[e].length?!0:!1},run:function(e,t,n,r,i,o,a,s){var l=this.globalBucket[t],u=-1,c=l?l.length:0;if(c)for(;++u<c;)if(l[u]&&!l[u].skip){var h=l[u].call(e,n,r,i,o,a,s);void 0!==h&&(n=h),l[u]&&l[u].runOnce&&this.remove(t,l[u])}var d=this.getBucket(e)[t],f=-1,p=d?d.length:0;if(p)for(;++f<p;)if(d[f]&&!d[f].skip){var m=d[f].call(e,n,r,i,o,a,s);void 0!==m&&(n=m),d[f]&&d[f].runOnce&&this.remove(t,d[f],e)}return n},destroy:function(){var e=void 0!==arguments[0]?arguments[0]:null;s(this.getBucket(e),function(e,t,n){return n[t].length=0})},register:function(e){this.isRegistered(e)||o.push(e)},deregister:function(e){this.isRegistered(e)&&o.splice(o.indexOf(e),1)},isRegistered:function(e){return o.indexOf(e)>=0},getRegistered:function(){return o}},{}),Handsontable.utils=Handsontable.utils||{},Handsontable.utils.Hooks=l},{"helpers/array":42,"helpers/object":50}],57:[function(e,t,n){"use strict";function r(e,t){e=c(e),Handsontable.plugins[e]=t,Handsontable.hooks.add("construct",function(){var n;h.has(this)||h.set(this,{}),n=h.get(this),n[e]||(n[e]=new t(this))}),Handsontable.hooks.add("afterDestroy",function(){if(h.has(this)){var e=h.get(this);u(e,function(e){return e.destroy()}),h.delete(this)}})}function i(e,t){if("string"!=typeof t)throw Error('Only strings can be passed as "plugin" parameter');var n=c(t);return h.has(e)&&h.get(e)[n]?h.get(e)[n]:void 0}function o(e){return h.has(e)?Object.keys(h.get(e)):[]}function a(e,t){var n=null;return h.has(e)&&u(h.get(e),function(e,r){e===t&&(n=r)}),n}Object.defineProperties(n,{registerPlugin:{get:function(){return r}},getPlugin:{get:function(){return i}},getRegistredPluginNames:{get:function(){return o}},getPluginName:{get:function(){return a}},__esModule:{value:!0}});var s,l,u=(s=e("helpers/object"),s&&s.__esModule&&s||{"default":s}).objectEach,c=(l=e("helpers/string"),l&&l.__esModule&&l||{"default":l}).toUpperCaseFirst,h=new WeakMap;Handsontable.plugins=Handsontable.plugins||{},Handsontable.plugins.utils=Handsontable.plugins.utils||{},Handsontable.plugins.registerPlugin=r},{"helpers/object":50,"helpers/string":52}],58:[function(e,t,n){"use strict";Object.defineProperties(n,{"default":{get:function(){return g}},__esModule:{value:!0}});var r,i,o,a=(r=e("helpers/object"),r&&r.__esModule&&r||{"default":r}),s=a.defineGetter,l=a.objectEach,u=(i=e("helpers/array"),i&&i.__esModule&&i||{"default":i}).arrayEach,c=(o=e("plugins"),o&&o.__esModule&&o||{"default":o}),h=c.getRegistredPluginNames,d=c.getPluginName,f=new WeakMap,p=null,m=function(e){var t=this;s(this,"hot",e,{writable:!1}),f.set(this,{hooks:{}}),p=null,this.pluginName=null,this.pluginsInitializedCallbacks=[],this.isPluginsReady=!1,this.enabled=!1,this.initialized=!1,this.hot.addHook("afterPluginsInitialized",function(){return t.onAfterPluginsInitialized()}),this.hot.addHook("afterUpdateSettings",function(){return t.onUpdateSettings()}),this.hot.addHook("beforeInit",function(){return t.init()})};$traceurRuntime.createClass(m,{init:function(){this.pluginName=d(this.hot,this),this.isEnabled&&this.isEnabled()&&this.enablePlugin(),p||(p=h(this.hot)),p.indexOf(this.pluginName)>=0&&p.splice(p.indexOf(this.pluginName),1),p.length||this.hot.runHooks("afterPluginsInitialized"),this.initialized=!0},enablePlugin:function(){this.enabled=!0},disablePlugin:function(){this.eventManager&&this.eventManager.clear(),this.clearHooks(),this.enabled=!1},addHook:function(e,t){var n=f.get(this).hooks[e]=f.get(this).hooks[e]||[];this.hot.addHook(e,t),n.push(t),f.get(this).hooks[e]=n},removeHooks:function(e){var t=this;u(f.get(this).hooks[e]||[],function(n){t.hot.removeHook(e,n)})},clearHooks:function(){var e=this,t=f.get(this).hooks;l(t,function(t,n){return e.removeHooks(n)}),t.length=0},callOnPluginsReady:function(e){this.isPluginsReady?e():this.pluginsInitializedCallbacks.push(e)},onAfterPluginsInitialized:function(){u(this.pluginsInitializedCallbacks,function(e){return e()}),this.pluginsInitializedCallbacks.length=0,this.isPluginsReady=!0},onUpdateSettings:function(){this.isEnabled&&(this.enabled&&!this.isEnabled()&&this.disablePlugin(),!this.enabled&&this.isEnabled()&&this.enablePlugin(),this.enabled&&this.isEnabled()&&this.updatePlugin())},updatePlugin:function(){},destroy:function(){var e=this;this.eventManager&&this.eventManager.destroy(),this.clearHooks(),l(this,function(t,n){"hot"!==n&&(e[n]=null)}),delete this.hot}},{});var g=m;Handsontable.plugins.BasePlugin=m},{"helpers/array":42,"helpers/object":50,plugins:57}],59:[function(e,t,n){"use strict";Object.defineProperties(n,{AutoColumnSize:{get:function(){return A}},__esModule:{value:!0}});var r,i,o,a,s,l,u,c,h,d,f=(r=e("_base"),r&&r.__esModule&&r||{"default":r}).default,p=(i=e("helpers/array"),i&&i.__esModule&&i||{"default":i}),m=p.arrayEach,g=p.arrayFilter,v=(o=e("helpers/dom/element"),o&&o.__esModule&&o||{"default":o}),y=v.cancelAnimationFrame,b=v.requestAnimationFrame,w=v.isVisible,C=(a=e("utils/ghostTable"),a&&a.__esModule&&a||{"default":a}).GhostTable,x=(s=e("helpers/object"),s&&s.__esModule&&s||{"default":s}),k=x.isObject,S=(x.objectEach,l=e("helpers/number"),l&&l.__esModule&&l||{"default":l}),_=S.valueAccordingPercent,T=S.rangeEach,E=(u=e("plugins"),u&&u.__esModule&&u||{"default":u}).registerPlugin,M=(c=e("utils/samplesGenerator"),c&&c.__esModule&&c||{"default":c}).SamplesGenerator,R=(h=e("helpers/string"),h&&h.__esModule&&h||{"default":h}).isPercentValue,O=(d=e("3rdparty/walkontable/src/calculator/viewportColumns"),d&&d.__esModule&&d||{"default":d}).WalkontableViewportColumnsCalculator,A=function(e){var t=this;$traceurRuntime.superConstructor(L).call(this,e),this.widths=[],this.ghostTable=new C(this.hot),this.samplesGenerator=new M(function(e,n){return t.hot.getDataAtCell(e,n)}),this.firstCalculation=!0,this.inProgress=!1,this.addHook("beforeColumnResize",function(e,n,r){return t.onBeforeColumnResize(e,n,r)})},L=A;$traceurRuntime.createClass(A,{isEnabled:function(){return this.hot.getSettings().autoColumnSize!==!1&&!this.hot.getSettings().colWidths},enablePlugin:function(){var e=this;this.enabled||(this.addHook("afterLoadData",function(){return e.onAfterLoadData()}),this.addHook("beforeChange",function(t){return e.onBeforeChange(t)}),this.addHook("beforeRender",function(t){return e.onBeforeRender(t)}),this.addHook("modifyColWidth",function(t,n){return e.getColumnWidth(n,t)}),$traceurRuntime.superGet(this,L.prototype,"enablePlugin").call(this))},disablePlugin:function(){$traceurRuntime.superGet(this,L.prototype,"disablePlugin").call(this)},calculateColumnsWidth:function(){var e=void 0!==arguments[0]?arguments[0]:{from:0,to:this.hot.countCols()-1},t=void 0!==arguments[1]?arguments[1]:{from:0,to:this.hot.countRows()-1},n=void 0!==arguments[2]?arguments[2]:!1,r=this;"number"==typeof e&&(e={from:e,to:e}),"number"==typeof t&&(t={from:t,to:t}),T(e.from,e.to,function(e){if(n||void 0===r.widths[e]&&!r.hot._getColWidthFromSettings(e)){var i=r.samplesGenerator.generateColumnSamples(e,t);i.forEach(function(e,t){return r.ghostTable.addColumn(t,e)})}}),this.ghostTable.columns.length&&(this.ghostTable.getWidths(function(e,t){return r.widths[e]=t}),this.ghostTable.clean())},calculateAllColumnsWidth:function(){var e=void 0!==arguments[0]?arguments[0]:{from:0,to:this.hot.countRows()-1},t=this,n=0,r=this.hot.countCols()-1,i=null;this.inProgress=!0;var o=function(){return t.hot?(t.calculateColumnsWidth({from:n,to:Math.min(n+L.CALCULATION_STEP,r)},e),n=n+L.CALCULATION_STEP+1,r>n?i=b(o):(y(i),t.inProgress=!1,t.hot.view.wt.wtOverlays.adjustElementsSize(!0),t.hot.view.wt.wtOverlays.leftOverlay.needFullRender&&t.hot.view.wt.wtOverlays.leftOverlay.clone.draw()),void 0):(y(i),t.inProgress=!1,void 0)};this.firstCalculation&&this.getSyncCalculationLimit()&&(this.calculateColumnsWidth({from:0,to:this.getSyncCalculationLimit()},e),this.firstCalculation=!1,n=this.getSyncCalculationLimit()+1),r>n?o():this.inProgress=!1},recalculateAllColumnsWidth:function(){this.hot.view&&w(this.hot.view.wt.wtTable.TABLE)&&(this.clearCache(),this.calculateAllColumnsWidth())},getSyncCalculationLimit:function(){var e=L.SYNC_CALCULATION_LIMIT,t=this.hot.countCols()-1;return k(this.hot.getSettings().autoColumnSize)&&(e=this.hot.getSettings().autoColumnSize.syncLimit,R(e)?e=_(t,e):e>>=0),Math.min(e,t)},getColumnWidth:function(e){var t=arguments[1],n=void 0!==arguments[2]?arguments[2]:!0,r=t;return void 0===r&&(r=this.widths[e],n&&"number"==typeof r&&(r=Math.max(r,O.DEFAULT_WIDTH))),r},getFirstVisibleColumn:function(){var e=this.hot.view.wt;return e.wtViewport.columnsVisibleCalculator?e.wtTable.getFirstVisibleColumn():e.wtViewport.columnsRenderCalculator?e.wtTable.getFirstRenderedColumn():-1},getLastVisibleColumn:function(){var e=this.hot.view.wt;return e.wtViewport.columnsVisibleCalculator?e.wtTable.getLastVisibleColumn():e.wtViewport.columnsRenderCalculator?e.wtTable.getLastRenderedColumn():-1},clearCache:function(){this.widths.length=0},isNeedRecalculate:function(){return g(this.widths,function(e){return void 0===e}).length?!0:!1},onBeforeRender:function(){var e=this.hot.renderCall;this.calculateColumnsWidth({from:this.getFirstVisibleColumn(),to:this.getLastVisibleColumn()},void 0,e),this.isNeedRecalculate()&&!this.inProgress&&this.calculateAllColumnsWidth()},onAfterLoadData:function(){var e=this;this.hot.view?this.recalculateAllColumnsWidth():setTimeout(function(){e.hot&&e.recalculateAllColumnsWidth()},0)},onBeforeChange:function(e){var t=this;m(e,function(e){return t.widths[e[1]]=void 0})},onBeforeColumnResize:function(e,t,n){return n&&(this.calculateColumnsWidth(e,void 0,!0),t=this.getColumnWidth(e,void 0,!1)),t},destroy:function(){this.ghostTable.clean(),$traceurRuntime.superGet(this,L.prototype,"destroy").call(this)}},{get CALCULATION_STEP(){return 50},get SYNC_CALCULATION_LIMIT(){return 50}},f),E("autoColumnSize",A)},{"3rdparty/walkontable/src/calculator/viewportColumns":3,_base:58,"helpers/array":42,"helpers/dom/element":45,"helpers/number":49,"helpers/object":50,"helpers/string":52,plugins:57,"utils/ghostTable":98,"utils/samplesGenerator":99}],60:[function(e,t,n){"use strict";Object.defineProperties(n,{AutoRowSize:{get:function(){return M}},__esModule:{value:!0}});var r,i,o,a,s,l,u,c,h,d=(r=e("_base"),r&&r.__esModule&&r||{"default":r}).default,f=(i=e("helpers/array"),i&&i.__esModule&&i||{"default":i}),p=(f.arrayEach,f.arrayFilter),m=(o=e("helpers/dom/element"),o&&o.__esModule&&o||{"default":o}),g=m.cancelAnimationFrame,v=m.requestAnimationFrame,y=m.isVisible,b=(a=e("utils/ghostTable"),a&&a.__esModule&&a||{"default":a}).GhostTable,w=(s=e("helpers/object"),s&&s.__esModule&&s||{"default":s}),C=w.isObject,x=(w.objectEach,l=e("helpers/number"),l&&l.__esModule&&l||{"default":l}),k=x.valueAccordingPercent,S=x.rangeEach,_=(u=e("plugins"),u&&u.__esModule&&u||{"default":u}).registerPlugin,T=(c=e("utils/samplesGenerator"),c&&c.__esModule&&c||{"default":c}).SamplesGenerator,E=(h=e("helpers/string"),h&&h.__esModule&&h||{"default":h}).isPercentValue,M=function(e){var t=this;
$traceurRuntime.superConstructor(R).call(this,e),this.heights=[],this.ghostTable=new b(this.hot),this.samplesGenerator=new T(function(e,n){return t.hot.getDataAtCell(e,n)}),this.firstCalculation=!0,this.inProgress=!1,this.addHook("beforeRowResize",function(e,n,r){return t.onBeforeRowResize(e,n,r)})},R=M;$traceurRuntime.createClass(M,{isEnabled:function(){return this.hot.getSettings().autoRowSize===!0||C(this.hot.getSettings().autoRowSize)},enablePlugin:function(){var e=this;this.enabled||(this.addHook("afterLoadData",function(){return e.onAfterLoadData()}),this.addHook("beforeChange",function(t){return e.onBeforeChange(t)}),this.addHook("beforeColumnMove",function(){return e.recalculateAllRowsHeight()}),this.addHook("beforeColumnResize",function(){return e.recalculateAllRowsHeight()}),this.addHook("beforeColumnSort",function(){return e.clearCache()}),this.addHook("beforeRender",function(t){return e.onBeforeRender(t)}),this.addHook("beforeRowMove",function(t,n){return e.onBeforeRowMove(t,n)}),this.addHook("modifyRowHeight",function(t,n){return e.getRowHeight(n,t)}),$traceurRuntime.superGet(this,R.prototype,"enablePlugin").call(this))},disablePlugin:function(){$traceurRuntime.superGet(this,R.prototype,"disablePlugin").call(this)},calculateRowsHeight:function(){var e=void 0!==arguments[0]?arguments[0]:{from:0,to:this.hot.countRows()-1},t=void 0!==arguments[1]?arguments[1]:{from:0,to:this.hot.countCols()-1},n=void 0!==arguments[2]?arguments[2]:!1,r=this;"number"==typeof e&&(e={from:e,to:e}),"number"==typeof t&&(t={from:t,to:t}),S(e.from,e.to,function(e){if(n||void 0===r.heights[e]){var i=r.samplesGenerator.generateRowSamples(e,t);i.forEach(function(e,t){return r.ghostTable.addRow(t,e)})}}),this.ghostTable.rows.length&&(this.ghostTable.getHeights(function(e,t){return r.heights[e]=t}),this.ghostTable.clean())},calculateAllRowsHeight:function(){var e=void 0!==arguments[0]?arguments[0]:{from:0,to:this.hot.countCols()-1},t=this,n=0,r=this.hot.countRows()-1,i=null;this.inProgress=!0;var o=function(){return t.hot?(t.calculateRowsHeight({from:n,to:Math.min(n+R.CALCULATION_STEP,r)},e),n=n+R.CALCULATION_STEP+1,r>n?i=v(o):(g(i),t.inProgress=!1,t.hot.view.wt.wtOverlays.adjustElementsSize(!0),t.hot.view.wt.wtOverlays.leftOverlay.needFullRender&&t.hot.view.wt.wtOverlays.leftOverlay.clone.draw()),void 0):(g(i),t.inProgress=!1,void 0)};this.firstCalculation&&this.getSyncCalculationLimit()&&(this.calculateRowsHeight({from:0,to:this.getSyncCalculationLimit()},e),this.firstCalculation=!1,n=this.getSyncCalculationLimit()+1),r>n?o():this.inProgress=!1},recalculateAllRowsHeight:function(){y(this.hot.view.wt.wtTable.TABLE)&&(this.clearCache(),this.calculateAllRowsHeight())},getSyncCalculationLimit:function(){var e=R.SYNC_CALCULATION_LIMIT,t=this.hot.countRows()-1;return C(this.hot.getSettings().autoRowSize)&&(e=this.hot.getSettings().autoRowSize.syncLimit,E(e)?e=k(t,e):e>>=0),Math.min(e,t)},getRowHeight:function(e){var t=arguments[1],n=t;return void 0!==this.heights[e]&&this.heights[e]>(t||0)&&(n=this.heights[e]),n},getFirstVisibleRow:function(){var e=this.hot.view.wt;return e.wtViewport.rowsVisibleCalculator?e.wtTable.getFirstVisibleRow():e.wtViewport.rowsRenderCalculator?e.wtTable.getFirstRenderedRow():-1},getLastVisibleRow:function(){var e=this.hot.view.wt;return e.wtViewport.rowsVisibleCalculator?e.wtTable.getLastVisibleRow():e.wtViewport.rowsRenderCalculator?e.wtTable.getLastRenderedRow():-1},clearCache:function(){this.heights.length=0},clearCacheByRange:function(e){var t=this;"number"==typeof e&&(e={from:e,to:e}),S(Math.min(e.from,e.to),Math.max(e.from,e.to),function(e){return t.heights[e]=void 0})},isNeedRecalculate:function(){return p(this.heights,function(e){return void 0===e}).length?!0:!1},onBeforeRender:function(){var e=this.hot.renderCall;this.calculateRowsHeight({from:this.getFirstVisibleRow(),to:this.getLastVisibleRow()},void 0,e),this.isNeedRecalculate()&&!this.inProgress&&this.calculateAllRowsHeight()},onBeforeRowMove:function(e,t){this.clearCacheByRange({from:e,to:t}),this.calculateAllRowsHeight()},onBeforeRowResize:function(e,t,n){return n&&(this.calculateRowsHeight(e,void 0,!0),t=this.getRowHeight(e)),t},onAfterLoadData:function(){var e=this;this.hot.view?this.recalculateAllRowsHeight():setTimeout(function(){e.hot&&e.recalculateAllRowsHeight()},0)},onBeforeChange:function(e){var t=null;1===e.length?t=e[0][0]:e.length>1&&(t={from:e[0][0],to:e[e.length-1][0]}),null!==t&&this.clearCacheByRange(t)},destroy:function(){this.ghostTable.clean(),$traceurRuntime.superGet(this,R.prototype,"destroy").call(this)}},{get CALCULATION_STEP(){return 50},get SYNC_CALCULATION_LIMIT(){return 500}},d),_("autoRowSize",M)},{_base:58,"helpers/array":42,"helpers/dom/element":45,"helpers/number":49,"helpers/object":50,"helpers/string":52,plugins:57,"utils/ghostTable":98,"utils/samplesGenerator":99}],61:[function(e,t,n){"use strict";function r(e,t,n,r){var i,o,a,s,l,u=n.length,c=n?n[0].length:0,h=[],d=[];if(i=t.row-e.row,o=t.col-e.col,-1!==["down","up"].indexOf(r)){for(var f=0;o>=f;f++)a=parseInt(n[0][f],10),s=parseInt(n[u-1][f],10),l=("down"===r?s-a:a-s)/(u-1)||0,d.push(l);h.push(d)}if(-1!==["right","left"].indexOf(r))for(var p=0;i>=p;p++)a=parseInt(n[p][0],10),s=parseInt(n[p][c-1],10),l=("right"===r?s-a:a-s)/(c-1)||0,d=[],d.push(l),h.push(d);return h}function i(e){function t(){return e.autofill?(e.autofill.handle&&e.autofill.handle.isDragged&&(e.autofill.handle.isDragged>1&&e.autofill.apply(),e.autofill.handle.isDragged=0,s=!1),void 0):!0}function n(e){var t,n;return a.instance.autofill?(t=c(a.instance.table).top-(window.pageYOffset||document.documentElement.scrollTop)+h(a.instance.table),n=c(a.instance.table).left-(window.pageXOffset||document.documentElement.scrollLeft)+d(a.instance.table),a.addingStarted===!1&&a.instance.autofill.handle.isDragged>0&&e.clientY>t&&e.clientX<=n?(a.instance.mouseDragOutside=!0,a.addingStarted=!0):a.instance.mouseDragOutside=!1,a.instance.mouseDragOutside&&setTimeout(function(){a.addingStarted=!1,a.instance.alter("insert_row")},200),void 0):!1}var r,i,o,a=this,s=!1;this.instance=e,this.addingStarted=!1,o=f(e),o.addEventListener(document,"mouseup",t),o.addEventListener(document,"mousemove",n),r=this.instance.view.wt.wtSettings.settings.onCellCornerMouseDown,this.instance.view.wt.wtSettings.settings.onCellCornerMouseDown=function(t){e.autofill.handle.isDragged=1,s=!0,r(t)},i=this.instance.view.wt.wtSettings.settings.onCellMouseOver,this.instance.view.wt.wtSettings.settings.onCellMouseOver=function(t,n,r,o){e.autofill&&s&&!e.view.isMouseDown()&&e.autofill.handle&&e.autofill.handle.isDragged&&(e.autofill.handle.isDragged++,e.autofill.showBorder(n),e.autofill.checkIfNewRowNeeded()),i(t,n,r,o)},this.instance.view.wt.wtSettings.settings.onCellCornerDblClick=function(){e.autofill.selectAdjacent()}}Object.defineProperties(n,{Autofill:{get:function(){return i}},__esModule:{value:!0}});var o,a,s,l,u=(o=e("helpers/dom/element"),o&&o.__esModule&&o||{"default":o}),c=u.offset,h=u.outerHeight,d=u.outerWidth,f=(a=e("eventManager"),a&&a.__esModule&&a||{"default":a}).eventManager,p=((s=e("plugins"),s&&s.__esModule&&s||{"default":s}).registerPlugin,(l=e("3rdparty/walkontable/src/cell/coords"),l&&l.__esModule&&l||{"default":l}).WalkontableCellCoords);i.prototype.init=function(){this.handle={}},i.prototype.disable=function(){this.handle.disabled=!0},i.prototype.selectAdjacent=function(){var e,t,n,r,i;e=this.instance.selection.isMultiple()?this.instance.view.wt.selections.area.getCorners():this.instance.view.wt.selections.current.getCorners(),t=this.instance.getData();e:for(n=e[2]+1;n<this.instance.countRows();n++){for(i=e[1];i<=e[3];i++)if(t[n][i])break e;(t[n][e[1]-1]||t[n][e[3]+1])&&(r=n)}r&&(this.instance.view.wt.selections.fill.clear(),this.instance.view.wt.selections.fill.add(new p(e[0],e[1])),this.instance.view.wt.selections.fill.add(new p(r,e[3])),this.apply())},i.prototype.apply=function(){var e,t,n,i,o,a,s,l;this.handle.isDragged=0,this.instance.view.wt.selections.fill.isEmpty()||(e=this.instance.view.wt.selections.fill.getCorners(),this.instance.view.wt.selections.fill.clear(),t=this.instance.selection.isMultiple()?this.instance.view.wt.selections.area.getCorners():this.instance.view.wt.selections.current.getCorners(),Handsontable.hooks.run(this.instance,"afterAutofillApplyValues",t,e),e[0]===t[0]&&e[1]<t[1]?(a="left",n=new p(e[0],e[1]),i=new p(e[2],t[1]-1)):e[0]===t[0]&&e[3]>t[3]?(a="right",n=new p(e[0],t[3]+1),i=new p(e[2],e[3])):e[0]<t[0]&&e[1]===t[1]?(a="up",n=new p(e[0],e[1]),i=new p(t[0]-1,e[3])):e[2]>t[2]&&e[1]===t[1]&&(a="down",n=new p(t[2]+1,e[1]),i=new p(e[2],e[3])),n&&n.row>-1&&n.col>-1?(l={from:this.instance.getSelectedRange().from,to:this.instance.getSelectedRange().to},o=this.instance.getData(l.from.row,l.from.col,l.to.row,l.to.col),s=r(n,i,o,a),Handsontable.hooks.run(this.instance,"beforeAutofill",n,i,o),this.instance.populateFromArray(n.row,n.col,o,i.row,i.col,"autofill",null,a,s),this.instance.selection.setRangeStart(new p(e[0],e[1])),this.instance.selection.setRangeEnd(new p(e[2],e[3]))):this.instance.selection.refreshBorders())},i.prototype.showBorder=function(e){var t=this.instance.getSelectedRange().getTopLeftCorner(),n=this.instance.getSelectedRange().getBottomRightCorner();if("horizontal"!==this.instance.getSettings().fillHandle&&(n.row<e.row||t.row>e.row))e=new p(e.row,n.col);else{if("vertical"===this.instance.getSettings().fillHandle)return;e=new p(n.row,e.col)}this.instance.view.wt.selections.fill.clear(),this.instance.view.wt.selections.fill.add(this.instance.getSelectedRange().from),this.instance.view.wt.selections.fill.add(this.instance.getSelectedRange().to),this.instance.view.wt.selections.fill.add(e),this.instance.view.render()},i.prototype.checkIfNewRowNeeded=function(){var e,t,n=this.instance.countRows(),r=this;this.instance.view.wt.selections.fill.cellRange&&this.addingStarted===!1&&(t=this.instance.getSelected(),e=this.instance.view.wt.selections.fill.getCorners(),t[2]<n-1&&e[2]===n-1&&(this.addingStarted=!0,this.instance._registerTimeout(setTimeout(function(){r.instance.alter("insert_row"),r.addingStarted=!1},200))))},Handsontable.hooks.add("afterInit",function(){var e=new i(this);"undefined"!=typeof this.getSettings().fillHandle&&(e.handle&&this.getSettings().fillHandle===!1?e.disable():e.handle||this.getSettings().fillHandle===!1||(this.autofill=e,this.autofill.init()))}),Handsontable.Autofill=i},{"3rdparty/walkontable/src/cell/coords":5,eventManager:41,"helpers/dom/element":45,plugins:57}],62:[function(e,t,n){"use strict";Object.defineProperties(n,{ColumnSorting:{get:function(){return w}},__esModule:{value:!0}});var r,i,o,a,s,l=(r=e("helpers/dom/element"),r&&r.__esModule&&r||{"default":r}),u=l.addClass,c=l.closest,h=l.hasClass,d=l.index,f=l.removeClass,p=(i=e("helpers/array"),i&&i.__esModule&&i||{"default":i}),m=(p.arrayEach,p.arrayMap),g=p.arrayReduce,v=(o=e("eventManager"),o&&o.__esModule&&o||{"default":o}).eventManager,y=(a=e("_base"),a&&a.__esModule&&a||{"default":a}).default,b=(s=e("plugins"),s&&s.__esModule&&s||{"default":s}).registerPlugin;Handsontable.hooks.register("beforeColumnSort"),Handsontable.hooks.register("afterColumnSort");var w=function(e){$traceurRuntime.superConstructor(C).call(this,e),this.sortIndicators=[]},C=w;$traceurRuntime.createClass(w,{isEnabled:function(){return!!this.hot.getSettings().columnSorting},enablePlugin:function(){var e=this;if(!this.enabled){var t=this;this.hot.sortIndex=[],this.hot.sort=function(){var e=Array.prototype.slice.call(arguments);return t.sortByColumn.apply(t,e)},"undefined"==typeof this.hot.getSettings().observeChanges&&this.enableObserveChangesPlugin(),this.bindColumnSortingAfterClick(),this.addHook("afterTrimRow",function(){return e.sort()}),this.addHook("afterUntrimRow",function(){return e.sort()}),this.addHook("modifyRow",function(t){return e.translateRow(t)}),this.addHook("afterUpdateSettings",function(){return e.onAfterUpdateSettings()}),this.addHook("afterGetColHeader",function(t,n){return e.getColHeader(t,n)}),this.addHook("afterCreateRow",function(){t.afterCreateRow.apply(t,arguments)}),this.addHook("afterRemoveRow",function(){t.afterRemoveRow.apply(t,arguments)}),this.addHook("afterInit",function(){return e.sortBySettings()}),this.addHook("afterLoadData",function(){e.hot.sortIndex=[],e.hot.view&&e.sortBySettings()}),this.hot.view&&this.sortBySettings(),$traceurRuntime.superGet(this,C.prototype,"enablePlugin").call(this)}},disablePlugin:function(){this.hot.sort=void 0,$traceurRuntime.superGet(this,C.prototype,"disablePlugin").call(this)},onAfterUpdateSettings:function(){this.sortBySettings()},sortBySettings:function(){var e,t,n=this.hot.getSettings().columnSorting,r=this.loadSortingState();"undefined"==typeof r?(e=n.column,t=n.sortOrder):(e=r.sortColumn,t=r.sortOrder),this.sortByColumn(e,t)},setSortingColumn:function(e,t){return"undefined"==typeof e?(this.hot.sortColumn=void 0,this.hot.sortOrder=void 0,void 0):(this.hot.sortOrder=this.hot.sortColumn===e&&"undefined"==typeof t?this.hot.sortOrder===!1?void 0:!this.hot.sortOrder:"undefined"==typeof t?!0:t,this.hot.sortColumn=e,void 0)},sortByColumn:function(e,t){this.setSortingColumn(e,t),"undefined"!=typeof this.hot.sortColumn&&(Handsontable.hooks.run(this.hot,"beforeColumnSort",this.hot.sortColumn,this.hot.sortOrder),this.sort(),this.hot.render(),this.saveSortingState(),Handsontable.hooks.run(this.hot,"afterColumnSort",this.hot.sortColumn,this.hot.sortOrder))},saveSortingState:function(){var e={};"undefined"!=typeof this.hot.sortColumn&&(e.sortColumn=this.hot.sortColumn),"undefined"!=typeof this.hot.sortOrder&&(e.sortOrder=this.hot.sortOrder),(e.hasOwnProperty("sortColumn")||e.hasOwnProperty("sortOrder"))&&Handsontable.hooks.run(this.hot,"persistentStateSave","columnSorting",e)},loadSortingState:function(){var e={};return Handsontable.hooks.run(this.hot,"persistentStateLoad","columnSorting",e),e.value},bindColumnSortingAfterClick:function(){function e(){var e=r.hot.view.TBODY.querySelector("tr"),t=1;return e&&(t=e.querySelectorAll("th").length),t}function t(t){var n=c(t,"TH");return r.hot.view.wt.wtTable.getFirstRenderedColumn()+d(n)-e()}if(!this.bindedSortEvent){var n=v(this.hot),r=this;this.bindedSortEvent=!0,n.addEventListener(this.hot.rootElement,"click",function(e){if(h(e.target,"columnSorting")){var n=t(e.target);if(n===this.lastSortedColumn)switch(r.hot.sortOrder){case void 0:r.sortOrderClass="ascending";break;case!0:r.sortOrderClass="descending";break;case!1:r.sortOrderClass=void 0}else r.sortOrderClass="ascending";this.lastSortedColumn=n,r.sortByColumn(n)}})}},enableObserveChangesPlugin:function(){var e=this;this.hot._registerTimeout(setTimeout(function(){e.hot.updateSettings({observeChanges:!0})},0))},defaultSort:function(e){return function(t,n){return"string"==typeof t[1]&&(t[1]=t[1].toLowerCase()),"string"==typeof n[1]&&(n[1]=n[1].toLowerCase()),t[1]===n[1]?0:null===t[1]||""===t[1]?1:null===n[1]||""===n[1]?-1:isNaN(t[1])&&!isNaN(n[1])?e?1:-1:!isNaN(t[1])&&isNaN(n[1])?e?-1:1:t[1]<n[1]?e?-1:1:t[1]>n[1]?e?1:-1:0}},dateSort:function(e){return function(t,n){if(t[1]===n[1])return 0;if(null===t[1]||""===t[1])return 1;if(null===n[1]||""===n[1])return-1;var r=new Date(t[1]),i=new Date(n[1]);return i>r?e?-1:1:r>i?e?1:-1:0}},sort:function(){if("undefined"==typeof this.hot.sortOrder)return this.hot.sortIndex.length=0,void 0;var e,t;this.hot.sortingEnabled=!1,this.hot.sortIndex.length=0;for(var n=this.hot.colOffset(),r=0,i=this.hot.countRows()-this.hot.getSettings().minSpareRows;i>r;r++)this.hot.sortIndex.push([r,this.hot.getDataAtCell(r,this.hot.sortColumn+n)]);switch(e=this.hot.getCellMeta(0,this.hot.sortColumn),this.sortIndicators[this.hot.sortColumn]=e.sortIndicator,e.type){case"date":t=this.dateSort;break;default:t=this.defaultSort}this.hot.sortIndex.sort(t(this.hot.sortOrder));for(var r=this.hot.sortIndex.length;r<this.hot.countRows();r++)this.hot.sortIndex.push([r,this.hot.getDataAtCell(r,this.hot.sortColumn+n)]);this.hot.sortingEnabled=!0},translateRow:function(e){return this.hot.sortingEnabled&&"undefined"!=typeof this.hot.sortOrder&&this.hot.sortIndex&&this.hot.sortIndex.length&&this.hot.sortIndex[e]?this.hot.sortIndex[e][0]:e},untranslateRow:function(e){if(this.hot.sortingEnabled&&this.hot.sortIndex&&this.hot.sortIndex.length)for(var t=0;t<this.hot.sortIndex.length;t++)if(this.hot.sortIndex[t][0]==e)return t},getColHeader:function(e,t){var n=t.querySelector(".colHeader"),r=(t.getAttribute("colspan"),t.parentNode.parentNode.childNodes),i=Array.prototype.indexOf.call(r,t.parentNode);i-=r.length,n&&(this.hot.getSettings().columnSorting&&e>=0&&-1===i&&u(n,"columnSorting"),f(n,"descending"),f(n,"ascending"),this.sortIndicators[e]&&e===this.hot.sortColumn&&("ascending"===this.sortOrderClass?u(n,"ascending"):"descending"===this.sortOrderClass&&u(n,"descending")))},isSorted:function(){return"undefined"!=typeof this.hot.sortColumn},afterCreateRow:function(e,t){if(this.isSorted()){for(var n=0;n<this.hot.sortIndex.length;n++)this.hot.sortIndex[n][0]>=e&&(this.hot.sortIndex[n][0]+=t);for(var n=0;t>n;n++)this.hot.sortIndex.splice(e+n,0,[e+n,this.hot.getSourceData()[e+n][this.hot.sortColumn+this.hot.colOffset()]]);this.saveSortingState()}},afterRemoveRow:function(e,t){function n(e){return g(r,function(t,n){return e>n&&t++,t},0)}if(this.isSorted()){var r=this.hot.sortIndex.splice(e,t);r=m(r,function(e){return e[0]}),this.hot.sortIndex=m(this.hot.sortIndex,function(e){var t=n(e[0]);return t&&(e[0]-=t),e}),this.saveSortingState()}}},{},y),b("columnSorting",w)},{_base:58,eventManager:41,"helpers/array":42,"helpers/dom/element":45,plugins:57}],63:[function(e,t,n){"use strict";Object.defineProperties(n,{CommentEditor:{get:function(){return o}},__esModule:{value:!0}});var r,i=(r=e("helpers/dom/element"),r&&r.__esModule&&r||{"default":r}).addClass,o=function(){this.editor=this.createEditor(),this.editorStyle=this.editor.style,this.editorStyle.position="absolute",this.editorStyle.zIndex=100,this.hide()},a=o;$traceurRuntime.createClass(o,{setPosition:function(e,t){this.editorStyle.left=e+"px",this.editorStyle.top=t+"px"},show:function(){this.editorStyle.display="block"},hide:function(){this.editorStyle.display="none"},isVisible:function(){return"block"===this.editorStyle.display},setValue:function(){var e=void 0!==arguments[0]?arguments[0]:"";e=e||"",this.getInputElement().value=e},getValue:function(){return this.getInputElement().value},isFocused:function(){return document.activeElement===this.getInputElement()},focus:function(){this.getInputElement().focus()},createEditor:function(){var e,t,n=document.querySelector("."+a.CLASS_EDITOR_CONTAINER);return n||(n=document.createElement("div"),i(n,a.CLASS_EDITOR_CONTAINER),document.body.appendChild(n)),e=document.createElement("div"),i(e,a.CLASS_EDITOR),t=document.createElement("textarea"),i(t,a.CLASS_INPUT),e.appendChild(t),n.appendChild(e),e},getInputElement:function(){return this.editor.querySelector("."+a.CLASS_INPUT)},destroy:function(){this.editor.parentNode.removeChild(this.editor),this.editor=null,this.editorStyle=null}},{get CLASS_EDITOR_CONTAINER(){return"htCommentsContainer"},get CLASS_EDITOR(){return"htComments"},get CLASS_INPUT(){return"htCommentTextArea"},get CLASS_CELL(){return"htCommentCell"}})},{"helpers/dom/element":45}],64:[function(e,t,n){"use strict";Object.defineProperties(n,{Comments:{get:function(){return x}},__esModule:{value:!0}});var r,i,o,a,s,l,u=(r=e("helpers/dom/element"),r&&r.__esModule&&r||{"default":r}),c=u.addClass,h=u.closest,d=u.getWindowScrollLeft,f=u.getWindowScrollTop,p=u.hasClass,m=u.offset,g=(i=e("eventManager"),i&&i.__esModule&&i||{"default":i}).EventManager,v=(o=e("3rdparty/walkontable/src/cell/coords"),o&&o.__esModule&&o||{"default":o}).WalkontableCellCoords,y=(a=e("plugins"),a&&a.__esModule&&a||{"default":a}),b=y.registerPlugin,w=(y.getPlugin,(s=e("_base"),s&&s.__esModule&&s||{"default":s}).default),C=(l=e("commentEditor"),l&&l.__esModule&&l||{"default":l}).CommentEditor,x=function(e){$traceurRuntime.superConstructor(k).call(this,e),this.editor=null,this.eventManager=null,this.range={},this.mouseDown=!1,this.contextMenuEvent=!1,this.timer=null},k=x;$traceurRuntime.createClass(x,{isEnabled:function(){return this.hot.getSettings().comments},enablePlugin:function(){var e=this;this.enabled||(this.editor||(this.editor=new C),this.eventManager||(this.eventManager=new g(this)),this.addHook("afterContextMenuDefaultOptions",function(t){return e.addToContextMenu(t)}),this.addHook("afterRenderer",function(t,n,r,i,o,a){return e.onAfterRenderer(t,a)}),this.addHook("afterScrollHorizontally",function(){return e.refreshEditorPosition()}),this.addHook("afterScrollVertically",function(){return e.refreshEditorPosition()}),this.addHook("afterColumnResize",function(){return e.refreshEditorPosition()}),this.addHook("afterRowResize",function(){return e.refreshEditorPosition()}),this.registerListeners(),$traceurRuntime.superGet(this,k.prototype,"enablePlugin").call(this))},disablePlugin:function(){$traceurRuntime.superGet(this,k.prototype,"disablePlugin").call(this)},registerListeners:function(){var e=this;this.eventManager.addEventListener(document,"mouseover",function(t){return e.onMouseOver(t)}),this.eventManager.addEventListener(document,"mousedown",function(t){return e.onMouseDown(t)}),this.eventManager.addEventListener(document,"mousemove",function(t){return e.onMouseMove(t)}),this.eventManager.addEventListener(document,"mouseup",function(t){return e.onMouseUp(t)}),this.eventManager.addEventListener(this.editor.getInputElement(),"blur",function(t){return e.onEditorBlur(t)})},setRange:function(e){this.range=e},clearRange:function(){this.range={}},targetIsCellWithComment:function(e){return p(e.target,"htCommentCell")&&h(e.target,[this.hot.rootElement])?!0:!1},targetIsCommentTextArea:function(e){return this.editor.getInputElement()===e.target},saveComment:function(){if(!this.range.from)throw new Error('Before using this method, first set cell range (hot.getPlugin("comment").setRange())');var e=this.editor.getValue(),t=this.range.from.row,n=this.range.from.col;this.hot.setCellMeta(t,n,"comment",e),this.hot.render()},saveCommentAtCell:function(e,t){this.setRange({from:new v(e,t)}),this.saveComment()},removeComment:function(){if(!this.range.from)throw new Error('Before using this method, first set cell range (hot.getPlugin("comment").setRange())');this.hot.removeCellMeta(this.range.from.row,this.range.from.col,"comment"),this.hot.render(),this.hide()},removeCommentAtCell:function(e,t){this.setRange({from:new v(e,t)}),this.removeComment()},show:function(){if(!this.range.from)throw new Error('Before using this method, first set cell range (hot.getPlugin("comment").setRange())');var e=this.hot.getCellMeta(this.range.from.row,this.range.from.col);return this.refreshEditorPosition(!0),this.editor.setValue(e.comment||""),this.editor.show(),!0},showAtCell:function(e,t){return this.setRange({from:new v(e,t)}),this.show()},hide:function(){this.editor.hide()},refreshEditorPosition:function(){var e=void 0!==arguments[0]?arguments[0]:!1;if(e||this.range.from&&this.editor.isVisible()){var t=this.hot.view.wt.wtTable.getCell(this.range.from),n=m(t),r=this.hot.getColWidth(this.range.from.col),i=n.top,o=n.left,a=0,s=0;this.hot.view.wt.wtViewport.hasVerticalScroll()&&(i-=this.hot.view.wt.wtOverlays.topOverlay.getScrollPosition(),a=20),this.hot.view.wt.wtViewport.hasHorizontalScroll()&&(o-=this.hot.view.wt.wtOverlays.leftOverlay.getScrollPosition(),s=20);var l=o+r,u=i,c=this.hot.view.wt.wtTable.holder.getBoundingClientRect(),h={left:c.left+d()+s,right:c.right+d()-15,top:c.top+f()+a,bottom:c.bottom+f()};l<=h.left||l>h.right||u<=h.top||u>h.bottom?this.hide():this.editor.setPosition(l,u)}},onMouseDown:function(e){this.mouseDown=!0,this.hot.view&&this.hot.view.wt&&(this.contextMenuEvent||this.targetIsCommentTextArea(e)||this.targetIsCellWithComment(e)||this.hide(),this.contextMenuEvent=!1)},onMouseOver:function(e){if(!this.mouseDown&&!this.editor.isFocused())if(this.targetIsCellWithComment(e)){var t=this.hot.view.wt.wtTable.getCoords(e.target),n={from:new v(t.row,t.col)};this.setRange(n),this.show()}else this.targetIsCommentTextArea(e)||this.editor.isFocused()||this.hide()},onMouseMove:function(e){var t=this;this.targetIsCommentTextArea(e)&&(this.mouseDown=!0,clearTimeout(this.timer),this.timer=setTimeout(function(){t.mouseDown=!1},200))},onMouseUp:function(){this.mouseDown=!1},onAfterRenderer:function(e,t){t.comment&&c(e,t.commentedCellClassName)},onEditorBlur:function(){this.saveComment()},checkSelectionCommentsConsistency:function(){var e=this.hot.getSelectedRange();if(!e)return!1;var t=!1,n=e.from;return this.hot.getCellMeta(n.row,n.col).comment&&(t=!0),t},onContextMenuAddComment:function(){var e=this,t=this.hot.getSelectedRange();this.contextMenuEvent=!0,this.setRange({from:t.from}),this.show(),setTimeout(function(){e.hot&&(e.hot.deselectCell(),e.editor.focus())},10)},onContextMenuRemoveComment:function(e,t){this.contextMenuEvent=!0,this.removeCommentAtCell(t.start.row,t.start.col)},addToContextMenu:function(e){var t=this;e.items.push(Handsontable.plugins.ContextMenu.SEPARATOR,{key:"commentsAddEdit",name:function(){return t.checkSelectionCommentsConsistency()?"Edit Comment":"Add Comment"},callback:function(){return t.onContextMenuAddComment()},disabled:function(){return this.getSelected()?!1:!0}},{key:"commentsRemove",name:function(){return"Delete Comment"},callback:function(e,n){return t.onContextMenuRemoveComment(e,n)},disabled:function(){return!t.checkSelectionCommentsConsistency()}})},destroy:function(){this.editor&&this.editor.destroy(),$traceurRuntime.superGet(this,k.prototype,"destroy").call(this)}},{},w),b("comments",x)},{"3rdparty/walkontable/src/cell/coords":5,_base:58,commentEditor:63,eventManager:41,"helpers/dom/element":45,plugins:57}],65:[function(e,t,n){"use strict";function r(e,t){var n;return o(t,function(t){var r=t.key?t.key.split(":"):null;return Array.isArray(r)&&r[1]===e?(n=t,!1):void 0}),n}Object.defineProperties(n,{CommandExecutor:{get:function(){return a}},__esModule:{value:!0}});var i,o=(i=e("helpers/array"),i&&i.__esModule&&i||{"default":i}).arrayEach,a=function(e){this.hot=e,this.commands={},this.commonCallback=null};$traceurRuntime.createClass(a,{registerCommand:function(e,t){this.commands[e]=t},setCommonCallback:function(e){this.commonCallback=e},execute:function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var i=this,a=e.split(":");e=a[0];var s=2===a.length?a[1]:null,l=this.commands[e];if(!l)throw new Error("Menu command '"+e+"' not exists.");if(s&&l.submenu&&(l=r(s,l.submenu.items)),l.disabled!==!0&&("function"!=typeof l.disabled||l.disabled.call(this.hot)!==!0)&&!l.hasOwnProperty("submenu")){var u=[];"function"==typeof l.callback&&u.push(l.callback),"function"==typeof this.commonCallback&&u.push(this.commonCallback),t.unshift(a.join(":")),o(u,function(e){return e.apply(i.hot,t)})}}},{})},{"helpers/array":42}],66:[function(e,t,n){"use strict";Object.defineProperties(n,{ContextMenu:{get:function(){return N}},__esModule:{value:!0}});var r,i,o,a,s,l,u,c,h,d,f,p=(r=e("_base"),r&&r.__esModule&&r||{"default":r}).default,m=(i=e("helpers/array"),i&&i.__esModule&&i||{"default":i}).arrayEach,g=(o=e("commandExecutor"),o&&o.__esModule&&o||{"default":o}).CommandExecutor,v=(a=e("eventManager"),a&&a.__esModule&&a||{"default":a}).EventManager,y=(s=e("helpers/dom/element"),s&&s.__esModule&&s||{"default":s}).hasClass,b=(l=e("itemsFactory"),l&&l.__esModule&&l||{"default":l}).ItemsFactory,w=(u=e("menu"),u&&u.__esModule&&u||{"default":u}).Menu,C=(c=e("helpers/object"),c&&c.__esModule&&c||{"default":c}),x=(C.objectEach,C.mixin,(h=e("plugins"),h&&h.__esModule&&h||{"default":h}).registerPlugin),k=(d=e("helpers/dom/event"),d&&d.__esModule&&d||{"default":d}).stopPropagation,S=(f=e("predefinedItems"),f&&f.__esModule&&f||{"default":f}),_=S.ROW_ABOVE,T=S.ROW_BELOW,E=S.COLUMN_LEFT,M=S.COLUMN_RIGHT,R=S.REMOVE_ROW,O=S.REMOVE_COLUMN,A=S.UNDO,L=S.REDO,D=S.READ_ONLY,P=S.ALIGNMENT,H=S.SEPARATOR,N=(S.predefinedItems,function(e){$traceurRuntime.superConstructor(I).call(this,e),this.eventManager=new v(this),this.commandExecutor=new g(this.hot),this.itemsFactory=null,this.menu=null}),I=N;$traceurRuntime.createClass(N,{isEnabled:function(){return this.hot.getSettings().contextMenu},enablePlugin:function(){var e=this;if(!this.enabled){this.itemsFactory=new b(this.hot,I.DEFAULT_ITEMS);var t=this.hot.getSettings().contextMenu,n={items:this.itemsFactory.getVisibleItems(t)};this.registerEvents(),"function"==typeof t.callback&&this.commandExecutor.setCommonCallback(t.callback),$traceurRuntime.superGet(this,I.prototype,"enablePlugin").call(this),this.callOnPluginsReady(function(){e.hot.runHooks("afterContextMenuDefaultOptions",n),e.itemsFactory.setPredefinedItems(n.items);var r=e.itemsFactory.getVisibleItems(t);e.menu=new w(e.hot,{className:"htContextMenu",keepInViewport:!0}),e.menu.setMenuItems(r),e.menu.addLocalHook("afterOpen",function(){return e.onMenuAfterOpen()}),e.menu.addLocalHook("afterClose",function(){return e.onMenuAfterClose()}),e.menu.addLocalHook("executeCommand",function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.executeCommand.apply(e,t)}),m(r,function(t){return e.commandExecutor.registerCommand(t.key,t)})})}},disablePlugin:function(){this.close(),this.menu&&(this.menu.destroy(),this.menu=null),$traceurRuntime.superGet(this,I.prototype,"disablePlugin").call(this)},registerEvents:function(){var e=this;this.eventManager.addEventListener(this.hot.rootElement,"contextmenu",function(t){return e.onContextMenu(t)})},open:function(e){this.menu&&(this.menu.open(),this.menu.setPosition(e),this.menu.hotMenu.isHotTableEnv=this.hot.isHotTableEnv,Handsontable.eventManager.isHotTableEnv=this.hot.isHotTableEnv)},close:function(){this.menu&&this.menu.close()},executeCommand:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.commandExecutor.execute.apply(this.commandExecutor,e)},onContextMenu:function(e){function t(e){return"TD"===e.nodeName||"TD"===e.parentNode.nodeName}var n=this.hot.getSettings(),r=n.rowHeaders,i=n.colHeaders,o=e.realTarget;if(this.close(),e.preventDefault(),k(e),r||i){if(r&&i){var a=o.parentNode.querySelectorAll(".cornerHeader").length>0;if(a)return}}else if(!(t(o)||y(o,"current")&&y(o,"wtBorder")))return;this.open(e)},onMenuAfterOpen:function(){this.hot.runHooks("afterContextMenuShow",this)},onMenuAfterClose:function(){this.hot.listen(),this.hot.runHooks("afterContextMenuHide",this)},destroy:function(){this.close(),this.menu&&this.menu.destroy(),$traceurRuntime.superGet(this,I.prototype,"destroy").call(this)}},{get DEFAULT_ITEMS(){return[_,T,H,E,M,H,R,O,H,A,L,H,D,H,P]}},p),N.SEPARATOR={name:H},Handsontable.hooks.register("afterContextMenuDefaultOptions"),Handsontable.hooks.register("afterContextMenuShow"),Handsontable.hooks.register("afterContextMenuHide"),Handsontable.hooks.register("afterContextMenuExecute"),x("contextMenu",N)},{_base:58,commandExecutor:65,eventManager:41,"helpers/array":42,"helpers/dom/element":45,"helpers/dom/event":46,"helpers/object":50,itemsFactory:68,menu:69,plugins:57,predefinedItems:70}],67:[function(e,t,n){"use strict";Object.defineProperties(n,{Cursor:{get:function(){return h}},__esModule:{value:!0}});var r,i,o=(r=e("helpers/dom/element"),r&&r.__esModule&&r||{"default":r}),a=o.getWindowScrollLeft,s=o.getWindowScrollTop,l=(i=e("helpers/dom/event"),i&&i.__esModule&&i||{"default":i}),u=l.pageX,c=l.pageY,h=function(e){var t,n,r,i,o,l,h,d,f=s(),p=a();this.type=this.getSourceType(e),"literal"===this.type?(t=parseInt(e.top,10),r=parseInt(e.left,10),h=e.height,d=e.width):"event"===this.type&&(t=parseInt(c(e),10),r=parseInt(u(e),10),h=e.target.clientHeight,d=e.target.clientWidth),n=t-f,i=r-p,o=f,l=p,this.top=t,this.topRelative=n,this.left=r,this.leftRelative=i,this.scrollTop=o,this.scrollLeft=l,this.cellHeight=h,this.cellWidth=d};$traceurRuntime.createClass(h,{getSourceType:function(e){var t="literal";return e instanceof Event&&(t="event"),t
},fitsAbove:function(e){return this.topRelative>=e.offsetHeight},fitsBelow:function(e){var t=void 0!==arguments[1]?arguments[1]:window.innerHeight;return this.topRelative+e.offsetHeight<=t},fitsOnRight:function(e){var t=void 0!==arguments[1]?arguments[1]:window.innerWidth;return this.leftRelative+this.cellWidth+e.offsetWidth<=t},fitsOnLeft:function(e){return this.leftRelative>=e.offsetWidth}},{}),Handsontable.plugins.utils=Handsontable.plugins.utils||{},Handsontable.plugins.utils.Cursor=h},{"helpers/dom/element":45,"helpers/dom/event":46}],68:[function(e,t,n){"use strict";function r(){var e=void 0!==arguments[0]?arguments[0]:null,t=void 0!==arguments[1]?arguments[1]:[],n=void 0!==arguments[2]?arguments[2]:{},r=[];return e&&e.items?e=e.items:Array.isArray(e)||(e=t),u(e)?l(e,function(e,t){var i=n["string"==typeof e?e:t];i||(i=e),u(e)?c(i,e):"string"==typeof i&&(i={name:i}),void 0===i.key&&(i.key=t),r.push(i)}):h(e,function(e,t){var i=n[e];!i&&p.indexOf(e)>=0||(i||(i={name:e,key:t+""}),u(e)&&c(i,e),void 0===i.key&&(i.key=t),r.push(i))}),r[0].name===f&&r.shift(),r}Object.defineProperties(n,{ItemsFactory:{get:function(){return g}},__esModule:{value:!0}});var i,o,a,s=(i=e("helpers/object"),i&&i.__esModule&&i||{"default":i}),l=s.objectEach,u=s.isObject,c=s.extend,h=(o=e("helpers/array"),o&&o.__esModule&&o||{"default":o}).arrayEach,d=(a=e("predefinedItems"),a&&a.__esModule&&a||{"default":a}),f=d.SEPARATOR,p=d.ITEMS,m=d.predefinedItems,g=function(e){var t=void 0!==arguments[1]?arguments[1]:null;this.hot=e,this.predefinedItems=m(),this.defaultOrderPattern=t};$traceurRuntime.createClass(g,{setPredefinedItems:function(e){var t=this,n={};this.defaultOrderPattern.length=0,l(e,function(e,r){var i="";e.name===f?(n[f]=e,i=f):isNaN(parseInt(r,10))?(e.key=void 0===e.key?r:e.key,n[r]=e,i=e.key):(n[e.key]=e,i=e.key),t.defaultOrderPattern.push(i)}),this.predefinedItems=n},getVisibleItems:function(){var e=void 0!==arguments[0]?arguments[0]:null,t=this,n={};return l(this.predefinedItems,function(e,r){(!e.hidden||e.hidden&&!e.hidden.apply(t.hot))&&(n[r]=e)}),r(e,this.defaultOrderPattern,n)},getItems:function(){var e=void 0!==arguments[0]?arguments[0]:null;return r(e,this.defaultOrderPattern,this.predefinedItems)}},{})},{"helpers/array":42,"helpers/object":50,predefinedItems:70}],69:[function(e,t,n){"use strict";Object.defineProperties(n,{Menu:{get:function(){return I}},__esModule:{value:!0}});var r,i,o,a,s,l,u,c,h,d,f=(r=e("helpers/dom/element"),r&&r.__esModule&&r||{"default":r}),p=f.addClass,m=f.empty,g=f.fastInnerHTML,v=(f.getComputedStyle,f.getScrollbarWidth),y=(f.getWindowScrollLeft,f.getWindowScrollTop,f.hasClass,f.isChildOf),b=f.removeClass,w=(i=e("helpers/array"),i&&i.__esModule&&i||{"default":i}).arrayEach,C=(o=e("cursor"),o&&o.__esModule&&o||{"default":o}).Cursor,x=(a=e("eventManager"),a&&a.__esModule&&a||{"default":a}).EventManager,k=(s=e("helpers/object"),s&&s.__esModule&&s||{"default":s}),S=(k.extend,k.isObject,k.objectEach,k.mixin),_=(l=e("utils"),l&&l.__esModule&&l||{"default":l}),T=_.isSeparator,E=_.isDisabled,M=_.isSelectionDisabled,R=_.hasSubMenu,O=_.normalizeSelection,A=(u=e("helpers/unicode"),u&&u.__esModule&&u||{"default":u}).KEY_CODES,L=(c=e("mixins/localHooks"),c&&c.__esModule&&c||{"default":c}).localHooks,D=(h=e("predefinedItems"),h&&h.__esModule&&h||{"default":h}),P=D.SEPARATOR,H=(D.predefinedItems,d=e("helpers/dom/event"),d&&d.__esModule&&d||{"default":d}),N=(H.stopPropagation,H.stopImmediatePropagation),I=(H.pageX,H.pageY,function(e){var t=void 0!==arguments[1]?arguments[1]:{parent:null,name:null,className:"",keepInViewport:!0};this.hot=e,this.options=t,this.eventManager=new x(this),this.container=this.createContainer(this.options.name),this.hotMenu=null,this.hotSubMenus={},this.parentMenu=this.options.parent||null,this.menuItems=null,this.origOutsideClickDeselects=null,this._afterScrollCallback=null,this.registerEvents()}),j=I;$traceurRuntime.createClass(I,{registerEvents:function(){var e=this;this.eventManager.addEventListener(document.documentElement,"mousedown",function(t){return e.onDocumentMouseDown(t)})},setMenuItems:function(e){this.menuItems=e},isSubMenu:function(){return null!==this.parentMenu},open:function(){var e=this;this.container.removeAttribute("style"),this.container.style.display="block";var t={data:this.menuItems,colHeaders:!1,colWidths:[200],autoRowSize:!1,readOnly:!0,copyPaste:!1,columns:[{data:"name",renderer:function(t,n,r,i,o,a){return e.menuItemRenderer(t,n,r,i,o,a)}}],renderAllRows:!0,fragmentSelection:"cell",beforeKeyDown:function(t){return e.onBeforeKeyDown(t)},afterOnCellMouseOver:function(t,n){return e.openSubMenu(n.row)}};this.origOutsideClickDeselects=this.hot.getSettings().outsideClickDeselects,this.hot.getSettings().outsideClickDeselects=!1,this.hotMenu=new Handsontable.Core(this.container,t),this.hotMenu.addHook("afterInit",function(){return e.onAfterInit()}),this.hotMenu.init(),this.hotMenu.listen(),this.blockMainTableCallbacks(),this.runLocalHooks("afterOpen")},close:function(){var e=void 0!==arguments[0]?arguments[0]:!1;this.isOpened()&&(e&&this.parentMenu?this.parentMenu.close():(this.closeAllSubMenus(),this.container.style.display="none",this.releaseMainTableCallbacks(),this.hotMenu.destroy(),this.hotMenu=null,this.hot.getSettings().outsideClickDeselects=this.origOutsideClickDeselects,this.runLocalHooks("afterClose")))},openSubMenu:function(e){var t=this.hotMenu.getCell(e,0);if(this.closeAllSubMenus(),!t||!R(t))return!1;var n=this.hotMenu.getSourceDataAtRow(e),r=new j(this.hot,{parent:this,name:n.name,className:this.options.className});return r.setMenuItems(n.submenu.items),r.open(),r.setPosition(t.getBoundingClientRect()),this.hotSubMenus[n.key]=r,r},closeSubMenu:function(e){var t=this.hotMenu.getSourceDataAtRow(e),n=this.hotSubMenus[t.key];n&&(n.destroy(),delete this.hotSubMenus[t.key])},closeAllSubMenus:function(){var e=this;w(this.hotMenu.getData(),function(t,n){return e.closeSubMenu(n)})},isAllSubMenusClosed:function(){return 0===Object.keys(this.hotSubMenus).length},destroy:function(){this.clearLocalHooks(),this.close(),this.parentMenu=null,this.eventManager.destroy()},isOpened:function(){return null!==this.hotMenu},executeCommand:function(e){if(this.isOpened()&&this.hotMenu.getSelected()){var t=this.hotMenu.getSourceDataAtRow(this.hotMenu.getSelected()[0]);if(this.runLocalHooks("select",t,e),t.isCommand!==!1){var n=this.hot.getSelectedRange(),r=n?O(n):{};this.runLocalHooks("executeCommand",t.key,r,e),this.isSubMenu()&&this.parentMenu.runLocalHooks("executeCommand",t.key,r,e),this.close(!0)}}},setPosition:function(e){var t=new C(e);this.options.keepInViewport?(t.fitsBelow(this.container)?this.setPositionBelowCursor(t):t.fitsAbove(this.container)?this.setPositionAboveCursor(t):this.setPositionBelowCursor(t),t.fitsOnRight(this.container)?this.setPositionOnRightOfCursor(t):this.setPositionOnLeftOfCursor(t)):(this.setPositionBelowCursor(t),this.setPositionOnRightOfCursor(t))},setPositionAboveCursor:function(e){var t=e.top-this.container.offsetHeight;this.isSubMenu()&&(t=window.scrollY+e.top+e.cellHeight-this.container.offsetHeight+3),this.container.style.top=t+"px"},setPositionBelowCursor:function(e){var t=e.top-1;this.isSubMenu()&&(t=e.top+window.scrollY-1),this.container.style.top=t+"px"},setPositionOnRightOfCursor:function(e){var t;t=this.isSubMenu()?window.scrollX+1+e.left+e.cellWidth:1+e.left,this.container.style.left=t+"px"},setPositionOnLeftOfCursor:function(e){this.container.style.left=e.left-this.container.offsetWidth+v()+4+"px"},selectFirstCell:function(){var e=this.hotMenu.getCell(0,0);T(e)||E(e)||M(e)?this.selectNextCell(0,0):this.hotMenu.selectCell(0,0)},selectLastCell:function(){var e=this.hotMenu.countRows()-1,t=this.hotMenu.getCell(e,0);T(t)||E(t)||M(t)?this.selectPrevCell(e,0):this.hotMenu.selectCell(e,0)},selectNextCell:function(e,t){var n=e+1,r=n<this.hotMenu.countRows()?this.hotMenu.getCell(n,t):null;r&&(T(r)||E(r)||M(r)?this.selectNextCell(n,t):this.hotMenu.selectCell(n,t))},selectPrevCell:function(e,t){var n=e-1,r=n>=0?this.hotMenu.getCell(n,t):null;r&&(T(r)||E(r)||M(r)?this.selectPrevCell(n,t):this.hotMenu.selectCell(n,t))},menuItemRenderer:function(e,t,n,r,i,o){var a=this,s=e.getSourceDataAtRow(n),l=document.createElement("div"),u=function(e){return e.hasOwnProperty("submenu")},c=function(e){return new RegExp(P,"i").test(e.name)},h=function(e){return e.disabled===!0||"function"==typeof e.disabled&&e.disabled.call(a.hot)===!0},d=function(e){return"function"==typeof e.hidden&&e.hidden.call(a.hot)===!0},f=function(e){return e.disableSelection},v=d(s);"function"==typeof o&&(o=o.call(this.hot)),m(t),p(l,"htItemWrapper"),t.appendChild(l),c(s)?p(t,"htSeparator"):v||"function"!=typeof s.renderer?g(l,o):(p(t,"htCustomMenuRenderer"),t.appendChild(s.renderer(e,l,n,r,i,o))),v?t.parentNode&&p(t.parentNode,"htHidden"):h(s)?(p(t,"htDisabled"),this.eventManager.addEventListener(l,"mouseenter",function(){return e.deselectCell()})):f(s)?(p(t,"htSelectionDisabled"),this.eventManager.addEventListener(l,"mouseenter",function(){return e.deselectCell()})):u(s)?(p(t,"htSubmenu"),f(s)?this.eventManager.addEventListener(l,"mouseenter",function(){return e.deselectCell()}):this.eventManager.addEventListener(l,"mouseenter",function(){return e.selectCell(n,r,void 0,void 0,void 0,!1)})):(b(t,"htSubmenu"),b(t,"htDisabled"),f(s)?this.eventManager.addEventListener(l,"mouseenter",function(){return e.deselectCell()}):this.eventManager.addEventListener(l,"mouseenter",function(){return e.selectCell(n,r,void 0,void 0,void 0,!1)}))},createContainer:function(){var e=void 0!==arguments[0]?arguments[0]:null;e&&(e=e.replace(/ /g,"_"),e=this.options.className+"Sub_"+e);var t;return t=e?document.querySelector("."+this.options.className+"."+e):document.querySelector("."+this.options.className),t||(t=document.createElement("div"),p(t,"htMenu "+this.options.className),e&&p(t,e),document.getElementsByTagName("body")[0].appendChild(t)),t},blockMainTableCallbacks:function(){this._afterScrollCallback=function(){},this.hot.addHook("afterScrollVertically",this._afterScrollCallback),this.hot.addHook("afterScrollHorizontally",this._afterScrollCallback)},releaseMainTableCallbacks:function(){this._afterScrollCallback&&(this.hot.removeHook("afterScrollVertically",this._afterScrollCallback),this.hot.removeHook("afterScrollHorizontally",this._afterScrollCallback),this._afterScrollCallback=null)},onBeforeKeyDown:function(e){var t=this.hotMenu.getSelected(),n=!1;switch(e.keyCode){case A.ESCAPE:this.close(),n=!0;break;case A.ENTER:t&&(this.hotMenu.getSourceDataAtRow(t[0]).submenu?n=!0:(this.executeCommand(e),this.close(!0)));break;case A.ARROW_DOWN:t?this.selectNextCell(t[0],t[1]):this.selectFirstCell(),n=!0;break;case A.ARROW_UP:t?this.selectPrevCell(t[0],t[1]):this.selectLastCell(),n=!0;break;case A.ARROW_RIGHT:if(t){var r=this.openSubMenu(t[0]);r&&r.selectFirstCell()}n=!0;break;case A.ARROW_LEFT:t&&this.isSubMenu()&&(this.close(),this.parentMenu&&this.parentMenu.hotMenu.listen(),n=!0)}n&&(e.preventDefault(),N(e))},onAfterInit:function(){var e=this.hotMenu.getSettings().data,t=this.hotMenu.view.wt.wtTable.hider.style,n=this.hotMenu.view.wt.wtTable.holder.style,r=parseInt(t.width,10),i=0;w(e,function(e){return i+=e.name===P?1:26}),n.width=r+22+"px",n.height=i+4+"px"},onDocumentMouseDown:function(e){this.isOpened()&&(this.container&&y(e.target,this.container)&&this.executeCommand(e),(this.isAllSubMenusClosed()||this.isSubMenu())&&!y(e.target,".htMenu")&&y(e.target,document)&&this.close(!0))}},{}),S(I,L)},{cursor:67,eventManager:41,"helpers/array":42,"helpers/dom/element":45,"helpers/dom/event":46,"helpers/object":50,"helpers/unicode":53,"mixins/localHooks":54,predefinedItems:70,utils:71}],70:[function(e,t,n){"use strict";function r(){var e={};return c(A,function(t,n){return e[n]=h(t)}),e}function i(e,t){-1===O.indexOf(e)&&(A[e]=t)}var o;Object.defineProperties(n,{ROW_ABOVE:{get:function(){return y}},ROW_BELOW:{get:function(){return b}},COLUMN_LEFT:{get:function(){return w}},COLUMN_RIGHT:{get:function(){return C}},CLEAR_COLUMN:{get:function(){return x}},REMOVE_ROW:{get:function(){return k}},REMOVE_COLUMN:{get:function(){return S}},UNDO:{get:function(){return _}},REDO:{get:function(){return T}},READ_ONLY:{get:function(){return E}},ALIGNMENT:{get:function(){return M}},SEPARATOR:{get:function(){return R}},ITEMS:{get:function(){return O}},predefinedItems:{get:function(){return r}},addItem:{get:function(){return i}},__esModule:{value:!0}});var a,s,l,u=(a=e("helpers/object"),a&&a.__esModule&&a||{"default":a}),c=u.objectEach,h=u.clone,d=((s=e("helpers/number"),s&&s.__esModule&&s||{"default":s}).rangeEach,l=e("utils"),l&&l.__esModule&&l||{"default":l}),f=d.align,p=d.getAlignmentClasses,m=d.getValidSelection,g=d.checkSelectionConsistency,v=d.markLabelAsSelected,y="row_above",b="row_below",w="col_left",C="col_right",x="clear_column",k="remove_row",S="remove_col",_="undo",T="redo",E="make_read_only",M="alignment",R="---------",O=[y,b,w,C,x,k,S,_,T,E,M,R],A=(o={},Object.defineProperty(o,R,{value:{name:R},configurable:!0,enumerable:!0,writable:!0}),Object.defineProperty(o,y,{value:{key:y,name:"Insert row above",callback:function(e,t){this.alter("insert_row",t.start.row)},disabled:function(){var e=m(this);if(!e)return!0;var t=this.countRows(),n=[0,e[1],t-1,e[1]];return n.join(",")===e.join(",")&&t>1},hidden:function(){return!this.getSettings().allowInsertRow}},configurable:!0,enumerable:!0,writable:!0}),Object.defineProperty(o,b,{value:{key:b,name:"Insert row below",callback:function(e,t){this.alter("insert_row",t.end.row+1)},disabled:function(){var e=m(this);if(!e)return!0;var t=this.countRows(),n=[0,e[1],t-1,e[1]];return n.join(",")===e.join(",")&&t>1},hidden:function(){return!this.getSettings().allowInsertRow}},configurable:!0,enumerable:!0,writable:!0}),Object.defineProperty(o,w,{value:{key:w,name:"Insert column on the left",callback:function(e,t){this.alter("insert_col",t.start.col)},disabled:function(){var e=m(this);if(!e)return!0;if(!this.isColumnModificationAllowed())return!0;var t=[e[0],0,e[0],this.countCols()-1],n=t.join(",")==e.join(",");return e[1]<0||this.countCols()>=this.getSettings().maxCols||n},hidden:function(){return!this.getSettings().allowInsertColumn}},configurable:!0,enumerable:!0,writable:!0}),Object.defineProperty(o,C,{value:{key:C,name:"Insert column on the right",callback:function(e,t){this.alter("insert_col",t.end.col+1)},disabled:function(){var e=m(this);if(!e)return!0;if(!this.isColumnModificationAllowed())return!0;var t=[e[0],0,e[0],this.countCols()-1],n=t.join(",")==e.join(",");return e[1]<0||this.countCols()>=this.getSettings().maxCols||n},hidden:function(){return!this.getSettings().allowInsertColumn}},configurable:!0,enumerable:!0,writable:!0}),Object.defineProperty(o,x,{value:{key:x,name:"Clear column",callback:function(e,t){var n=t.start.col;this.countRows()&&this.populateFromArray(0,n,[[null]],Math.max(t.start.row,t.end.row),n)},disabled:function(){var e=m(this);if(!e)return!0;var t=[e[0],0,e[0],this.countCols()-1],n=t.join(",")==e.join(",");return e[1]<0||this.countCols()>=this.getSettings().maxCols||n}},configurable:!0,enumerable:!0,writable:!0}),Object.defineProperty(o,k,{value:{key:k,name:"Remove row",callback:function(e,t){var n=t.end.row-t.start.row+1;this.alter("remove_row",t.start.row,n)},disabled:function(){var e=m(this);if(!e)return!0;var t=[0,e[1],this.countRows()-1,e[1]];return t.join(",")===e.join(",")},hidden:function(){return!this.getSettings().allowRemoveRow}},configurable:!0,enumerable:!0,writable:!0}),Object.defineProperty(o,S,{value:{key:S,name:"Remove column",callback:function(e,t){var n=t.end.col-t.start.col+1;this.alter("remove_col",t.start.col,n)},disabled:function(){var e=m(this);if(!e)return!0;if(!this.isColumnModificationAllowed())return!0;var t=[e[0],0,e[0],this.countCols()-1],n=t.join(",")==e.join(",");return e[1]<0||n},hidden:function(){return!this.getSettings().allowRemoveColumn}},configurable:!0,enumerable:!0,writable:!0}),Object.defineProperty(o,_,{value:{key:_,name:"Undo",callback:function(){this.undo()},disabled:function(){return this.undoRedo&&!this.undoRedo.isUndoAvailable()}},configurable:!0,enumerable:!0,writable:!0}),Object.defineProperty(o,T,{value:{key:T,name:"Redo",callback:function(){this.redo()},disabled:function(){return this.undoRedo&&!this.undoRedo.isRedoAvailable()}},configurable:!0,enumerable:!0,writable:!0}),Object.defineProperty(o,E,{value:{key:E,name:function(){var e=this,t="Read only",n=g(this.getSelectedRange(),function(t,n){return e.getCellMeta(t,n).readOnly});return n&&(t=v(t)),t},callback:function(){var e=this,t=this.getSelectedRange(),n=g(t,function(t,n){return e.getCellMeta(t,n).readOnly});t.forAll(function(t,r){e.getCellMeta(t,r).readOnly=n?!1:!0}),this.render()},disabled:function(){return this.getSelectedRange()?!1:!0}},configurable:!0,enumerable:!0,writable:!0}),Object.defineProperty(o,M,{value:{key:M,name:"Alignment",disabled:function(){return this.getSelectedRange()?!1:!0},submenu:{items:[{key:M+":left",name:function(){var e=this,t="Left",n=g(this.getSelectedRange(),function(t,n){var r=e.getCellMeta(t,n).className;return r&&-1!==r.indexOf("htLeft")?!0:void 0});return n&&(t=v(t)),t},callback:function(){var e=this,t=this.getSelectedRange(),n=p(t,function(t,n){return e.getCellMeta(t,n).className}),r="horizontal",i="htLeft";this.runHooks("beforeCellAlignment",n,t,r,i),f(t,r,i,function(t,n){return e.getCellMeta(t,n)}),this.render()},disabled:!1},{key:M+":center",name:function(){var e=this,t="Center",n=g(this.getSelectedRange(),function(t,n){var r=e.getCellMeta(t,n).className;return r&&-1!==r.indexOf("htCenter")?!0:void 0});return n&&(t=v(t)),t},callback:function(){var e=this,t=this.getSelectedRange(),n=p(t,function(t,n){return e.getCellMeta(t,n).className}),r="horizontal",i="htCenter";this.runHooks("beforeCellAlignment",n,t,r,i),f(t,r,i,function(t,n){return e.getCellMeta(t,n)}),this.render()},disabled:!1},{key:M+":right",name:function(){var e=this,t="Right",n=g(this.getSelectedRange(),function(t,n){var r=e.getCellMeta(t,n).className;return r&&-1!==r.indexOf("htRight")?!0:void 0});return n&&(t=v(t)),t},callback:function(){var e=this,t=this.getSelectedRange(),n=p(t,function(t,n){return e.getCellMeta(t,n).className}),r="horizontal",i="htRight";this.runHooks("beforeCellAlignment",n,t,r,i),f(t,r,i,function(t,n){return e.getCellMeta(t,n)}),this.render()},disabled:!1},{key:M+":justify",name:function(){var e=this,t="Justify",n=g(this.getSelectedRange(),function(t,n){var r=e.getCellMeta(t,n).className;return r&&-1!==r.indexOf("htJustify")?!0:void 0});return n&&(t=v(t)),t},callback:function(){var e=this,t=this.getSelectedRange(),n=p(t,function(t,n){return e.getCellMeta(t,n).className}),r="horizontal",i="htJustify";this.runHooks("beforeCellAlignment",n,t,r,i),f(t,r,i,function(t,n){return e.getCellMeta(t,n)}),this.render()},disabled:!1},{name:R},{key:M+":top",name:function(){var e=this,t="Top",n=g(this.getSelectedRange(),function(t,n){var r=e.getCellMeta(t,n).className;return r&&-1!==r.indexOf("htTop")?!0:void 0});return n&&(t=v(t)),t},callback:function(){var e=this,t=this.getSelectedRange(),n=p(t,function(t,n){return e.getCellMeta(t,n).className}),r="vertical",i="htTop";this.runHooks("beforeCellAlignment",n,t,r,i),f(t,r,i,function(t,n){return e.getCellMeta(t,n)}),this.render()},disabled:!1},{key:M+":middle",name:function(){var e=this,t="Middle",n=g(this.getSelectedRange(),function(t,n){var r=e.getCellMeta(t,n).className;return r&&-1!==r.indexOf("htMiddle")?!0:void 0});return n&&(t=v(t)),t},callback:function(){var e=this,t=this.getSelectedRange(),n=p(t,function(t,n){return e.getCellMeta(t,n).className}),r="vertical",i="htMiddle";this.runHooks("beforeCellAlignment",n,t,r,i),f(t,r,i,function(t,n){return e.getCellMeta(t,n)}),this.render()},disabled:!1},{key:M+":bottom",name:function(){var e=this,t="Bottom",n=g(this.getSelectedRange(),function(t,n){var r=e.getCellMeta(t,n).className;return r&&-1!==r.indexOf("htBottom")?!0:void 0});return n&&(t=v(t)),t},callback:function(){var e=this,t=this.getSelectedRange(),n=p(t,function(t,n){return e.getCellMeta(t,n).className}),r="vertical",i="htBottom";this.runHooks("beforeCellAlignment",n,t,r,i),f(t,r,i,function(t,n){return e.getCellMeta(t,n)}),this.render()},disabled:!1}]}},configurable:!0,enumerable:!0,writable:!0}),o)},{"helpers/number":49,"helpers/object":50,utils:71}],71:[function(e,t,n){"use strict";function r(e){return{start:e.getTopLeftCorner(),end:e.getBottomRightCorner()}}function i(e){return v(e,"htSeparator")}function o(e){return v(e,"htSubmenu")}function a(e){return v(e,"htDisabled")}function s(e){return v(e,"htSelectionDisabled")}function l(e){var t=e.getSelected();return t?t[0]<0?null:e.countRows()>=e.getSettings().maxRows?null:t:null}function u(e,t){return-1!=e.indexOf(t)?e:(e=e.replace("htTop","").replace("htMiddle","").replace("htBottom","").replace("  ",""),e+=" "+t)}function c(e,t){return-1!=e.indexOf(t)?e:(e=e.replace("htLeft","").replace("htCenter","").replace("htRight","").replace("htJustify","").replace("  ",""),e+=" "+t)}function h(e,t){for(var n={},r=e.from.row;r<=e.to.row;r++)for(var i=e.from.col;i<=e.to.col;i++)n[r]||(n[r]=[]),n[r][i]=t(r,i);return n}function d(e,t,n,r){if(e.from.row==e.to.row&&e.from.col==e.to.col)f(e.from.row,e.from.col,t,n,r);else for(var i=e.from.row;i<=e.to.row;i++)for(var o=e.from.col;o<=e.to.col;o++)f(i,o,t,n,r)}function f(e,t,n,r,i){var o=i(e,t),a=r;o.className&&(a="vertical"===n?u(o.className,r):c(o.className,r)),o.className=a}function p(e,t){var n=!1;return e&&e.forAll(function(e,r){return t(e,r)?(n=!0,!1):void 0}),n}function m(e){return'<span class="selected">'+String.fromCharCode(10003)+"</span>"+e}Object.defineProperties(n,{normalizeSelection:{get:function(){return r}},isSeparator:{get:function(){return i}},hasSubMenu:{get:function(){return o}},isDisabled:{get:function(){return a}},isSelectionDisabled:{get:function(){return s}},getValidSelection:{get:function(){return l}},prepareVerticalAlignClass:{get:function(){return u}},prepareHorizontalAlignClass:{get:function(){return c}},getAlignmentClasses:{get:function(){return h}},align:{get:function(){return d}},checkSelectionConsistency:{get:function(){return p}},markLabelAsSelected:{get:function(){return m}},__esModule:{value:!0}});var g,v=(g=e("helpers/dom/element"),g&&g.__esModule&&g||{"default":g}).hasClass},{"helpers/dom/element":45}],72:[function(e,t,n){"use strict";Object.defineProperties(n,{ContextMenuCopyPaste:{get:function(){return m}},__esModule:{value:!0}});var r,i,o,a,s,l,u=(r=e("helpers/dom/element"),r&&r.__esModule&&r||{"default":r}).removeClass,c=(i=e("helpers/array"),i&&i.__esModule&&i||{"default":i}).arrayEach,h=(o=e("eventManager"),o&&o.__esModule&&o||{"default":o}).EventManager,d=(a=e("plugins"),a&&a.__esModule&&a||{"default":a}).registerPlugin,f=(s=e("_base"),s&&s.__esModule&&s||{"default":s}).default,p=(l=e("zeroclipboard"),l&&l.__esModule&&l||{"default":l}).default,m=function(e){$traceurRuntime.superConstructor(g).call(this,e),this.eventManager=new h(this),this.swfPath=null,this.outsideClickDeselectsCache=null},g=m;$traceurRuntime.createClass(m,{isEnabled:function(){return this.hot.getSettings().contextMenuCopyPaste},enablePlugin:function(){var e=this;if(!this.enabled){"object"==typeof this.hot.getSettings().contextMenuCopyPaste&&(this.swfPath=this.hot.getSettings().contextMenuCopyPaste.swfPath),"undefined"==typeof p&&console.error("To be able to use the Copy/Paste feature from the context menu, you need to manually include ZeroClipboard.js file to your website.");try{new ActiveXObject("ShockwaveFlash.ShockwaveFlash")}catch(t){"undefined"==typeof navigator.mimeTypes["application/x-shockwave-flash"]&&console.error("To be able to use the Copy/Paste feature from the context menu, your browser needs to have Flash Plugin installed.")}this.swfPath&&p.config({swfPath:this.swfPath}),this.hot.addHook("afterContextMenuShow",function(){return e.onAfterContextMenuShow()}),this.hot.addHook("afterContextMenuDefaultOptions",function(t){return e.onAfterContextMenuDefaultOptions(t)}),this.registerEvents(),$traceurRuntime.superGet(this,g.prototype,"enablePlugin").call(this)}},disablePlugin:function(){$traceurRuntime.superGet(this,g.prototype,"disablePlugin").call(this)},registerEvents:function(){var e=this;this.eventManager.addEventListener(document,"mouseenter",function(){return e.removeCurrentClass()}),this.eventManager.addEventListener(document,"mouseleave",function(){return e.removeZeroClipboardClass()})},getCopyValue:function(){return this.hot.copyPaste.setCopyableText(),this.hot.copyPaste.copyPasteInstance.elTextarea.value},onAfterContextMenuDefaultOptions:function(e){e.items.unshift({key:"copy",name:"Copy"},{key:"paste",name:"Paste",callback:function(){this.copyPaste.triggerPaste()}},Handsontable.plugins.ContextMenu.SEPARATOR)},onAfterContextMenuShow:function(){var e=this,t=this.hot.getPlugin("contextMenu"),n=t.menu.hotMenu.getSourceData();c(n,function(n,r){if("copy"===n.key){var i=new p(t.menu.hotMenu.getCell(r,0));return i.off(),i.on("copy",function(t){var n=t.clipboardData;n.setData("text/plain",e.getCopyValue()),e.hot.getSettings().outsideClickDeselects=e.outsideClickDeselectsCache}),!1}})},removeCurrentClass:function(){var e=this.hot.getPlugin("contextMenu");if(e.menu.isOpened()){var t=e.menu.hotMenu.rootElement.querySelector("td.current");t&&u(t,"current")}this.outsideClickDeselectsCache=this.hot.getSettings().outsideClickDeselects,this.hot.getSettings().outsideClickDeselects=!1},removeZeroClipboardClass:function(){var e=this.hot.getPlugin("contextMenu");if(e.menu.isOpened()){var t=e.menu.hotMenu.rootElement.querySelector("td.zeroclipboard-is-hover");t&&u(t,"zeroclipboard-is-hover")}this.hot.getSettings().outsideClickDeselects=this.outsideClickDeselectsCache}},{},f),d("contextMenuCopyPaste",m)},{_base:58,eventManager:41,"helpers/array":42,"helpers/dom/element":45,plugins:57,zeroclipboard:"zeroclipboard"}],73:[function(e,t,n){"use strict";function r(e){function t(){e.isListening()&&e.selection.empty()}function n(t){var n,r,i,o,a,s,l,u,c,h;if(e.isListening()&&e.selection.isSelected()){n=t,r=v.parse(n),i=e.getSelected(),o=new M(i[0],i[1]),a=new M(i[2],i[3]),s=new R(o,o,a),l=s.getTopLeftCorner(),u=s.getBottomRightCorner(),c=l,h=new M(Math.max(u.row,r.length-1+l.row),Math.max(u.col,r[0].length-1+l.col));var d=a.row-o.row>=r.length-1,f=a.col-o.col>=r[0].length-1;e.addHookOnce("afterChange",function(t){var n=t?t.length:0;if(n){var r={row:0,col:0},i=-1;C(t,function(e,o){var a=n>o+1?t[o+1]:null;a&&(d||(r.row=r.row+Math.max(a[0]-e[0]-1,0)),!f&&e[1]>i&&(i=e[1],r.col=r.col+Math.max(a[1]-e[1]-1,0)))}),e.selectCell(c.row,c.col,h.row+r.row,h.col+r.col)}}),e.populateFromArray(c.row,c.col,r,h.row,h.col,"paste",e.getSettings().pasteMode)}}function r(t){if(e.getSelected()&&!(e.getActiveEditor()&&e.getActiveEditor().isOpened()||_(t))){if(w(t.keyCode)){if(e.getSettings().fragmentSelection&&T())return;return i.setCopyableText(),S(t),void 0}var n=(t.ctrlKey||t.metaKey)&&!t.altKey;t.keyCode==b.A&&n&&e._registerTimeout(setTimeout(E(i.setCopyableText,i),0))}}var i=this;this.copyPasteInstance=g(),this.copyPasteInstance.onCut(t),this.copyPasteInstance.onPaste(n),this.onPaste=n,e.addHook("beforeKeyDown",r),this.destroy=function(){this.copyPasteInstance&&(this.copyPasteInstance.removeCallback(t),this.copyPasteInstance.removeCallback(n),this.copyPasteInstance.destroy(),this.copyPasteInstance=null),e.removeHook("beforeKeyDown",r)},e.addHook("afterDestroy",E(this.destroy,this)),this.triggerPaste=E(this.copyPasteInstance.triggerPaste,this.copyPasteInstance),this.triggerCut=E(this.copyPasteInstance.triggerCut,this.copyPasteInstance),this.setCopyableText=function(){var t=e.getSettings(),n=t.copyRowsLimit,r=t.copyColsLimit,i=e.getSelectedRange(),o=i.getTopLeftCorner(),a=i.getBottomRightCorner(),s=o.row,l=o.col,u=a.row,c=a.col,h=Math.min(u,s+n-1),d=Math.min(c,l+r-1),f=[];f.push({startRow:s,startCol:l,endRow:h,endCol:d}),f=Handsontable.hooks.run(e,"modifyCopyableRange",f);var p=this.getRangedCopyableData(f);e.copyPaste.copyPasteInstance.copyable(p),(u!==h||c!==d)&&Handsontable.hooks.run(e,"afterCopyLimit",u-s+1,c-l+1,n,r)},this.getRangedCopyableData=function(t){var n=[],r=[],i=[];return C(t,function(e){x(e.startRow,e.endRow,function(e){-1===r.indexOf(e)&&r.push(e)}),x(e.startCol,e.endCol,function(e){-1===i.indexOf(e)&&i.push(e)})}),C(r,function(t){var r=[];C(i,function(n){r.push(e.getCopyableData(t,n))}),n.push(r)}),v.stringify(n)}}function i(){var e=this,t=e.getSettings().copyPaste!==!1;t&&!e.copyPaste?e.copyPaste=new r(e):!t&&e.copyPaste&&(e.copyPaste.destroy(),e.copyPaste=null)}Object.defineProperties(n,{CopyPastePlugin:{get:function(){return r}},__esModule:{value:!0}});var o,a,s,l,u,c,h,d,f,p,m,g=(o=e("copyPaste"),o&&o.__esModule&&o||{"default":o}).default,v=(a=e("SheetClip"),a&&a.__esModule&&a||{"default":a}).default,y=(s=e("helpers/unicode"),s&&s.__esModule&&s||{"default":s}),b=y.KEY_CODES,w=y.isCtrlKey,C=(l=e("helpers/array"),l&&l.__esModule&&l||{"default":l}).arrayEach,x=(u=e("helpers/number"),u&&u.__esModule&&u||{"default":u}).rangeEach,k=(c=e("helpers/dom/event"),c&&c.__esModule&&c||{"default":c}),S=k.stopImmediatePropagation,_=k.isImmediatePropagationStopped,T=(h=e("helpers/dom/element"),h&&h.__esModule&&h||{"default":h}).getSelectionText,E=(d=e("helpers/function"),d&&d.__esModule&&d||{"default":d}).proxy,M=((f=e("plugins"),f&&f.__esModule&&f||{"default":f}).registerPlugin,(p=e("3rdparty/walkontable/src/cell/coords"),p&&p.__esModule&&p||{"default":p}).WalkontableCellCoords),R=(m=e("3rdparty/walkontable/src/cell/range"),m&&m.__esModule&&m||{"default":m}).WalkontableCellRange;Handsontable.hooks.add("afterInit",i),Handsontable.hooks.add("afterUpdateSettings",i),Handsontable.hooks.register("afterCopyLimit"),Handsontable.hooks.register("modifyCopyableRange")},{"3rdparty/walkontable/src/cell/coords":5,"3rdparty/walkontable/src/cell/range":6,SheetClip:"SheetClip",copyPaste:"copyPaste","helpers/array":42,"helpers/dom/element":45,"helpers/dom/event":46,"helpers/function":47,"helpers/number":49,"helpers/unicode":53,plugins:57}],74:[function(e){"use strict";function t(){}var n,r,i,o,a=((n=e("plugins"),n&&n.__esModule&&n||{"default":n}).registerPlugin,(r=e("3rdparty/walkontable/src/cell/range"),r&&r.__esModule&&r||{"default":r}).WalkontableCellRange),s=(i=e("3rdparty/walkontable/src/selection"),i&&i.__esModule&&i||{"default":i}).WalkontableSelection,l=function(e){return"boolean"==typeof e&&e===!0?!0:"object"==typeof e&&e.length>0?!0:!1},u=function(){l(this.getSettings().customBorders)&&(this.customBorders||(o=this,this.customBorders=new t))},c=function(e){for(var t=0;t<o.view.wt.selections.length;t++)if(o.view.wt.selections[t].settings.className==e)return t;return-1},h=function(e){var t={row:e.row,col:e.col},n=new s(e,new a(t,t,t)),r=c(e.className);r>=0?o.view.wt.selections[r]=n:o.view.wt.selections.push(n)},d=function(e,t,n){var r=y(e,t);r=b(r,n),this.setCellMeta(e,t,"borders",r),h(r)},f=function(e){for(var t=e.range,n=t.from.row;n<=t.to.row;n++)for(var r=t.from.col;r<=t.to.col;r++){var i=y(n,r),o=0;n==t.from.row&&(o++,e.hasOwnProperty("top")&&(i.top=e.top)),n==t.to.row&&(o++,e.hasOwnProperty("bottom")&&(i.bottom=e.bottom)),r==t.from.col&&(o++,e.hasOwnProperty("left")&&(i.left=e.left)),r==t.to.col&&(o++,e.hasOwnProperty("right")&&(i.right=e.right)),o>0&&(this.setCellMeta(n,r,"borders",i),h(i))}},p=function(e,t){return"border_row"+e+"col"+t},m=function(){return{width:1,color:"#000"}},g=function(){return{hide:!0}},v=function(){return{width:1,color:"#000",cornerVisible:!1}},y=function(e,t){return{className:p(e,t),border:v(),row:e,col:t,top:g(),right:g(),bottom:g(),left:g()}},b=function(e,t){return t.hasOwnProperty("border")&&(e.border=t.border),t.hasOwnProperty("top")&&(e.top=t.top),t.hasOwnProperty("right")&&(e.right=t.right),t.hasOwnProperty("bottom")&&(e.bottom=t.bottom),t.hasOwnProperty("left")&&(e.left=t.left),e},w=function(e){for(var t=document.querySelectorAll("."+e),n=0;n<t.length;n++)if(t[n]&&"TD"!=t[n].nodeName){var r=t[n].parentNode;
r.parentNode&&r.parentNode.removeChild(r)}},C=function(e,t){var n=p(e,t);w(n),this.removeCellMeta(e,t,"borders")},x=function(e,t,n,r){var i=this.getCellMeta(e,t).borders;i&&void 0!=i.border||(i=y(e,t)),i[n]=r?g():m(),this.setCellMeta(e,t,"borders",i);var o=p(e,t);w(o),h(i),this.render()},k=function(e,t,n){if(e.from.row==e.to.row&&e.from.col==e.to.col)"noBorders"==t?C.call(this,e.from.row,e.from.col):x.call(this,e.from.row,e.from.col,t,n);else switch(t){case"noBorders":for(var r=e.from.col;r<=e.to.col;r++)for(var i=e.from.row;i<=e.to.row;i++)C.call(this,i,r);break;case"top":for(var o=e.from.col;o<=e.to.col;o++)x.call(this,e.from.row,o,t,n);break;case"right":for(var a=e.from.row;a<=e.to.row;a++)x.call(this,a,e.to.col,t);break;case"bottom":for(var s=e.from.col;s<=e.to.col;s++)x.call(this,e.to.row,s,t);break;case"left":for(var l=e.from.row;l<=e.to.row;l++)x.call(this,l,e.from.col,t)}},S=function(e,t){var n=!1;return e.getSelectedRange().forAll(function(r,i){var o=e.getCellMeta(r,i).borders;if(o){if(!t)return n=!0,!1;if(!o[t].hasOwnProperty("hide"))return n=!0,!1}}),n},_=function(e){return'<span class="selected">'+String.fromCharCode(10003)+"</span>"+e},T=function(e){this.getSettings().customBorders&&(e.items.push(Handsontable.plugins.ContextMenu.SEPARATOR),e.items.push({key:"borders",name:"Borders",submenu:{items:[{key:"borders:top",name:function(){var e="Top",t=S(this,"top");return t&&(e=_(e)),e},callback:function(){var e=S(this,"top");k.call(this,this.getSelectedRange(),"top",e)},disabled:!1},{key:"borders:right",name:function(){var e="Right",t=S(this,"right");return t&&(e=_(e)),e},callback:function(){var e=S(this,"right");k.call(this,this.getSelectedRange(),"right",e)},disabled:!1},{key:"borders:bottom",name:function(){var e="Bottom",t=S(this,"bottom");return t&&(e=_(e)),e},callback:function(){var e=S(this,"bottom");k.call(this,this.getSelectedRange(),"bottom",e)},disabled:!1},{key:"borders:left",name:function(){var e="Left",t=S(this,"left");return t&&(e=_(e)),e},callback:function(){var e=S(this,"left");k.call(this,this.getSelectedRange(),"left",e)},disabled:!1},{key:"borders:no_borders",name:"Remove border(s)",callback:function(){k.call(this,this.getSelectedRange(),"noBorders")},disabled:function(){return!S(this)}}]}}))};Handsontable.hooks.add("beforeInit",u),Handsontable.hooks.add("afterContextMenuDefaultOptions",T),Handsontable.hooks.add("afterInit",function(){var e=this.getSettings().customBorders;if(e){for(var t=0;t<e.length;t++)e[t].range?f.call(this,e[t]):d.call(this,e[t].row,e[t].col,e[t]);this.render(),this.view.wt.draw(!0)}}),Handsontable.CustomBorders=t},{"3rdparty/walkontable/src/cell/range":6,"3rdparty/walkontable/src/selection":18,plugins:57}],75:[function(e,t,n){"use strict";function r(){this.boundaries=null,this.callback=null}Object.defineProperties(n,{DragToScroll:{get:function(){return r}},__esModule:{value:!0}});{var i,o,a=(i=e("eventManager"),i&&i.__esModule&&i||{"default":i}).eventManager;(o=e("plugins"),o&&o.__esModule&&o||{"default":o}).registerPlugin}Handsontable.plugins.DragToScroll=r,r.prototype.setBoundaries=function(e){this.boundaries=e},r.prototype.setCallback=function(e){this.callback=e},r.prototype.check=function(e,t){var n=0,r=0;t<this.boundaries.top?r=t-this.boundaries.top:t>this.boundaries.bottom&&(r=t-this.boundaries.bottom),e<this.boundaries.left?n=e-this.boundaries.left:e>this.boundaries.right&&(n=e-this.boundaries.right),this.callback(n,r)};var s,l=function(e){e.dragToScrollListening=!1;var t=e.view.wt.wtTable.holder;s=new r,t!==window&&(s.setBoundaries(t.getBoundingClientRect()),s.setCallback(function(e,n){0>e?t.scrollLeft-=50:e>0&&(t.scrollLeft+=50),0>n?t.scrollTop-=20:n>0&&(t.scrollTop+=20)}),e.dragToScrollListening=!0)};Handsontable.hooks.add("afterInit",function(){var e=this,t=a(this);t.addEventListener(document,"mouseup",function(){e.dragToScrollListening=!1}),t.addEventListener(document,"mousemove",function(t){e.dragToScrollListening&&s.check(t.clientX,t.clientY)})}),Handsontable.hooks.add("afterDestroy",function(){a(this).clear()}),Handsontable.hooks.add("afterOnCellMouseDown",function(){l(this)}),Handsontable.hooks.add("afterOnCellCornerMouseDown",function(){l(this)}),Handsontable.plugins.DragToScroll=r},{eventManager:41,plugins:57}],76:[function(e,t,n){"use strict";Object.defineProperties(n,{ManualColumnFreeze:{get:function(){return s}},__esModule:{value:!0}});var r,i,o=(r=e("_base"),r&&r.__esModule&&r||{"default":r}).default,a=(i=e("plugins"),i&&i.__esModule&&i||{"default":i}).registerPlugin,s=function(e){$traceurRuntime.superConstructor(l).call(this,e)},l=s;$traceurRuntime.createClass(s,{isEnabled:function(){return!!this.hot.getSettings().manualColumnFreeze},enablePlugin:function(){var e=this;this.enabled||(this.addHook("modifyCol",function(t){return e.onModifyCol(t)}),this.addHook("afterContextMenuDefaultOptions",function(t){return e.addContextMenuEntry(t)}),$traceurRuntime.superGet(this,l.prototype,"enablePlugin").call(this))},disablePlugin:function(){$traceurRuntime.superGet(this,l.prototype,"disablePlugin").call(this)},init:function(){$traceurRuntime.superGet(this,l.prototype,"init").call(this),"undefined"==typeof this.hot.manualColumnPositionsPluginUsages?this.hot.manualColumnPositionsPluginUsages=["manualColumnFreeze"]:this.hot.manualColumnPositionsPluginUsages.push("manualColumnFreeze"),this.fixedColumnsCount=this.hot.getSettings().fixedColumnsLeft},onModifyCol:function(e){return this.hot.manualColumnPositionsPluginUsages.length>1?e:this.getModifiedColumnIndex(e)},getModifiedColumnIndex:function(e){return this.hot.manualColumnPositions[e]},addContextMenuEntry:function(e){var t=this;e.items.push(Handsontable.plugins.ContextMenu.SEPARATOR,{key:"freeze_column",name:function(){var e=t.hot.getSelected()[1];return e>t.fixedColumnsCount-1?"Freeze this column":"Unfreeze this column"},disabled:function(){var e=t.hot.getSelected();return e[1]!==e[3]},callback:function(){var e=t.hot.getSelected()[1];e>t.fixedColumnsCount-1?t.freezeColumn(e):t.unfreezeColumn(e)}})},freezeColumn:function(e){if(!(e<=this.fixedColumnsCount-1)){var t=this.getModifiedColumnIndex(e)||e;this.checkPositionData(t),this.modifyColumnOrder(t,e,null,"freeze"),this.addFixedColumn(),this.hot.view.wt.wtOverlays.leftOverlay.refresh(),this.hot.view.wt.wtOverlays.adjustElementsSize()}},unfreezeColumn:function(e){if(!(e>this.fixedColumnsCount-1)){var t=this.getBestColumnReturnPosition(e),n=this.getModifiedColumnIndex(e)||e;this.checkPositionData(n),this.modifyColumnOrder(n,e,t,"unfreeze"),this.removeFixedColumn(),this.hot.view.wt.wtOverlays.leftOverlay.refresh(),this.hot.view.wt.wtOverlays.adjustElementsSize()}},addFixedColumn:function(){this.hot.updateSettings({fixedColumnsLeft:this.fixedColumnsCount+1}),this.fixedColumnsCount++},removeFixedColumn:function(){this.hot.updateSettings({fixedColumnsLeft:this.fixedColumnsCount-1}),this.fixedColumnsCount--},checkPositionData:function(e){this.hot.manualColumnPositions&&0!==this.hot.manualColumnPositions.length||this.hot.manualColumnPositions||(this.hot.manualColumnPositions=[]),e?this.hot.manualColumnPositions[e]||this.createPositionData(e+1):this.createPositionData(this.hot.countCols())},createPositionData:function(e){if(this.hot.manualColumnPositions.length<e)for(var t=this.hot.manualColumnPositions.length;e>t;t++)this.hot.manualColumnPositions[t]=t},modifyColumnOrder:function(e,t,n,r){null==n&&(n=e),"freeze"===r?this.hot.manualColumnPositions.splice(this.fixedColumnsCount,0,this.hot.manualColumnPositions.splice(t,1)[0]):"unfreeze"===r&&this.hot.manualColumnPositions.splice(n,0,this.hot.manualColumnPositions.splice(t,1)[0])},getBestColumnReturnPosition:function(e){for(var t=this.fixedColumnsCount,n=this.getModifiedColumnIndex(t),r=this.getModifiedColumnIndex(e);r>n;)t++,n=this.getModifiedColumnIndex(t);return t-1}},{},o),a("manualColumnFreeze",s)},{_base:58,plugins:57}],77:[function(e,t,n){"use strict";function r(){function e(e){m=this,g=e;var t=this.view.wt.wtTable.getCoords(e).col;if(t>=0){f=t;var n=g.getBoundingClientRect();l=n.left,v.style.top=n.top+"px",v.style.left=l+"px",m.rootElement.appendChild(v)}}function t(e,t){var n=e.getBoundingClientRect(),r=6;v.style.left=t>0?n.left+n.width-r+"px":n.left+"px"}function n(){var e=this;u(v,"active"),u(y,"active");var t=g.getBoundingClientRect();y.style.width=t.width+"px",y.style.height=e.view.maximumVisibleElementHeight(0)+"px",y.style.top=v.style.top,y.style.left=l+"px",e.rootElement.appendChild(y)}function r(e){y.style.left=l+e+"px"}function i(){h(v,"active"),h(y,"active")}var o,a,s,l,f,m,g,v=document.createElement("DIV"),y=document.createElement("DIV"),b=d(this);v.className="manualColumnMover",y.className="manualColumnMoverGuide";var w=function(){var e=this;Handsontable.hooks.run(e,"persistentStateSave","manualColumnPositions",e.manualColumnPositions)},C=function(){var e=this,t={};return Handsontable.hooks.run(e,"persistentStateLoad","manualColumnPositions",t),t.value},x=function(e){return"BODY"!=e.tagName?"THEAD"==e.parentNode.tagName?!0:(e=e.parentNode,x(e)):!1},k=function(e){return"TABLE"!=e.tagName?"TH"==e.tagName?e:k(e.parentNode):null},S=function(){var l,u=this;b.addEventListener(u.rootElement,"mouseover",function(n){if(x(n.target)){var r=k(n.target);if(r)if(l){var i=u.view.wt.wtTable.getCoords(r).col;i>=0&&(a=i,t(n.target,a-o))}else e.call(u,r)}}),b.addEventListener(u.rootElement,"mousedown",function(e){c(e.target,"manualColumnMover")&&(s=p(e),n.call(u),l=u,o=f,a=f)}),b.addEventListener(window,"mousemove",function(e){l&&r(p(e)-s)}),b.addEventListener(window,"mouseup",function(){l&&(i(),l=!1,T(u.manualColumnPositions,u.countCols()),u.manualColumnPositions.splice(a,0,u.manualColumnPositions.splice(o,1)[0]),Handsontable.hooks.run(u,"beforeColumnMove",o,a),u.forceFullRender=!0,u.view.render(),w.call(u),Handsontable.hooks.run(u,"afterColumnMove",o,a),e.call(u,g))}),u.addHook("afterDestroy",_)},_=function(){b.clear()},T=function(e,t){if(e.length<t)for(var n=e.length;t>n;n++)e[n]=n};this.beforeInit=function(){this.manualColumnPositions=[]},this.init=function(e){var t=this,n=!!this.getSettings().manualColumnMove;if(n){var r=this.getSettings().manualColumnMove,i=C.call(t);this.manualColumnPositions="undefined"!=typeof i?i:Array.isArray(r)?r:[],("afterInit"===e||"afterUpdateSettings"===e&&0===b.context.eventListeners.length)&&("undefined"==typeof t.manualColumnPositionsPluginUsages?t.manualColumnPositionsPluginUsages=["manualColumnMove"]:t.manualColumnPositionsPluginUsages.push("manualColumnMove"),S.call(this),this.manualColumnPositions.length>0&&(this.forceFullRender=!0,this.render()))}else{var o=t.manualColumnPositionsPluginUsages?t.manualColumnPositionsPluginUsages.indexOf("manualColumnMove"):-1;o>-1&&(_.call(this),this.manualColumnPositions=[],t.manualColumnPositionsPluginUsages[o]=void 0)}},this.modifyCol=function(e){return this.getSettings().manualColumnMove?("undefined"==typeof this.manualColumnPositions[e]&&T(this.manualColumnPositions,e+1),this.manualColumnPositions[e]):e},this.afterRemoveCol=function(e,t){if(this.getSettings().manualColumnMove){var n,r=this.manualColumnPositions;n=r.splice(e,t),r=r.map(function(e){var t,r=e;for(t=0;t<n.length;t++)e>n[t]&&r--;return r}),this.manualColumnPositions=r}},this.afterCreateCol=function(e,t){if(this.getSettings().manualColumnMove){var n=this.manualColumnPositions;if(n.length){for(var r=[],i=0;t>i;i++)r.push(e+i);e>=n.length?n.concat(r):(n=n.map(function(n){return n>=e?n+t:n}),n.splice.apply(n,[e,0].concat(r))),this.manualColumnPositions=n}}}}Object.defineProperties(n,{ManualColumnMove:{get:function(){return r}},__esModule:{value:!0}});var i,o,a,s,l=(i=e("helpers/dom/element"),i&&i.__esModule&&i||{"default":i}),u=l.addClass,c=l.hasClass,h=l.removeClass,d=(o=e("eventManager"),o&&o.__esModule&&o||{"default":o}).eventManager,f=(a=e("helpers/dom/event"),a&&a.__esModule&&a||{"default":a}),p=f.pageX,m=(f.pageY,(s=e("plugins"),s&&s.__esModule&&s||{"default":s}).registerPlugin,new r);Handsontable.hooks.add("beforeInit",m.beforeInit),Handsontable.hooks.add("afterInit",function(){m.init.call(this,"afterInit")}),Handsontable.hooks.add("afterUpdateSettings",function(){m.init.call(this,"afterUpdateSettings")}),Handsontable.hooks.add("modifyCol",m.modifyCol),Handsontable.hooks.add("afterRemoveCol",m.afterRemoveCol),Handsontable.hooks.add("afterCreateCol",m.afterCreateCol),Handsontable.hooks.register("beforeColumnMove"),Handsontable.hooks.register("afterColumnMove")},{eventManager:41,"helpers/dom/element":45,"helpers/dom/event":46,plugins:57}],78:[function(e,t,n){"use strict";Object.defineProperties(n,{ManualColumnResize:{get:function(){return v}},__esModule:{value:!0}});var r,i,o,a,s,l=(r=e("_base.js"),r&&r.__esModule&&r||{"default":r}).default,u=(i=e("helpers/dom/element"),i&&i.__esModule&&i||{"default":i}),c=u.addClass,h=u.hasClass,d=u.removeClass,f=(o=e("eventManager"),o&&o.__esModule&&o||{"default":o}).eventManager,p=(a=e("helpers/dom/event"),a&&a.__esModule&&a||{"default":a}),m=p.pageX,g=(p.pageY,(s=e("plugins"),s&&s.__esModule&&s||{"default":s}).registerPlugin),v=function(e){$traceurRuntime.superConstructor(y).call(this,e),this.currentTH=null,this.currentCol=null,this.currentWidth=null,this.newSize=null,this.startY=null,this.startWidth=null,this.startOffset=null,this.handle=document.createElement("DIV"),this.guide=document.createElement("DIV"),this.eventManager=f(this),this.pressed=null,this.dblclick=0,this.autoresizeTimeout=null,this.manualColumnWidths=[],c(this.handle,"manualColumnResizer"),c(this.guide,"manualColumnResizerGuide")},y=v;$traceurRuntime.createClass(v,{isEnabled:function(){return this.hot.getSettings().manualColumnResize},enablePlugin:function(){var e=this;if(!this.enabled){this.manualColumnWidths=[];var t=this.hot.getSettings().manualColumnResize,n=this.loadManualColumnWidths();this.addHook("modifyColWidth",function(t,n){return e.onModifyColWidth(t,n)}),this.manualColumnWidths="undefined"!=typeof n?n:Array.isArray(t)?t:[],Handsontable.hooks.register("beforeColumnResize"),Handsontable.hooks.register("afterColumnResize"),this.bindEvents(),$traceurRuntime.superGet(this,y.prototype,"enablePlugin").call(this)}},updatePlugin:function(){var e=this.hot.getSettings().manualColumnResize;this.manualColumnWidths=Array.isArray(e)?e:[]},disablePlugin:function(){$traceurRuntime.superGet(this,y.prototype,"disablePlugin").call(this)},saveManualColumnWidths:function(){this.hot.runHooks("persistentStateSave","manualColumnWidths",this.manualColumnWidths)},loadManualColumnWidths:function(){var e={};return this.hot.runHooks("persistentStateLoad","manualColumnWidths",e),e.value},setupHandlePosition:function(e){this.currentTH=e;var t=this.hot.view.wt.wtTable.getCoords(e).col;if(t>=0){var n=this.currentTH.getBoundingClientRect();this.currentCol=t,this.startOffset=n.left-6,this.startWidth=parseInt(n.width,10),this.handle.style.top=n.top+"px",this.handle.style.left=this.startOffset+this.startWidth+"px",this.hot.rootElement.appendChild(this.handle)}},refreshHandlePosition:function(){this.handle.style.left=this.startOffset+this.currentWidth+"px"},setupGuidePosition:function(){c(this.handle,"active"),c(this.guide,"active"),this.guide.style.top=this.handle.style.top,this.guide.style.left=this.handle.style.left,this.guide.style.height=this.hot.view.maximumVisibleElementHeight(0)+"px",this.hot.rootElement.appendChild(this.guide)},refreshGuidePosition:function(){this.guide.style.left=this.handle.style.left},hideHandleAndGuide:function(){d(this.handle,"active"),d(this.guide,"active")},checkIfColumnHeader:function(e){return"BODY"!=e.tagName?"THEAD"==e.parentNode.tagName?!0:(e=e.parentNode,this.checkIfColumnHeader(e)):!1},getTHFromTargetElement:function(e){return"TABLE"!=e.tagName?"TH"==e.tagName?e:this.getTHFromTargetElement(e.parentNode):null},onMouseOver:function(e){if(this.checkIfColumnHeader(e.target)){var t=this.getTHFromTargetElement(e.target);if(!t)return;var n=t.getAttribute("colspan");!t||null!==n&&1!==n||this.pressed||this.setupHandlePosition(t)}},afterMouseDownTimeout:function(){if(this.dblclick>=2){var e=this.hot.runHooks("beforeColumnResize",this.currentCol,this.newSize,!0);void 0!==e&&(this.newSize=e),this.setManualSize(this.currentCol,this.newSize),this.hot.forceFullRender=!0,this.hot.view.render(),this.hot.view.wt.wtOverlays.adjustElementsSize(!0),this.hot.runHooks("afterColumnResize",this.currentCol,this.newSize,!0)}this.dblclick=0,this.autoresizeTimeout=null},onMouseDown:function(e){var t=this;h(e.target,"manualColumnResizer")&&(this.setupGuidePosition(),this.pressed=this.hot,null===this.autoresizeTimeout&&(this.autoresizeTimeout=setTimeout(function(){return t.afterMouseDownTimeout()},500),this.hot._registerTimeout(this.autoresizeTimeout)),this.dblclick++,this.startX=m(e),this.newSize=this.startWidth)},onMouseMove:function(e){this.pressed&&(this.currentWidth=this.startWidth+(m(e)-this.startX),this.newSize=this.setManualSize(this.currentCol,this.currentWidth),this.refreshHandlePosition(),this.refreshGuidePosition())},onMouseUp:function(){this.pressed&&(this.hideHandleAndGuide(),this.pressed=!1,this.newSize!=this.startWidth&&(this.hot.runHooks("beforeColumnResize",this.currentCol,this.newSize),this.hot.forceFullRender=!0,this.hot.view.render(),this.hot.view.wt.wtOverlays.adjustElementsSize(!0),this.saveManualColumnWidths(),this.hot.runHooks("afterColumnResize",this.currentCol,this.newSize)),this.setupHandlePosition(this.currentTH))},bindEvents:function(){var e=this;this.eventManager.addEventListener(this.hot.rootElement,"mouseover",function(t){return e.onMouseOver(t)}),this.eventManager.addEventListener(this.hot.rootElement,"mousedown",function(t){return e.onMouseDown(t)}),this.eventManager.addEventListener(window,"mousemove",function(t){return e.onMouseMove(t)}),this.eventManager.addEventListener(window,"mouseup",function(t){return e.onMouseUp(t)})},setManualSize:function(e,t){return t=Math.max(t,20),e=this.hot.runHooks("modifyCol",e),this.manualColumnWidths[e]=t,t},onModifyColWidth:function(e,t){return this.enabled&&(t=this.hot.runHooks("modifyCol",t),this.hot.getSettings().manualColumnResize&&this.manualColumnWidths[t])?this.manualColumnWidths[t]:e}},{},l),g("manualColumnResize",v)},{"_base.js":58,eventManager:41,"helpers/dom/element":45,"helpers/dom/event":46,plugins:57}],79:[function(e,t,n){"use strict";function r(){function e(e){var t=this;m=e;var n=this.view.wt.wtTable.getCoords(e).row;if(n>=0){f=n;var r=m.getBoundingClientRect();l=r.top,g.style.top=l+"px",g.style.left=r.left+"px",t.rootElement.appendChild(g)}}function t(e,t){var n=e.getBoundingClientRect(),r=6;g.style.top=t>0?n.top+n.height-r+"px":n.top+"px"}function n(){var e=this;u(g,"active"),u(v,"active");var t=m.getBoundingClientRect();v.style.width=e.view.maximumVisibleElementWidth(0)+"px",v.style.height=t.height+"px",v.style.top=l+"px",v.style.left=g.style.left,e.rootElement.appendChild(v)}function r(e){v.style.top=l+e+"px"}function i(){h(g,"active"),h(v,"active")}var o,a,s,l,f,m,g=document.createElement("DIV"),v=document.createElement("DIV"),y=d(this);g.className="manualRowMover",v.className="manualRowMoverGuide";var b=function(){var e=this;Handsontable.hooks.run(e,"persistentStateSave","manualRowPositions",e.manualRowPositions)},w=function(){var e=this,t={};return Handsontable.hooks.run(e,"persistentStateLoad","manualRowPositions",t),t.value},C=function(e){return"BODY"!=e.tagName?"TBODY"==e.parentNode.tagName?!0:(e=e.parentNode,C(e)):!1},x=function(e){return"TABLE"!=e.tagName?"TH"==e.tagName?e:x(e.parentNode):null},k=function(){var l,u=this;y.addEventListener(u.rootElement,"mouseover",function(n){if(C(n.target)){var r=x(n.target);r&&(l?(a=u.view.wt.wtTable.getCoords(r).row,t(r,a-o)):e.call(u,r))}}),y.addEventListener(u.rootElement,"mousedown",function(e){c(e.target,"manualRowMover")&&(s=p(e),n.call(u),l=u,o=f,a=f)}),y.addEventListener(window,"mousemove",function(e){l&&r(p(e)-s)}),y.addEventListener(window,"mouseup",function(){l&&(i(),l=!1,_(u.manualRowPositions,u.countRows()),u.manualRowPositions.splice(a,0,u.manualRowPositions.splice(o,1)[0]),Handsontable.hooks.run(u,"beforeRowMove",o,a),u.forceFullRender=!0,u.view.render(),b.call(u),Handsontable.hooks.run(u,"afterRowMove",o,a),e.call(u,m))}),u.addHook("afterDestroy",S)},S=function(){y.clear()},_=function(e,t){if(e.length<t)for(var n=e.length;t>n;n++)e[n]=n};this.beforeInit=function(){this.manualRowPositions=[]},this.init=function(e){var t=this,n=!!t.getSettings().manualRowMove;if(n){var r=t.getSettings().manualRowMove,i=w.call(t);"undefined"==typeof t.manualRowPositionsPluginUsages?t.manualRowPositionsPluginUsages=["manualColumnMove"]:t.manualRowPositionsPluginUsages.push("manualColumnMove"),this.manualRowPositions="undefined"!=typeof i?i:Array.isArray(r)?r:[],("afterInit"===e||"afterUpdateSettings"===e&&0===y.context.eventListeners.length)&&(k.call(this),this.manualRowPositions.length>0&&(t.forceFullRender=!0,t.render()))}else{var o=t.manualRowPositionsPluginUsages?t.manualRowPositionsPluginUsages.indexOf("manualColumnMove"):-1;o>-1&&(S.call(this),t.manualRowPositions=[],t.manualRowPositionsPluginUsages[o]=void 0)}},this.modifyRow=function(e){var t=this;return t.getSettings().manualRowMove?("undefined"==typeof t.manualRowPositions[e]&&_(this.manualRowPositions,e+1),t.manualRowPositions[e]):e}}Object.defineProperties(n,{ManualRowMove:{get:function(){return r}},__esModule:{value:!0}});var i,o,a,s,l=(i=e("helpers/dom/element"),i&&i.__esModule&&i||{"default":i}),u=l.addClass,c=l.hasClass,h=l.removeClass,d=(o=e("eventManager"),o&&o.__esModule&&o||{"default":o}).eventManager,f=(a=e("helpers/dom/event"),a&&a.__esModule&&a||{"default":a}),p=(f.pageX,f.pageY),m=((s=e("plugins"),s&&s.__esModule&&s||{"default":s}).registerPlugin,new r);Handsontable.hooks.add("beforeInit",m.beforeInit),Handsontable.hooks.add("afterInit",function(){m.init.call(this,"afterInit")}),Handsontable.hooks.add("afterUpdateSettings",function(){m.init.call(this,"afterUpdateSettings")}),Handsontable.hooks.add("modifyRow",m.modifyRow),Handsontable.hooks.register("beforeRowMove"),Handsontable.hooks.register("afterRowMove")},{eventManager:41,"helpers/dom/element":45,"helpers/dom/event":46,plugins:57}],80:[function(e,t,n){"use strict";Object.defineProperties(n,{ManualRowResize:{get:function(){return v}},__esModule:{value:!0}});var r,i,o,a,s,l=(r=e("_base.js"),r&&r.__esModule&&r||{"default":r}).default,u=(i=e("helpers/dom/element"),i&&i.__esModule&&i||{"default":i}),c=u.addClass,h=u.hasClass,d=u.removeClass,f=(o=e("eventManager"),o&&o.__esModule&&o||{"default":o}).eventManager,p=(a=e("helpers/dom/event"),a&&a.__esModule&&a||{"default":a}),m=(p.pageX,p.pageY),g=(s=e("plugins"),s&&s.__esModule&&s||{"default":s}).registerPlugin,v=function(e){$traceurRuntime.superConstructor(y).call(this,e),this.currentTH=null,this.currentRow=null,this.currentHeight=null,this.newSize=null,this.startY=null,this.startHeight=null,this.startOffset=null,this.handle=document.createElement("DIV"),this.guide=document.createElement("DIV"),this.eventManager=f(this),this.pressed=null,this.dblclick=0,this.autoresizeTimeout=null,this.manualRowHeights=[],c(this.handle,"manualRowResizer"),c(this.guide,"manualRowResizerGuide")},y=v;$traceurRuntime.createClass(v,{isEnabled:function(){return this.hot.getSettings().manualRowResize},enablePlugin:function(){var e=this;if(!this.enabled){this.manualRowHeights=[];var t=this.hot.getSettings().manualRowResize,n=this.loadManualRowHeights();this.manualRowHeights="undefined"!=typeof n?n:Array.isArray(t)?t:[],this.addHook("modifyRowHeight",function(t,n){return e.onModifyRowHeight(t,n)}),Handsontable.hooks.register("beforeRowResize"),Handsontable.hooks.register("afterRowResize"),this.bindEvents(),$traceurRuntime.superGet(this,y.prototype,"enablePlugin").call(this)}},updatePlugin:function(){var e=this.hot.getSettings().manualRowResize;this.manualRowHeights=Array.isArray(e)?e:[]},disablePlugin:function(){$traceurRuntime.superGet(this,y.prototype,"disablePlugin").call(this)},saveManualRowHeights:function(){this.hot.runHooks("persistentStateSave","manualRowHeights",this.manualRowHeights)},loadManualRowHeights:function(){var e={};return this.hot.runHooks("persistentStateLoad","manualRowHeights",e),e.value},setupHandlePosition:function(e){this.currentTH=e;var t=this.hot.view.wt.wtTable.getCoords(e).row;if(t>=0){var n=this.currentTH.getBoundingClientRect();this.currentRow=t,this.startOffset=n.top-6,this.startHeight=parseInt(n.height,10),this.handle.style.left=n.left+"px",this.handle.style.top=this.startOffset+this.startHeight+"px",this.hot.rootElement.appendChild(this.handle)}},refreshHandlePosition:function(){this.handle.style.top=this.startOffset+this.currentHeight+"px"},setupGuidePosition:function(){c(this.handle,"active"),c(this.guide,"active"),this.guide.style.top=this.handle.style.top,this.guide.style.left=this.handle.style.left,this.guide.style.width=this.hot.view.maximumVisibleElementWidth(0)+"px",this.hot.rootElement.appendChild(this.guide)},refreshGuidePosition:function(){this.guide.style.top=this.handle.style.top},hideHandleAndGuide:function(){d(this.handle,"active"),d(this.guide,"active")},checkIfRowHeader:function(e){return"BODY"!=e.tagName?"TBODY"==e.parentNode.tagName?!0:(e=e.parentNode,this.checkIfRowHeader(e)):!1},getTHFromTargetElement:function(e){return"TABLE"!=e.tagName?"TH"==e.tagName?e:this.getTHFromTargetElement(e.parentNode):null},onMouseOver:function(e){if(this.checkIfRowHeader(e.target)){var t=this.getTHFromTargetElement(e.target);t&&(this.pressed||this.setupHandlePosition(t))}},afterMouseDownTimeout:function(){if(this.dblclick>=2){var e=this.hot.runHooks("beforeRowResize",this.currentRow,this.newSize,!0);void 0!==e&&(this.newSize=e),this.setManualSize(this.currentRow,this.newSize),this.hot.forceFullRender=!0,this.hot.view.render(),this.hot.view.wt.wtOverlays.adjustElementsSize(!0),this.hot.runHooks("afterRowResize",this.currentRow,this.newSize,!0)}this.dblclick=0,this.autoresizeTimeout=null},onMouseDown:function(e){var t=this;h(e.target,"manualRowResizer")&&(this.setupGuidePosition(),this.pressed=this.hot,null==this.autoresizeTimeout&&(this.autoresizeTimeout=setTimeout(function(){return t.afterMouseDownTimeout()},500),this.hot._registerTimeout(this.autoresizeTimeout)),this.dblclick++,this.startY=m(e),this.newSize=this.startHeight)},onMouseMove:function(e){this.pressed&&(this.currentHeight=this.startHeight+(m(e)-this.startY),this.newSize=this.setManualSize(this.currentRow,this.currentHeight),this.refreshHandlePosition(),this.refreshGuidePosition())},onMouseUp:function(){this.pressed&&(this.hideHandleAndGuide(),this.pressed=!1,this.newSize!=this.startHeight&&(this.hot.runHooks("beforeRowResize",this.currentRow,this.newSize),this.hot.forceFullRender=!0,this.hot.view.render(),this.hot.view.wt.wtOverlays.adjustElementsSize(!0),this.saveManualRowHeights(),this.hot.runHooks("afterRowResize",this.currentRow,this.newSize)),this.setupHandlePosition(this.currentTH))},bindEvents:function(){var e=this;this.eventManager.addEventListener(this.hot.rootElement,"mouseover",function(t){return e.onMouseOver(t)}),this.eventManager.addEventListener(this.hot.rootElement,"mousedown",function(t){return e.onMouseDown(t)}),this.eventManager.addEventListener(window,"mousemove",function(t){return e.onMouseMove(t)}),this.eventManager.addEventListener(window,"mouseup",function(t){return e.onMouseUp(t)})},setManualSize:function(e,t){return e=this.hot.runHooks("modifyRow",e),this.manualRowHeights[e]=t,t},onModifyRowHeight:function(e,t){if(this.enabled){var n=this.hot.getPlugin("autoRowSize"),r=n?n.heights[t]:null;t=this.hot.runHooks("modifyRow",t);var i=this.manualRowHeights[t];if(void 0!==i&&(i===r||i>(e||0)))return i}return e}},{},l),g("manualRowResize",v)},{"_base.js":58,eventManager:41,"helpers/dom/element":45,"helpers/dom/event":46,plugins:57}],81:[function(e,t,n){"use strict";function r(){var e=[];return e.getInfo=function(e,t){for(var n=0,r=this.length;r>n;n++)if(this[n].row<=e&&this[n].row+this[n].rowspan-1>=e&&this[n].col<=t&&this[n].col+this[n].colspan-1>=t)return this[n]},e.setInfo=function(e){for(var t=0,n=this.length;n>t;t++)if(this[t].row===e.row&&this[t].col===e.col)return this[t]=e,void 0;this.push(e)},e.removeInfo=function(e,t){for(var n=0,r=this.length;r>n;n++)if(this[n].row===e&&this[n].col===t){this.splice(n,1);break}},e}function i(e){if(this.mergedCellInfoCollection=new r,Array.isArray(e))for(var t=0,n=e.length;n>t;t++)this.mergedCellInfoCollection.setInfo(e[t])}function o(e){var t=this.getSettings().mergeCells;if(t&&!this.selection.isMultiple()){var n=this.mergeCells.mergedCellInfoCollection.getInfo(e[0],e[1]);n&&(e[0]=n.row,e[1]=n.col,e[2]=n.row+n.rowspan-1,e[3]=n.col+n.colspan-1)}}function a(e,t){this.mergeCells&&this.mergeCells.shiftCollection("right",e,t)}function s(e,t){this.mergeCells&&this.mergeCells.shiftCollection("left",e,t)}function l(e,t){this.mergeCells&&this.mergeCells.shiftCollection("down",e,t)}function u(e,t){this.mergeCells&&this.mergeCells.shiftCollection("up",e,t)}Object.defineProperties(n,{MergeCells:{get:function(){return i}},__esModule:{value:!0}});var c,h,d,f,p,m=((c=e("plugins"),c&&c.__esModule&&c||{"default":c}).registerPlugin,(h=e("helpers/dom/event"),h&&h.__esModule&&h||{"default":h}).stopImmediatePropagation),g=(d=e("3rdparty/walkontable/src/cell/coords"),d&&d.__esModule&&d||{"default":d}).WalkontableCellCoords,v=(f=e("3rdparty/walkontable/src/cell/range"),f&&f.__esModule&&f||{"default":f}).WalkontableCellRange,y=(p=e("3rdparty/walkontable/src/table"),p&&p.__esModule&&p||{"default":p}).WalkontableTable;i.prototype.canMergeRange=function(e){return!e.isSingle()},i.prototype.mergeRange=function(e){if(this.canMergeRange(e)){var t=e.getTopLeftCorner(),n=e.getBottomRightCorner(),r={};r.row=t.row,r.col=t.col,r.rowspan=n.row-t.row+1,r.colspan=n.col-t.col+1,this.mergedCellInfoCollection.setInfo(r)}},i.prototype.mergeOrUnmergeSelection=function(e){var t=this.mergedCellInfoCollection.getInfo(e.from.row,e.from.col);t?this.unmergeSelection(e.from):this.mergeSelection(e)},i.prototype.mergeSelection=function(e){this.mergeRange(e)},i.prototype.unmergeSelection=function(e){var t=this.mergedCellInfoCollection.getInfo(e.row,e.col);this.mergedCellInfoCollection.removeInfo(t.row,t.col)},i.prototype.applySpanProperties=function(e,t,n){var r=this.mergedCellInfoCollection.getInfo(t,n);r?r.row===t&&r.col===n?(e.setAttribute("rowspan",r.rowspan),e.setAttribute("colspan",r.colspan)):(e.removeAttribute("rowspan"),e.removeAttribute("colspan"),e.style.display="none"):(e.removeAttribute("rowspan"),e.removeAttribute("colspan"))},i.prototype.modifyTransform=function(e,t,n){var r=function(e,t){return t.row>=e.row&&t.row<=e.row+e.rowspan-1?!0:!1},i=function(e,t){return t.col>=e.col&&t.col<=e.col+e.colspan-1?!0:!1},o=function(e){return new g(t.to.row+e.row,t.to.col+e.col)},a={row:n.row,col:n.col};if("modifyTransformStart"==e){this.lastDesiredCoords||(this.lastDesiredCoords=new g(null,null));for(var s,l=new g(t.highlight.row,t.highlight.col),u=this.mergedCellInfoCollection.getInfo(l.row,l.col),c=0,h=this.mergedCellInfoCollection.length;h>c;c++){var d=this.mergedCellInfoCollection[c];if(d=new g(d.row+d.rowspan-1,d.col+d.colspan-1),t.includes(d)){s=!0;break}}if(u){var f=new g(u.row,u.col),p=new g(u.row+u.rowspan-1,u.col+u.colspan-1),m=new v(f,f,p);m.includes(this.lastDesiredCoords)||(this.lastDesiredCoords=new g(null,null)),a.row=this.lastDesiredCoords.row?this.lastDesiredCoords.row-l.row:a.row,a.col=this.lastDesiredCoords.col?this.lastDesiredCoords.col-l.col:a.col,n.row>0?a.row=u.row+u.rowspan-1-l.row+n.row:n.row<0&&(a.row=l.row-u.row+n.row),n.col>0?a.col=u.col+u.colspan-1-l.col+n.col:n.col<0&&(a.col=l.col-u.col+n.col)}var y=new g(t.highlight.row+a.row,t.highlight.col+a.col),b=this.mergedCellInfoCollection.getInfo(y.row,y.col);b&&(this.lastDesiredCoords=y,a={row:b.row-l.row,col:b.col-l.col})}else if("modifyTransformEnd"==e)for(var c=0,h=this.mergedCellInfoCollection.length;h>c;c++){var w=this.mergedCellInfoCollection[c],f=new g(w.row,w.col),p=new g(w.row+w.rowspan-1,w.col+w.colspan-1),C=new v(f,f,p),x=t.getBordersSharedWith(C);
if(C.isEqual(t))t.setDirection("NW-SE");else if(x.length>0){var k=t.highlight.isEqual(C.from);x.indexOf("top")>-1?t.to.isSouthEastOf(C.from)&&k?t.setDirection("NW-SE"):t.to.isSouthWestOf(C.from)&&k&&t.setDirection("NE-SW"):x.indexOf("bottom")>-1&&(t.to.isNorthEastOf(C.from)&&k?t.setDirection("SW-NE"):t.to.isNorthWestOf(C.from)&&k&&t.setDirection("SE-NW"))}var y=o(a),S=r(w,y),_=i(w,y);t.includesRange(C)&&(C.includes(y)||S||_)&&(S&&(a.row<0?a.row-=w.rowspan-1:a.row>0&&(a.row+=w.rowspan-1)),_&&(a.col<0?a.col-=w.colspan-1:a.col>0&&(a.col+=w.colspan-1)))}0!==a.row&&(n.row=a.row),0!==a.col&&(n.col=a.col)},i.prototype.shiftCollection=function(e,t){var n=[0,0];switch(e){case"right":n[0]+=1;break;case"left":n[0]-=1;break;case"down":n[1]+=1;break;case"up":n[1]-=1}for(var r=0;r<this.mergedCellInfoCollection.length;r++){var i=this.mergedCellInfoCollection[r];"right"===e||"left"===e?t<=i.col&&(i.col+=n[0]):t<=i.row&&(i.row+=n[1])}};var b=function(){var e=this,t=e.getSettings().mergeCells;t&&(e.mergeCells||(e.mergeCells=new i(t)))},w=function(){var e=this;e.mergeCells&&(e.view.wt.wtTable.getCell=function(t){if(e.getSettings().mergeCells){var n=e.mergeCells.mergedCellInfoCollection.getInfo(t.row,t.col);n&&(t=n)}return y.prototype.getCell.call(this,t)})},C=function(){var e=this,t=e.getSettings().mergeCells;if(t)if(e.mergeCells){if(e.mergeCells.mergedCellInfoCollection=new r,Array.isArray(t))for(var n=0,o=t.length;o>n;n++)e.mergeCells.mergedCellInfoCollection.setInfo(t[n])}else e.mergeCells=new i(t);else e.mergeCells&&(e.mergeCells.mergedCellInfoCollection=new r)},x=function(e){if(this.mergeCells){var t=(e.ctrlKey||e.metaKey)&&!e.altKey;t&&77===e.keyCode&&(this.mergeCells.mergeOrUnmergeSelection(this.getSelectedRange()),this.render(),m(e))}},k=function(e){this.getSettings().mergeCells&&(e.items.push(Handsontable.plugins.ContextMenu.SEPARATOR),e.items.push({key:"mergeCells",name:function(){var e=this.getSelected(),t=this.mergeCells.mergedCellInfoCollection.getInfo(e[0],e[1]);return t?"Unmerge cells":"Merge cells"},callback:function(){this.mergeCells.mergeOrUnmergeSelection(this.getSelectedRange()),this.render()},disabled:function(){return!1}}))},S=function(e,t,n){this.mergeCells&&this.mergeCells.applySpanProperties(e,t,n)},_=function(e){return function(t){var n=this.getSettings().mergeCells;if(n){var r=this.getSelectedRange();if(this.mergeCells.modifyTransform(e,r,t),"modifyTransformEnd"===e){var i=this.countRows(),o=this.countCols();r.from.row<0?r.from.row=0:r.from.row>0&&r.from.row>=i&&(r.from.row=r.from-1),r.from.col<0?r.from.col=0:r.from.col>0&&r.from.col>=o&&(r.from.col=o-1)}}}},T=function(e){this.lastDesiredCoords=null;var t=this.getSettings().mergeCells;if(t){var n=this.getSelectedRange();n.highlight=new g(n.highlight.row,n.highlight.col),n.to=e;var r=!1;do{r=!1;for(var i=0,o=this.mergeCells.mergedCellInfoCollection.length;o>i;i++){var a=this.mergeCells.mergedCellInfoCollection[i],s=new g(a.row,a.col),l=new g(a.row+a.rowspan-1,a.col+a.colspan-1),u=new v(s,s,l);n.expandByRange(u)&&(e.row=n.to.row,e.col=n.to.col,r=!0)}}while(r)}},E=function(e,t){if(t&&"area"==t){var n=this.getSettings().mergeCells;if(n)for(var r=this.getSelectedRange(),i=new v(r.from,r.from,r.from),o=new v(r.to,r.to,r.to),a=0,s=this.mergeCells.mergedCellInfoCollection.length;s>a;a++){var l=this.mergeCells.mergedCellInfoCollection[a],u=new g(l.row,l.col),c=new g(l.row+l.rowspan-1,l.col+l.colspan-1),h=new v(u,u,c);i.expandByRange(h)&&(e[0]=i.from.row,e[1]=i.from.col),o.expandByRange(h)&&(e[2]=o.from.row,e[3]=o.from.col)}}},M=function(e,t,n){var r=this.getSettings().mergeCells;if(r){var i=this.mergeCells.mergedCellInfoCollection.getInfo(e,t);!i||i.row==e&&i.col==t||(n.copyable=!1)}},R=function(e){var t=this.getSettings().mergeCells;if(t)for(var n,r=this.countCols(),i=0;r>i;i++){if(n=this.mergeCells.mergedCellInfoCollection.getInfo(e.startRow,i),n&&n.row<e.startRow)return e.startRow=n.row,R.call(this,e);if(n=this.mergeCells.mergedCellInfoCollection.getInfo(e.endRow,i)){var o=n.row+n.rowspan-1;if(o>e.endRow)return e.endRow=o,R.call(this,e)}}},O=function(e){var t=this.getSettings().mergeCells;if(t)for(var n,r=this.countRows(),i=0;r>i;i++){if(n=this.mergeCells.mergedCellInfoCollection.getInfo(i,e.startColumn),n&&n.col<e.startColumn)return e.startColumn=n.col,O.call(this,e);if(n=this.mergeCells.mergedCellInfoCollection.getInfo(i,e.endColumn)){var o=n.col+n.colspan-1;if(o>e.endColumn)return e.endColumn=o,O.call(this,e)}}},A=function(e){if(e&&this.mergeCells){var t=this.mergeCells.mergedCellInfoCollection,n=this.getSelectedRange();for(var r in t)if(n.highlight.row==t[r].row&&n.highlight.col==t[r].col&&n.to.row==t[r].row+t[r].rowspan-1&&n.to.col==t[r].col+t[r].colspan-1)return!1}return e};Handsontable.hooks.add("beforeInit",b),Handsontable.hooks.add("afterInit",w),Handsontable.hooks.add("afterUpdateSettings",C),Handsontable.hooks.add("beforeKeyDown",x),Handsontable.hooks.add("modifyTransformStart",_("modifyTransformStart")),Handsontable.hooks.add("modifyTransformEnd",_("modifyTransformEnd")),Handsontable.hooks.add("beforeSetRangeEnd",T),Handsontable.hooks.add("beforeDrawBorders",E),Handsontable.hooks.add("afterIsMultipleSelection",A),Handsontable.hooks.add("afterRenderer",S),Handsontable.hooks.add("afterContextMenuDefaultOptions",k),Handsontable.hooks.add("afterGetCellMeta",M),Handsontable.hooks.add("afterViewportRowCalculatorOverride",R),Handsontable.hooks.add("afterViewportColumnCalculatorOverride",O),Handsontable.hooks.add("afterAutofillApplyValues",o),Handsontable.hooks.add("afterCreateCol",a),Handsontable.hooks.add("afterRemoveCol",s),Handsontable.hooks.add("afterCreateRow",l),Handsontable.hooks.add("afterRemoveRow",u),Handsontable.MergeCells=i},{"3rdparty/walkontable/src/cell/coords":5,"3rdparty/walkontable/src/cell/range":6,"3rdparty/walkontable/src/table":20,"helpers/dom/event":46,plugins:57}],82:[function(e,t,n){"use strict";Object.defineProperties(n,{MultipleSelectionHandles:{get:function(){return p}},__esModule:{value:!0}});var r,i,o,a,s=(r=e("helpers/dom/element"),r&&r.__esModule&&r||{"default":r}),l=s.getWindowScrollTop,u=s.hasClass,c=s.getWindowScrollLeft,h=(i=e("_base"),i&&i.__esModule&&i||{"default":i}).default,d=(o=e("eventManager"),o&&o.__esModule&&o||{"default":o}).EventManager,f=(a=e("plugins"),a&&a.__esModule&&a||{"default":a}).registerPlugin,p=function(e){$traceurRuntime.superConstructor(m).call(this,e),this.dragged=[],this.eventManager=null,this.lastSetCell=null},m=p;$traceurRuntime.createClass(p,{isEnabled:function(){return Handsontable.mobileBrowser},enablePlugin:function(){this.enabled||(this.eventManager||(this.eventManager=new d(this)),this.registerListeners(),$traceurRuntime.superGet(this,m.prototype,"enablePlugin").call(this))},registerListeners:function(){function e(e){if(1===t.dragged.length)return t.dragged.splice(0,t.dragged.length),!0;var n=t.dragged.indexOf(e);return-1==n?!1:(0===n?t.dragged=t.dragged.slice(0,1):1==n&&(t.dragged=t.dragged.slice(-1)),void 0)}var t=this;this.eventManager.addEventListener(this.hot.rootElement,"touchstart",function(e){var n;return u(e.target,"topLeftSelectionHandle-HitArea")?(n=t.hot.getSelectedRange(),t.dragged.push("topLeft"),t.touchStartRange={width:n.getWidth(),height:n.getHeight(),direction:n.getDirection()},e.preventDefault(),!1):u(e.target,"bottomRightSelectionHandle-HitArea")?(n=t.hot.getSelectedRange(),t.dragged.push("bottomRight"),t.touchStartRange={width:n.getWidth(),height:n.getHeight(),direction:n.getDirection()},e.preventDefault(),!1):void 0}),this.eventManager.addEventListener(this.hot.rootElement,"touchend",function(n){return u(n.target,"topLeftSelectionHandle-HitArea")?(e.call(t,"topLeft"),t.touchStartRange=void 0,n.preventDefault(),!1):u(n.target,"bottomRightSelectionHandle-HitArea")?(e.call(t,"bottomRight"),t.touchStartRange=void 0,n.preventDefault(),!1):void 0}),this.eventManager.addEventListener(this.hot.rootElement,"touchmove",function(e){var n,r,i,o,a,s,u,h=l(),d=c();0!==t.dragged.length&&(n=document.elementFromPoint(e.touches[0].screenX-d,e.touches[0].screenY-h),n&&n!==t.lastSetCell&&(("TD"==n.nodeName||"TH"==n.nodeName)&&(r=t.hot.getCoords(n),-1==r.col&&(r.col=0),i=t.hot.getSelectedRange(),o=i.getWidth(),a=i.getHeight(),s=i.getDirection(),1==o&&1==a&&t.hot.selection.setRangeEnd(r),u=t.getCurrentRangeCoords(i,r,t.touchStartRange.direction,s,t.dragged[0]),null!==u.start&&t.hot.selection.setRangeStart(u.start),t.hot.selection.setRangeEnd(u.end),t.lastSetCell=n),e.preventDefault()))})},getCurrentRangeCoords:function(e,t,n,r,i){var o=e.getTopLeftCorner(),a=e.getBottomRightCorner(),s=e.getBottomLeftCorner(),l=e.getTopRightCorner(),u={start:null,end:null};switch(n){case"NE-SW":switch(r){case"NE-SW":case"NW-SE":u="topLeft"==i?{start:new WalkontableCellCoords(t.row,e.highlight.col),end:new WalkontableCellCoords(s.row,t.col)}:{start:new WalkontableCellCoords(e.highlight.row,t.col),end:new WalkontableCellCoords(t.row,o.col)};break;case"SE-NW":"bottomRight"==i&&(u={start:new WalkontableCellCoords(a.row,t.col),end:new WalkontableCellCoords(t.row,o.col)})}break;case"NW-SE":switch(r){case"NE-SW":"topLeft"==i?u={start:t,end:s}:u.end=t;break;case"NW-SE":"topLeft"==i?u={start:t,end:a}:u.end=t;break;case"SE-NW":"topLeft"==i?u={start:t,end:o}:u.end=t;break;case"SW-NE":"topLeft"==i?u={start:t,end:l}:u.end=t}break;case"SW-NE":switch(r){case"NW-SE":u="bottomRight"==i?{start:new WalkontableCellCoords(t.row,o.col),end:new WalkontableCellCoords(s.row,t.col)}:{start:new WalkontableCellCoords(o.row,t.col),end:new WalkontableCellCoords(t.row,a.col)};break;case"SW-NE":u="topLeft"==i?{start:new WalkontableCellCoords(e.highlight.row,t.col),end:new WalkontableCellCoords(t.row,a.col)}:{start:new WalkontableCellCoords(t.row,o.col),end:new WalkontableCellCoords(o.row,t.col)};break;case"SE-NW":"bottomRight"==i?u={start:new WalkontableCellCoords(t.row,l.col),end:new WalkontableCellCoords(o.row,t.col)}:"topLeft"==i&&(u={start:s,end:t})}break;case"SE-NW":switch(r){case"NW-SE":case"NE-SW":case"SW-NE":"topLeft"==i&&(u.end=t);break;case"SE-NW":"topLeft"==i?u.end=t:u={start:t,end:o}}}return u},isDragged:function(){return this.dragged.length>0}},{},h),f("multipleSelectionHandles",p)},{_base:58,eventManager:41,"helpers/dom/element":45,plugins:57}],83:[function(e,t,n){"use strict";function r(){}function i(){var e=this,t=e.getSettings().observeChanges;t?(e.observer&&s.call(e),o.call(e),u.call(e)):t||s.call(e)}function o(){var e=this;e.observeChangesActive=!0,e.pauseObservingChanges=function(){e.observeChangesActive=!1},e.resumeObservingChanges=function(){e.observeChangesActive=!0},e.observedData=e.getSourceData(),e.observer=p.observe(e.observedData,function(t){e.observeChangesActive&&(a.call(e,t),e.render()),e.runHooks("afterChangesObserved")})}function a(e){function t(e){var t;return t=r(e),t=n(t)}function n(e){var t=[];return e.filter(function(e){var n=i(e.path);if(-1!=["add","remove"].indexOf(e.op)&&!isNaN(n.col)){if(-1!=t.indexOf(n.col))return!1;t.push(n.col)}return!0})}function r(e){return e.filter(function(e){return!/[\/]length/gi.test(e.path)})}function i(e){var t=e.match(/^\/(\d+)\/?(.*)?$/);return{row:parseInt(t[1],10),col:/^\d*$/.test(t[2])?parseInt(t[2],10):t[2]}}for(var o=this,a=t(e),s=0,l=a.length;l>s;s++){var u=a[s],c=i(u.path);switch(u.op){case"add":isNaN(c.col)?o.runHooks("afterCreateRow",c.row):o.runHooks("afterCreateCol",c.col);break;case"remove":isNaN(c.col)?o.runHooks("afterRemoveRow",c.row,1):o.runHooks("afterRemoveCol",c.col,1);break;case"replace":o.runHooks("afterChange",[c.row,c.col,null,u.value],"external")}}}function s(){var e=this;e.observer&&(l.call(e),c.call(e))}function l(){var e=this;p.unobserve(e.observedData,e.observer),delete e.observedData,delete e.observeChangesActive,delete e.pauseObservingChanges,delete e.resumeObservingChanges}function u(){var e=this;e.addHook("afterDestroy",s),e.addHook("afterCreateRow",h),e.addHook("afterRemoveRow",h),e.addHook("afterCreateCol",h),e.addHook("afterRemoveCol",h),e.addHook("afterChange",function(e,t){"loadData"!=t&&h.call(this)})}function c(){var e=this;e.removeHook("afterDestroy",s),e.removeHook("afterCreateRow",h),e.removeHook("afterRemoveRow",h),e.removeHook("afterCreateCol",h),e.removeHook("afterRemoveCol",h),e.removeHook("afterChange",h)}function h(){var e=this;e.pauseObservingChanges(),e.addHookOnce("afterChangesObserved",function(){e.resumeObservingChanges()})}Object.defineProperties(n,{ObserveChanges:{get:function(){return r}},__esModule:{value:!0}});var d,f,p=((d=e("plugins"),d&&d.__esModule&&d||{"default":d}).registerPlugin,(f=e("jsonpatch"),f&&f.__esModule&&f||{"default":f}).default);Handsontable.hooks.add("afterLoadData",i),Handsontable.hooks.add("afterUpdateSettings",i),Handsontable.hooks.register("afterChangesObserved")},{jsonpatch:"jsonpatch",plugins:57}],84:[function(e,t,n){"use strict";function r(e){var t,n=function(){window.localStorage[e+"__persistentStateKeys"]=JSON.stringify(t)},r=function(){var n=window.localStorage[e+"__persistentStateKeys"],r="string"==typeof n?JSON.parse(n):void 0;t=r?r:[]},i=function(){t=[],n()};r(),this.saveValue=function(r,i){window.localStorage[e+"_"+r]=JSON.stringify(i),-1==t.indexOf(r)&&(t.push(r),n())},this.loadValue=function(t,n){t="undefined"==typeof t?n:t;var r=window.localStorage[e+"_"+t];return"undefined"==typeof r?void 0:JSON.parse(r)},this.reset=function(t){window.localStorage.removeItem(e+"_"+t)},this.resetAll=function(){for(var n=0;n<t.length;n++)window.localStorage.removeItem(e+"_"+t[n]);i()}}function i(){function e(){var e=this;for(var t in i)i.hasOwnProperty(t)&&e.addHook(t,i[t])}function t(){var e=this;for(var t in i)i.hasOwnProperty(t)&&e.removeHook(t,i[t])}var n=this;this.init=function(){var i=this,o=i.getSettings().persistentState;return n.enabled=!!o,n.enabled?(i.storage||(i.storage=new r(i.rootElement.id)),i.resetState=n.resetValue,e.call(i),void 0):(t.call(i),void 0)},this.saveValue=function(e,t){var n=this;n.storage.saveValue(e,t)},this.loadValue=function(e,t){var n=this;t.value=n.storage.loadValue(e)},this.resetValue=function(e){var t=this;"undefined"==typeof e?t.storage.resetAll():t.storage.reset(e)};var i={persistentStateSave:n.saveValue,persistentStateLoad:n.loadValue,persistentStateReset:n.resetValue};for(var o in i)i.hasOwnProperty(o)&&Handsontable.hooks.register(o)}Object.defineProperties(n,{HandsontablePersistentState:{get:function(){return i}},__esModule:{value:!0}});var o,a=((o=e("plugins"),o&&o.__esModule&&o||{"default":o}).registerPlugin,new i);Handsontable.hooks.add("beforeInit",a.init),Handsontable.hooks.add("afterUpdateSettings",a.init)},{plugins:57}],85:[function(e){"use strict";function t(){var e=this,t=!!e.getSettings().search;t?e.search=new Handsontable.Search(e):delete e.search}var n,r,i=(n=e("helpers/dom/element"),n&&n.__esModule&&n||{"default":n}),o=i.addClass,a=i.removeClass,s=(r=e("renderers"),r&&r.__esModule&&r||{"default":r}),l=s.registerRenderer,u=s.getRenderer;Handsontable.Search=function(e){this.query=function(t,n,r){var i=e.countRows(),o=e.countCols(),a=[];n||(n=Handsontable.Search.global.getDefaultCallback()),r||(r=Handsontable.Search.global.getDefaultQueryMethod());for(var s=0;i>s;s++)for(var l=0;o>l;l++){var u=e.getDataAtCell(s,l),c=e.getCellMeta(s,l),h=c.search.callback||n,d=c.search.queryMethod||r,f=d(t,u);if(f){var p={row:s,col:l,data:u};a.push(p)}h&&h(e,s,l,u,f)}return a}},Handsontable.Search.DEFAULT_CALLBACK=function(e,t,n,r,i){e.getCellMeta(t,n).isSearchResult=i},Handsontable.Search.DEFAULT_QUERY_METHOD=function(e,t){return"undefined"!=typeof e&&null!=e&&e.toLowerCase&&0!==e.length?"undefined"==typeof t||null==t?!1:-1!=t.toString().toLowerCase().indexOf(e.toLowerCase()):!1},Handsontable.Search.DEFAULT_SEARCH_RESULT_CLASS="htSearchResult",Handsontable.Search.global=function(){var e=Handsontable.Search.DEFAULT_CALLBACK,t=Handsontable.Search.DEFAULT_QUERY_METHOD,n=Handsontable.Search.DEFAULT_SEARCH_RESULT_CLASS;return{getDefaultCallback:function(){return e},setDefaultCallback:function(t){e=t},getDefaultQueryMethod:function(){return t},setDefaultQueryMethod:function(e){t=e},getDefaultSearchResultClass:function(){return n},setDefaultSearchResultClass:function(e){n=e}}}(),Handsontable.SearchCellDecorator=function(e,t,n,r,i,s,l){var u=null!==l.search&&"object"==typeof l.search&&l.search.searchResultClass||Handsontable.Search.global.getDefaultSearchResultClass();l.isSearchResult?o(t,u):a(t,u)};var c=u("base");l("base",function(){c.apply(this,arguments),Handsontable.SearchCellDecorator.apply(this,arguments)}),Handsontable.hooks.add("afterInit",t),Handsontable.hooks.add("afterUpdateSettings",t)},{"helpers/dom/element":45,renderers:88}],86:[function(e,t,n){"use strict";Object.defineProperties(n,{TouchScroll:{get:function(){return h}},__esModule:{value:!0}});var r,i,o,a=(r=e("helpers/dom/element"),r&&r.__esModule&&r||{"default":r}),s=a.addClass,l=a.removeClass,u=(i=e("_base"),i&&i.__esModule&&i||{"default":i}).default,c=(o=e("plugins"),o&&o.__esModule&&o||{"default":o}).registerPlugin,h=function(e){var t=this;$traceurRuntime.superConstructor(d).call(this,e),this.hot.addHook("afterInit",function(){return t.afterInit()}),this.hot.addHook("afterUpdateSettings",function(){return t.onAfterUpdateSettings()}),this.scrollbars=[],this.clones=[]},d=h;$traceurRuntime.createClass(h,{afterInit:function(){this.registerEvents(),this.onAfterUpdateSettings()},onAfterUpdateSettings:function(){var e=this;this.hot.addHookOnce("afterRender",function(){var t=e.hot.view.wt.wtOverlays;e.scrollbars=[],e.scrollbars.push(t.topOverlay),t.bottomOverlay.clone&&e.scrollbars.push(t.bottomOverlay),e.scrollbars.push(t.leftOverlay),t.topLeftCornerOverlay&&e.scrollbars.push(t.topLeftCornerOverlay),t.bottomLeftCornerOverlay&&t.bottomLeftCornerOverlay.clone&&e.scrollbars.push(t.bottomLeftCornerOverlay),e.clones=[],t.topOverlay.needFullRender&&e.clones.push(t.topOverlay.clone.wtTable.holder.parentNode),t.bottomOverlay.needFullRender&&e.clones.push(t.bottomOverlay.clone.wtTable.holder.parentNode),t.leftOverlay.needFullRender&&e.clones.push(t.leftOverlay.clone.wtTable.holder.parentNode),t.topLeftCornerOverlay&&e.clones.push(t.topLeftCornerOverlay.clone.wtTable.holder.parentNode),t.bottomLeftCornerOverlay&&t.bottomLeftCornerOverlay.clone&&e.clones.push(t.bottomLeftCornerOverlay.clone.wtTable.holder.parentNode)})},registerEvents:function(){var e=this;this.hot.addHook("beforeTouchScroll",function(){return e.onBeforeTouchScroll()}),this.hot.addHook("afterMomentumScroll",function(){return e.onAfterMomentumScroll()})},onBeforeTouchScroll:function(){Handsontable.freezeOverlays=!0;for(var e=0,t=this.clones.length;t>e;e++)s(this.clones[e],"hide-tween")},onAfterMomentumScroll:function(){Handsontable.freezeOverlays=!1;for(var e=this,t=0,n=this.clones.length;n>t;t++)l(this.clones[t],"hide-tween");for(var r=0,i=this.clones.length;i>r;r++)s(this.clones[r],"show-tween");setTimeout(function(){for(var t=0,n=e.clones.length;n>t;t++)l(e.clones[t],"show-tween")},400);for(var o=0,a=this.scrollbars.length;a>o;o++)this.scrollbars[o].refresh(),this.scrollbars[o].resetFixedPosition();this.hot.view.wt.wtOverlays.syncScrollWithMaster()}},{},u),c("touchScroll",h)},{_base:58,"helpers/dom/element":45,plugins:57}],87:[function(e){"use strict";function t(){var e=this,t="undefined"==typeof e.getSettings().undo||e.getSettings().undo;t?e.undoRedo||(e.undoRedo=new Handsontable.UndoRedo(e),i(e),e.addHook("beforeKeyDown",n),e.addHook("afterChange",r)):e.undoRedo&&(delete e.undoRedo,o(e),e.removeHook("beforeKeyDown",n),e.removeHook("afterChange",r))}function n(e){var t=this,n=(e.ctrlKey||e.metaKey)&&!e.altKey;n&&(89===e.keyCode||e.shiftKey&&90===e.keyCode?(t.undoRedo.redo(),h(e)):90===e.keyCode&&(t.undoRedo.undo(),h(e)))}function r(e,t){var n=this;return"loadData"==t?n.undoRedo.clear():void 0}function i(e){e.undo=function(){return e.undoRedo.undo()},e.redo=function(){return e.undoRedo.redo()},e.isUndoAvailable=function(){return e.undoRedo.isUndoAvailable()},e.isRedoAvailable=function(){return e.undoRedo.isRedoAvailable()},e.clearUndo=function(){return e.undoRedo.clear()}}function o(e){delete e.undo,delete e.redo,delete e.isUndoAvailable,delete e.isRedoAvailable,delete e.clearUndo}var a,s,l=(a=e("helpers/object"),a&&a.__esModule&&a||{"default":a}),u=l.inherit,c=l.deepClone,h=(s=e("helpers/dom/event"),s&&s.__esModule&&s||{"default":s}).stopImmediatePropagation;Handsontable.UndoRedo=function(e){var t=this;this.instance=e,this.doneActions=[],this.undoneActions=[],this.ignoreNewActions=!1,e.addHook("afterChange",function(e){if(e){var n=new Handsontable.UndoRedo.ChangeAction(e);t.done(n)}}),e.addHook("afterCreateRow",function(e,n,r){if(!r){var i=new Handsontable.UndoRedo.CreateRowAction(e,n);t.done(i)}}),e.addHook("beforeRemoveRow",function(e,n){var r=t.instance.getSourceData();e=(r.length+e)%r.length;var i=r.slice(e,e+n),o=new Handsontable.UndoRedo.RemoveRowAction(e,i);t.done(o)}),e.addHook("afterCreateCol",function(e,n,r){if(!r){var i=new Handsontable.UndoRedo.CreateColumnAction(e,n);t.done(i)}}),e.addHook("beforeRemoveCol",function(n,r){var i=t.instance.getSourceData();n=(t.instance.countCols()+n)%t.instance.countCols();for(var o=[],a=0,s=i.length;s>a;a++)o[a]=i[a].slice(n,n+r);var l;Array.isArray(e.getSettings().colHeaders)&&(l=e.getSettings().colHeaders.slice(n,n+o.length));var u=new Handsontable.UndoRedo.RemoveColumnAction(n,o,l);t.done(u)}),e.addHook("beforeCellAlignment",function(e,n,r,i){var o=new Handsontable.UndoRedo.CellAlignmentAction(e,n,r,i);t.done(o)})},Handsontable.UndoRedo.prototype.done=function(e){this.ignoreNewActions||(this.doneActions.push(e),this.undoneActions.length=0)},Handsontable.UndoRedo.prototype.undo=function(){if(this.isUndoAvailable()){var e=this.doneActions.pop();this.ignoreNewActions=!0;var t=this;e.undo(this.instance,function(){t.ignoreNewActions=!1,t.undoneActions.push(e)})}},Handsontable.UndoRedo.prototype.redo=function(){if(this.isRedoAvailable()){var e=this.undoneActions.pop();this.ignoreNewActions=!0;var t=this;e.redo(this.instance,function(){t.ignoreNewActions=!1,t.doneActions.push(e)})}},Handsontable.UndoRedo.prototype.isUndoAvailable=function(){return this.doneActions.length>0},Handsontable.UndoRedo.prototype.isRedoAvailable=function(){return this.undoneActions.length>0},Handsontable.UndoRedo.prototype.clear=function(){this.doneActions.length=0,this.undoneActions.length=0},Handsontable.UndoRedo.Action=function(){},Handsontable.UndoRedo.Action.prototype.undo=function(){},Handsontable.UndoRedo.Action.prototype.redo=function(){},Handsontable.UndoRedo.ChangeAction=function(e){this.changes=e},u(Handsontable.UndoRedo.ChangeAction,Handsontable.UndoRedo.Action),Handsontable.UndoRedo.ChangeAction.prototype.undo=function(e,t){for(var n=c(this.changes),r=e.countEmptyRows(!0),i=e.countEmptyCols(!0),o=0,a=n.length;a>o;o++)n[o].splice(3,1);e.addHookOnce("afterChange",t),e.setDataAtRowProp(n,null,null,"undo");for(var o=0,a=n.length;a>o;o++)e.getSettings().minSpareRows&&n[o][0]+1+e.getSettings().minSpareRows===e.countRows()&&r==e.getSettings().minSpareRows&&(e.alter("remove_row",parseInt(n[o][0]+1,10),e.getSettings().minSpareRows),e.undoRedo.doneActions.pop()),e.getSettings().minSpareCols&&n[o][1]+1+e.getSettings().minSpareCols===e.countCols()&&i==e.getSettings().minSpareCols&&(e.alter("remove_col",parseInt(n[o][1]+1,10),e.getSettings().minSpareCols),e.undoRedo.doneActions.pop())},Handsontable.UndoRedo.ChangeAction.prototype.redo=function(e,t){for(var n=c(this.changes),r=0,i=n.length;i>r;r++)n[r].splice(2,1);e.addHookOnce("afterChange",t),e.setDataAtRowProp(n,null,null,"redo")},Handsontable.UndoRedo.CreateRowAction=function(e,t){this.index=e,this.amount=t},u(Handsontable.UndoRedo.CreateRowAction,Handsontable.UndoRedo.Action),Handsontable.UndoRedo.CreateRowAction.prototype.undo=function(e,t){var n=e.countRows(),r=e.getSettings().minSpareRows;this.index>=n&&this.index-r<n&&(this.index-=r),e.addHookOnce("afterRemoveRow",t),e.alter("remove_row",this.index,this.amount)},Handsontable.UndoRedo.CreateRowAction.prototype.redo=function(e,t){e.addHookOnce("afterCreateRow",t),e.alter("insert_row",this.index+1,this.amount)},Handsontable.UndoRedo.RemoveRowAction=function(e,t){this.index=e,this.data=t},u(Handsontable.UndoRedo.RemoveRowAction,Handsontable.UndoRedo.Action),Handsontable.UndoRedo.RemoveRowAction.prototype.undo=function(e,t){var n=[this.index,0];Array.prototype.push.apply(n,this.data),Array.prototype.splice.apply(e.getSourceData(),n),e.addHookOnce("afterRender",t),e.render()},Handsontable.UndoRedo.RemoveRowAction.prototype.redo=function(e,t){e.addHookOnce("afterRemoveRow",t),e.alter("remove_row",this.index,this.data.length)},Handsontable.UndoRedo.CreateColumnAction=function(e,t){this.index=e,this.amount=t},u(Handsontable.UndoRedo.CreateColumnAction,Handsontable.UndoRedo.Action),Handsontable.UndoRedo.CreateColumnAction.prototype.undo=function(e,t){e.addHookOnce("afterRemoveCol",t),e.alter("remove_col",this.index,this.amount)},Handsontable.UndoRedo.CreateColumnAction.prototype.redo=function(e,t){e.addHookOnce("afterCreateCol",t),e.alter("insert_col",this.index+1,this.amount)},Handsontable.UndoRedo.CellAlignmentAction=function(e,t,n,r){this.stateBefore=e,this.range=t,this.type=n,this.alignment=r},Handsontable.UndoRedo.CellAlignmentAction.prototype.undo=function(e,t){if(e.getPlugin("contextMenu").isEnabled()){for(var n=this.range.from.row;n<=this.range.to.row;n++)for(var r=this.range.from.col;r<=this.range.to.col;r++)e.setCellMeta(n,r,"className",this.stateBefore[n][r]||" htLeft");e.addHookOnce("afterRender",t),e.render()}},Handsontable.UndoRedo.CellAlignmentAction.prototype.redo=function(e,t){e.getPlugin("contextMenu").isEnabled()&&(e.selectCell(this.range.from.row,this.range.from.col,this.range.to.row,this.range.to.col),e.getPlugin("contextMenu").executeCommand("alignment:"+this.alignment.replace("ht","").toLowerCase()),e.addHookOnce("afterRender",t),e.render())},Handsontable.UndoRedo.RemoveColumnAction=function(e,t,n){this.index=e,this.data=t,this.amount=this.data[0].length,this.headers=n},u(Handsontable.UndoRedo.RemoveColumnAction,Handsontable.UndoRedo.Action),Handsontable.UndoRedo.RemoveColumnAction.prototype.undo=function(e,t){for(var n,r,i=0,o=e.getSourceData().length;o>i;i++)n=e.getSourceDataAtRow(i),r=[this.index,0],Array.prototype.push.apply(r,this.data[i]),Array.prototype.splice.apply(n,r);"undefined"!=typeof this.headers&&(r=[this.index,0],Array.prototype.push.apply(r,this.headers),Array.prototype.splice.apply(e.getSettings().colHeaders,r)),e.addHookOnce("afterRender",t),e.render()},Handsontable.UndoRedo.RemoveColumnAction.prototype.redo=function(e,t){e.addHookOnce("afterRemoveCol",t),e.alter("remove_col",this.index,this.amount)},Handsontable.hooks.add("afterInit",t),Handsontable.hooks.add("afterUpdateSettings",t)},{"helpers/dom/event":46,"helpers/object":50}],88:[function(e,t,n){"use strict";function r(e,t){var n;l[e]=t,n=s(e)+"Renderer",Handsontable.renderers[n]=t,Handsontable[n]=t}function i(e){if("function"==typeof e)return e;if("string"!=typeof e)throw Error('Only strings and functions can be passed as "renderer" parameter');if(!(e in l))throw Error('No editor registered under name "'+e+'"');return l[e]}function o(e){return e in l}Object.defineProperties(n,{registerRenderer:{get:function(){return r}},getRenderer:{get:function(){return i}},hasRenderer:{get:function(){return o}},__esModule:{value:!0}});var a,s=(a=e("helpers/string"),a&&a.__esModule&&a||{"default":a}).toUpperCaseFirst,l={};Handsontable.renderers=Handsontable.renderers||{},Handsontable.renderers.registerRenderer=r,Handsontable.renderers.getRenderer=i},{"helpers/string":52}],89:[function(e,t,n){"use strict";function r(e,t,n,r,i,o,a){a.className&&(t.className=t.className?t.className+" "+a.className:a.className),a.readOnly&&s(t,a.readOnlyCellClassName),a.valid===!1&&a.invalidCellClassName?s(t,a.invalidCellClassName):l(t,a.invalidCellClassName),a.wordWrap===!1&&a.noWordWrapClassName&&s(t,a.noWordWrapClassName),!o&&a.placeholder&&s(t,a.placeholderCellClassName)}Object.defineProperties(n,{cellDecorator:{get:function(){return r}},__esModule:{value:!0}});var i,o,a=(i=e("helpers/dom/element"),i&&i.__esModule&&i||{"default":i}),s=a.addClass,l=a.removeClass,u=(o=e("renderers"),o&&o.__esModule&&o||{"default":o}).registerRenderer;u("base",r),Handsontable.renderers.cellDecorator=r},{"helpers/dom/element":45,renderers:88}],90:[function(e,t,n){"use strict";function r(e,t,n,r,i,o,a){var s=(g.cloneNode(!0),v.cloneNode(!0));if(f("text")(e,t,n,r,i,o,a),t.appendChild(s),u(t,"htAutocomplete"),t.firstChild||t.appendChild(document.createTextNode(String.fromCharCode(160))),!e.acArrowListener){var l=h(e);e.acArrowListener=function(i){c(i.target,"htAutocompleteArrow")&&e.view.wt.getSetting("onCellDblClick",null,new m(n,r),t)},l.addEventListener(e.rootElement,"mousedown",e.acArrowListener),e.addHookOnce("afterDestroy",function(){l.destroy()})}}Object.defineProperties(n,{autocompleteRenderer:{get:function(){return r}},__esModule:{value:!0}});var i,o,a,s,l=(i=e("helpers/dom/element"),i&&i.__esModule&&i||{"default":i}),u=l.addClass,c=l.hasClass,h=(l.empty,(o=e("eventManager"),o&&o.__esModule&&o||{"default":o}).eventManager),d=(a=e("renderers"),a&&a.__esModule&&a||{"default":a}),f=d.getRenderer,p=d.registerRenderer,m=(s=e("3rdparty/walkontable/src/cell/coords"),s&&s.__esModule&&s||{"default":s}).WalkontableCellCoords,g=document.createElement("DIV");g.className="htAutocompleteWrapper";var v=document.createElement("DIV");v.className="htAutocompleteArrow",v.appendChild(document.createTextNode(String.fromCharCode(9660)));p("autocomplete",r)},{"3rdparty/walkontable/src/cell/coords":5,eventManager:41,"helpers/dom/element":45,renderers:88}],91:[function(e,t,n){"use strict";function r(e,t,n,r,s,l,u){function c(e){var t=[C.SPACE,C.ENTER,C.DELETE,C.BACKSPACE];-1===t.indexOf(e.keyCode)||_(e)||f(function(){S(e),e.preventDefault()}),(e.keyCode==C.SPACE||e.keyCode==C.ENTER)&&h(),(e.keyCode==C.DELETE||e.keyCode==C.BACKSPACE)&&h(!1)}function h(){var e=void 0!==arguments[0]?arguments[0]:null;f(function(t){for(var n=0,r=t.length;r>n;n++){if(g(t[n],E)&&null===e)return;d(t[n],e)}})}function d(e){var t=void 0!==arguments[1]?arguments[1]:null;e.checked=null===t?!e.checked:t,b.fireEvent(e,"change")}function f(t){for(var n=e.getSelectedRange(),r=n.getTopLeftCorner(),i=n.getBottomRightCorner(),o=r.row;o<=i.row;o++)for(var a=r.col;a<=i.col;a++){var s=e.getCell(o,a),l=e.getCellMeta(o,a),u=s.querySelectorAll("input[type=checkbox]");u.length>0&&!l.readOnly&&t(u)}}var b=new y(e),w=i(),x=u.label,M=!1;if("undefined"==typeof u.checkedTemplate&&(u.checkedTemplate=!0),"undefined"==typeof u.uncheckedTemplate&&(u.uncheckedTemplate=!1),p(t),l===u.checkedTemplate||v(l,u.checkedTemplate)?w.checked=!0:l===u.uncheckedTemplate||v(l,u.uncheckedTemplate)?w.checked=!1:null===l?m(w,"noValue"):(w.style.display="none",m(w,E),M=!0),!M&&x){var R="";x.value?R="function"==typeof x.value?x.value.call(this,n,r,s,l):x.value:x.property&&(R=e.getDataAtRowProp(n,x.property));var O=o(R);"before"===x.position?O.appendChild(w):O.insertBefore(w,O.firstChild),w=O}t.appendChild(w),M&&t.appendChild(document.createTextNode("#bad-value#")),u.readOnly?b.addEventListener(w,"click",a):(b.addEventListener(w,"mousedown",k),b.addEventListener(w,"mouseup",k),b.addEventListener(w,"change",function(t){e.setDataAtRowProp(n,s,t.target.checked?u.checkedTemplate:u.uncheckedTemplate)})),T.has(e)||(T.set(e,!0),e.addHook("beforeKeyDown",c))}function i(){var e=document.createElement("input");return e.className="htCheckboxRendererInput",e.type="checkbox",e.setAttribute("autocomplete","off"),e.cloneNode(!1)}function o(e){var t=document.createElement("label");return t.className="htCheckboxRendererLabel",t.appendChild(document.createTextNode(e)),t.cloneNode(!0)}function a(e){e.preventDefault()}Object.defineProperties(n,{checkboxRenderer:{get:function(){return r}},__esModule:{value:!0}});var s,l,u,c,h,d,f=(s=e("helpers/dom/element"),s&&s.__esModule&&s||{"default":s}),p=f.empty,m=f.addClass,g=f.hasClass,v=(l=e("helpers/string"),l&&l.__esModule&&l||{"default":l}).equalsIgnoreCase,y=(u=e("eventManager"),u&&u.__esModule&&u||{"default":u}).EventManager,b=(c=e("renderers"),c&&c.__esModule&&c||{"default":c}),w=(b.getRenderer,b.registerRenderer),C=(h=e("helpers/unicode"),h&&h.__esModule&&h||{"default":h}).KEY_CODES,x=(d=e("helpers/dom/event"),d&&d.__esModule&&d||{"default":d}),k=x.stopPropagation,S=x.stopImmediatePropagation,_=x.isImmediatePropagationStopped,T=new WeakMap,E="htBadValue";
w("checkbox",r)},{eventManager:41,"helpers/dom/element":45,"helpers/dom/event":46,"helpers/string":52,"helpers/unicode":53,renderers:88}],92:[function(e,t,n){"use strict";function r(e,t,n,r,i,o){l("base").apply(this,arguments),a(t,o)}Object.defineProperties(n,{htmlRenderer:{get:function(){return r}},__esModule:{value:!0}});var i,o,a=(i=e("helpers/dom/element"),i&&i.__esModule&&i||{"default":i}).fastInnerHTML,s=(o=e("renderers"),o&&o.__esModule&&o||{"default":o}),l=s.getRenderer,u=s.registerRenderer;u("html",r)},{"helpers/dom/element":45,renderers:88}],93:[function(e,t,n){"use strict";function r(e,t,n,r,i,o,a){f(o)&&("undefined"!=typeof a.language&&l.language(a.language),o=l(o).format(a.format||"0"),u(t,"htNumeric")),h("text")(e,t,n,r,i,o,a)}Object.defineProperties(n,{numericRenderer:{get:function(){return r}},__esModule:{value:!0}});var i,o,a,s,l=(i=e("numeral"),i&&i.__esModule&&i||{"default":i}).default,u=(o=e("helpers/dom/element"),o&&o.__esModule&&o||{"default":o}).addClass,c=(a=e("renderers"),a&&a.__esModule&&a||{"default":a}),h=c.getRenderer,d=c.registerRenderer,f=(s=e("helpers/number"),s&&s.__esModule&&s||{"default":s}).isNumeric;d("numeric",r)},{"helpers/dom/element":45,"helpers/number":49,numeral:"numeral",renderers:88}],94:[function(e,t,n){"use strict";function r(e,t,n,r,i,o,s){l("text").apply(this,arguments),o=t.innerHTML;var u,c=s.hashLength||o.length,h=s.hashSymbol||"*";for(u="";u.split(h).length-1<c;u+=h);a(t,u)}Object.defineProperties(n,{passwordRenderer:{get:function(){return r}},__esModule:{value:!0}});var i,o,a=(i=e("helpers/dom/element"),i&&i.__esModule&&i||{"default":i}).fastInnerHTML,s=(o=e("renderers"),o&&o.__esModule&&o||{"default":o}),l=s.getRenderer,u=s.registerRenderer;u("password",r)},{"helpers/dom/element":45,renderers:88}],95:[function(e,t,n){"use strict";function r(e,t,n,r,i,o,a){d("base").apply(this,arguments),!o&&a.placeholder&&(o=a.placeholder);var s=c(o);if(e.getSettings().trimWhitespace||(s=s.replace(/ /g,String.fromCharCode(160))),a.rendererTemplate){l(t);var h=document.createElement("TEMPLATE");h.setAttribute("bind","{{}}"),h.innerHTML=a.rendererTemplate,HTMLTemplateElement.decorate(h),h.model=e.getSourceDataAtRow(n),t.appendChild(h)}else u(t,s)}Object.defineProperties(n,{textRenderer:{get:function(){return r}},__esModule:{value:!0}});var i,o,a,s=(i=e("helpers/dom/element"),i&&i.__esModule&&i||{"default":i}),l=s.empty,u=s.fastInnerText,c=(o=e("helpers/mixed"),o&&o.__esModule&&o||{"default":o}).stringify,h=(a=e("renderers"),a&&a.__esModule&&a||{"default":a}),d=h.getRenderer,f=h.registerRenderer;f("text",r)},{"helpers/dom/element":45,"helpers/mixed":48,renderers:88}],96:[function(){"use strict";!function(e){function t(e){return{configurable:!0,enumerable:!1,value:e,writable:!0}}function n(){return"__$"+Math.floor(1e9*Math.random())+"$"+ ++V+"$__"}function r(e){return K[e]}function i(){var e=n();return K[e]=!0,e}function o(e){return"object"==typeof e&&e instanceof l}function a(e){return o(e)?"symbol":typeof e}function s(e){var t=new l(e);if(!(this instanceof s))return t;throw new TypeError("Symbol cannot be new'ed")}function l(e){var t=n();P(this,Y,{value:this}),P(this,q,{value:t}),P(this,$,{value:e}),c(this),G[t]=this}function u(e){var t=e[X];return t&&t.self===e?t:z(e)?(Z.hash.value=Q++,Z.self.value=e,J.value=L(null,Z),P(e,X,J),J.value):void 0}function c(e){return u(e),H.apply(this,arguments)}function h(e){return u(e),W.apply(this,arguments)}function d(e){return u(e),B.apply(this,arguments)}function f(e){return G[e]||K[e]}function p(e){return o(e)?e[q]:e}function m(e){for(var t=[],n=0;n<e.length;n++)f(e[n])||t.push(e[n]);return t}function g(e){return m(I(e))}function v(e){return m(j(e))}function y(e){for(var t=[],n=I(e),r=0;r<n.length;r++){var i=G[n[r]];i&&t.push(i)}return t}function b(e,t){return N(e,p(t))}function w(e){return F.call(this,p(e))}function C(t){return e.traceur&&e.traceur.options[t]}function x(e,t,n){return o(t)&&(t=t[q]),P(e,t,n),e}function k(e){P(e,"defineProperty",{value:x}),P(e,"getOwnPropertyNames",{value:g}),P(e,"getOwnPropertyDescriptor",{value:b}),P(e.prototype,"hasOwnProperty",{value:w}),P(e,"freeze",{value:c}),P(e,"preventExtensions",{value:h}),P(e,"seal",{value:d}),P(e,"keys",{value:v})}function S(e){for(var t=1;t<arguments.length;t++)for(var n=I(arguments[t]),r=0;r<n.length;r++){var i=n[r];f(i)||!function(t,n){P(e,n,{get:function(){return t[n]},enumerable:!0})}(arguments[t],n[r])}return e}function _(e){return null!=e&&("object"==typeof e||"function"==typeof e)}function T(e){if(null==e)throw A();return O(e)}function E(e){if(null==e)throw new TypeError("Value cannot be converted to an Object");return e}function M(e,t){e.Symbol||(e.Symbol=t,Object.getOwnPropertySymbols=y),e.Symbol.iterator||(e.Symbol.iterator=t("Symbol.iterator"))}function R(e){M(e,s),e.Reflect=e.Reflect||{},e.Reflect.global=e.Reflect.global||e,k(e.Object)}if(!e.$traceurRuntime){var O=Object,A=TypeError,L=O.create,D=O.defineProperties,P=O.defineProperty,H=O.freeze,N=O.getOwnPropertyDescriptor,I=O.getOwnPropertyNames,j=O.keys,F=O.prototype.hasOwnProperty,W=Object.preventExtensions,B=Object.seal,z=Object.isExtensible,U=t,V=0,q=n(),$=n(),Y=n(),G=L(null),K=L(null);P(s.prototype,"constructor",t(s)),P(s.prototype,"toString",U(function(){var e=this[Y];if(!C("symbols"))return e[q];if(!e)throw TypeError("Conversion from symbol to string");var t=e[$];return void 0===t&&(t=""),"Symbol("+t+")"})),P(s.prototype,"valueOf",U(function(){var e=this[Y];if(!e)throw TypeError("Conversion from symbol to string");return C("symbols")?e:e[q]})),P(l.prototype,"constructor",t(s)),P(l.prototype,"toString",{value:s.prototype.toString,enumerable:!1}),P(l.prototype,"valueOf",{value:s.prototype.valueOf,enumerable:!1});var X=i(),J={value:void 0},Z={hash:{value:void 0},self:{value:void 0}},Q=0;c(l.prototype),R(e),e.$traceurRuntime={checkObjectCoercible:E,createPrivateName:i,defineProperties:D,defineProperty:P,exportStar:S,getOwnHashObject:u,getOwnPropertyDescriptor:N,getOwnPropertyNames:I,isObject:_,isPrivateName:r,isSymbolString:f,keys:j,setupGlobals:R,toObject:T,toProperty:p,"typeof":a}}}(window),function(){function e(){for(var e,n=[],r=0,i=0;i<arguments.length;i++){var o=$traceurRuntime.checkObjectCoercible(arguments[i]);if("function"!=typeof o[t(Symbol.iterator)])throw new TypeError("Cannot spread non-iterable object.");for(var a=o[t(Symbol.iterator)]();!(e=a.next()).done;)n[r++]=e.value}return n}var t=$traceurRuntime.toProperty;$traceurRuntime.spread=e}(),function(){function e(e,t){var n=m(e);do{var r=p(n,t);if(r)return r;n=m(n)}while(n);return void 0}function t(e){return e.__proto__}function n(e,t,n,i){return r(e,t,n).apply(e,i)}function r(t,n,r){var i=e(n,r);return i?i.get?i.get.call(t):i.value:void 0}function i(t,n,r,i){var o=e(n,r);if(o&&o.set)return o.set.call(t,i),i;throw c("super has no setter '"+r+"'.")}function o(e){for(var t={},n=y(e),r=0;r<n.length;r++){var i=n[r];t[i]=p(e,i)}for(var o=b(e),r=0;r<o.length;r++){var a=o[r];t[g(a)]=p(e,g(a))}return t}function a(e,t,n,r){return f(t,"constructor",{value:e,configurable:!0,enumerable:!1,writable:!0}),arguments.length>3?("function"==typeof r&&(e.__proto__=r),e.prototype=h(s(r),o(t))):e.prototype=t,f(e,"prototype",{configurable:!1,writable:!1}),d(e,o(n))}function s(e){if("function"==typeof e){var t=e.prototype;if(u(t)===t||null===t)return e.prototype;throw new c("super prototype must be an Object or null")}if(null===e)return null;throw new c("Super expression must either be null or a function, not "+typeof e+".")}function l(e,t,r){null!==m(t)&&n(e,t,"constructor",r)}var u=Object,c=TypeError,h=u.create,d=$traceurRuntime.defineProperties,f=$traceurRuntime.defineProperty,p=$traceurRuntime.getOwnPropertyDescriptor,m=Object.getPrototypeOf,g=$traceurRuntime.toProperty,v=Object,y=v.getOwnPropertyNames,b=v.getOwnPropertySymbols;$traceurRuntime.createClass=a,$traceurRuntime.defaultSuperCall=l,$traceurRuntime.superCall=n,$traceurRuntime.superConstructor=t,$traceurRuntime.superGet=r,$traceurRuntime.superSet=i}()},{}],97:[function(e,t,n){"use strict";function r(e){var t=this;this.eventManager=w(e),this.instance=e,this.settings=e.getSettings(),this.selectionMouseDown=!1;var n=e.rootElement.getAttribute("style");n&&e.rootElement.setAttribute("data-originalstyle",n),h(e.rootElement,"handsontable");var r=document.createElement("TABLE");h(r,"htCore"),e.getSettings().tableClassName&&h(r,e.getSettings().tableClassName),this.THEAD=document.createElement("THEAD"),r.appendChild(this.THEAD),this.TBODY=document.createElement("TBODY"),r.appendChild(this.TBODY),e.table=r,e.container.insertBefore(r,e.container.firstChild),this.eventManager.addEventListener(e.rootElement,"mousedown",function(e){this.selectionMouseDown=!0,t.isTextSelectionAllowed(e.target)||(o(),e.preventDefault(),window.focus())}),this.eventManager.addEventListener(e.rootElement,"mouseup",function(){this.selectionMouseDown=!1}),this.eventManager.addEventListener(e.rootElement,"mousemove",function(e){this.selectionMouseDown&&!t.isTextSelectionAllowed(e.target)&&(o(),e.preventDefault())}),this.eventManager.addEventListener(document.documentElement,"keyup",function(t){e.selection.isInProgress()&&!t.shiftKey&&e.selection.finish()});var i;this.isMouseDown=function(){return i},this.eventManager.addEventListener(document.documentElement,"mouseup",function(t){e.selection.isInProgress()&&1===t.which&&e.selection.finish(),i=!1,b(document.activeElement)&&e.unlisten()}),this.eventManager.addEventListener(document.documentElement,"mousedown",function(n){var r=n.target,o=n.x||n.clientX,a=n.y||n.clientY;if(!i&&e.rootElement){if(r===e.view.wt.wtTable.holder){var s=m();if(document.elementFromPoint(o+s,a)!==e.view.wt.wtTable.holder||document.elementFromPoint(o,a+s)!==e.view.wt.wtTable.holder)return}else for(;r!==document.documentElement;){if(null===r){if(n.isTargetWebComponent)break;return}if(r===e.rootElement)return;r=r.parentNode}t.settings.outsideClickDeselects?e.deselectCell():e.destroyEditor()}}),this.eventManager.addEventListener(r,"selectstart",function(e){t.settings.fragmentSelection||y(e.target)||e.preventDefault()});var o=function(){window.getSelection?window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().removeAllRanges():document.selection&&document.selection.empty()},a=[new _({className:"current",border:{width:2,color:"#5292F7",cornerVisible:function(){return t.settings.fillHandle&&!t.isCellEdited()&&!e.selection.isMultiple()},multipleSelectionHandlesVisible:function(){return!t.isCellEdited()&&!e.selection.isMultiple()}}}),new _({className:"area",border:{width:1,color:"#89AFF9",cornerVisible:function(){return t.settings.fillHandle&&!t.isCellEdited()&&e.selection.isMultiple()},multipleSelectionHandlesVisible:function(){return!t.isCellEdited()&&e.selection.isMultiple()}}}),new _({className:"highlight",highlightRowClassName:t.settings.currentRowClassName,highlightColumnClassName:t.settings.currentColClassName}),new _({className:"fill",border:{width:1,color:"red"}})];a.current=a[0],a.area=a[1],a.highlight=a[2],a.fill=a[3];var s={debug:function(){return t.settings.debug},externalRowCalculator:this.instance.getPlugin("autoRowSize")&&this.instance.getPlugin("autoRowSize").isEnabled(),table:r,stretchH:this.settings.stretchH,data:e.getDataAtCell,totalRows:function(){return e.countRows()},totalColumns:function(){return e.countCols()},fixedColumnsLeft:function(){return t.settings.fixedColumnsLeft},fixedRowsTop:function(){return t.settings.fixedRowsTop},fixedRowsBottom:function(){return t.settings.fixedRowsBottom},minSpareRows:function(){return t.settings.minSpareRows},renderAllRows:t.settings.renderAllRows,rowHeaders:function(){var n=[];return e.hasRowHeaders()&&n.push(function(e,n){t.appendRowHeader(e,n)}),Handsontable.hooks.run(e,"afterGetRowHeaderRenderers",n),n},columnHeaders:function(){var n=[];return e.hasColHeaders()&&n.push(function(e,n){t.appendColHeader(e,n)}),Handsontable.hooks.run(e,"afterGetColumnHeaderRenderers",n),n},columnWidth:e.getColWidth,rowHeight:e.getRowHeight,cellRenderer:function(e,n,r){var i=t.instance.colToProp(n),o=t.instance.getCellMeta(e,n),a=t.instance.getCellRenderer(o),s=t.instance.getDataAtRowProp(e,i);a(t.instance,r,e,n,i,s,o),Handsontable.hooks.run(t.instance,"afterRenderer",r,e,n,i,s,o)},selections:a,hideBorderOnMouseDownOver:function(){return t.settings.fragmentSelection},onCellMouseDown:function(n,r,o,a){var s,l,u=o.parentNode,c=u.parentNode;if(e.listen(),t.activeWt=a,i=!0,Handsontable.hooks.run(e,"beforeOnCellMouseDown",n,r,o),e.selection.setSelectedHeaders(!1,!1),!k(n)){if(2===n.button&&e.selection.inInSelection(r));else n.shiftKey?r.row>=0&&r.col>=0&&e.selection.setRangeEnd(r):(r.row<0||r.col<0)&&(r.row>=0||r.col>=0)?(r.row<0&&(s=c.childNodes.length-Array.prototype.indexOf.call(c.childNodes,u)-1,l=e.getHeaderColspan(r.col,s),e.selection.setSelectedHeaders(!1,!0),e.selectCell(0,r.col,e.countRows()-1,r.col+Math.max(0,l-1))),r.col<0&&(e.selection.setSelectedHeaders(!0,!1),e.selectCell(r.row,0,r.row,e.countCols()-1))):(r.row=r.row<0?0:r.row,r.col=r.col<0?0:r.col,e.selection.setRangeStart(r));Handsontable.hooks.run(e,"afterOnCellMouseDown",n,r,o),t.activeWt=t.wt}},onCellMouseOver:function(n,r,o,a){t.activeWt=a,r.row>=0&&r.col>=0?i&&e.selection.setRangeEnd(r):i&&(r.row<0&&(e.selection.selectedHeader.cols?(e.selection.setRangeEnd(new S(e.countRows()-1,r.col)),e.selection.setSelectedHeaders(!1,!0)):e.selection.setRangeEnd(new S(r.row,r.col))),r.col<0&&(e.selection.selectedHeader.rows?(e.selection.setRangeEnd(new S(r.row,e.countCols()-1)),e.selection.setSelectedHeaders(!0,!1)):e.selection.setRangeEnd(new S(r.row,r.col)))),Handsontable.hooks.run(e,"afterOnCellMouseOver",n,r,o),t.activeWt=t.wt},onCellCornerMouseDown:function(t){t.preventDefault(),Handsontable.hooks.run(e,"afterOnCellCornerMouseDown",t)},beforeDraw:function(e){t.beforeRender(e)},onDraw:function(e){t.onDraw(e)},onScrollVertically:function(){e.runHooks("afterScrollVertically")},onScrollHorizontally:function(){e.runHooks("afterScrollHorizontally")},onBeforeDrawBorders:function(t,n){e.runHooks("beforeDrawBorders",t,n)},onBeforeTouchScroll:function(){e.runHooks("beforeTouchScroll")},onAfterMomentumScroll:function(){e.runHooks("afterMomentumScroll")},viewportRowCalculatorOverride:function(n){var r=e.countRows(),i=t.settings.viewportRowRenderingOffset;if("auto"===i&&t.settings.fixedRowsTop&&(i=10),"number"==typeof i&&(n.startRow=Math.max(n.startRow-i,0),n.endRow=Math.min(n.endRow+i,r-1)),"auto"===i){var o=n.startRow+n.endRow-n.startRow,a=Math.ceil(o/r*12);n.startRow=Math.max(n.startRow-a,0),n.endRow=Math.min(n.endRow+a,r-1)}e.runHooks("afterViewportRowCalculatorOverride",n)},viewportColumnCalculatorOverride:function(n){var r=e.countCols(),i=t.settings.viewportColumnRenderingOffset;if("auto"===i&&t.settings.fixedColumnsLeft&&(i=10),"number"==typeof i&&(n.startColumn=Math.max(n.startColumn-i,0),n.endColumn=Math.min(n.endColumn+i,r-1)),"auto"===i){var o=n.startColumn+n.endColumn-n.startColumn,a=Math.ceil(o/r*12);n.startRow=Math.max(n.startColumn-a,0),n.endColumn=Math.min(n.endColumn+a,r-1)}e.runHooks("afterViewportColumnCalculatorOverride",n)}};Handsontable.hooks.run(e,"beforeInitWalkontable",s),this.wt=new T(s),this.activeWt=this.wt,this.eventManager.addEventListener(t.wt.wtTable.spreader,"mousedown",function(e){e.target===t.wt.wtTable.spreader&&3===e.which&&x(e)}),this.eventManager.addEventListener(t.wt.wtTable.spreader,"contextmenu",function(e){e.target===t.wt.wtTable.spreader&&3===e.which&&x(e)}),this.eventManager.addEventListener(document.documentElement,"click",function(){t.settings.observeDOMVisibility&&t.wt.drawInterrupted&&(t.instance.forceFullRender=!0,t.render())})}Object.defineProperties(n,{TableView:{get:function(){return r}},__esModule:{value:!0}});var i,o,a,s,l,u,c=(i=e("helpers/dom/element"),i&&i.__esModule&&i||{"default":i}),h=c.addClass,d=c.empty,f=c.fastInnerHTML,p=c.fastInnerText,m=c.getScrollbarWidth,g=c.hasClass,v=c.isChildOf,y=c.isInput,b=c.isOutsideInput,w=(o=e("eventManager"),o&&o.__esModule&&o||{"default":o}).eventManager,C=(a=e("helpers/dom/event"),a&&a.__esModule&&a||{"default":a}),x=C.stopPropagation,k=C.isImmediatePropagationStopped,S=(s=e("3rdparty/walkontable/src/cell/coords"),s&&s.__esModule&&s||{"default":s}).WalkontableCellCoords,_=(l=e("3rdparty/walkontable/src/selection"),l&&l.__esModule&&l||{"default":l}).WalkontableSelection,T=(u=e("3rdparty/walkontable/src/core"),u&&u.__esModule&&u||{"default":u}).Walkontable;Handsontable.TableView=r,r.prototype.isTextSelectionAllowed=function(e){if(y(e))return!0;var t=v(e,this.instance.view.wt.wtTable.spreader);return this.settings.fragmentSelection===!0&&t?!0:"cell"===this.settings.fragmentSelection&&this.isSelectedOnlyCell()&&t?!0:!1},r.prototype.isSelectedOnlyCell=function(){var e=this.instance.getSelected()||[],t=e[0],n=e[1],r=e[2],i=e[3];return void 0!==t&&t===r&&n===i},r.prototype.isCellEdited=function(){var e=this.instance.getActiveEditor();return e&&e.isOpened()},r.prototype.beforeRender=function(e){e&&Handsontable.hooks.run(this.instance,"beforeRender",this.instance.forceFullRender)},r.prototype.onDraw=function(e){e&&Handsontable.hooks.run(this.instance,"afterRender",this.instance.forceFullRender)},r.prototype.render=function(){this.wt.draw(!this.instance.forceFullRender),this.instance.forceFullRender=!1,this.instance.renderCall=!1},r.prototype.getCellAtCoords=function(e,t){var n=this.wt.getCell(e,t);return 0>n?null:n},r.prototype.scrollViewport=function(e){this.wt.scrollViewport(e)},r.prototype.appendRowHeader=function(e,t){if(t.firstChild){var n=t.firstChild;if(!g(n,"relative"))return d(t),this.appendRowHeader(e,t),void 0;this.updateCellHeader(n.querySelector(".rowHeader"),e,this.instance.getRowHeader)}else{var r=document.createElement("div"),i=document.createElement("span");r.className="relative",i.className="rowHeader",this.updateCellHeader(i,e,this.instance.getRowHeader),r.appendChild(i),t.appendChild(r)}Handsontable.hooks.run(this.instance,"afterGetRowHeader",e,t)},r.prototype.appendColHeader=function(e,t){if(t.firstChild){var n=t.firstChild;g(n,"relative")?this.updateCellHeader(n.querySelector(".colHeader"),e,this.instance.getColHeader):(d(t),this.appendColHeader(e,t))}else{var r=document.createElement("div"),i=document.createElement("span");r.className="relative",i.className="colHeader",this.updateCellHeader(i,e,this.instance.getColHeader),r.appendChild(i),t.appendChild(r)}Handsontable.hooks.run(this.instance,"afterGetColHeader",e,t)},r.prototype.updateCellHeader=function(e,t,n){t>-1?f(e,n(t)):(p(e,String.fromCharCode(160)),h(e,"cornerHeader"))},r.prototype.maximumVisibleElementWidth=function(e){var t=this.wt.wtViewport.getWorkspaceWidth(),n=t-e;return n>0?n:0},r.prototype.maximumVisibleElementHeight=function(e){var t=this.wt.wtViewport.getWorkspaceHeight(),n=t-e;return n>0?n:0},r.prototype.mainViewIsActive=function(){return this.wt===this.activeWt},r.prototype.destroy=function(){this.wt.destroy(),this.eventManager.destroy()}},{"3rdparty/walkontable/src/cell/coords":5,"3rdparty/walkontable/src/core":7,"3rdparty/walkontable/src/selection":18,eventManager:41,"helpers/dom/element":45,"helpers/dom/event":46}],98:[function(e,t,n){"use strict";Object.defineProperties(n,{GhostTable:{get:function(){return f}},__esModule:{value:!0}});var r,i,o,a,s,l=(r=e("helpers/dom/element"),r&&r.__esModule&&r||{"default":r}),u=l.addClass,c=l.outerHeight,h=l.outerWidth,d=(i=e("helpers/array"),i&&i.__esModule&&i||{"default":i}).arrayEach,f=((o=e("helpers/object"),o&&o.__esModule&&o||{"default":o}).objectEach,(a=e("helpers/number"),a&&a.__esModule&&a||{"default":a}).rangeEach,(s=e("helpers/mixed"),s&&s.__esModule&&s||{"default":s}).stringify,function(e){this.hot=e,this.container=null,this.injected=!1,this.rows=[],this.columns=[],this.samples=null});$traceurRuntime.createClass(f,{addRow:function(e,t){if(this.columns.length)throw new Error("Doesn't support multi-dimensional table");this.rows.length||(this.container=this.createContainer(this.hot.rootElement.className));var n={row:e};this.rows.push(n),this.samples=t,this.table=this.createTable(this.hot.table.className),this.table.colGroup.appendChild(this.createColGroupsCol()),this.table.tr.appendChild(this.createRow(e)),this.container.container.appendChild(this.table.fragment),n.table=this.table.table},addColumn:function(e,t){if(this.rows.length)throw new Error("Doesn't support multi-dimensional table");this.columns.length||(this.container=this.createContainer(this.hot.rootElement.className));var n={col:e};this.columns.push(n),this.samples=t,this.table=this.createTable(this.hot.table.className),null!==this.hot.getColHeader(e)&&this.hot.view.appendColHeader(e,this.table.th),this.table.tBody.appendChild(this.createCol(e)),this.container.container.appendChild(this.table.fragment),n.table=this.table.table},getHeights:function(e){this.injected||this.injectTable(),d(this.rows,function(t){e(t.row,c(t.table)-1)})},getWidths:function(e){this.injected||this.injectTable(),d(this.columns,function(t){e(t.col,h(t.table))})},createColGroupsCol:function(){var e=this,t=document,n=t.createDocumentFragment();return n.appendChild(this.createColElement(-1)),this.samples.forEach(function(t){d(t.strings,function(t){n.appendChild(e.createColElement(t.col))})}),n},createRow:function(e){var t=this,n=document,r=n.createDocumentFragment(),i=n.createElement("th");return null!==this.hot.getRowHeader(e)&&this.hot.view.appendRowHeader(e,i),r.appendChild(i),this.samples.forEach(function(i){d(i.strings,function(i){var o=i.col,a=t.hot.getCellMeta(e,o);a.col=o,a.row=e;var s=t.hot.getCellRenderer(a),l=n.createElement("td");s(t.hot,l,e,o,t.hot.colToProp(o),i.value,a),r.appendChild(l)})}),r},createCol:function(e){var t=this,n=document,r=n.createDocumentFragment();return this.samples.forEach(function(i){d(i.strings,function(i){var o=i.row,a=t.hot.getCellMeta(o,e);a.col=e,a.row=o;var s=t.hot.getCellRenderer(a),l=n.createElement("td"),u=n.createElement("tr");s(t.hot,l,o,e,t.hot.colToProp(o),i.value,a),u.appendChild(l),r.appendChild(u)})}),r},clean:function(){this.rows.length=0,this.columns.length=0,this.samples&&this.samples.clear(),this.samples=null,this.removeTable()},injectTable:function(){var e=void 0!==arguments[0]?arguments[0]:null;this.injected||((e||this.hot.rootElement).appendChild(this.container.fragment),this.injected=!0)},removeTable:function(){this.injected&&this.container.container.parentNode&&(this.container.container.parentNode.removeChild(this.container.container),this.container=null,this.injected=!1)},createColElement:function(e){var t=document,n=t.createElement("col");return n.style.width=this.hot.view.wt.wtTable.getStretchedColumnWidth(e)+"px",n},createTable:function(){var e=void 0!==arguments[0]?arguments[0]:"",t=document,n=t.createDocumentFragment(),r=t.createElement("table"),i=t.createElement("thead"),o=t.createElement("tbody"),a=t.createElement("colgroup"),s=t.createElement("tr"),l=t.createElement("th");return this.isVertical()&&r.appendChild(a),this.isHorizontal()&&(s.appendChild(l),i.appendChild(s),r.style.tableLayout="auto",r.style.width="auto"),r.appendChild(i),this.isVertical()&&o.appendChild(s),r.appendChild(o),u(r,e),n.appendChild(r),{fragment:n,table:r,tHead:i,tBody:o,colGroup:a,tr:s,th:l}},createContainer:function(){var e=void 0!==arguments[0]?arguments[0]:"",t=document,n=t.createDocumentFragment(),r=t.createElement("div");return e="htGhostTable htAutoSize "+e.trim(),u(r,e),n.appendChild(r),{fragment:n,container:r}},isVertical:function(){return this.rows.length&&!this.columns.length?!0:!1},isHorizontal:function(){return this.columns.length&&!this.rows.length?!0:!1}},{}),Handsontable.utils=Handsontable.utils||{},Handsontable.utils.GhostTable=f},{"helpers/array":42,"helpers/dom/element":45,"helpers/mixed":48,"helpers/number":49,"helpers/object":50}],99:[function(e,t,n){"use strict";var r;Object.defineProperties(n,{SamplesGenerator:{get:function(){return d}},__esModule:{value:!0}});var i,o,a,s,l,u=(i=e("helpers/dom/element"),i&&i.__esModule&&i||{"default":i}),c=(u.addClass,u.outerHeight,u.outerWidth,(o=e("helpers/array"),o&&o.__esModule&&o||{"default":o}).arrayEach,(a=e("helpers/object"),a&&a.__esModule&&a||{"default":a}).objectEach,(s=e("helpers/number"),s&&s.__esModule&&s||{"default":s}).rangeEach),h=(l=e("helpers/mixed"),l&&l.__esModule&&l||{"default":l}).stringify,d=function(e){this.samples=null,this.dataFactory=e},f=d;$traceurRuntime.createClass(d,(r={},Object.defineProperty(r,"generateRowSamples",{value:function(e,t){return this.generateSamples("row",t,e)},configurable:!0,enumerable:!0,writable:!0}),Object.defineProperty(r,"generateColumnSamples",{value:function(e,t){return this.generateSamples("col",t,e)},configurable:!0,enumerable:!0,writable:!0}),Object.defineProperty(r,"generateSamples",{value:function(e,t,n){var r=this,i=new Map;return"number"==typeof n&&(n={from:n,to:n}),c(n.from,n.to,function(n){var o=r.generateSample(e,t,n);i.set(n,o)}),i},configurable:!0,enumerable:!0,writable:!0}),Object.defineProperty(r,"generateSample",{value:function(e,t,n){var r=this,i=new Map;return c(t.from,t.to,function(t){var o,a;if("row"===e)a=r.dataFactory(n,t);else{if("col"!==e)throw new Error("Unsupported sample type");a=r.dataFactory(t,n)}Array.isArray(a)||(a=h(a));var s=a.length;i.has(s)||i.set(s,{needed:f.SAMPLE_COUNT,strings:[]});var l=i.get(s);if(l.needed){var u="row"===e?"col":"row";l.strings.push((o={},Object.defineProperty(o,"value",{value:a,configurable:!0,enumerable:!0,writable:!0}),Object.defineProperty(o,u,{value:t,configurable:!0,enumerable:!0,writable:!0}),o)),l.needed--}}),i},configurable:!0,enumerable:!0,writable:!0}),r),{get SAMPLE_COUNT(){return 3}}),Handsontable.utils=Handsontable.utils||{},Handsontable.utils.SamplesGenerator=d},{"helpers/array":42,"helpers/dom/element":45,"helpers/mixed":48,"helpers/number":49,"helpers/object":50}],100:[function(e){"use strict";function t(e,t){var n=e,i="string"==typeof n?n.toLowerCase():null;return function(e){for(var o=!1,a=0,s=e.length;s>a;a++){if(n===e[a]){o=!0;break}if(i===r(e[a]).toLowerCase()){o=!0;break}}t(o)}}var n,r=(n=e("helpers/mixed"),n&&n.__esModule&&n||{"default":n}).stringify;Handsontable.AutocompleteValidator=function(e,n){this.strict&&this.source?"function"==typeof this.source?this.source(e,t(e,n)):t(e,n)(this.source):n(!0)}},{"helpers/mixed":48}],101:[function(e){"use strict";var t,n,r=(t=e("moment"),t&&t.__esModule&&t||{"default":t}).default,i=(n=e("editors"),n&&n.__esModule&&n||{"default":n}).getEditor;Handsontable.DateValidator=function(e,t){var n=!0,a=i("date",this.instance);null===e&&(e="");var s=r(new Date(e)).isValid(),l=r(e,this.dateFormat||a.defaultDateFormat,!0).isValid();if(s||(n=!1),!s&&l&&(n=!0),s&&!l)if(this.correctFormat===!0){var u=o(e,this.dateFormat);this.instance.setDataAtCell(this.row,this.col,u,"dateValidator"),n=!0}else n=!1;t(n)};var o=function(e,t){var n=r(new Date(e)),i=n.format("YYYY"),o=r().format("YYYY");return i.substr(0,2)!==o.substr(0,2)?e.match(new RegExp(i))||n.year(i.replace(i.substr(0,2),o.substr(0,2))):i.length>4&&n.year((n.year()+"").substr(0,4)),n.format(t)}},{editors:29,moment:"moment"}],102:[function(){"use strict";Handsontable.NumericValidator=function(e,t){null===e&&(e=""),t(/^-?\d*(\.|\,)?\d*$/.test(e))}},{}],SheetClip:[function(e,t,n){"use strict";!function(e){function t(e){return e.split('"').length-1}var r={parse:function(e){var n,r,i,o,a,s,l,u=[],c=0;for(i=e.split("\n"),i.length>1&&""===i[i.length-1]&&i.pop(),n=0,r=i.length;r>n;n+=1){for(i[n]=i[n].split("	"),o=0,a=i[n].length;a>o;o+=1)u[c]||(u[c]=[]),s&&0===o?(l=u[c].length-1,u[c][l]=u[c][l]+"\n"+i[n][0],s&&1&t(i[n][0])&&(s=!1,u[c][l]=u[c][l].substring(0,u[c][l].length-1).replace(/""/g,'"'))):o===a-1&&0===i[n][o].indexOf('"')&&1&t(i[n][o])?(u[c].push(i[n][o].substring(1).replace(/""/g,'"')),s=!0):(u[c].push(i[n][o].replace(/""/g,'"')),s=!1);s||(c+=1)}return u},stringify:function(e){var t,n,r,i,o,a="";for(t=0,n=e.length;n>t;t+=1){for(i=e[t].length,r=0;i>r;r+=1)r>0&&(a+="	"),o=e[t][r],a+="string"==typeof o?o.indexOf("\n")>-1?'"'+o.replace(/"/g,'""')+'"':o:null===o||void 0===o?"":o;a+="\n"}return a}};"undefined"!=typeof n?(n.parse=r.parse,n.stringify=r.stringify):e.SheetClip=r}(window)},{}],autoResize:[function(e,t,n){"use strict";function r(){var e,t={minHeight:200,maxHeight:300,minWidth:100,maxWidth:300},n=document.body,r=document.createTextNode(""),i=document.createElement("SPAN"),o=function(e,t,n){window.attachEvent?e.attachEvent("on"+t,n):e.addEventListener(t,n,!1)},a=function(e,t,n){window.removeEventListener?e.removeEventListener(t,n,!1):e.detachEvent("on"+t,n)},s=function(o){var a,s;o?/^[a-zA-Z \.,\\\/\|0-9]$/.test(o)||(o="."):o="",void 0!==r.textContent?r.textContent=e.value+o:r.data=e.value+o,i.style.fontSize=Handsontable.Dom.getComputedStyle(e).fontSize,i.style.fontFamily=Handsontable.Dom.getComputedStyle(e).fontFamily,i.style.whiteSpace="pre",n.appendChild(i),a=i.clientWidth+2,n.removeChild(i),e.style.height=t.minHeight+"px",e.style.width=t.minWidth>a?t.minWidth+"px":a>t.maxWidth?t.maxWidth+"px":a+"px",s=e.scrollHeight?e.scrollHeight-1:0,t.minHeight>s?e.style.height=t.minHeight+"px":t.maxHeight<s?(e.style.height=t.maxHeight+"px",e.style.overflowY="visible"):e.style.height=s+"px"},l=function(){window.setTimeout(s,0)},u=function(n){if(n&&n.minHeight)if("inherit"==n.minHeight)t.minHeight=e.clientHeight;else{var o=parseInt(n.minHeight);isNaN(o)||(t.minHeight=o)}if(n&&n.maxHeight)if("inherit"==n.maxHeight)t.maxHeight=e.clientHeight;else{var a=parseInt(n.maxHeight);isNaN(a)||(t.maxHeight=a)}if(n&&n.minWidth)if("inherit"==n.minWidth)t.minWidth=e.clientWidth;else{var s=parseInt(n.minWidth);isNaN(s)||(t.minWidth=s)}if(n&&n.maxWidth)if("inherit"==n.maxWidth)t.maxWidth=e.clientWidth;else{var l=parseInt(n.maxWidth);isNaN(l)||(t.maxWidth=l)}i.firstChild||(i.className="autoResize",i.style.display="inline-block",i.appendChild(r))},c=function(n,r,i){e=n,u(r),"TEXTAREA"==e.nodeName&&(e.style.resize="none",e.style.overflowY="",e.style.height=t.minHeight+"px",e.style.minWidth=t.minWidth+"px",e.style.maxWidth=t.maxWidth+"px",e.style.overflowY="hidden"),i&&(o(e,"change",s),o(e,"cut",l),o(e,"paste",l),o(e,"drop",l),o(e,"keydown",l)),s()};return{init:function(e,t,n){c(e,t,n)},unObserve:function(){a(e,"change",s),a(e,"cut",l),a(e,"paste",l),a(e,"drop",l),a(e,"keydown",l)},resize:s}}"undefined"!=typeof n&&(t.exports=r)},{}],copyPaste:[function(e,t,n){"use strict";function r(){return o?o.hasBeenDestroyed()&&o.init():o=new i,o.refCounter++,o}function i(){this.refCounter=0,this.init()}var o;"undefined"!=typeof n&&(t.exports=r),i.prototype.init=function(){var e,t;this.copyCallbacks=[],this.cutCallbacks=[],this.pasteCallbacks=[],t=document.body,document.getElementById("CopyPasteDiv")?(this.elDiv=document.getElementById("CopyPasteDiv"),this.elTextarea=this.elDiv.firstChild):(this.elDiv=document.createElement("div"),this.elDiv.id="CopyPasteDiv",e=this.elDiv.style,e.position="fixed",e.top="-10000px",e.left="-10000px",t.appendChild(this.elDiv),this.elTextarea=document.createElement("textarea"),this.elTextarea.className="copyPaste",this.elTextarea.onpaste=function(e){var t,n;return"WebkitAppearance"in document.documentElement.style?(t=e.clipboardData.getData("Text"),-1!==navigator.userAgent.indexOf("Safari")&&-1===navigator.userAgent.indexOf("Chrome")&&(n=t.split("\n"),""===n[n.length-1]&&n.pop(),t=n.join("\n")),this.value=t,!1):void 0},e=this.elTextarea.style,e.width="10000px",e.height="10000px",e.overflow="hidden",this.elDiv.appendChild(this.elTextarea),"undefined"!=typeof e.opacity&&(e.opacity=0)),this.onKeyDownRef=this.onKeyDown.bind(this),document.documentElement.addEventListener("keydown",this.onKeyDownRef,!1)},i.prototype.onKeyDown=function(e){function t(){var e=document.activeElement;return e.shadowRoot&&e.shadowRoot.activeElement&&(e=e.shadowRoot.activeElement),["INPUT","SELECT","TEXTAREA"].indexOf(e.nodeName)>-1||"true"===e.contentEditable}var n=this,r=!1;if(e.metaKey?r=!0:e.ctrlKey&&-1===navigator.userAgent.indexOf("Mac")&&(r=!0),r){if(document.activeElement!==this.elTextarea&&(""!==this.getSelectionText()||t()))return;
this.selectNodeText(this.elTextarea),setTimeout(function(){document.activeElement!==n.elTextarea&&n.selectNodeText(n.elTextarea)},0)}!r||67!==e.keyCode&&86!==e.keyCode&&88!==e.keyCode||(88===e.keyCode?setTimeout(function(){n.triggerCut(e)},0):86===e.keyCode&&setTimeout(function(){n.triggerPaste(e)},0))},i.prototype.selectNodeText=function(e){e&&e.select()},i.prototype.getSelectionText=function(){var e="";return window.getSelection?e=window.getSelection().toString():document.selection&&"Control"!==document.selection.type&&(e=document.selection.createRange().text),e},i.prototype.copyable=function(e){if("string"!=typeof e&&void 0===e.toString)throw new Error("copyable requires string parameter");this.elTextarea.value=e,this.selectNodeText(this.elTextarea)},i.prototype.onCut=function(e){this.cutCallbacks.push(e)},i.prototype.onPaste=function(e){this.pasteCallbacks.push(e)},i.prototype.removeCallback=function(e){var t,n;for(t=0,n=this.copyCallbacks.length;n>t;t++)if(this.copyCallbacks[t]===e)return this.copyCallbacks.splice(t,1),!0;for(t=0,n=this.cutCallbacks.length;n>t;t++)if(this.cutCallbacks[t]===e)return this.cutCallbacks.splice(t,1),!0;for(t=0,n=this.pasteCallbacks.length;n>t;t++)if(this.pasteCallbacks[t]===e)return this.pasteCallbacks.splice(t,1),!0;return!1},i.prototype.triggerCut=function(e){var t=this;t.cutCallbacks&&setTimeout(function(){for(var n=0,r=t.cutCallbacks.length;r>n;n++)t.cutCallbacks[n](e)},50)},i.prototype.triggerPaste=function(e,t){var n=this;n.pasteCallbacks&&setTimeout(function(){for(var r=t||n.elTextarea.value,i=0,o=n.pasteCallbacks.length;o>i;i++)n.pasteCallbacks[i](r,e)},50)},i.prototype.destroy=function(){this.hasBeenDestroyed()||0!==--this.refCounter||(this.elDiv&&this.elDiv.parentNode&&(this.elDiv.parentNode.removeChild(this.elDiv),this.elDiv=null,this.elTextarea=null),document.documentElement.removeEventListener("keydown",this.onKeyDownRef),this.onKeyDownRef=null)},i.prototype.hasBeenDestroyed=function(){return!this.refCounter}},{}],es6collections:[function(e,t,n){"use strict";!function(e){function t(e,t){function r(e){return this&&this.constructor===r?(this._keys=[],this._values=[],this._itp=[],this.objectOnly=t,e&&n.call(this,e),void 0):new r(e)}return t||b(e,"size",{get:g}),e.constructor=r,r.prototype=e,r}function n(e){this.add?e.forEach(this.add,this):e.forEach(function(e){this.set(e[0],e[1])},this)}function r(e){return this.has(e)&&(this._keys.splice(y,1),this._values.splice(y,1),this._itp.forEach(function(e){y<e[0]&&e[0]--})),y>-1}function i(e){return this.has(e)?this._values[y]:void 0}function o(e,t){if(this.objectOnly&&t!==Object(t))throw new TypeError("Invalid value used as weak collection key");if(t!=t||0===t)for(y=e.length;y--&&!w(e[y],t););else y=e.indexOf(t);return y>-1}function a(e){return o.call(this,this._values,e)}function s(e){return o.call(this,this._keys,e)}function l(e,t){return this.has(e)?this._values[y]=t:this._values[this._keys.push(e)-1]=t,this}function u(e){return this.has(e)||this._values.push(e),this}function c(){this._values.length=0}function h(){return m(this._itp,this._keys)}function d(){return m(this._itp,this._values)}function f(){return m(this._itp,this._keys,this._values)}function p(){return m(this._itp,this._values,this._values)}function m(e,t,n){var r=[0],i=!1;return e.push(r),{next:function(){var o,a=r[0];return!i&&a<t.length?(o=n?[t[a],n[a]]:t[a],r[0]++):(i=!0,e.splice(e.indexOf(r),1)),{done:i,value:o}}}}function g(){return this._values.length}function v(e,t){for(var n=this.entries();;){var r=n.next();if(r.done)break;e.call(t,r.value[1],r.value[0],this)}}var y,b=Object.defineProperty,w=function(e,t){return isNaN(e)?isNaN(t):e===t};"undefined"==typeof WeakMap&&(e.WeakMap=t({"delete":r,clear:c,get:i,has:s,set:l},!0)),"undefined"==typeof Map&&(e.Map=t({"delete":r,has:s,get:i,set:l,keys:h,values:d,entries:f,forEach:v,clear:c})),"undefined"==typeof Set&&(e.Set=t({has:a,add:u,"delete":r,clear:c,keys:d,values:d,entries:p,forEach:v})),"undefined"==typeof WeakSet&&(e.WeakSet=t({"delete":r,add:u,clear:c,has:a},!0))}("undefined"!=typeof n&&"undefined"!=typeof global?global:window)},{}],jsonpatch:[function(e,t,n){"use strict";var r;!function(e){function t(e){return-1===e.indexOf("/")&&-1===e.indexOf("~")?e:e.replace(/~/g,"~0").replace(/\//g,"~1")}function n(e,r){var i;for(var o in e)if(e.hasOwnProperty(o)){if(e[o]===r)return t(o)+"/";if("object"==typeof e[o]&&(i=n(e[o],r),""!=i))return t(o)+"/"+i}return""}function r(e,t){if(e===t)return"/";var r=n(e,t);if(""===r)throw new Error("Object not found in root");return"/"+r}function i(e){for(var t=0,n=y.length;n>t;t++)if(y[t].obj===e)return y[t]}function o(e){for(var t=0,n=y.length;n>t;t++)y[t]===e&&y.splice(t,1)}function a(e,t){for(var n=0,r=e.observers.length;r>n;n++)if(e.observers[n].callback===t)return e.observers[n].observer}function s(e,t){for(var n=0,r=e.observers.length;r>n;n++)if(e.observers[n].observer===t)return e.observers.splice(n,1),e.observers.length||o(e),void 0}function l(e,t){d(t),Object.observe?h(t,e):clearTimeout(t.next);var n=i(e);s(n,t)}function u(e,t){var n,o=[],s=e,l=i(e);if(l?n=a(l,t):(l=new b(e),y.push(l)),n)return n;if(Object.observe)n=function(i){h(n,e),c(n,e);for(var a=0,l=i.length;l>a;){if(("length"!==i[a].name||!x(i[a].object))&&"__Jasmine_been_here_before__"!==i[a].name){var u=i[a].type;switch(u){case"new":u="add";break;case"deleted":u="delete";break;case"updated":u="update"}v[u].call(i[a],o,r(s,i[a].object))}a++}o&&t&&t(o),n.patches=o,o=[]};else if(n={},l.value=JSON.parse(JSON.stringify(e)),t){n.callback=t,n.next=null;var u=this.intervals||[100,1e3,1e4,6e4],f=0,p=function(){d(n)},m=function(){clearTimeout(n.next),n.next=setTimeout(function(){p(),f=0,n.next=setTimeout(g,u[f++])},0)},g=function(){p(),f==u.length&&(f=u.length-1),n.next=setTimeout(g,u[f++])};"undefined"!=typeof window&&(window.addEventListener?(window.addEventListener("mousedown",m),window.addEventListener("mouseup",m),window.addEventListener("keydown",m)):(window.attachEvent("onmousedown",m),window.attachEvent("onmouseup",m),window.attachEvent("onkeydown",m))),n.next=setTimeout(g,u[f++])}return n.patches=o,n.object=e,l.observers.push(new w(t,n)),c(n,e)}function c(e,t){if(Object.observe){Object.observe(t,e);for(var n in t)if(t.hasOwnProperty(n)){var r=t[n];r&&"object"==typeof r&&c(e,r)}}return e}function h(e,t){if(Object.observe){Object.unobserve(t,e);for(var n in t)if(t.hasOwnProperty(n)){var r=t[n];r&&"object"==typeof r&&h(e,r)}}return e}function d(e){if(Object.observe)Object.deliverChangeRecords(e);else{for(var t,n=0,r=y.length;r>n;n++)if(y[n].obj===e.object){t=y[n];break}t&&f(t.value,e.object,e.patches,"")}var i=e.patches;return i.length>0&&(e.patches=[],e.callback&&e.callback(i)),i}function f(e,n,r,i){for(var o=C(n),a=C(e),s=!1,l=!1,u=a.length-1;u>=0;u--){var c=a[u],h=e[c];if(n.hasOwnProperty(c)){var d=n[c];h instanceof Object?f(h,d,r,i+"/"+t(c)):h!=d&&(s=!0,r.push({op:"replace",path:i+"/"+t(c),value:d}),e[c]=d)}else r.push({op:"remove",path:i+"/"+t(c)}),delete e[c],l=!0}if(l||o.length!=a.length)for(var u=0;u<o.length;u++){var c=o[u];e.hasOwnProperty(c)||(r.push({op:"add",path:i+"/"+t(c),value:n[c]}),e[c]=JSON.parse(JSON.stringify(n[c])))}}function p(e,t){for(var n,r=!1,i=0,o=t.length;o>i;){n=t[i];for(var a=n.path.split("/"),s=e,l=1,u=a.length;;)if(x(s)){var c=parseInt(a[l],10);if(l++,l>=u){r=g[n.op].call(n,s,c,e);break}s=s[c]}else{var h=a[l];if(-1!=h.indexOf("~")&&(h=h.replace(/~1/g,"/").replace(/~0/g,"~")),l++,l>=u){r=m[n.op].call(n,s,h,e);break}s=s[h]}i++}return r}var m={add:function(e,t){return e[t]=this.value,!0},remove:function(e,t){return delete e[t],!0},replace:function(e,t){return e[t]=this.value,!0},move:function(e,t,n){var r={op:"_get",path:this.from};return p(n,[r]),p(n,[{op:"remove",path:this.from}]),p(n,[{op:"add",path:this.path,value:r.value}]),!0},copy:function(e,t,n){var r={op:"_get",path:this.from};return p(n,[r]),p(n,[{op:"add",path:this.path,value:r.value}]),!0},test:function(e,t){return JSON.stringify(e[t])===JSON.stringify(this.value)},_get:function(e,t){this.value=e[t]}},g={add:function(e,t){return e.splice(t,0,this.value),!0},remove:function(e,t){return e.splice(t,1),!0},replace:function(e,t){return e[t]=this.value,!0},move:m.move,copy:m.copy,test:m.test,_get:m._get},v={add:function(e,n){var r={op:"add",path:n+t(this.name),value:this.object[this.name]};e.push(r)},"delete":function(e,n){var r={op:"remove",path:n+t(this.name)};e.push(r)},update:function(e,n){var r={op:"replace",path:n+t(this.name),value:this.object[this.name]};e.push(r)}},y=[];e.intervals;var b=function(){function e(e){this.observers=[],this.obj=e}return e}(),w=function(){function e(e,t){this.callback=e,this.observer=t}return e}();e.unobserve=l,e.observe=u,e.generate=d;var C;C=Object.keys?Object.keys:function(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n);return t};var x;x=Array.isArray?Array.isArray:function(e){return e.push&&"number"==typeof e.length},e.apply=p}(r||(r={})),"undefined"!=typeof n&&(n.apply=r.apply,n.observe=r.observe,n.unobserve=r.unobserve,n.generate=r.generate)},{}],moment:[function(e,n,r){!function(e,i){"object"==typeof r&&"undefined"!=typeof n?n.exports=i():"function"==typeof t&&t.amd?t(i):e.moment=i()}(this,function(){"use strict";function t(){return Nr.apply(null,arguments)}function r(e){Nr=e}function i(e){return"[object Array]"===Object.prototype.toString.call(e)}function o(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function a(e,t){var n,r=[];for(n=0;n<e.length;++n)r.push(t(e[n],n));return r}function s(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function l(e,t){for(var n in t)s(t,n)&&(e[n]=t[n]);return s(t,"toString")&&(e.toString=t.toString),s(t,"valueOf")&&(e.valueOf=t.valueOf),e}function u(e,t,n,r){return Ot(e,t,n,r,!0).utc()}function c(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1}}function h(e){return null==e._pf&&(e._pf=c()),e._pf}function d(e){if(null==e._isValid){var t=h(e);e._isValid=!(isNaN(e._d.getTime())||!(t.overflow<0)||t.empty||t.invalidMonth||t.invalidWeekday||t.nullInput||t.invalidFormat||t.userInvalidated),e._strict&&(e._isValid=e._isValid&&0===t.charsLeftOver&&0===t.unusedTokens.length&&void 0===t.bigHour)}return e._isValid}function f(e){var t=u(0/0);return null!=e?l(h(t),e):h(t).userInvalidated=!0,t}function p(e,t){var n,r,i;if("undefined"!=typeof t._isAMomentObject&&(e._isAMomentObject=t._isAMomentObject),"undefined"!=typeof t._i&&(e._i=t._i),"undefined"!=typeof t._f&&(e._f=t._f),"undefined"!=typeof t._l&&(e._l=t._l),"undefined"!=typeof t._strict&&(e._strict=t._strict),"undefined"!=typeof t._tzm&&(e._tzm=t._tzm),"undefined"!=typeof t._isUTC&&(e._isUTC=t._isUTC),"undefined"!=typeof t._offset&&(e._offset=t._offset),"undefined"!=typeof t._pf&&(e._pf=h(t)),"undefined"!=typeof t._locale&&(e._locale=t._locale),jr.length>0)for(n in jr)r=jr[n],i=t[r],"undefined"!=typeof i&&(e[r]=i);return e}function m(e){p(this,e),this._d=new Date(null!=e._d?e._d.getTime():0/0),Fr===!1&&(Fr=!0,t.updateOffset(this),Fr=!1)}function g(e){return e instanceof m||null!=e&&null!=e._isAMomentObject}function v(e){return 0>e?Math.ceil(e):Math.floor(e)}function y(e){var t=+e,n=0;return 0!==t&&isFinite(t)&&(n=v(t)),n}function b(e,t,n){var r,i=Math.min(e.length,t.length),o=Math.abs(e.length-t.length),a=0;for(r=0;i>r;r++)(n&&e[r]!==t[r]||!n&&y(e[r])!==y(t[r]))&&a++;return a+o}function w(){}function C(e){return e?e.toLowerCase().replace("_","-"):e}function x(e){for(var t,n,r,i,o=0;o<e.length;){for(i=C(e[o]).split("-"),t=i.length,n=C(e[o+1]),n=n?n.split("-"):null;t>0;){if(r=k(i.slice(0,t).join("-")))return r;if(n&&n.length>=t&&b(i,n,!0)>=t-1)break;t--}o++}return null}function k(t){var r=null;if(!Wr[t]&&"undefined"!=typeof n&&n&&n.exports)try{r=Ir._abbr,e("./locale/"+t),S(r)}catch(i){}return Wr[t]}function S(e,t){var n;return e&&(n="undefined"==typeof t?T(e):_(e,t),n&&(Ir=n)),Ir._abbr}function _(e,t){return null!==t?(t.abbr=e,Wr[e]=Wr[e]||new w,Wr[e].set(t),S(e),Wr[e]):(delete Wr[e],null)}function T(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return Ir;if(!i(e)){if(t=k(e))return t;e=[e]}return x(e)}function E(e,t){var n=e.toLowerCase();Br[n]=Br[n+"s"]=Br[t]=e}function M(e){return"string"==typeof e?Br[e]||Br[e.toLowerCase()]:void 0}function R(e){var t,n,r={};for(n in e)s(e,n)&&(t=M(n),t&&(r[t]=e[n]));return r}function O(e,n){return function(r){return null!=r?(L(this,e,r),t.updateOffset(this,n),this):A(this,e)}}function A(e,t){return e._d["get"+(e._isUTC?"UTC":"")+t]()}function L(e,t,n){return e._d["set"+(e._isUTC?"UTC":"")+t](n)}function D(e,t){var n;if("object"==typeof e)for(n in e)this.set(n,e[n]);else if(e=M(e),"function"==typeof this[e])return this[e](t);return this}function P(e,t,n){var r=""+Math.abs(e),i=t-r.length,o=e>=0;return(o?n?"+":"":"-")+Math.pow(10,Math.max(0,i)).toString().substr(1)+r}function H(e,t,n,r){var i=r;"string"==typeof r&&(i=function(){return this[r]()}),e&&(qr[e]=i),t&&(qr[t[0]]=function(){return P(i.apply(this,arguments),t[1],t[2])}),n&&(qr[n]=function(){return this.localeData().ordinal(i.apply(this,arguments),e)})}function N(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function I(e){var t,n,r=e.match(zr);for(t=0,n=r.length;n>t;t++)r[t]=qr[r[t]]?qr[r[t]]:N(r[t]);return function(i){var o="";for(t=0;n>t;t++)o+=r[t]instanceof Function?r[t].call(i,e):r[t];return o}}function j(e,t){return e.isValid()?(t=F(t,e.localeData()),Vr[t]=Vr[t]||I(t),Vr[t](e)):e.localeData().invalidDate()}function F(e,t){function n(e){return t.longDateFormat(e)||e}var r=5;for(Ur.lastIndex=0;r>=0&&Ur.test(e);)e=e.replace(Ur,n),Ur.lastIndex=0,r-=1;return e}function W(e){return"function"==typeof e&&"[object Function]"===Object.prototype.toString.call(e)}function B(e,t,n){ai[e]=W(t)?t:function(e){return e&&n?n:t}}function z(e,t){return s(ai,e)?ai[e](t._strict,t._locale):new RegExp(U(e))}function U(e){return e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,t,n,r,i){return t||n||r||i}).replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function V(e,t){var n,r=t;for("string"==typeof e&&(e=[e]),"number"==typeof t&&(r=function(e,n){n[t]=y(e)}),n=0;n<e.length;n++)si[e[n]]=r}function q(e,t){V(e,function(e,n,r,i){r._w=r._w||{},t(e,r._w,r,i)})}function $(e,t,n){null!=t&&s(si,e)&&si[e](t,n._a,n,e)}function Y(e,t){return new Date(Date.UTC(e,t+1,0)).getUTCDate()}function G(e){return this._months[e.month()]}function K(e){return this._monthsShort[e.month()]}function X(e,t,n){var r,i,o;for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),r=0;12>r;r++){if(i=u([2e3,r]),n&&!this._longMonthsParse[r]&&(this._longMonthsParse[r]=new RegExp("^"+this.months(i,"").replace(".","")+"$","i"),this._shortMonthsParse[r]=new RegExp("^"+this.monthsShort(i,"").replace(".","")+"$","i")),n||this._monthsParse[r]||(o="^"+this.months(i,"")+"|^"+this.monthsShort(i,""),this._monthsParse[r]=new RegExp(o.replace(".",""),"i")),n&&"MMMM"===t&&this._longMonthsParse[r].test(e))return r;if(n&&"MMM"===t&&this._shortMonthsParse[r].test(e))return r;if(!n&&this._monthsParse[r].test(e))return r}}function J(e,t){var n;return"string"==typeof t&&(t=e.localeData().monthsParse(t),"number"!=typeof t)?e:(n=Math.min(e.date(),Y(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,n),e)}function Z(e){return null!=e?(J(this,e),t.updateOffset(this,!0),this):A(this,"Month")}function Q(){return Y(this.year(),this.month())}function et(e){var t,n=e._a;return n&&-2===h(e).overflow&&(t=n[ui]<0||n[ui]>11?ui:n[ci]<1||n[ci]>Y(n[li],n[ui])?ci:n[hi]<0||n[hi]>24||24===n[hi]&&(0!==n[di]||0!==n[fi]||0!==n[pi])?hi:n[di]<0||n[di]>59?di:n[fi]<0||n[fi]>59?fi:n[pi]<0||n[pi]>999?pi:-1,h(e)._overflowDayOfYear&&(li>t||t>ci)&&(t=ci),h(e).overflow=t),e}function tt(e){t.suppressDeprecationWarnings===!1&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+e)}function nt(e,t){var n=!0;return l(function(){return n&&(tt(e+"\n"+(new Error).stack),n=!1),t.apply(this,arguments)},t)}function rt(e,t){vi[e]||(tt(t),vi[e]=!0)}function it(e){var t,n,r=e._i,i=yi.exec(r);if(i){for(h(e).iso=!0,t=0,n=bi.length;n>t;t++)if(bi[t][1].exec(r)){e._f=bi[t][0];break}for(t=0,n=wi.length;n>t;t++)if(wi[t][1].exec(r)){e._f+=(i[6]||" ")+wi[t][0];break}r.match(ri)&&(e._f+="Z"),kt(e)}else e._isValid=!1}function ot(e){var n=Ci.exec(e._i);return null!==n?(e._d=new Date(+n[1]),void 0):(it(e),e._isValid===!1&&(delete e._isValid,t.createFromInputFallback(e)),void 0)}function at(e,t,n,r,i,o,a){var s=new Date(e,t,n,r,i,o,a);return 1970>e&&s.setFullYear(e),s}function st(e){var t=new Date(Date.UTC.apply(null,arguments));return 1970>e&&t.setUTCFullYear(e),t}function lt(e){return ut(e)?366:365}function ut(e){return e%4===0&&e%100!==0||e%400===0}function ct(){return ut(this.year())}function ht(e,t,n){var r,i=n-t,o=n-e.day();return o>i&&(o-=7),i-7>o&&(o+=7),r=At(e).add(o,"d"),{week:Math.ceil(r.dayOfYear()/7),year:r.year()}}function dt(e){return ht(e,this._week.dow,this._week.doy).week}function ft(){return this._week.dow}function pt(){return this._week.doy}function mt(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")}function gt(e){var t=ht(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")}function vt(e,t,n,r,i){var o,a=6+i-r,s=st(e,0,1+a),l=s.getUTCDay();return i>l&&(l+=7),n=null!=n?1*n:i,o=1+a+7*(t-1)-l+n,{year:o>0?e:e-1,dayOfYear:o>0?o:lt(e-1)+o}}function yt(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")}function bt(e,t,n){return null!=e?e:null!=t?t:n}function wt(e){var t=new Date;return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}function Ct(e){var t,n,r,i,o=[];if(!e._d){for(r=wt(e),e._w&&null==e._a[ci]&&null==e._a[ui]&&xt(e),e._dayOfYear&&(i=bt(e._a[li],r[li]),e._dayOfYear>lt(i)&&(h(e)._overflowDayOfYear=!0),n=st(i,0,e._dayOfYear),e._a[ui]=n.getUTCMonth(),e._a[ci]=n.getUTCDate()),t=0;3>t&&null==e._a[t];++t)e._a[t]=o[t]=r[t];for(;7>t;t++)e._a[t]=o[t]=null==e._a[t]?2===t?1:0:e._a[t];24===e._a[hi]&&0===e._a[di]&&0===e._a[fi]&&0===e._a[pi]&&(e._nextDay=!0,e._a[hi]=0),e._d=(e._useUTC?st:at).apply(null,o),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[hi]=24)}}function xt(e){var t,n,r,i,o,a,s;t=e._w,null!=t.GG||null!=t.W||null!=t.E?(o=1,a=4,n=bt(t.GG,e._a[li],ht(At(),1,4).year),r=bt(t.W,1),i=bt(t.E,1)):(o=e._locale._week.dow,a=e._locale._week.doy,n=bt(t.gg,e._a[li],ht(At(),o,a).year),r=bt(t.w,1),null!=t.d?(i=t.d,o>i&&++r):i=null!=t.e?t.e+o:o),s=vt(n,r,i,a,o),e._a[li]=s.year,e._dayOfYear=s.dayOfYear}function kt(e){if(e._f===t.ISO_8601)return it(e),void 0;e._a=[],h(e).empty=!0;var n,r,i,o,a,s=""+e._i,l=s.length,u=0;for(i=F(e._f,e._locale).match(zr)||[],n=0;n<i.length;n++)o=i[n],r=(s.match(z(o,e))||[])[0],r&&(a=s.substr(0,s.indexOf(r)),a.length>0&&h(e).unusedInput.push(a),s=s.slice(s.indexOf(r)+r.length),u+=r.length),qr[o]?(r?h(e).empty=!1:h(e).unusedTokens.push(o),$(o,r,e)):e._strict&&!r&&h(e).unusedTokens.push(o);h(e).charsLeftOver=l-u,s.length>0&&h(e).unusedInput.push(s),h(e).bigHour===!0&&e._a[hi]<=12&&e._a[hi]>0&&(h(e).bigHour=void 0),e._a[hi]=St(e._locale,e._a[hi],e._meridiem),Ct(e),et(e)}function St(e,t,n){var r;return null==n?t:null!=e.meridiemHour?e.meridiemHour(t,n):null!=e.isPM?(r=e.isPM(n),r&&12>t&&(t+=12),r||12!==t||(t=0),t):t}function _t(e){var t,n,r,i,o;if(0===e._f.length)return h(e).invalidFormat=!0,e._d=new Date(0/0),void 0;for(i=0;i<e._f.length;i++)o=0,t=p({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._f=e._f[i],kt(t),d(t)&&(o+=h(t).charsLeftOver,o+=10*h(t).unusedTokens.length,h(t).score=o,(null==r||r>o)&&(r=o,n=t));l(e,n||t)}function Tt(e){if(!e._d){var t=R(e._i);e._a=[t.year,t.month,t.day||t.date,t.hour,t.minute,t.second,t.millisecond],Ct(e)}}function Et(e){var t=new m(et(Mt(e)));return t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t}function Mt(e){var t=e._i,n=e._f;return e._locale=e._locale||T(e._l),null===t||void 0===n&&""===t?f({nullInput:!0}):("string"==typeof t&&(e._i=t=e._locale.preparse(t)),g(t)?new m(et(t)):(i(n)?_t(e):n?kt(e):o(t)?e._d=t:Rt(e),e))}function Rt(e){var n=e._i;void 0===n?e._d=new Date:o(n)?e._d=new Date(+n):"string"==typeof n?ot(e):i(n)?(e._a=a(n.slice(0),function(e){return parseInt(e,10)}),Ct(e)):"object"==typeof n?Tt(e):"number"==typeof n?e._d=new Date(n):t.createFromInputFallback(e)}function Ot(e,t,n,r,i){var o={};return"boolean"==typeof n&&(r=n,n=void 0),o._isAMomentObject=!0,o._useUTC=o._isUTC=i,o._l=n,o._i=e,o._f=t,o._strict=r,Et(o)}function At(e,t,n,r){return Ot(e,t,n,r,!1)}function Lt(e,t){var n,r;if(1===t.length&&i(t[0])&&(t=t[0]),!t.length)return At();for(n=t[0],r=1;r<t.length;++r)(!t[r].isValid()||t[r][e](n))&&(n=t[r]);return n}function Dt(){var e=[].slice.call(arguments,0);return Lt("isBefore",e)}function Pt(){var e=[].slice.call(arguments,0);return Lt("isAfter",e)}function Ht(e){var t=R(e),n=t.year||0,r=t.quarter||0,i=t.month||0,o=t.week||0,a=t.day||0,s=t.hour||0,l=t.minute||0,u=t.second||0,c=t.millisecond||0;this._milliseconds=+c+1e3*u+6e4*l+36e5*s,this._days=+a+7*o,this._months=+i+3*r+12*n,this._data={},this._locale=T(),this._bubble()}function Nt(e){return e instanceof Ht}function It(e,t){H(e,0,0,function(){var e=this.utcOffset(),n="+";return 0>e&&(e=-e,n="-"),n+P(~~(e/60),2)+t+P(~~e%60,2)})}function jt(e){var t=(e||"").match(ri)||[],n=t[t.length-1]||[],r=(n+"").match(Ti)||["-",0,0],i=+(60*r[1])+y(r[2]);return"+"===r[0]?i:-i}function Ft(e,n){var r,i;return n._isUTC?(r=n.clone(),i=(g(e)||o(e)?+e:+At(e))-+r,r._d.setTime(+r._d+i),t.updateOffset(r,!1),r):At(e).local()}function Wt(e){return 15*-Math.round(e._d.getTimezoneOffset()/15)}function Bt(e,n){var r,i=this._offset||0;return null!=e?("string"==typeof e&&(e=jt(e)),Math.abs(e)<16&&(e=60*e),!this._isUTC&&n&&(r=Wt(this)),this._offset=e,this._isUTC=!0,null!=r&&this.add(r,"m"),i!==e&&(!n||this._changeInProgress?rn(this,Zt(e-i,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,t.updateOffset(this,!0),this._changeInProgress=null)),this):this._isUTC?i:Wt(this)}function zt(e,t){return null!=e?("string"!=typeof e&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}function Ut(e){return this.utcOffset(0,e)}function Vt(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(Wt(this),"m")),this}function qt(){return this._tzm?this.utcOffset(this._tzm):"string"==typeof this._i&&this.utcOffset(jt(this._i)),this}function $t(e){return e=e?At(e).utcOffset():0,(this.utcOffset()-e)%60===0}function Yt(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function Gt(){if("undefined"!=typeof this._isDSTShifted)return this._isDSTShifted;var e={};if(p(e,this),e=Mt(e),e._a){var t=e._isUTC?u(e._a):At(e._a);this._isDSTShifted=this.isValid()&&b(e._a,t.toArray())>0}else this._isDSTShifted=!1;return this._isDSTShifted}function Kt(){return!this._isUTC}function Xt(){return this._isUTC}function Jt(){return this._isUTC&&0===this._offset}function Zt(e,t){var n,r,i,o=e,a=null;return Nt(e)?o={ms:e._milliseconds,d:e._days,M:e._months}:"number"==typeof e?(o={},t?o[t]=e:o.milliseconds=e):(a=Ei.exec(e))?(n="-"===a[1]?-1:1,o={y:0,d:y(a[ci])*n,h:y(a[hi])*n,m:y(a[di])*n,s:y(a[fi])*n,ms:y(a[pi])*n}):(a=Mi.exec(e))?(n="-"===a[1]?-1:1,o={y:Qt(a[2],n),M:Qt(a[3],n),d:Qt(a[4],n),h:Qt(a[5],n),m:Qt(a[6],n),s:Qt(a[7],n),w:Qt(a[8],n)}):null==o?o={}:"object"==typeof o&&("from"in o||"to"in o)&&(i=tn(At(o.from),At(o.to)),o={},o.ms=i.milliseconds,o.M=i.months),r=new Ht(o),Nt(e)&&s(e,"_locale")&&(r._locale=e._locale),r}function Qt(e,t){var n=e&&parseFloat(e.replace(",","."));return(isNaN(n)?0:n)*t}function en(e,t){var n={milliseconds:0,months:0};return n.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function tn(e,t){var n;return t=Ft(t,e),e.isBefore(t)?n=en(e,t):(n=en(t,e),n.milliseconds=-n.milliseconds,n.months=-n.months),n}function nn(e,t){return function(n,r){var i,o;return null===r||isNaN(+r)||(rt(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period)."),o=n,n=r,r=o),n="string"==typeof n?+n:n,i=Zt(n,r),rn(this,i,e),this}}function rn(e,n,r,i){var o=n._milliseconds,a=n._days,s=n._months;i=null==i?!0:i,o&&e._d.setTime(+e._d+o*r),a&&L(e,"Date",A(e,"Date")+a*r),s&&J(e,A(e,"Month")+s*r),i&&t.updateOffset(e,a||s)}function on(e,t){var n=e||At(),r=Ft(n,this).startOf("day"),i=this.diff(r,"days",!0),o=-6>i?"sameElse":-1>i?"lastWeek":0>i?"lastDay":1>i?"sameDay":2>i?"nextDay":7>i?"nextWeek":"sameElse";return this.format(t&&t[o]||this.localeData().calendar(o,this,At(n)))}function an(){return new m(this)}function sn(e,t){var n;return t=M("undefined"!=typeof t?t:"millisecond"),"millisecond"===t?(e=g(e)?e:At(e),+this>+e):(n=g(e)?+e:+At(e),n<+this.clone().startOf(t))}function ln(e,t){var n;return t=M("undefined"!=typeof t?t:"millisecond"),"millisecond"===t?(e=g(e)?e:At(e),+e>+this):(n=g(e)?+e:+At(e),+this.clone().endOf(t)<n)}function un(e,t,n){return this.isAfter(e,n)&&this.isBefore(t,n)}function cn(e,t){var n;return t=M(t||"millisecond"),"millisecond"===t?(e=g(e)?e:At(e),+this===+e):(n=+At(e),+this.clone().startOf(t)<=n&&n<=+this.clone().endOf(t))}function hn(e,t,n){var r,i,o=Ft(e,this),a=6e4*(o.utcOffset()-this.utcOffset());return t=M(t),"year"===t||"month"===t||"quarter"===t?(i=dn(this,o),"quarter"===t?i/=3:"year"===t&&(i/=12)):(r=this-o,i="second"===t?r/1e3:"minute"===t?r/6e4:"hour"===t?r/36e5:"day"===t?(r-a)/864e5:"week"===t?(r-a)/6048e5:r),n?i:v(i)}function dn(e,t){var n,r,i=12*(t.year()-e.year())+(t.month()-e.month()),o=e.clone().add(i,"months");return 0>t-o?(n=e.clone().add(i-1,"months"),r=(t-o)/(o-n)):(n=e.clone().add(i+1,"months"),r=(t-o)/(n-o)),-(i+r)}function fn(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function pn(){var e=this.clone().utc();return 0<e.year()&&e.year()<=9999?"function"==typeof Date.prototype.toISOString?this.toDate().toISOString():j(e,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):j(e,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")}function mn(e){var n=j(this,e||t.defaultFormat);return this.localeData().postformat(n)}function gn(e,t){return this.isValid()?Zt({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function vn(e){return this.from(At(),e)}function yn(e,t){return this.isValid()?Zt({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function bn(e){return this.to(At(),e)}function wn(e){var t;return void 0===e?this._locale._abbr:(t=T(e),null!=t&&(this._locale=t),this)}function Cn(){return this._locale}function xn(e){switch(e=M(e)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===e&&this.weekday(0),"isoWeek"===e&&this.isoWeekday(1),"quarter"===e&&this.month(3*Math.floor(this.month()/3)),this}function kn(e){return e=M(e),void 0===e||"millisecond"===e?this:this.startOf(e).add(1,"isoWeek"===e?"week":e).subtract(1,"ms")}function Sn(){return+this._d-6e4*(this._offset||0)}function _n(){return Math.floor(+this/1e3)}function Tn(){return this._offset?new Date(+this):this._d}function En(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]}function Mn(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}}function Rn(){return d(this)}function On(){return l({},h(this))}function An(){return h(this).overflow}function Ln(e,t){H(0,[e,e.length],0,t)}function Dn(e,t,n){return ht(At([e,11,31+t-n]),t,n).week}function Pn(e){var t=ht(this,this.localeData()._week.dow,this.localeData()._week.doy).year;return null==e?t:this.add(e-t,"y")}function Hn(e){var t=ht(this,1,4).year;return null==e?t:this.add(e-t,"y")}function Nn(){return Dn(this.year(),1,4)}function In(){var e=this.localeData()._week;return Dn(this.year(),e.dow,e.doy)}function jn(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)}function Fn(e,t){return"string"!=typeof e?e:isNaN(e)?(e=t.weekdaysParse(e),"number"==typeof e?e:null):parseInt(e,10)}function Wn(e){return this._weekdays[e.day()]}function Bn(e){return this._weekdaysShort[e.day()]}function zn(e){return this._weekdaysMin[e.day()]}function Un(e){var t,n,r;for(this._weekdaysParse=this._weekdaysParse||[],t=0;7>t;t++)if(this._weekdaysParse[t]||(n=At([2e3,1]).day(t),r="^"+this.weekdays(n,"")+"|^"+this.weekdaysShort(n,"")+"|^"+this.weekdaysMin(n,""),this._weekdaysParse[t]=new RegExp(r.replace(".",""),"i")),this._weekdaysParse[t].test(e))return t}function Vn(e){var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(e=Fn(e,this.localeData()),this.add(e-t,"d")):t}function qn(e){var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")}function $n(e){return null==e?this.day()||7:this.day(this.day()%7?e:e-7)}function Yn(e,t){H(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}function Gn(e,t){return t._meridiemParse}function Kn(e){return"p"===(e+"").toLowerCase().charAt(0)}function Xn(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"}function Jn(e,t){t[pi]=y(1e3*("0."+e))}function Zn(){return this._isUTC?"UTC":""}function Qn(){return this._isUTC?"Coordinated Universal Time":""}function er(e){return At(1e3*e)}function tr(){return At.apply(null,arguments).parseZone()}function nr(e,t,n){var r=this._calendar[e];return"function"==typeof r?r.call(t,n):r}function rr(e){var t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];return t||!n?t:(this._longDateFormat[e]=n.replace(/MMMM|MM|DD|dddd/g,function(e){return e.slice(1)}),this._longDateFormat[e])}function ir(){return this._invalidDate}function or(e){return this._ordinal.replace("%d",e)}function ar(e){return e}function sr(e,t,n,r){var i=this._relativeTime[n];return"function"==typeof i?i(e,t,n,r):i.replace(/%d/i,e)}function lr(e,t){var n=this._relativeTime[e>0?"future":"past"];return"function"==typeof n?n(t):n.replace(/%s/i,t)}function ur(e){var t,n;for(n in e)t=e[n],"function"==typeof t?this[n]=t:this["_"+n]=t;this._ordinalParseLenient=new RegExp(this._ordinalParse.source+"|"+/\d{1,2}/.source)}function cr(e,t,n,r){var i=T(),o=u().set(r,t);return i[n](o,e)}function hr(e,t,n,r,i){if("number"==typeof e&&(t=e,e=void 0),e=e||"",null!=t)return cr(e,t,n,i);var o,a=[];for(o=0;r>o;o++)a[o]=cr(e,o,n,i);return a}function dr(e,t){return hr(e,t,"months",12,"month")}function fr(e,t){return hr(e,t,"monthsShort",12,"month")}function pr(e,t){return hr(e,t,"weekdays",7,"day")}function mr(e,t){return hr(e,t,"weekdaysShort",7,"day")}function gr(e,t){return hr(e,t,"weekdaysMin",7,"day")}function vr(){var e=this._data;return this._milliseconds=Ji(this._milliseconds),this._days=Ji(this._days),this._months=Ji(this._months),e.milliseconds=Ji(e.milliseconds),e.seconds=Ji(e.seconds),e.minutes=Ji(e.minutes),e.hours=Ji(e.hours),e.months=Ji(e.months),e.years=Ji(e.years),this}function yr(e,t,n,r){var i=Zt(t,n);return e._milliseconds+=r*i._milliseconds,e._days+=r*i._days,e._months+=r*i._months,e._bubble()}function br(e,t){return yr(this,e,t,1)}function wr(e,t){return yr(this,e,t,-1)}function Cr(e){return 0>e?Math.floor(e):Math.ceil(e)}function xr(){var e,t,n,r,i,o=this._milliseconds,a=this._days,s=this._months,l=this._data;return o>=0&&a>=0&&s>=0||0>=o&&0>=a&&0>=s||(o+=864e5*Cr(Sr(s)+a),a=0,s=0),l.milliseconds=o%1e3,e=v(o/1e3),l.seconds=e%60,t=v(e/60),l.minutes=t%60,n=v(t/60),l.hours=n%24,a+=v(n/24),i=v(kr(a)),s+=i,a-=Cr(Sr(i)),r=v(s/12),s%=12,l.days=a,l.months=s,l.years=r,this}function kr(e){return 4800*e/146097}function Sr(e){return 146097*e/4800}function _r(e){var t,n,r=this._milliseconds;if(e=M(e),"month"===e||"year"===e)return t=this._days+r/864e5,n=this._months+kr(t),"month"===e?n:n/12;
switch(t=this._days+Math.round(Sr(this._months)),e){case"week":return t/7+r/6048e5;case"day":return t+r/864e5;case"hour":return 24*t+r/36e5;case"minute":return 1440*t+r/6e4;case"second":return 86400*t+r/1e3;case"millisecond":return Math.floor(864e5*t)+r;default:throw new Error("Unknown unit "+e)}}function Tr(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*y(this._months/12)}function Er(e){return function(){return this.as(e)}}function Mr(e){return e=M(e),this[e+"s"]()}function Rr(e){return function(){return this._data[e]}}function Or(){return v(this.days()/7)}function Ar(e,t,n,r,i){return i.relativeTime(t||1,!!n,e,r)}function Lr(e,t,n){var r=Zt(e).abs(),i=po(r.as("s")),o=po(r.as("m")),a=po(r.as("h")),s=po(r.as("d")),l=po(r.as("M")),u=po(r.as("y")),c=i<mo.s&&["s",i]||1===o&&["m"]||o<mo.m&&["mm",o]||1===a&&["h"]||a<mo.h&&["hh",a]||1===s&&["d"]||s<mo.d&&["dd",s]||1===l&&["M"]||l<mo.M&&["MM",l]||1===u&&["y"]||["yy",u];return c[2]=t,c[3]=+e>0,c[4]=n,Ar.apply(null,c)}function Dr(e,t){return void 0===mo[e]?!1:void 0===t?mo[e]:(mo[e]=t,!0)}function Pr(e){var t=this.localeData(),n=Lr(this,!e,t);return e&&(n=t.pastFuture(+this,n)),t.postformat(n)}function Hr(){var e,t,n,r=go(this._milliseconds)/1e3,i=go(this._days),o=go(this._months);e=v(r/60),t=v(e/60),r%=60,e%=60,n=v(o/12),o%=12;var a=n,s=o,l=i,u=t,c=e,h=r,d=this.asSeconds();return d?(0>d?"-":"")+"P"+(a?a+"Y":"")+(s?s+"M":"")+(l?l+"D":"")+(u||c||h?"T":"")+(u?u+"H":"")+(c?c+"M":"")+(h?h+"S":""):"P0D"}var Nr,Ir,jr=t.momentProperties=[],Fr=!1,Wr={},Br={},zr=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Q|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,Ur=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Vr={},qr={},$r=/\d/,Yr=/\d\d/,Gr=/\d{3}/,Kr=/\d{4}/,Xr=/[+-]?\d{6}/,Jr=/\d\d?/,Zr=/\d{1,3}/,Qr=/\d{1,4}/,ei=/[+-]?\d{1,6}/,ti=/\d+/,ni=/[+-]?\d+/,ri=/Z|[+-]\d\d:?\d\d/gi,ii=/[+-]?\d+(\.\d{1,3})?/,oi=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,ai={},si={},li=0,ui=1,ci=2,hi=3,di=4,fi=5,pi=6;H("M",["MM",2],"Mo",function(){return this.month()+1}),H("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)}),H("MMMM",0,0,function(e){return this.localeData().months(this,e)}),E("month","M"),B("M",Jr),B("MM",Jr,Yr),B("MMM",oi),B("MMMM",oi),V(["M","MM"],function(e,t){t[ui]=y(e)-1}),V(["MMM","MMMM"],function(e,t,n,r){var i=n._locale.monthsParse(e,r,n._strict);null!=i?t[ui]=i:h(n).invalidMonth=e});var mi="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),gi="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),vi={};t.suppressDeprecationWarnings=!1;var yi=/^\s*(?:[+-]\d{6}|\d{4})-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,bi=[["YYYYYY-MM-DD",/[+-]\d{6}-\d{2}-\d{2}/],["YYYY-MM-DD",/\d{4}-\d{2}-\d{2}/],["GGGG-[W]WW-E",/\d{4}-W\d{2}-\d/],["GGGG-[W]WW",/\d{4}-W\d{2}/],["YYYY-DDD",/\d{4}-\d{3}/]],wi=[["HH:mm:ss.SSSS",/(T| )\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],Ci=/^\/?Date\((\-?\d+)/i;t.createFromInputFallback=nt("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to https://github.com/moment/moment/issues/1407 for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))}),H(0,["YY",2],0,function(){return this.year()%100}),H(0,["YYYY",4],0,"year"),H(0,["YYYYY",5],0,"year"),H(0,["YYYYYY",6,!0],0,"year"),E("year","y"),B("Y",ni),B("YY",Jr,Yr),B("YYYY",Qr,Kr),B("YYYYY",ei,Xr),B("YYYYYY",ei,Xr),V(["YYYYY","YYYYYY"],li),V("YYYY",function(e,n){n[li]=2===e.length?t.parseTwoDigitYear(e):y(e)}),V("YY",function(e,n){n[li]=t.parseTwoDigitYear(e)}),t.parseTwoDigitYear=function(e){return y(e)+(y(e)>68?1900:2e3)};var xi=O("FullYear",!1);H("w",["ww",2],"wo","week"),H("W",["WW",2],"Wo","isoWeek"),E("week","w"),E("isoWeek","W"),B("w",Jr),B("ww",Jr,Yr),B("W",Jr),B("WW",Jr,Yr),q(["w","ww","W","WW"],function(e,t,n,r){t[r.substr(0,1)]=y(e)});var ki={dow:0,doy:6};H("DDD",["DDDD",3],"DDDo","dayOfYear"),E("dayOfYear","DDD"),B("DDD",Zr),B("DDDD",Gr),V(["DDD","DDDD"],function(e,t,n){n._dayOfYear=y(e)}),t.ISO_8601=function(){};var Si=nt("moment().min is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548",function(){var e=At.apply(null,arguments);return this>e?this:e}),_i=nt("moment().max is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548",function(){var e=At.apply(null,arguments);return e>this?this:e});It("Z",":"),It("ZZ",""),B("Z",ri),B("ZZ",ri),V(["Z","ZZ"],function(e,t,n){n._useUTC=!0,n._tzm=jt(e)});var Ti=/([\+\-]|\d\d)/gi;t.updateOffset=function(){};var Ei=/(\-)?(?:(\d*)\.)?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/,Mi=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/;Zt.fn=Ht.prototype;var Ri=nn(1,"add"),Oi=nn(-1,"subtract");t.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";var Ai=nt("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return void 0===e?this.localeData():this.locale(e)});H(0,["gg",2],0,function(){return this.weekYear()%100}),H(0,["GG",2],0,function(){return this.isoWeekYear()%100}),Ln("gggg","weekYear"),Ln("ggggg","weekYear"),Ln("GGGG","isoWeekYear"),Ln("GGGGG","isoWeekYear"),E("weekYear","gg"),E("isoWeekYear","GG"),B("G",ni),B("g",ni),B("GG",Jr,Yr),B("gg",Jr,Yr),B("GGGG",Qr,Kr),B("gggg",Qr,Kr),B("GGGGG",ei,Xr),B("ggggg",ei,Xr),q(["gggg","ggggg","GGGG","GGGGG"],function(e,t,n,r){t[r.substr(0,2)]=y(e)}),q(["gg","GG"],function(e,n,r,i){n[i]=t.parseTwoDigitYear(e)}),H("Q",0,0,"quarter"),E("quarter","Q"),B("Q",$r),V("Q",function(e,t){t[ui]=3*(y(e)-1)}),H("D",["DD",2],"Do","date"),E("date","D"),B("D",Jr),B("DD",Jr,Yr),B("Do",function(e,t){return e?t._ordinalParse:t._ordinalParseLenient}),V(["D","DD"],ci),V("Do",function(e,t){t[ci]=y(e.match(Jr)[0],10)});var Li=O("Date",!0);H("d",0,"do","day"),H("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)}),H("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)}),H("dddd",0,0,function(e){return this.localeData().weekdays(this,e)}),H("e",0,0,"weekday"),H("E",0,0,"isoWeekday"),E("day","d"),E("weekday","e"),E("isoWeekday","E"),B("d",Jr),B("e",Jr),B("E",Jr),B("dd",oi),B("ddd",oi),B("dddd",oi),q(["dd","ddd","dddd"],function(e,t,n){var r=n._locale.weekdaysParse(e);null!=r?t.d=r:h(n).invalidWeekday=e}),q(["d","e","E"],function(e,t,n,r){t[r]=y(e)});var Di="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Pi="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Hi="Su_Mo_Tu_We_Th_Fr_Sa".split("_");H("H",["HH",2],0,"hour"),H("h",["hh",2],0,function(){return this.hours()%12||12}),Yn("a",!0),Yn("A",!1),E("hour","h"),B("a",Gn),B("A",Gn),B("H",Jr),B("h",Jr),B("HH",Jr,Yr),B("hh",Jr,Yr),V(["H","HH"],hi),V(["a","A"],function(e,t,n){n._isPm=n._locale.isPM(e),n._meridiem=e}),V(["h","hh"],function(e,t,n){t[hi]=y(e),h(n).bigHour=!0});var Ni=/[ap]\.?m?\.?/i,Ii=O("Hours",!0);H("m",["mm",2],0,"minute"),E("minute","m"),B("m",Jr),B("mm",Jr,Yr),V(["m","mm"],di);var ji=O("Minutes",!1);H("s",["ss",2],0,"second"),E("second","s"),B("s",Jr),B("ss",Jr,Yr),V(["s","ss"],fi);var Fi=O("Seconds",!1);H("S",0,0,function(){return~~(this.millisecond()/100)}),H(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),H(0,["SSS",3],0,"millisecond"),H(0,["SSSS",4],0,function(){return 10*this.millisecond()}),H(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),H(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),H(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),H(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),H(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),E("millisecond","ms"),B("S",Zr,$r),B("SS",Zr,Yr),B("SSS",Zr,Gr);var Wi;for(Wi="SSSS";Wi.length<=9;Wi+="S")B(Wi,ti);for(Wi="S";Wi.length<=9;Wi+="S")V(Wi,Jn);var Bi=O("Milliseconds",!1);H("z",0,0,"zoneAbbr"),H("zz",0,0,"zoneName");var zi=m.prototype;zi.add=Ri,zi.calendar=on,zi.clone=an,zi.diff=hn,zi.endOf=kn,zi.format=mn,zi.from=gn,zi.fromNow=vn,zi.to=yn,zi.toNow=bn,zi.get=D,zi.invalidAt=An,zi.isAfter=sn,zi.isBefore=ln,zi.isBetween=un,zi.isSame=cn,zi.isValid=Rn,zi.lang=Ai,zi.locale=wn,zi.localeData=Cn,zi.max=_i,zi.min=Si,zi.parsingFlags=On,zi.set=D,zi.startOf=xn,zi.subtract=Oi,zi.toArray=En,zi.toObject=Mn,zi.toDate=Tn,zi.toISOString=pn,zi.toJSON=pn,zi.toString=fn,zi.unix=_n,zi.valueOf=Sn,zi.year=xi,zi.isLeapYear=ct,zi.weekYear=Pn,zi.isoWeekYear=Hn,zi.quarter=zi.quarters=jn,zi.month=Z,zi.daysInMonth=Q,zi.week=zi.weeks=mt,zi.isoWeek=zi.isoWeeks=gt,zi.weeksInYear=In,zi.isoWeeksInYear=Nn,zi.date=Li,zi.day=zi.days=Vn,zi.weekday=qn,zi.isoWeekday=$n,zi.dayOfYear=yt,zi.hour=zi.hours=Ii,zi.minute=zi.minutes=ji,zi.second=zi.seconds=Fi,zi.millisecond=zi.milliseconds=Bi,zi.utcOffset=Bt,zi.utc=Ut,zi.local=Vt,zi.parseZone=qt,zi.hasAlignedHourOffset=$t,zi.isDST=Yt,zi.isDSTShifted=Gt,zi.isLocal=Kt,zi.isUtcOffset=Xt,zi.isUtc=Jt,zi.isUTC=Jt,zi.zoneAbbr=Zn,zi.zoneName=Qn,zi.dates=nt("dates accessor is deprecated. Use date instead.",Li),zi.months=nt("months accessor is deprecated. Use month instead",Z),zi.years=nt("years accessor is deprecated. Use year instead",xi),zi.zone=nt("moment().zone is deprecated, use moment().utcOffset instead. https://github.com/moment/moment/issues/1779",zt);var Ui=zi,Vi={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},qi={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},$i="Invalid date",Yi="%d",Gi=/\d{1,2}/,Ki={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},Xi=w.prototype;Xi._calendar=Vi,Xi.calendar=nr,Xi._longDateFormat=qi,Xi.longDateFormat=rr,Xi._invalidDate=$i,Xi.invalidDate=ir,Xi._ordinal=Yi,Xi.ordinal=or,Xi._ordinalParse=Gi,Xi.preparse=ar,Xi.postformat=ar,Xi._relativeTime=Ki,Xi.relativeTime=sr,Xi.pastFuture=lr,Xi.set=ur,Xi.months=G,Xi._months=mi,Xi.monthsShort=K,Xi._monthsShort=gi,Xi.monthsParse=X,Xi.week=dt,Xi._week=ki,Xi.firstDayOfYear=pt,Xi.firstDayOfWeek=ft,Xi.weekdays=Wn,Xi._weekdays=Di,Xi.weekdaysMin=zn,Xi._weekdaysMin=Hi,Xi.weekdaysShort=Bn,Xi._weekdaysShort=Pi,Xi.weekdaysParse=Un,Xi.isPM=Kn,Xi._meridiemParse=Ni,Xi.meridiem=Xn,S("en",{ordinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10,n=1===y(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th";return e+n}}),t.lang=nt("moment.lang is deprecated. Use moment.locale instead.",S),t.langData=nt("moment.langData is deprecated. Use moment.localeData instead.",T);var Ji=Math.abs,Zi=Er("ms"),Qi=Er("s"),eo=Er("m"),to=Er("h"),no=Er("d"),ro=Er("w"),io=Er("M"),oo=Er("y"),ao=Rr("milliseconds"),so=Rr("seconds"),lo=Rr("minutes"),uo=Rr("hours"),co=Rr("days"),ho=Rr("months"),fo=Rr("years"),po=Math.round,mo={s:45,m:45,h:22,d:26,M:11},go=Math.abs,vo=Ht.prototype;vo.abs=vr,vo.add=br,vo.subtract=wr,vo.as=_r,vo.asMilliseconds=Zi,vo.asSeconds=Qi,vo.asMinutes=eo,vo.asHours=to,vo.asDays=no,vo.asWeeks=ro,vo.asMonths=io,vo.asYears=oo,vo.valueOf=Tr,vo._bubble=xr,vo.get=Mr,vo.milliseconds=ao,vo.seconds=so,vo.minutes=lo,vo.hours=uo,vo.days=co,vo.weeks=Or,vo.months=ho,vo.years=fo,vo.humanize=Pr,vo.toISOString=Hr,vo.toString=Hr,vo.toJSON=Hr,vo.locale=wn,vo.localeData=Cn,vo.toIsoString=nt("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Hr),vo.lang=Ai,H("X",0,0,"unix"),H("x",0,0,"valueOf"),B("x",ni),B("X",ii),V("X",function(e,t,n){n._d=new Date(1e3*parseFloat(e,10))}),V("x",function(e,t,n){n._d=new Date(y(e))}),t.version="2.10.6",r(At),t.fn=Ui,t.min=Dt,t.max=Pt,t.utc=u,t.unix=er,t.months=dr,t.isDate=o,t.locale=S,t.invalid=f,t.duration=Zt,t.isMoment=g,t.weekdays=pr,t.parseZone=tr,t.localeData=T,t.isDuration=Nt,t.monthsShort=fr,t.weekdaysMin=gr,t.defineLocale=_,t.weekdaysShort=mr,t.normalizeUnits=M,t.relativeTimeThreshold=Dr;var yo=t;return yo})},{}],numeral:[function(e,n){"use strict";(function(){function e(e){this._value=e}function r(e,t,n,r){var i,o,a=Math.pow(10,t);return o=(n(e*a)/a).toFixed(t),r&&(i=new RegExp("0{1,"+r+"}$"),o=o.replace(i,"")),o}function i(e,t,n){var r;return r=t.indexOf("$")>-1?a(e,t,n):t.indexOf("%")>-1?s(e,t,n):t.indexOf(":")>-1?l(e,t):c(e._value,t,n)}function o(e,t){var n,r,i,o,a,s=t,l=["KB","MB","GB","TB","PB","EB","ZB","YB"],c=!1;if(t.indexOf(":")>-1)e._value=u(t);else if(t===y)e._value=0;else{for("."!==g[v].delimiters.decimal&&(t=t.replace(/\./g,"").replace(g[v].delimiters.decimal,".")),n=new RegExp("[^a-zA-Z]"+g[v].abbreviations.thousand+"(?:\\)|(\\"+g[v].currency.symbol+")?(?:\\))?)?$"),r=new RegExp("[^a-zA-Z]"+g[v].abbreviations.million+"(?:\\)|(\\"+g[v].currency.symbol+")?(?:\\))?)?$"),i=new RegExp("[^a-zA-Z]"+g[v].abbreviations.billion+"(?:\\)|(\\"+g[v].currency.symbol+")?(?:\\))?)?$"),o=new RegExp("[^a-zA-Z]"+g[v].abbreviations.trillion+"(?:\\)|(\\"+g[v].currency.symbol+")?(?:\\))?)?$"),a=0;a<=l.length&&!(c=t.indexOf(l[a])>-1?Math.pow(1024,a+1):!1);a++);e._value=(c?c:1)*(s.match(n)?Math.pow(10,3):1)*(s.match(r)?Math.pow(10,6):1)*(s.match(i)?Math.pow(10,9):1)*(s.match(o)?Math.pow(10,12):1)*(t.indexOf("%")>-1?.01:1)*((t.split("-").length+Math.min(t.split("(").length-1,t.split(")").length-1))%2?1:-1)*Number(t.replace(/[^0-9\.]+/g,"")),e._value=c?Math.ceil(e._value):e._value}return e._value}function a(e,t,n){var r,i,o=t.indexOf("$"),a=t.indexOf("("),s=t.indexOf("-"),l="";return t.indexOf(" $")>-1?(l=" ",t=t.replace(" $","")):t.indexOf("$ ")>-1?(l=" ",t=t.replace("$ ","")):t=t.replace("$",""),i=c(e._value,t,n),1>=o?i.indexOf("(")>-1||i.indexOf("-")>-1?(i=i.split(""),r=1,(a>o||s>o)&&(r=0),i.splice(r,0,g[v].currency.symbol+l),i=i.join("")):i=g[v].currency.symbol+l+i:i.indexOf(")")>-1?(i=i.split(""),i.splice(-1,0,l+g[v].currency.symbol),i=i.join("")):i=i+l+g[v].currency.symbol,i}function s(e,t,n){var r,i="",o=100*e._value;return t.indexOf(" %")>-1?(i=" ",t=t.replace(" %","")):t=t.replace("%",""),r=c(o,t,n),r.indexOf(")")>-1?(r=r.split(""),r.splice(-1,0,i+"%"),r=r.join("")):r=r+i+"%",r}function l(e){var t=Math.floor(e._value/60/60),n=Math.floor((e._value-60*t*60)/60),r=Math.round(e._value-60*t*60-60*n);return t+":"+(10>n?"0"+n:n)+":"+(10>r?"0"+r:r)}function u(e){var t=e.split(":"),n=0;return 3===t.length?(n+=60*Number(t[0])*60,n+=60*Number(t[1]),n+=Number(t[2])):2===t.length&&(n+=60*Number(t[0]),n+=Number(t[1])),Number(n)}function c(e,t,n){var i,o,a,s,l,u,c=!1,h=!1,d=!1,f="",p=!1,m=!1,b=!1,w=!1,C=!1,x="",k="",S=Math.abs(e),_=["B","KB","MB","GB","TB","PB","EB","ZB","YB"],T="",E=!1;if(0===e&&null!==y)return y;if(t.indexOf("(")>-1?(c=!0,t=t.slice(1,-1)):t.indexOf("+")>-1&&(h=!0,t=t.replace(/\+/g,"")),t.indexOf("a")>-1&&(p=t.indexOf("aK")>=0,m=t.indexOf("aM")>=0,b=t.indexOf("aB")>=0,w=t.indexOf("aT")>=0,C=p||m||b||w,t.indexOf(" a")>-1?(f=" ",t=t.replace(" a","")):t=t.replace("a",""),S>=Math.pow(10,12)&&!C||w?(f+=g[v].abbreviations.trillion,e/=Math.pow(10,12)):S<Math.pow(10,12)&&S>=Math.pow(10,9)&&!C||b?(f+=g[v].abbreviations.billion,e/=Math.pow(10,9)):S<Math.pow(10,9)&&S>=Math.pow(10,6)&&!C||m?(f+=g[v].abbreviations.million,e/=Math.pow(10,6)):(S<Math.pow(10,6)&&S>=Math.pow(10,3)&&!C||p)&&(f+=g[v].abbreviations.thousand,e/=Math.pow(10,3))),t.indexOf("b")>-1)for(t.indexOf(" b")>-1?(x=" ",t=t.replace(" b","")):t=t.replace("b",""),a=0;a<=_.length;a++)if(i=Math.pow(1024,a),o=Math.pow(1024,a+1),e>=i&&o>e){x+=_[a],i>0&&(e/=i);break}return t.indexOf("o")>-1&&(t.indexOf(" o")>-1?(k=" ",t=t.replace(" o","")):t=t.replace("o",""),k+=g[v].ordinal(e)),t.indexOf("[.]")>-1&&(d=!0,t=t.replace("[.]",".")),s=e.toString().split(".")[0],l=t.split(".")[1],u=t.indexOf(","),l?(l.indexOf("[")>-1?(l=l.replace("]",""),l=l.split("["),T=r(e,l[0].length+l[1].length,n,l[1].length)):T=r(e,l.length,n),s=T.split(".")[0],T=T.split(".")[1].length?g[v].delimiters.decimal+T.split(".")[1]:"",d&&0===Number(T.slice(1))&&(T="")):s=r(e,null,n),s.indexOf("-")>-1&&(s=s.slice(1),E=!0),u>-1&&(s=s.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1"+g[v].delimiters.thousands)),0===t.indexOf(".")&&(s=""),(c&&E?"(":"")+(!c&&E?"-":"")+(!E&&h?"+":"")+s+T+(k?k:"")+(f?f:"")+(x?x:"")+(c&&E?")":"")}function h(e,t){g[e]=t}function d(e){var t=e.toString().split(".");return t.length<2?1:Math.pow(10,t[1].length)}function f(){var e=Array.prototype.slice.call(arguments);return e.reduce(function(e,t){var n=d(e),r=d(t);return n>r?n:r},-1/0)}var p,m="1.5.3",g={},v="en",y=null,b="0,0",w="undefined"!=typeof n&&n.exports;p=function(t){return p.isNumeral(t)?t=t.value():0===t||"undefined"==typeof t?t=0:Number(t)||(t=p.fn.unformat(t)),new e(Number(t))},p.version=m,p.isNumeral=function(t){return t instanceof e},p.language=function(e,t){if(!e)return v;if(e&&!t){if(!g[e])throw new Error("Unknown language : "+e);v=e}return(t||!g[e])&&h(e,t),p},p.languageData=function(e){if(!e)return g[v];if(!g[e])throw new Error("Unknown language : "+e);return g[e]},p.language("en",{delimiters:{thousands:",",decimal:"."},abbreviations:{thousand:"k",million:"m",billion:"b",trillion:"t"},ordinal:function(e){var t=e%10;return 1===~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th"},currency:{symbol:"$"}}),p.zeroFormat=function(e){y="string"==typeof e?e:null},p.defaultFormat=function(e){b="string"==typeof e?e:"0.0"},p.validate=function(e,t){var n,r,i,o,a,s,l,u;if("string"!=typeof e&&(e+="",console.warn&&console.warn("Numeral.js: Value is not string. It has been co-erced to: ",e)),e=e.trim(),""===e)return!1;e=e.replace(/^[+-]?/,"");try{l=p.languageData(t)}catch(c){l=p.languageData(p.language())}return i=l.currency.symbol,a=l.abbreviations,n=l.delimiters.decimal,r="."===l.delimiters.thousands?"\\.":l.delimiters.thousands,u=e.match(/^[^\d\.\,]+/),null!==u&&(e=e.substr(1),u[0]!==i)?!1:(u=e.match(/[^\d]+$/),null!==u&&(e=e.slice(0,-1),u[0]!==a.thousand&&u[0]!==a.million&&u[0]!==a.billion&&u[0]!==a.trillion)?!1:e.match(/^\d+$/)?!0:(s=new RegExp(r+"{2}"),e.match(/[^\d.,]/g)?!1:(o=e.split(n),o.length>2?!1:o.length<2?!!o[0].match(/^\d+.*\d$/)&&!o[0].match(s):""===o[0]?!o[0].match(s)&&!!o[1].match(/^\d+$/):1===o[0].length?!!o[0].match(/^\d+$/)&&!o[0].match(s)&&!!o[1].match(/^\d+$/):!!o[0].match(/^\d+.*\d$/)&&!o[0].match(s)&&!!o[1].match(/^\d+$/))))},"function"!=typeof Array.prototype.reduce&&(Array.prototype.reduce=function(e,t){if(null===this||"undefined"==typeof this)throw new TypeError("Array.prototype.reduce called on null or undefined");if("function"!=typeof e)throw new TypeError(e+" is not a function");var n,r,i=this.length>>>0,o=!1;for(1<arguments.length&&(r=t,o=!0),n=0;i>n;++n)this.hasOwnProperty(n)&&(o?r=e(r,this[n],n,this):(r=this[n],o=!0));if(!o)throw new TypeError("Reduce of empty array with no initial value");return r}),p.fn=e.prototype={clone:function(){return p(this)},format:function(e,t){return i(this,e?e:b,void 0!==t?t:Math.round)},unformat:function(e){return"[object Number]"===Object.prototype.toString.call(e)?e:o(this,e?e:b)},value:function(){return this._value},valueOf:function(){return this._value},set:function(e){return this._value=Number(e),this},add:function(e){function t(e,t){return e+n*t}var n=f.call(null,this._value,e);return this._value=[this._value,e].reduce(t,0)/n,this},subtract:function(e){function t(e,t){return e-n*t}var n=f.call(null,this._value,e);return this._value=[e].reduce(t,this._value*n)/n,this},multiply:function(e){function t(e,t){var n=f(e,t);return e*n*t*n/(n*n)}return this._value=[this._value,e].reduce(t,1),this},divide:function(e){function t(e,t){var n=f(e,t);return e*n/(t*n)}return this._value=[this._value,e].reduce(t),this},difference:function(e){return Math.abs(p(this._value).subtract(e).value())}},w&&(n.exports=p),"undefined"==typeof ender&&(this.numeral=p),"function"==typeof t&&t.amd&&t([],function(){return p})}).call(window)},{}],pikaday:[function(e,n,r){!function(i,o){"use strict";var a;if("object"==typeof r){try{a=e("moment")}catch(s){}n.exports=o(a)}else"function"==typeof t&&t.amd?t(function(e){var t="moment";try{a=e(t)}catch(n){}return o(a)}):i.Pikaday=o(i.moment)}(this,function(e){"use strict";var t="function"==typeof e,n=!!window.addEventListener,r=window.document,i=window.setTimeout,o=function(e,t,r,i){n?e.addEventListener(t,r,!!i):e.attachEvent("on"+t,r)},a=function(e,t,r,i){n?e.removeEventListener(t,r,!!i):e.detachEvent("on"+t,r)},s=function(e,t,n){var i;r.createEvent?(i=r.createEvent("HTMLEvents"),i.initEvent(t,!0,!1),i=b(i,n),e.dispatchEvent(i)):r.createEventObject&&(i=r.createEventObject(),i=b(i,n),e.fireEvent("on"+t,i))},l=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")},u=function(e,t){return-1!==(" "+e.className+" ").indexOf(" "+t+" ")},c=function(e,t){u(e,t)||(e.className=""===e.className?t:e.className+" "+t)},h=function(e,t){e.className=l((" "+e.className+" ").replace(" "+t+" "," "))},d=function(e){return/Array/.test(Object.prototype.toString.call(e))},f=function(e){return/Date/.test(Object.prototype.toString.call(e))&&!isNaN(e.getTime())},p=function(e){var t=e.getDay();return 0===t||6===t},m=function(e){return e%4===0&&e%100!==0||e%400===0},g=function(e,t){return[31,m(e)?29:28,31,30,31,30,31,31,30,31,30,31][t]},v=function(e){f(e)&&e.setHours(0,0,0,0)},y=function(e,t){return e.getTime()===t.getTime()},b=function(e,t,n){var r,i;for(r in t)i=void 0!==e[r],i&&"object"==typeof t[r]&&null!==t[r]&&void 0===t[r].nodeName?f(t[r])?n&&(e[r]=new Date(t[r].getTime())):d(t[r])?n&&(e[r]=t[r].slice(0)):e[r]=b({},t[r],n):(n||!i)&&(e[r]=t[r]);return e},w=function(e){return e.month<0&&(e.year-=Math.ceil(Math.abs(e.month)/12),e.month+=12),e.month>11&&(e.year+=Math.floor(Math.abs(e.month)/12),e.month-=12),e},C={field:null,bound:void 0,position:"bottom left",reposition:!0,format:"YYYY-MM-DD",defaultDate:null,setDefaultDate:!1,firstDay:0,minDate:null,maxDate:null,yearRange:10,showWeekNumber:!1,minYear:0,maxYear:9999,minMonth:void 0,maxMonth:void 0,startRange:null,endRange:null,isRTL:!1,yearSuffix:"",showMonthAfterYear:!1,numberOfMonths:1,mainCalendar:"left",container:void 0,i18n:{previousMonth:"Previous Month",nextMonth:"Next Month",months:["January","February","March","April","May","June","July","August","September","October","November","December"],weekdays:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],weekdaysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},theme:null,onSelect:null,onOpen:null,onClose:null,onDraw:null},x=function(e,t,n){for(t+=e.firstDay;t>=7;)t-=7;return n?e.i18n.weekdaysShort[t]:e.i18n.weekdays[t]},k=function(e){if(e.isEmpty)return'<td class="is-empty"></td>';var t=[];return e.isDisabled&&t.push("is-disabled"),e.isToday&&t.push("is-today"),e.isSelected&&t.push("is-selected"),e.isInRange&&t.push("is-inrange"),e.isStartRange&&t.push("is-startrange"),e.isEndRange&&t.push("is-endrange"),'<td data-day="'+e.day+'" class="'+t.join(" ")+'"><button class="pika-button pika-day" type="button" data-pika-year="'+e.year+'" data-pika-month="'+e.month+'" data-pika-day="'+e.day+'">'+e.day+"</button></td>"},S=function(e,t,n){var r=new Date(n,0,1),i=Math.ceil(((new Date(n,t,e)-r)/864e5+r.getDay()+1)/7);return'<td class="pika-week">'+i+"</td>"},_=function(e,t){return"<tr>"+(t?e.reverse():e).join("")+"</tr>"},T=function(e){return"<tbody>"+e.join("")+"</tbody>"},E=function(e){var t,n=[];for(e.showWeekNumber&&n.push("<th></th>"),t=0;7>t;t++)n.push('<th scope="col"><abbr title="'+x(e,t)+'">'+x(e,t,!0)+"</abbr></th>");return"<thead>"+(e.isRTL?n.reverse():n).join("")+"</thead>"},M=function(e,t,n,r,i){var o,a,s,l,u,c=e._o,h=n===c.minYear,f=n===c.maxYear,p='<div class="pika-title">',m=!0,g=!0;for(s=[],o=0;12>o;o++)s.push('<option value="'+(n===i?o-t:12+o-t)+'"'+(o===r?" selected":"")+(h&&o<c.minMonth||f&&o>c.maxMonth?"disabled":"")+">"+c.i18n.months[o]+"</option>");for(l='<div class="pika-label">'+c.i18n.months[r]+'<select class="pika-select pika-select-month" tabindex="-1">'+s.join("")+"</select></div>",d(c.yearRange)?(o=c.yearRange[0],a=c.yearRange[1]+1):(o=n-c.yearRange,a=1+n+c.yearRange),s=[];a>o&&o<=c.maxYear;o++)o>=c.minYear&&s.push('<option value="'+o+'"'+(o===n?" selected":"")+">"+o+"</option>");return u='<div class="pika-label">'+n+c.yearSuffix+'<select class="pika-select pika-select-year" tabindex="-1">'+s.join("")+"</select></div>",p+=c.showMonthAfterYear?u+l:l+u,h&&(0===r||c.minMonth>=r)&&(m=!1),f&&(11===r||c.maxMonth<=r)&&(g=!1),0===t&&(p+='<button class="pika-prev'+(m?"":" is-disabled")+'" type="button">'+c.i18n.previousMonth+"</button>"),t===e._o.numberOfMonths-1&&(p+='<button class="pika-next'+(g?"":" is-disabled")+'" type="button">'+c.i18n.nextMonth+"</button>"),p+="</div>"},R=function(e,t){return'<table cellpadding="0" cellspacing="0" class="pika-table">'+E(e)+T(t)+"</table>"},O=function(a){var s=this,l=s.config(a);s._onMouseDown=function(e){if(s._v){e=e||window.event;var t=e.target||e.srcElement;if(t)if(u(t,"is-disabled")||(u(t,"pika-button")&&!u(t,"is-empty")?(s.setDate(new Date(t.getAttribute("data-pika-year"),t.getAttribute("data-pika-month"),t.getAttribute("data-pika-day"))),l.bound&&i(function(){s.hide(),l.field&&l.field.blur()},100)):u(t,"pika-prev")?s.prevMonth():u(t,"pika-next")&&s.nextMonth()),u(t,"pika-select"))s._c=!0;else{if(!e.preventDefault)return e.returnValue=!1,!1;e.preventDefault()}}},s._onChange=function(e){e=e||window.event;var t=e.target||e.srcElement;t&&(u(t,"pika-select-month")?s.gotoMonth(t.value):u(t,"pika-select-year")&&s.gotoYear(t.value))},s._onInputChange=function(n){var r;n.firedBy!==s&&(t?(r=e(l.field.value,l.format),r=r&&r.isValid()?r.toDate():null):r=new Date(Date.parse(l.field.value)),f(r)&&s.setDate(r),s._v||s.show())},s._onInputFocus=function(){s.show()},s._onInputClick=function(){s.show()},s._onInputBlur=function(){var e=r.activeElement;do if(u(e,"pika-single"))return;while(e=e.parentNode);s._c||(s._b=i(function(){s.hide()},50)),s._c=!1},s._onClick=function(e){e=e||window.event;var t=e.target||e.srcElement,r=t;if(t){!n&&u(t,"pika-select")&&(t.onchange||(t.setAttribute("onchange","return;"),o(t,"change",s._onChange)));do if(u(r,"pika-single")||r===l.trigger)return;while(r=r.parentNode);s._v&&t!==l.trigger&&r!==l.trigger&&s.hide()}},s.el=r.createElement("div"),s.el.className="pika-single"+(l.isRTL?" is-rtl":"")+(l.theme?" "+l.theme:""),o(s.el,"mousedown",s._onMouseDown,!0),o(s.el,"touchend",s._onMouseDown,!0),o(s.el,"change",s._onChange),l.field&&(l.container?l.container.appendChild(s.el):l.bound?r.body.appendChild(s.el):l.field.parentNode.insertBefore(s.el,l.field.nextSibling),o(l.field,"change",s._onInputChange),l.defaultDate||(l.defaultDate=t&&l.field.value?e(l.field.value,l.format).toDate():new Date(Date.parse(l.field.value)),l.setDefaultDate=!0));var c=l.defaultDate;f(c)?l.setDefaultDate?s.setDate(c,!0):s.gotoDate(c):s.gotoDate(new Date),l.bound?(this.hide(),s.el.className+=" is-bound",o(l.trigger,"click",s._onInputClick),o(l.trigger,"focus",s._onInputFocus),o(l.trigger,"blur",s._onInputBlur)):this.show()};return O.prototype={config:function(e){this._o||(this._o=b({},C,!0));var t=b(this._o,e,!0);t.isRTL=!!t.isRTL,t.field=t.field&&t.field.nodeName?t.field:null,t.theme="string"==typeof t.theme&&t.theme?t.theme:null,t.bound=!!(void 0!==t.bound?t.field&&t.bound:t.field),t.trigger=t.trigger&&t.trigger.nodeName?t.trigger:t.field,t.disableWeekends=!!t.disableWeekends,t.disableDayFn="function"==typeof t.disableDayFn?t.disableDayFn:null;var n=parseInt(t.numberOfMonths,10)||1;if(t.numberOfMonths=n>4?4:n,f(t.minDate)||(t.minDate=!1),f(t.maxDate)||(t.maxDate=!1),t.minDate&&t.maxDate&&t.maxDate<t.minDate&&(t.maxDate=t.minDate=!1),t.minDate&&this.setMinDate(t.minDate),t.maxDate&&this.setMaxDate(t.maxDate),d(t.yearRange)){var r=(new Date).getFullYear()-10;t.yearRange[0]=parseInt(t.yearRange[0],10)||r,t.yearRange[1]=parseInt(t.yearRange[1],10)||r}else t.yearRange=Math.abs(parseInt(t.yearRange,10))||C.yearRange,t.yearRange>100&&(t.yearRange=100);return t},toString:function(n){return f(this._d)?t?e(this._d).format(n||this._o.format):this._d.toDateString():""},getMoment:function(){return t?e(this._d):null},setMoment:function(n,r){t&&e.isMoment(n)&&this.setDate(n.toDate(),r)},getDate:function(){return f(this._d)?new Date(this._d.getTime()):null},setDate:function(e,t){if(!e)return this._d=null,this._o.field&&(this._o.field.value="",s(this._o.field,"change",{firedBy:this})),this.draw();if("string"==typeof e&&(e=new Date(Date.parse(e))),f(e)){var n=this._o.minDate,r=this._o.maxDate;f(n)&&n>e?e=n:f(r)&&e>r&&(e=r),this._d=new Date(e.getTime()),v(this._d),this.gotoDate(this._d),this._o.field&&(this._o.field.value=this.toString(),s(this._o.field,"change",{firedBy:this})),t||"function"!=typeof this._o.onSelect||this._o.onSelect.call(this,this.getDate())}},gotoDate:function(e){var t=!0;if(f(e)){if(this.calendars){var n=new Date(this.calendars[0].year,this.calendars[0].month,1),r=new Date(this.calendars[this.calendars.length-1].year,this.calendars[this.calendars.length-1].month,1),i=e.getTime();r.setMonth(r.getMonth()+1),r.setDate(r.getDate()-1),t=i<n.getTime()||r.getTime()<i}t&&(this.calendars=[{month:e.getMonth(),year:e.getFullYear()}],"right"===this._o.mainCalendar&&(this.calendars[0].month+=1-this._o.numberOfMonths)),this.adjustCalendars()}},adjustCalendars:function(){this.calendars[0]=w(this.calendars[0]);for(var e=1;e<this._o.numberOfMonths;e++)this.calendars[e]=w({month:this.calendars[0].month+e,year:this.calendars[0].year});this.draw()},gotoToday:function(){this.gotoDate(new Date)},gotoMonth:function(e){isNaN(e)||(this.calendars[0].month=parseInt(e,10),this.adjustCalendars())},nextMonth:function(){this.calendars[0].month++,this.adjustCalendars()},prevMonth:function(){this.calendars[0].month--,this.adjustCalendars()},gotoYear:function(e){isNaN(e)||(this.calendars[0].year=parseInt(e,10),this.adjustCalendars())},setMinDate:function(e){v(e),this._o.minDate=e,this._o.minYear=e.getFullYear(),this._o.minMonth=e.getMonth(),this.draw()},setMaxDate:function(e){v(e),this._o.maxDate=e,this._o.maxYear=e.getFullYear(),this._o.maxMonth=e.getMonth(),this.draw()},setStartRange:function(e){this._o.startRange=e},setEndRange:function(e){this._o.endRange=e},draw:function(e){if(this._v||e){var t=this._o,n=t.minYear,r=t.maxYear,o=t.minMonth,a=t.maxMonth,s="";this._y<=n&&(this._y=n,!isNaN(o)&&this._m<o&&(this._m=o)),this._y>=r&&(this._y=r,!isNaN(a)&&this._m>a&&(this._m=a));for(var l=0;l<t.numberOfMonths;l++)s+='<div class="pika-lendar">'+M(this,l,this.calendars[l].year,this.calendars[l].month,this.calendars[0].year)+this.render(this.calendars[l].year,this.calendars[l].month)+"</div>";if(this.el.innerHTML=s,t.bound&&"hidden"!==t.field.type&&i(function(){t.trigger.focus()},1),"function"==typeof this._o.onDraw){var u=this;i(function(){u._o.onDraw.call(u)},0)}}},adjustPosition:function(){var e,t,n,i,o,a,s,l,u,c;if(!this._o.container){if(this.el.style.position="absolute",e=this._o.trigger,t=e,n=this.el.offsetWidth,i=this.el.offsetHeight,o=window.innerWidth||r.documentElement.clientWidth,a=window.innerHeight||r.documentElement.clientHeight,s=window.pageYOffset||r.body.scrollTop||r.documentElement.scrollTop,"function"==typeof e.getBoundingClientRect)c=e.getBoundingClientRect(),l=c.left+window.pageXOffset,u=c.bottom+window.pageYOffset;else for(l=t.offsetLeft,u=t.offsetTop+t.offsetHeight;t=t.offsetParent;)l+=t.offsetLeft,u+=t.offsetTop;(this._o.reposition&&l+n>o||this._o.position.indexOf("right")>-1&&l-n+e.offsetWidth>0)&&(l=l-n+e.offsetWidth),(this._o.reposition&&u+i>a+s||this._o.position.indexOf("top")>-1&&u-i-e.offsetHeight>0)&&(u=u-i-e.offsetHeight),this.el.style.left=l+"px",this.el.style.top=u+"px"}},render:function(e,t){var n=this._o,r=new Date,i=g(e,t),o=new Date(e,t,1).getDay(),a=[],s=[];v(r),n.firstDay>0&&(o-=n.firstDay,0>o&&(o+=7));for(var l=i+o,u=l;u>7;)u-=7;l+=7-u;
for(var c=0,h=0;l>c;c++){var d=new Date(e,t,1+(c-o)),m=f(this._d)?y(d,this._d):!1,b=y(d,r),w=o>c||c>=i+o,C=n.startRange&&y(n.startRange,d),x=n.endRange&&y(n.endRange,d),T=n.startRange&&n.endRange&&n.startRange<d&&d<n.endRange,E=n.minDate&&d<n.minDate||n.maxDate&&d>n.maxDate||n.disableWeekends&&p(d)||n.disableDayFn&&n.disableDayFn(d),M={day:1+(c-o),month:t,year:e,isSelected:m,isToday:b,isDisabled:E,isEmpty:w,isStartRange:C,isEndRange:x,isInRange:T};s.push(k(M)),7===++h&&(n.showWeekNumber&&s.unshift(S(c-o,t,e)),a.push(_(s,n.isRTL)),s=[],h=0)}return R(n,a)},isVisible:function(){return this._v},show:function(){this._v||(h(this.el,"is-hidden"),this._v=!0,this.draw(),this._o.bound&&(o(r,"click",this._onClick),this.adjustPosition()),"function"==typeof this._o.onOpen&&this._o.onOpen.call(this))},hide:function(){var e=this._v;e!==!1&&(this._o.bound&&a(r,"click",this._onClick),this.el.style.position="static",this.el.style.left="auto",this.el.style.top="auto",c(this.el,"is-hidden"),this._v=!1,void 0!==e&&"function"==typeof this._o.onClose&&this._o.onClose.call(this))},destroy:function(){this.hide(),a(this.el,"mousedown",this._onMouseDown,!0),a(this.el,"touchend",this._onMouseDown,!0),a(this.el,"change",this._onChange),this._o.field&&(a(this._o.field,"change",this._onInputChange),this._o.bound&&(a(this._o.trigger,"click",this._onInputClick),a(this._o.trigger,"focus",this._onInputFocus),a(this._o.trigger,"blur",this._onInputBlur))),this.el.parentNode&&this.el.parentNode.removeChild(this.el)}},O})},{moment:"moment"}],zeroclipboard:[function(e,n){!function(e,r){"use strict";var i,o,a,s=e,l=s.document,u=s.navigator,c=s.setTimeout,h=s.clearTimeout,d=s.setInterval,f=s.clearInterval,p=s.getComputedStyle,m=s.encodeURIComponent,g=s.ActiveXObject,v=s.Error,y=s.Number.parseInt||s.parseInt,b=s.Number.parseFloat||s.parseFloat,w=s.Number.isNaN||s.isNaN,C=s.Date.now,x=s.Object.keys,k=s.Object.defineProperty,S=s.Object.prototype.hasOwnProperty,_=s.Array.prototype.slice,T=function(){var e=function(e){return e};if("function"==typeof s.wrap&&"function"==typeof s.unwrap)try{var t=l.createElement("div"),n=s.unwrap(t);1===t.nodeType&&n&&1===n.nodeType&&(e=s.unwrap)}catch(r){}return e}(),E=function(e){return _.call(e,0)},M=function(){var e,t,n,i,o,a,s=E(arguments),l=s[0]||{};for(e=1,t=s.length;t>e;e++)if(null!=(n=s[e]))for(i in n)S.call(n,i)&&(o=l[i],a=n[i],l!==a&&a!==r&&(l[i]=a));return l},R=function(e){var t,n,r,i;if("object"!=typeof e||null==e||"number"==typeof e.nodeType)t=e;else if("number"==typeof e.length)for(t=[],n=0,r=e.length;r>n;n++)S.call(e,n)&&(t[n]=R(e[n]));else{t={};for(i in e)S.call(e,i)&&(t[i]=R(e[i]))}return t},O=function(e,t){for(var n={},r=0,i=t.length;i>r;r++)t[r]in e&&(n[t[r]]=e[t[r]]);return n},A=function(e,t){var n={};for(var r in e)-1===t.indexOf(r)&&(n[r]=e[r]);return n},L=function(e){if(e)for(var t in e)S.call(e,t)&&delete e[t];return e},D=function(e,t){if(e&&1===e.nodeType&&e.ownerDocument&&t&&(1===t.nodeType&&t.ownerDocument&&t.ownerDocument===e.ownerDocument||9===t.nodeType&&!t.ownerDocument&&t===e.ownerDocument))do{if(e===t)return!0;e=e.parentNode}while(e);return!1},P=function(e){var t;return"string"==typeof e&&e&&(t=e.split("#")[0].split("?")[0],t=e.slice(0,e.lastIndexOf("/")+1)),t},H=function(e){var t,n;return"string"==typeof e&&e&&(n=e.match(/^(?:|[^:@]*@|.+\)@(?=http[s]?|file)|.+?\s+(?: at |@)(?:[^:\(]+ )*[\(]?)((?:http[s]?|file):\/\/[\/]?.+?\/[^:\)]*?)(?::\d+)(?::\d+)?/),n&&n[1]?t=n[1]:(n=e.match(/\)@((?:http[s]?|file):\/\/[\/]?.+?\/[^:\)]*?)(?::\d+)(?::\d+)?/),n&&n[1]&&(t=n[1]))),t},N=function(){var e,t;try{throw new v}catch(n){t=n}return t&&(e=t.sourceURL||t.fileName||H(t.stack)),e},I=function(){var e,t,n;if(l.currentScript&&(e=l.currentScript.src))return e;if(t=l.getElementsByTagName("script"),1===t.length)return t[0].src||r;if("readyState"in t[0])for(n=t.length;n--;)if("interactive"===t[n].readyState&&(e=t[n].src))return e;return"loading"===l.readyState&&(e=t[t.length-1].src)?e:(e=N())?e:r},j=function(){var e,t,n,i=l.getElementsByTagName("script");for(e=i.length;e--;){if(!(n=i[e].src)){t=null;break}if(n=P(n),null==t)t=n;else if(t!==n){t=null;break}}return t||r},F=function(){var e=P(I())||j()||"";return e+"ZeroClipboard.swf"},W=function(){return null==e.opener&&(!!e.top&&e!=e.top||!!e.parent&&e!=e.parent)}(),B={bridge:null,version:"0.0.0",pluginType:"unknown",disabled:null,outdated:null,sandboxed:null,unavailable:null,degraded:null,deactivated:null,overdue:null,ready:null},z="11.0.0",U={},V={},q=null,$=0,Y=0,G={ready:"Flash communication is established",error:{"flash-disabled":"Flash is disabled or not installed. May also be attempting to run Flash in a sandboxed iframe, which is impossible.","flash-outdated":"Flash is too outdated to support ZeroClipboard","flash-sandboxed":"Attempting to run Flash in a sandboxed iframe, which is impossible","flash-unavailable":"Flash is unable to communicate bidirectionally with JavaScript","flash-degraded":"Flash is unable to preserve data fidelity when communicating with JavaScript","flash-deactivated":"Flash is too outdated for your browser and/or is configured as click-to-activate.\nThis may also mean that the ZeroClipboard SWF object could not be loaded, so please check your `swfPath` configuration and/or network connectivity.\nMay also be attempting to run Flash in a sandboxed iframe, which is impossible.","flash-overdue":"Flash communication was established but NOT within the acceptable time limit","version-mismatch":"ZeroClipboard JS version number does not match ZeroClipboard SWF version number","clipboard-error":"At least one error was thrown while ZeroClipboard was attempting to inject your data into the clipboard","config-mismatch":"ZeroClipboard configuration does not match Flash's reality","swf-not-found":"The ZeroClipboard SWF object could not be loaded, so please check your `swfPath` configuration and/or network connectivity"}},K=["flash-unavailable","flash-degraded","flash-overdue","version-mismatch","config-mismatch","clipboard-error"],X=["flash-disabled","flash-outdated","flash-sandboxed","flash-unavailable","flash-degraded","flash-deactivated","flash-overdue"],J=new RegExp("^flash-("+X.map(function(e){return e.replace(/^flash-/,"")}).join("|")+")$"),Z=new RegExp("^flash-("+X.slice(1).map(function(e){return e.replace(/^flash-/,"")}).join("|")+")$"),Q={swfPath:F(),trustedDomains:e.location.host?[e.location.host]:[],cacheBust:!0,forceEnhancedClipboard:!1,flashLoadTimeout:3e4,autoActivate:!0,bubbleEvents:!0,containerId:"global-zeroclipboard-html-bridge",containerClass:"global-zeroclipboard-container",swfObjectId:"global-zeroclipboard-flash-bridge",hoverClass:"zeroclipboard-is-hover",activeClass:"zeroclipboard-is-active",forceHandCursor:!1,title:null,zIndex:999999999},et=function(e){if("object"==typeof e&&null!==e)for(var t in e)if(S.call(e,t))if(/^(?:forceHandCursor|title|zIndex|bubbleEvents)$/.test(t))Q[t]=e[t];else if(null==B.bridge)if("containerId"===t||"swfObjectId"===t){if(!mt(e[t]))throw new Error("The specified `"+t+"` value is not valid as an HTML4 Element ID");Q[t]=e[t]}else Q[t]=e[t];{if("string"!=typeof e||!e)return R(Q);if(S.call(Q,e))return Q[e]}},tt=function(){return Yt(),{browser:O(u,["userAgent","platform","appName"]),flash:A(B,["bridge"]),zeroclipboard:{version:Kt.version,config:Kt.config()}}},nt=function(){return!!(B.disabled||B.outdated||B.sandboxed||B.unavailable||B.degraded||B.deactivated)},rt=function(e,t){var n,o,a,s={};if("string"==typeof e&&e)a=e.toLowerCase().split(/\s+/);else if("object"==typeof e&&e&&"undefined"==typeof t)for(n in e)S.call(e,n)&&"string"==typeof n&&n&&"function"==typeof e[n]&&Kt.on(n,e[n]);if(a&&a.length){for(n=0,o=a.length;o>n;n++)e=a[n].replace(/^on/,""),s[e]=!0,U[e]||(U[e]=[]),U[e].push(t);if(s.ready&&B.ready&&Kt.emit({type:"ready"}),s.error){for(n=0,o=X.length;o>n;n++)if(B[X[n].replace(/^flash-/,"")]===!0){Kt.emit({type:"error",name:X[n]});break}i!==r&&Kt.version!==i&&Kt.emit({type:"error",name:"version-mismatch",jsVersion:Kt.version,swfVersion:i})}}return Kt},it=function(e,t){var n,r,i,o,a;if(0===arguments.length)o=x(U);else if("string"==typeof e&&e)o=e.split(/\s+/);else if("object"==typeof e&&e&&"undefined"==typeof t)for(n in e)S.call(e,n)&&"string"==typeof n&&n&&"function"==typeof e[n]&&Kt.off(n,e[n]);if(o&&o.length)for(n=0,r=o.length;r>n;n++)if(e=o[n].toLowerCase().replace(/^on/,""),a=U[e],a&&a.length)if(t)for(i=a.indexOf(t);-1!==i;)a.splice(i,1),i=a.indexOf(t,i);else a.length=0;return Kt},ot=function(e){var t;return t="string"==typeof e&&e?R(U[e])||null:R(U)},at=function(e){var t,n,r;return e=gt(e),e&&!kt(e)?"ready"===e.type&&B.overdue===!0?Kt.emit({type:"error",name:"flash-overdue"}):(t=M({},e),Ct.call(this,t),"copy"===e.type&&(r=At(V),n=r.data,q=r.formatMap),n):void 0},st=function(){var e=B.sandboxed;if(Yt(),"boolean"!=typeof B.ready&&(B.ready=!1),B.sandboxed!==e&&B.sandboxed===!0)B.ready=!1,Kt.emit({type:"error",name:"flash-sandboxed"});else if(!Kt.isFlashUnusable()&&null===B.bridge){var t=Q.flashLoadTimeout;"number"==typeof t&&t>=0&&($=c(function(){"boolean"!=typeof B.deactivated&&(B.deactivated=!0),B.deactivated===!0&&Kt.emit({type:"error",name:"flash-deactivated"})},t)),B.overdue=!1,Rt()}},lt=function(){Kt.clearData(),Kt.blur(),Kt.emit("destroy"),Ot(),Kt.off()},ut=function(e,t){var n;if("object"==typeof e&&e&&"undefined"==typeof t)n=e,Kt.clearData();else{if("string"!=typeof e||!e)return;n={},n[e]=t}for(var r in n)"string"==typeof r&&r&&S.call(n,r)&&"string"==typeof n[r]&&n[r]&&(V[r]=n[r])},ct=function(e){"undefined"==typeof e?(L(V),q=null):"string"==typeof e&&S.call(V,e)&&delete V[e]},ht=function(e){return"undefined"==typeof e?R(V):"string"==typeof e&&S.call(V,e)?V[e]:void 0},dt=function(e){if(e&&1===e.nodeType){o&&(Ft(o,Q.activeClass),o!==e&&Ft(o,Q.hoverClass)),o=e,jt(e,Q.hoverClass);var t=e.getAttribute("title")||Q.title;if("string"==typeof t&&t){var n=Mt(B.bridge);n&&n.setAttribute("title",t)}var r=Q.forceHandCursor===!0||"pointer"===Wt(e,"cursor");qt(r),Vt()}},ft=function(){var e=Mt(B.bridge);e&&(e.removeAttribute("title"),e.style.left="0px",e.style.top="-9999px",e.style.width="1px",e.style.height="1px"),o&&(Ft(o,Q.hoverClass),Ft(o,Q.activeClass),o=null)},pt=function(){return o||null},mt=function(e){return"string"==typeof e&&e&&/^[A-Za-z][A-Za-z0-9_:\-\.]*$/.test(e)},gt=function(e){var t;if("string"==typeof e&&e?(t=e,e={}):"object"==typeof e&&e&&"string"==typeof e.type&&e.type&&(t=e.type),t){t=t.toLowerCase(),!e.target&&(/^(copy|aftercopy|_click)$/.test(t)||"error"===t&&"clipboard-error"===e.name)&&(e.target=a),M(e,{type:t,target:e.target||o||null,relatedTarget:e.relatedTarget||null,currentTarget:B&&B.bridge||null,timeStamp:e.timeStamp||C()||null});var n=G[e.type];return"error"===e.type&&e.name&&n&&(n=n[e.name]),n&&(e.message=n),"ready"===e.type&&M(e,{target:null,version:B.version}),"error"===e.type&&(J.test(e.name)&&M(e,{target:null,minimumVersion:z}),Z.test(e.name)&&M(e,{version:B.version})),"copy"===e.type&&(e.clipboardData={setData:Kt.setData,clearData:Kt.clearData}),"aftercopy"===e.type&&(e=Lt(e,q)),e.target&&!e.relatedTarget&&(e.relatedTarget=vt(e.target)),yt(e)}},vt=function(e){var t=e&&e.getAttribute&&e.getAttribute("data-clipboard-target");return t?l.getElementById(t):null},yt=function(e){if(e&&/^_(?:click|mouse(?:over|out|down|up|move))$/.test(e.type)){var t=e.target,n="_mouseover"===e.type&&e.relatedTarget?e.relatedTarget:r,i="_mouseout"===e.type&&e.relatedTarget?e.relatedTarget:r,o=Bt(t),a=s.screenLeft||s.screenX||0,u=s.screenTop||s.screenY||0,c=l.body.scrollLeft+l.documentElement.scrollLeft,h=l.body.scrollTop+l.documentElement.scrollTop,d=o.left+("number"==typeof e._stageX?e._stageX:0),f=o.top+("number"==typeof e._stageY?e._stageY:0),p=d-c,m=f-h,g=a+p,v=u+m,y="number"==typeof e.movementX?e.movementX:0,b="number"==typeof e.movementY?e.movementY:0;delete e._stageX,delete e._stageY,M(e,{srcElement:t,fromElement:n,toElement:i,screenX:g,screenY:v,pageX:d,pageY:f,clientX:p,clientY:m,x:p,y:m,movementX:y,movementY:b,offsetX:0,offsetY:0,layerX:0,layerY:0})}return e},bt=function(e){var t=e&&"string"==typeof e.type&&e.type||"";return!/^(?:(?:before)?copy|destroy)$/.test(t)},wt=function(e,t,n,r){r?c(function(){e.apply(t,n)},0):e.apply(t,n)},Ct=function(e){if("object"==typeof e&&e&&e.type){var t=bt(e),n=U["*"]||[],r=U[e.type]||[],i=n.concat(r);if(i&&i.length){var o,a,l,u,c,h=this;for(o=0,a=i.length;a>o;o++)l=i[o],u=h,"string"==typeof l&&"function"==typeof s[l]&&(l=s[l]),"object"==typeof l&&l&&"function"==typeof l.handleEvent&&(u=l,l=l.handleEvent),"function"==typeof l&&(c=M({},e),wt(l,u,[c],t))}return this}},xt=function(e){var t=null;return(W===!1||e&&"error"===e.type&&e.name&&-1!==K.indexOf(e.name))&&(t=!1),t},kt=function(e){var t=e.target||o||null,n="swf"===e._source;switch(delete e._source,e.type){case"error":var r="flash-sandboxed"===e.name||xt(e);"boolean"==typeof r&&(B.sandboxed=r),-1!==X.indexOf(e.name)?M(B,{disabled:"flash-disabled"===e.name,outdated:"flash-outdated"===e.name,unavailable:"flash-unavailable"===e.name,degraded:"flash-degraded"===e.name,deactivated:"flash-deactivated"===e.name,overdue:"flash-overdue"===e.name,ready:!1}):"version-mismatch"===e.name&&(i=e.swfVersion,M(B,{disabled:!1,outdated:!1,unavailable:!1,degraded:!1,deactivated:!1,overdue:!1,ready:!1})),Ut();break;case"ready":i=e.swfVersion;var s=B.deactivated===!0;M(B,{disabled:!1,outdated:!1,sandboxed:!1,unavailable:!1,degraded:!1,deactivated:!1,overdue:s,ready:!s}),Ut();break;case"beforecopy":a=t;break;case"copy":var l,u,c=e.relatedTarget;!V["text/html"]&&!V["text/plain"]&&c&&(u=c.value||c.outerHTML||c.innerHTML)&&(l=c.value||c.textContent||c.innerText)?(e.clipboardData.clearData(),e.clipboardData.setData("text/plain",l),u!==l&&e.clipboardData.setData("text/html",u)):!V["text/plain"]&&e.target&&(l=e.target.getAttribute("data-clipboard-text"))&&(e.clipboardData.clearData(),e.clipboardData.setData("text/plain",l));break;case"aftercopy":St(e),Kt.clearData(),t&&t!==It()&&t.focus&&t.focus();break;case"_mouseover":Kt.focus(t),Q.bubbleEvents===!0&&n&&(t&&t!==e.relatedTarget&&!D(e.relatedTarget,t)&&_t(M({},e,{type:"mouseenter",bubbles:!1,cancelable:!1})),_t(M({},e,{type:"mouseover"})));break;case"_mouseout":Kt.blur(),Q.bubbleEvents===!0&&n&&(t&&t!==e.relatedTarget&&!D(e.relatedTarget,t)&&_t(M({},e,{type:"mouseleave",bubbles:!1,cancelable:!1})),_t(M({},e,{type:"mouseout"})));break;case"_mousedown":jt(t,Q.activeClass),Q.bubbleEvents===!0&&n&&_t(M({},e,{type:e.type.slice(1)}));break;case"_mouseup":Ft(t,Q.activeClass),Q.bubbleEvents===!0&&n&&_t(M({},e,{type:e.type.slice(1)}));break;case"_click":a=null,Q.bubbleEvents===!0&&n&&_t(M({},e,{type:e.type.slice(1)}));break;case"_mousemove":Q.bubbleEvents===!0&&n&&_t(M({},e,{type:e.type.slice(1)}))}return/^_(?:click|mouse(?:over|out|down|up|move))$/.test(e.type)?!0:void 0},St=function(e){if(e.errors&&e.errors.length>0){var t=R(e);M(t,{type:"error",name:"clipboard-error"}),delete t.success,c(function(){Kt.emit(t)},0)}},_t=function(e){if(e&&"string"==typeof e.type&&e){var t,n=e.target||null,r=n&&n.ownerDocument||l,i={view:r.defaultView||s,canBubble:!0,cancelable:!0,detail:"click"===e.type?1:0,button:"number"==typeof e.which?e.which-1:"number"==typeof e.button?e.button:r.createEvent?0:1},o=M(i,e);n&&r.createEvent&&n.dispatchEvent&&(o=[o.type,o.canBubble,o.cancelable,o.view,o.detail,o.screenX,o.screenY,o.clientX,o.clientY,o.ctrlKey,o.altKey,o.shiftKey,o.metaKey,o.button,o.relatedTarget],t=r.createEvent("MouseEvents"),t.initMouseEvent&&(t.initMouseEvent.apply(t,o),t._source="js",n.dispatchEvent(t)))}},Tt=function(){var e=Q.flashLoadTimeout;if("number"==typeof e&&e>=0){var t=Math.min(1e3,e/10),n=Q.swfObjectId+"_fallbackContent";Y=d(function(){var e=l.getElementById(n);zt(e)&&(Ut(),B.deactivated=null,Kt.emit({type:"error",name:"swf-not-found"}))},t)}},Et=function(){var e=l.createElement("div");return e.id=Q.containerId,e.className=Q.containerClass,e.style.position="absolute",e.style.left="0px",e.style.top="-9999px",e.style.width="1px",e.style.height="1px",e.style.zIndex=""+$t(Q.zIndex),e},Mt=function(e){for(var t=e&&e.parentNode;t&&"OBJECT"===t.nodeName&&t.parentNode;)t=t.parentNode;return t||null},Rt=function(){var e,t=B.bridge,n=Mt(t);if(!t){var r=Nt(s.location.host,Q),i="never"===r?"none":"all",o=Pt(M({jsVersion:Kt.version},Q)),a=Q.swfPath+Dt(Q.swfPath,Q);n=Et();var u=l.createElement("div");n.appendChild(u),l.body.appendChild(n);var c=l.createElement("div"),h="activex"===B.pluginType;c.innerHTML='<object id="'+Q.swfObjectId+'" name="'+Q.swfObjectId+'" width="100%" height="100%" '+(h?'classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000"':'type="application/x-shockwave-flash" data="'+a+'"')+">"+(h?'<param name="movie" value="'+a+'"/>':"")+'<param name="allowScriptAccess" value="'+r+'"/><param name="allowNetworking" value="'+i+'"/><param name="menu" value="false"/><param name="wmode" value="transparent"/><param name="flashvars" value="'+o+'"/><div id="'+Q.swfObjectId+'_fallbackContent">&nbsp;</div></object>',t=c.firstChild,c=null,T(t).ZeroClipboard=Kt,n.replaceChild(t,u),Tt()}return t||(t=l[Q.swfObjectId],t&&(e=t.length)&&(t=t[e-1]),!t&&n&&(t=n.firstChild)),B.bridge=t||null,t},Ot=function(){var e=B.bridge;if(e){var t=Mt(e);t&&("activex"===B.pluginType&&"readyState"in e?(e.style.display="none",function n(){if(4===e.readyState){for(var r in e)"function"==typeof e[r]&&(e[r]=null);e.parentNode&&e.parentNode.removeChild(e),t.parentNode&&t.parentNode.removeChild(t)}else c(n,10)}()):(e.parentNode&&e.parentNode.removeChild(e),t.parentNode&&t.parentNode.removeChild(t))),Ut(),B.ready=null,B.bridge=null,B.deactivated=null,i=r}},At=function(e){var t={},n={};if("object"==typeof e&&e){for(var r in e)if(r&&S.call(e,r)&&"string"==typeof e[r]&&e[r])switch(r.toLowerCase()){case"text/plain":case"text":case"air:text":case"flash:text":t.text=e[r],n.text=r;break;case"text/html":case"html":case"air:html":case"flash:html":t.html=e[r],n.html=r;break;case"application/rtf":case"text/rtf":case"rtf":case"richtext":case"air:rtf":case"flash:rtf":t.rtf=e[r],n.rtf=r}return{data:t,formatMap:n}}},Lt=function(e,t){if("object"!=typeof e||!e||"object"!=typeof t||!t)return e;var n={};for(var r in e)if(S.call(e,r))if("errors"===r){n[r]=e[r]?e[r].slice():[];for(var i=0,o=n[r].length;o>i;i++)n[r][i].format=t[n[r][i].format]}else if("success"!==r&&"data"!==r)n[r]=e[r];else{n[r]={};var a=e[r];for(var s in a)s&&S.call(a,s)&&S.call(t,s)&&(n[r][t[s]]=a[s])}return n},Dt=function(e,t){var n=null==t||t&&t.cacheBust===!0;return n?(-1===e.indexOf("?")?"?":"&")+"noCache="+C():""},Pt=function(e){var t,n,r,i,o="",a=[];if(e.trustedDomains&&("string"==typeof e.trustedDomains?i=[e.trustedDomains]:"object"==typeof e.trustedDomains&&"length"in e.trustedDomains&&(i=e.trustedDomains)),i&&i.length)for(t=0,n=i.length;n>t;t++)if(S.call(i,t)&&i[t]&&"string"==typeof i[t]){if(r=Ht(i[t]),!r)continue;if("*"===r){a.length=0,a.push(r);break}a.push.apply(a,[r,"//"+r,s.location.protocol+"//"+r])}return a.length&&(o+="trustedOrigins="+m(a.join(","))),e.forceEnhancedClipboard===!0&&(o+=(o?"&":"")+"forceEnhancedClipboard=true"),"string"==typeof e.swfObjectId&&e.swfObjectId&&(o+=(o?"&":"")+"swfObjectId="+m(e.swfObjectId)),"string"==typeof e.jsVersion&&e.jsVersion&&(o+=(o?"&":"")+"jsVersion="+m(e.jsVersion)),o},Ht=function(e){if(null==e||""===e)return null;if(e=e.replace(/^\s+|\s+$/g,""),""===e)return null;var t=e.indexOf("//");e=-1===t?e:e.slice(t+2);var n=e.indexOf("/");return e=-1===n?e:-1===t||0===n?null:e.slice(0,n),e&&".swf"===e.slice(-4).toLowerCase()?null:e||null},Nt=function(){var e=function(e){var t,n,r,i=[];if("string"==typeof e&&(e=[e]),"object"!=typeof e||!e||"number"!=typeof e.length)return i;for(t=0,n=e.length;n>t;t++)if(S.call(e,t)&&(r=Ht(e[t]))){if("*"===r){i.length=0,i.push("*");break}-1===i.indexOf(r)&&i.push(r)}return i};return function(t,n){var r=Ht(n.swfPath);null===r&&(r=t);var i=e(n.trustedDomains),o=i.length;if(o>0){if(1===o&&"*"===i[0])return"always";if(-1!==i.indexOf(t))return 1===o&&t===r?"sameDomain":"always"}return"never"}}(),It=function(){try{return l.activeElement}catch(e){return null}},jt=function(e,t){var n,r,i,o=[];if("string"==typeof t&&t&&(o=t.split(/\s+/)),e&&1===e.nodeType&&o.length>0)if(e.classList)for(n=0,r=o.length;r>n;n++)e.classList.add(o[n]);else if(e.hasOwnProperty("className")){for(i=" "+e.className+" ",n=0,r=o.length;r>n;n++)-1===i.indexOf(" "+o[n]+" ")&&(i+=o[n]+" ");e.className=i.replace(/^\s+|\s+$/g,"")}return e},Ft=function(e,t){var n,r,i,o=[];if("string"==typeof t&&t&&(o=t.split(/\s+/)),e&&1===e.nodeType&&o.length>0)if(e.classList&&e.classList.length>0)for(n=0,r=o.length;r>n;n++)e.classList.remove(o[n]);else if(e.className){for(i=(" "+e.className+" ").replace(/[\r\n\t]/g," "),n=0,r=o.length;r>n;n++)i=i.replace(" "+o[n]+" "," ");e.className=i.replace(/^\s+|\s+$/g,"")}return e},Wt=function(e,t){var n=p(e,null).getPropertyValue(t);return"cursor"!==t||n&&"auto"!==n||"A"!==e.nodeName?n:"pointer"},Bt=function(e){var t={left:0,top:0,width:0,height:0};if(e.getBoundingClientRect){var n=e.getBoundingClientRect(),r=s.pageXOffset,i=s.pageYOffset,o=l.documentElement.clientLeft||0,a=l.documentElement.clientTop||0,u=0,c=0;if("relative"===Wt(l.body,"position")){var h=l.body.getBoundingClientRect(),d=l.documentElement.getBoundingClientRect();u=h.left-d.left||0,c=h.top-d.top||0}t.left=n.left+r-o-u,t.top=n.top+i-a-c,t.width="width"in n?n.width:n.right-n.left,t.height="height"in n?n.height:n.bottom-n.top}return t},zt=function(e){if(!e)return!1;var t=p(e,null),n=b(t.height)>0,r=b(t.width)>0,i=b(t.top)>=0,o=b(t.left)>=0,a=n&&r&&i&&o,s=a?null:Bt(e),l="none"!==t.display&&"collapse"!==t.visibility&&(a||!!s&&(n||s.height>0)&&(r||s.width>0)&&(i||s.top>=0)&&(o||s.left>=0));return l},Ut=function(){h($),$=0,f(Y),Y=0},Vt=function(){var e;if(o&&(e=Mt(B.bridge))){var t=Bt(o);M(e.style,{width:t.width+"px",height:t.height+"px",top:t.top+"px",left:t.left+"px",zIndex:""+$t(Q.zIndex)})}},qt=function(e){B.ready===!0&&(B.bridge&&"function"==typeof B.bridge.setHandCursor?B.bridge.setHandCursor(e):B.ready=!1)},$t=function(e){if(/^(?:auto|inherit)$/.test(e))return e;var t;return"number"!=typeof e||w(e)?"string"==typeof e&&(t=$t(y(e,10))):t=e,"number"==typeof t?t:"auto"},Yt=function(t){var n,r,i,o=B.sandboxed,a=null;if(t=t===!0,W===!1)a=!1;else{try{r=e.frameElement||null}catch(s){i={name:s.name,message:s.message}}if(r&&1===r.nodeType&&"IFRAME"===r.nodeName)try{a=r.hasAttribute("sandbox")}catch(s){a=null}else{try{n=document.domain||null}catch(s){n=null}(null===n||i&&"SecurityError"===i.name&&/(^|[\s\(\[@])sandbox(es|ed|ing|[\s\.,!\)\]@]|$)/.test(i.message.toLowerCase()))&&(a=!0)}}return B.sandboxed=a,o===a||t||Gt(g),a},Gt=function(e){function t(e){var t=e.match(/[\d]+/g);return t.length=3,t.join(".")}function n(e){return!!e&&(e=e.toLowerCase())&&(/^(pepflashplayer\.dll|libpepflashplayer\.so|pepperflashplayer\.plugin)$/.test(e)||"chrome.plugin"===e.slice(-13))}function r(e){e&&(s=!0,e.version&&(h=t(e.version)),!h&&e.description&&(h=t(e.description)),e.filename&&(c=n(e.filename)))}var i,o,a,s=!1,l=!1,c=!1,h="";if(u.plugins&&u.plugins.length)i=u.plugins["Shockwave Flash"],r(i),u.plugins["Shockwave Flash 2.0"]&&(s=!0,h="2.0.0.11");else if(u.mimeTypes&&u.mimeTypes.length)a=u.mimeTypes["application/x-shockwave-flash"],i=a&&a.enabledPlugin,r(i);else if("undefined"!=typeof e){l=!0;try{o=new e("ShockwaveFlash.ShockwaveFlash.7"),s=!0,h=t(o.GetVariable("$version"))}catch(d){try{o=new e("ShockwaveFlash.ShockwaveFlash.6"),s=!0,h="6.0.21"}catch(f){try{o=new e("ShockwaveFlash.ShockwaveFlash"),s=!0,h=t(o.GetVariable("$version"))}catch(p){l=!1}}}}B.disabled=s!==!0,B.outdated=h&&b(h)<b(z),B.version=h||"0.0.0",B.pluginType=c?"pepper":l?"activex":s?"netscape":"unknown"};Gt(g),Yt(!0);var Kt=function(){return this instanceof Kt?("function"==typeof Kt._createClient&&Kt._createClient.apply(this,E(arguments)),void 0):new Kt};k(Kt,"version",{value:"2.2.0",writable:!1,configurable:!0,enumerable:!0}),Kt.config=function(){return et.apply(this,E(arguments))},Kt.state=function(){return tt.apply(this,E(arguments))},Kt.isFlashUnusable=function(){return nt.apply(this,E(arguments))},Kt.on=function(){return rt.apply(this,E(arguments))},Kt.off=function(){return it.apply(this,E(arguments))},Kt.handlers=function(){return ot.apply(this,E(arguments))},Kt.emit=function(){return at.apply(this,E(arguments))},Kt.create=function(){return st.apply(this,E(arguments))},Kt.destroy=function(){return lt.apply(this,E(arguments))},Kt.setData=function(){return ut.apply(this,E(arguments))},Kt.clearData=function(){return ct.apply(this,E(arguments))},Kt.getData=function(){return ht.apply(this,E(arguments))},Kt.focus=Kt.activate=function(){return dt.apply(this,E(arguments))},Kt.blur=Kt.deactivate=function(){return ft.apply(this,E(arguments))},Kt.activeElement=function(){return pt.apply(this,E(arguments))};var Xt=0,Jt={},Zt=0,Qt={},en={};M(Q,{autoActivate:!0});var tn=function(e){var t=this;t.id=""+Xt++,Jt[t.id]={instance:t,elements:[],handlers:{}},e&&t.clip(e),Kt.on("*",function(e){return t.emit(e)}),Kt.on("destroy",function(){t.destroy()}),Kt.create()},nn=function(e,t){var n,o,a,s={},l=Jt[this.id],u=l&&l.handlers;if(!l)throw new Error("Attempted to add new listener(s) to a destroyed ZeroClipboard client instance");if("string"==typeof e&&e)a=e.toLowerCase().split(/\s+/);else if("object"==typeof e&&e&&"undefined"==typeof t)for(n in e)S.call(e,n)&&"string"==typeof n&&n&&"function"==typeof e[n]&&this.on(n,e[n]);if(a&&a.length){for(n=0,o=a.length;o>n;n++)e=a[n].replace(/^on/,""),s[e]=!0,u[e]||(u[e]=[]),u[e].push(t);if(s.ready&&B.ready&&this.emit({type:"ready",client:this}),s.error){for(n=0,o=X.length;o>n;n++)if(B[X[n].replace(/^flash-/,"")]){this.emit({type:"error",name:X[n],client:this});break}i!==r&&Kt.version!==i&&this.emit({type:"error",name:"version-mismatch",jsVersion:Kt.version,swfVersion:i})}}return this},rn=function(e,t){var n,r,i,o,a,s=Jt[this.id],l=s&&s.handlers;if(!l)return this;if(0===arguments.length)o=x(l);else if("string"==typeof e&&e)o=e.split(/\s+/);else if("object"==typeof e&&e&&"undefined"==typeof t)for(n in e)S.call(e,n)&&"string"==typeof n&&n&&"function"==typeof e[n]&&this.off(n,e[n]);if(o&&o.length)for(n=0,r=o.length;r>n;n++)if(e=o[n].toLowerCase().replace(/^on/,""),a=l[e],a&&a.length)if(t)for(i=a.indexOf(t);-1!==i;)a.splice(i,1),i=a.indexOf(t,i);else a.length=0;return this},on=function(e){var t=null,n=Jt[this.id]&&Jt[this.id].handlers;return n&&(t="string"==typeof e&&e?n[e]?n[e].slice(0):[]:R(n)),t},an=function(e){if(hn.call(this,e)){"object"==typeof e&&e&&"string"==typeof e.type&&e.type&&(e=M({},e));var t=M({},gt(e),{client:this});dn.call(this,t)}return this},sn=function(e){if(!Jt[this.id])throw new Error("Attempted to clip element(s) to a destroyed ZeroClipboard client instance");e=fn(e);for(var t=0;t<e.length;t++)if(S.call(e,t)&&e[t]&&1===e[t].nodeType){e[t].zcClippingId?-1===Qt[e[t].zcClippingId].indexOf(this.id)&&Qt[e[t].zcClippingId].push(this.id):(e[t].zcClippingId="zcClippingId_"+Zt++,Qt[e[t].zcClippingId]=[this.id],Q.autoActivate===!0&&pn(e[t]));var n=Jt[this.id]&&Jt[this.id].elements;-1===n.indexOf(e[t])&&n.push(e[t])}return this},ln=function(e){var t=Jt[this.id];if(!t)return this;var n,r=t.elements;e="undefined"==typeof e?r.slice(0):fn(e);for(var i=e.length;i--;)if(S.call(e,i)&&e[i]&&1===e[i].nodeType){for(n=0;-1!==(n=r.indexOf(e[i],n));)r.splice(n,1);var o=Qt[e[i].zcClippingId];if(o){for(n=0;-1!==(n=o.indexOf(this.id,n));)o.splice(n,1);0===o.length&&(Q.autoActivate===!0&&mn(e[i]),delete e[i].zcClippingId)}}return this},un=function(){var e=Jt[this.id];return e&&e.elements?e.elements.slice(0):[]},cn=function(){Jt[this.id]&&(this.unclip(),this.off(),delete Jt[this.id])},hn=function(e){if(!e||!e.type)return!1;if(e.client&&e.client!==this)return!1;var t=Jt[this.id],n=t&&t.elements,r=!!n&&n.length>0,i=!e.target||r&&-1!==n.indexOf(e.target),o=e.relatedTarget&&r&&-1!==n.indexOf(e.relatedTarget),a=e.client&&e.client===this;return t&&(i||o||a)?!0:!1},dn=function(e){var t=Jt[this.id];if("object"==typeof e&&e&&e.type&&t){var n=bt(e),r=t&&t.handlers["*"]||[],i=t&&t.handlers[e.type]||[],o=r.concat(i);if(o&&o.length){var a,l,u,c,h,d=this;for(a=0,l=o.length;l>a;a++)u=o[a],c=d,"string"==typeof u&&"function"==typeof s[u]&&(u=s[u]),"object"==typeof u&&u&&"function"==typeof u.handleEvent&&(c=u,u=u.handleEvent),"function"==typeof u&&(h=M({},e),wt(u,c,[h],n))}}},fn=function(e){return"string"==typeof e&&(e=[]),"number"!=typeof e.length?[e]:e},pn=function(e){if(e&&1===e.nodeType){var t=function(e){(e||(e=s.event))&&("js"!==e._source&&(e.stopImmediatePropagation(),e.preventDefault()),delete e._source)},n=function(n){(n||(n=s.event))&&(t(n),Kt.focus(e))};e.addEventListener("mouseover",n,!1),e.addEventListener("mouseout",t,!1),e.addEventListener("mouseenter",t,!1),e.addEventListener("mouseleave",t,!1),e.addEventListener("mousemove",t,!1),en[e.zcClippingId]={mouseover:n,mouseout:t,mouseenter:t,mouseleave:t,mousemove:t}}},mn=function(e){if(e&&1===e.nodeType){var t=en[e.zcClippingId];if("object"==typeof t&&t){for(var n,r,i=["move","leave","enter","out","over"],o=0,a=i.length;a>o;o++)n="mouse"+i[o],r=t[n],"function"==typeof r&&e.removeEventListener(n,r,!1);delete en[e.zcClippingId]}}};Kt._createClient=function(){tn.apply(this,E(arguments))},Kt.prototype.on=function(){return nn.apply(this,E(arguments))},Kt.prototype.off=function(){return rn.apply(this,E(arguments))},Kt.prototype.handlers=function(){return on.apply(this,E(arguments))},Kt.prototype.emit=function(){return an.apply(this,E(arguments))},Kt.prototype.clip=function(){return sn.apply(this,E(arguments))},Kt.prototype.unclip=function(){return ln.apply(this,E(arguments))},Kt.prototype.elements=function(){return un.apply(this,E(arguments))},Kt.prototype.destroy=function(){return cn.apply(this,E(arguments))},Kt.prototype.setText=function(e){if(!Jt[this.id])throw new Error("Attempted to set pending clipboard data from a destroyed ZeroClipboard client instance");return Kt.setData("text/plain",e),this},Kt.prototype.setHtml=function(e){if(!Jt[this.id])throw new Error("Attempted to set pending clipboard data from a destroyed ZeroClipboard client instance");return Kt.setData("text/html",e),this},Kt.prototype.setRichText=function(e){if(!Jt[this.id])throw new Error("Attempted to set pending clipboard data from a destroyed ZeroClipboard client instance");return Kt.setData("application/rtf",e),this},Kt.prototype.setData=function(){if(!Jt[this.id])throw new Error("Attempted to set pending clipboard data from a destroyed ZeroClipboard client instance");return Kt.setData.apply(this,E(arguments)),this},Kt.prototype.clearData=function(){if(!Jt[this.id])throw new Error("Attempted to clear pending clipboard data from a destroyed ZeroClipboard client instance");return Kt.clearData.apply(this,E(arguments)),this},Kt.prototype.getData=function(){if(!Jt[this.id])throw new Error("Attempted to get pending clipboard data from a destroyed ZeroClipboard client instance");return Kt.getData.apply(this,E(arguments))},"function"==typeof t&&t.amd?t(function(){return Kt}):"object"==typeof n&&n&&"object"==typeof n.exports&&n.exports?n.exports=Kt:e.ZeroClipboard=Kt}(function(){return this||window}())},{}]},{},[23,59,61,60,62,83,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,84,85,86,87,100,101,102,90,91,92,93,94,95,31,35,32,33,40,34,36,37,38,39])("zeroclipboard")})},{}],84:[function(e,t,n){n.read=function(e,t,n,r,i){var o,a,s=8*i-r-1,l=(1<<s)-1,u=l>>1,c=-7,h=n?i-1:0,d=n?-1:1,f=e[t+h];for(h+=d,o=f&(1<<-c)-1,f>>=-c,c+=s;c>0;o=256*o+e[t+h],h+=d,c-=8);for(a=o&(1<<-c)-1,o>>=-c,c+=r;c>0;a=256*a+e[t+h],h+=d,c-=8);if(0===o)o=1-u;else{if(o===l)return a?0/0:1/0*(f?-1:1);a+=Math.pow(2,r),o-=u}return(f?-1:1)*a*Math.pow(2,o-r)},n.write=function(e,t,n,r,i,o){var a,s,l,u=8*o-i-1,c=(1<<u)-1,h=c>>1,d=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,f=r?0:o-1,p=r?1:-1,m=0>t||0===t&&0>1/t?1:0;for(t=Math.abs(t),isNaN(t)||1/0===t?(s=isNaN(t)?1:0,a=c):(a=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-a))<1&&(a--,l*=2),t+=a+h>=1?d/l:d*Math.pow(2,1-h),t*l>=2&&(a++,l/=2),a+h>=c?(s=0,a=c):a+h>=1?(s=(t*l-1)*Math.pow(2,i),a+=h):(s=t*Math.pow(2,h-1)*Math.pow(2,i),a=0));i>=8;e[n+f]=255&s,f+=p,s/=256,i-=8);for(a=a<<i|s,u+=i;u>0;e[n+f]=255&a,f+=p,a/=256,u-=8);e[n+f-p]|=128*m
}},{}],85:[function(e,t){"use strict";function n(e){return new r(e)}function r(e){e=e||{},this.options=e,this._patterns=[],this._rules=[],this._ignoreFiles=[],e.ignore=e.ignore||[".git",".svn",".DS_Store"],this.addPattern(e.ignore)}function i(e){return Array.isArray(e)?e:void 0===e||null===e?[]:[e]}t.exports=n,n.Ignore=r;var o=e("events").EventEmitter,a=e("util"),s=e("fs"),l=s.existsSync?function(e){return s.existsSync(e)}:function(e){try{return s.statSync(e),!0}catch(t){return!1}};n.select=function(e){var t;return e.some(function(e){return l(e)?(t=e,!0):void 0}),t},a.inherits(r,o),r.prototype.addPattern=function(e){return i(e).forEach(this._addPattern,this),this},r.prototype._addPattern=function(e){if(this._simpleTest(e)){var t=this._createRule(e);this._rules.push(t)}},r.prototype.filter=function(e){return e.filter(this._filter,this)},r.prototype._simpleTest=function(e){var t=e&&0!==e.indexOf("#")&&!~this._patterns.indexOf(e);return this._patterns.push(e),~e.indexOf("**")&&(this.emit("warn",{code:"WGLOBSTARS",data:{origin:e},message:"`**` found, which is not compatible cross all platforms."}),!this.options.twoGlobstars)?!1:t};var u=/^\\\!/,c=/^\\#/;r.prototype._createRule=function(e){var t={origin:e};return 0===e.indexOf("!")&&(t.negative=!0,e=e.substr(1)),e=e.replace(u,"!").replace(c,"#"),t.pattern=e,t.regex=this.makeRegex(e),t};var h=[[/[\\\^$.|?*+()\[{]/g,function(e){return"\\"+e}],[/^\//,"^"],[/\//g,"\\/"],[/^\^*\\\*\\\*\\\//,""],[/(?:[^*\/])$/,function(e){return e+"(?=$|\\/)"}],[/^(?=[^\^])/,"(?:^|\\/)"],[/\\\/\\\*\\\*\\\//g,"(?:\\/[^\\/]+)*\\/"],[/(^|[^\\]+)\\\*(?=.+)/g,function(e,t){return t+"[^\\/]*"}],[/\\\*$/,""],[/\\\\\\/g,"\\"]];r.prototype.makeRegex=function(e){var t=h.reduce(function(e,t){return e.replace(t[0],t[1])},e);return new RegExp(t,this.options.matchCase?"":"i")},r.prototype._filter=function(e){for(var t,n,r=this._rules,i=0,o=r.length;o>i;i++)n=r[i],t^n.negative||(t=n.negative^n.regex.test(e));return!t},r.prototype.createFilter=function(){var e=this;return function(t){return e._filter(t)}},r.prototype.addIgnoreFile=function(e){return i(e).forEach(this._addIgnoreFile,this),this},r.prototype._addIgnoreFile=function(e){if(this._checkRuleFile(e)){this._ignoreFiles.push(e);var t;try{t=s.readFileSync(e)}catch(n){}t&&this.addPattern(t.toString().split(/\r?\n/))}},r.prototype._checkRuleFile=function(e){return"."!==e&&".."!==e&&!~this._ignoreFiles.indexOf(e)}},{events:82,fs:62,util:134}],86:[function(e,t){var n={}.toString;t.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},{}],87:[function(e,t){!function(e,n){"use strict";"object"==typeof t&&"object"==typeof t.exports?t.exports=e.document?n(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return n(e)}:n(e)}("undefined"!=typeof window?window:this,function(e,t){"use strict";function n(e,t,n){t=t||at;var r,i=t.createElement("script");if(i.text=e,n)for(r in wt)n[r]&&(i[r]=n[r]);t.head.appendChild(i).parentNode.removeChild(i)}function r(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?dt[ft.call(e)]||"object":typeof e}function i(e){var t=!!e&&"length"in e&&e.length,n=r(e);return yt(e)||bt(e)?!1:"array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e}function o(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}function a(e,t,n){return yt(t)?xt.grep(e,function(e,r){return!!t.call(e,r,e)!==n}):t.nodeType?xt.grep(e,function(e){return e===t!==n}):"string"!=typeof t?xt.grep(e,function(e){return ht.call(t,e)>-1!==n}):xt.filter(t,e,n)}function s(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}function l(e){var t={};return xt.each(e.match(Pt)||[],function(e,n){t[n]=!0}),t}function u(e){return e}function c(e){throw e}function h(e,t,n,r){var i;try{e&&yt(i=e.promise)?i.call(e).done(t).fail(n):e&&yt(i=e.then)?i.call(e,t,n):t.apply(void 0,[e].slice(r))}catch(e){n.apply(void 0,[e])}}function d(){at.removeEventListener("DOMContentLoaded",d),e.removeEventListener("load",d),xt.ready()}function f(e,t){return t.toUpperCase()}function p(e){return e.replace(jt,"ms-").replace(Ft,f)}function m(){this.expando=xt.expando+m.uid++}function g(e){return"true"===e?!0:"false"===e?!1:"null"===e?null:e===+e+""?+e:Ut.test(e)?JSON.parse(e):e}function v(e,t,n){var r;if(void 0===n&&1===e.nodeType)if(r="data-"+t.replace(Vt,"-$&").toLowerCase(),n=e.getAttribute(r),"string"==typeof n){try{n=g(n)}catch(i){}zt.set(e,t,n)}else n=void 0;return n}function y(e,t,n,r){var i,o,a=20,s=r?function(){return r.cur()}:function(){return xt.css(e,t,"")},l=s(),u=n&&n[3]||(xt.cssNumber[t]?"":"px"),c=(xt.cssNumber[t]||"px"!==u&&+l)&&$t.exec(xt.css(e,t));if(c&&c[3]!==u){for(l/=2,u=u||c[3],c=+l||1;a--;)xt.style(e,t,c+u),(1-o)*(1-(o=s()/l||.5))<=0&&(a=0),c/=o;c=2*c,xt.style(e,t,c+u),n=n||[]}return n&&(c=+c||+l||0,i=n[1]?c+(n[1]+1)*n[2]:+n[2],r&&(r.unit=u,r.start=c,r.end=i)),i}function b(e){var t,n=e.ownerDocument,r=e.nodeName,i=Xt[r];return i?i:(t=n.body.appendChild(n.createElement(r)),i=xt.css(t,"display"),t.parentNode.removeChild(t),"none"===i&&(i="block"),Xt[r]=i,i)}function w(e,t){for(var n,r,i=[],o=0,a=e.length;a>o;o++)r=e[o],r.style&&(n=r.style.display,t?("none"===n&&(i[o]=Bt.get(r,"display")||null,i[o]||(r.style.display="")),""===r.style.display&&Gt(r)&&(i[o]=b(r))):"none"!==n&&(i[o]="none",Bt.set(r,"display",n)));for(o=0;a>o;o++)null!=i[o]&&(e[o].style.display=i[o]);return e}function C(e,t){var n;return n="undefined"!=typeof e.getElementsByTagName?e.getElementsByTagName(t||"*"):"undefined"!=typeof e.querySelectorAll?e.querySelectorAll(t||"*"):[],void 0===t||t&&o(e,t)?xt.merge([e],n):n}function x(e,t){for(var n=0,r=e.length;r>n;n++)Bt.set(e[n],"globalEval",!t||Bt.get(t[n],"globalEval"))}function k(e,t,n,i,o){for(var a,s,l,u,c,h,d=t.createDocumentFragment(),f=[],p=0,m=e.length;m>p;p++)if(a=e[p],a||0===a)if("object"===r(a))xt.merge(f,a.nodeType?[a]:a);else if(tn.test(a)){for(s=s||d.appendChild(t.createElement("div")),l=(Zt.exec(a)||["",""])[1].toLowerCase(),u=en[l]||en._default,s.innerHTML=u[1]+xt.htmlPrefilter(a)+u[2],h=u[0];h--;)s=s.lastChild;xt.merge(f,s.childNodes),s=d.firstChild,s.textContent=""}else f.push(t.createTextNode(a));for(d.textContent="",p=0;a=f[p++];)if(i&&xt.inArray(a,i)>-1)o&&o.push(a);else if(c=xt.contains(a.ownerDocument,a),s=C(d.appendChild(a),"script"),c&&x(s),n)for(h=0;a=s[h++];)Qt.test(a.type||"")&&n.push(a);return d}function S(){return!0}function _(){return!1}function T(){try{return at.activeElement}catch(e){}}function E(e,t,n,r,i,o){var a,s;if("object"==typeof t){"string"!=typeof n&&(r=r||n,n=void 0);for(s in t)E(e,s,n,r,t[s],o);return e}if(null==r&&null==i?(i=n,r=n=void 0):null==i&&("string"==typeof n?(i=r,r=void 0):(i=r,r=n,n=void 0)),i===!1)i=_;else if(!i)return e;return 1===o&&(a=i,i=function(e){return xt().off(e),a.apply(this,arguments)},i.guid=a.guid||(a.guid=xt.guid++)),e.each(function(){xt.event.add(this,t,i,r,n)})}function M(e,t){return o(e,"table")&&o(11!==t.nodeType?t:t.firstChild,"tr")?xt(e).children("tbody")[0]||e:e}function R(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function O(e){return"true/"===(e.type||"").slice(0,5)?e.type=e.type.slice(5):e.removeAttribute("type"),e}function A(e,t){var n,r,i,o,a,s,l,u;if(1===t.nodeType){if(Bt.hasData(e)&&(o=Bt.access(e),a=Bt.set(t,o),u=o.events)){delete a.handle,a.events={};for(i in u)for(n=0,r=u[i].length;r>n;n++)xt.event.add(t,i,u[i][n])}zt.hasData(e)&&(s=zt.access(e),l=xt.extend({},s),zt.set(t,l))}}function L(e,t){var n=t.nodeName.toLowerCase();"input"===n&&Jt.test(e.type)?t.checked=e.checked:("input"===n||"textarea"===n)&&(t.defaultValue=e.defaultValue)}function D(e,t,r,i){t=ut.apply([],t);var o,a,s,l,u,c,h=0,d=e.length,f=d-1,p=t[0],m=yt(p);if(m||d>1&&"string"==typeof p&&!vt.checkClone&&un.test(p))return e.each(function(n){var o=e.eq(n);m&&(t[0]=p.call(this,n,o.html())),D(o,t,r,i)});if(d&&(o=k(t,e[0].ownerDocument,!1,e,i),a=o.firstChild,1===o.childNodes.length&&(o=a),a||i)){for(s=xt.map(C(o,"script"),R),l=s.length;d>h;h++)u=o,h!==f&&(u=xt.clone(u,!0,!0),l&&xt.merge(s,C(u,"script"))),r.call(e[h],u,h);if(l)for(c=s[s.length-1].ownerDocument,xt.map(s,O),h=0;l>h;h++)u=s[h],Qt.test(u.type||"")&&!Bt.access(u,"globalEval")&&xt.contains(c,u)&&(u.src&&"module"!==(u.type||"").toLowerCase()?xt._evalUrl&&xt._evalUrl(u.src):n(u.textContent.replace(cn,""),c,u))}return e}function P(e,t,n){for(var r,i=t?xt.filter(t,e):e,o=0;null!=(r=i[o]);o++)n||1!==r.nodeType||xt.cleanData(C(r)),r.parentNode&&(n&&xt.contains(r.ownerDocument,r)&&x(C(r,"script")),r.parentNode.removeChild(r));return e}function H(e,t,n){var r,i,o,a,s=e.style;return n=n||dn(e),n&&(a=n.getPropertyValue(t)||n[t],""!==a||xt.contains(e.ownerDocument,e)||(a=xt.style(e,t)),!vt.pixelBoxStyles()&&hn.test(a)&&fn.test(t)&&(r=s.width,i=s.minWidth,o=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=n.width,s.width=r,s.minWidth=i,s.maxWidth=o)),void 0!==a?a+"":a}function N(e,t){return{get:function(){return e()?(delete this.get,void 0):(this.get=t).apply(this,arguments)}}}function I(e){if(e in bn)return e;for(var t=e[0].toUpperCase()+e.slice(1),n=yn.length;n--;)if(e=yn[n]+t,e in bn)return e}function j(e){var t=xt.cssProps[e];return t||(t=xt.cssProps[e]=I(e)||e),t}function F(e,t,n){var r=$t.exec(t);return r?Math.max(0,r[2]-(n||0))+(r[3]||"px"):t}function W(e,t,n,r,i,o){var a="width"===t?1:0,s=0,l=0;if(n===(r?"border":"content"))return 0;for(;4>a;a+=2)"margin"===n&&(l+=xt.css(e,n+Yt[a],!0,i)),r?("content"===n&&(l-=xt.css(e,"padding"+Yt[a],!0,i)),"margin"!==n&&(l-=xt.css(e,"border"+Yt[a]+"Width",!0,i))):(l+=xt.css(e,"padding"+Yt[a],!0,i),"padding"!==n?l+=xt.css(e,"border"+Yt[a]+"Width",!0,i):s+=xt.css(e,"border"+Yt[a]+"Width",!0,i));return!r&&o>=0&&(l+=Math.max(0,Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-o-l-s-.5))),l}function B(e,t,n){var r=dn(e),i=H(e,t,r),o="border-box"===xt.css(e,"boxSizing",!1,r),a=o;if(hn.test(i)){if(!n)return i;i="auto"}return a=a&&(vt.boxSizingReliable()||i===e.style[t]),("auto"===i||!parseFloat(i)&&"inline"===xt.css(e,"display",!1,r))&&(i=e["offset"+t[0].toUpperCase()+t.slice(1)],a=!0),i=parseFloat(i)||0,i+W(e,t,n||(o?"border":"content"),a,r,i)+"px"}function z(e,t,n,r,i){return new z.prototype.init(e,t,n,r,i)}function U(){Cn&&(at.hidden===!1&&e.requestAnimationFrame?e.requestAnimationFrame(U):e.setTimeout(U,xt.fx.interval),xt.fx.tick())}function V(){return e.setTimeout(function(){wn=void 0}),wn=Date.now()}function q(e,t){var n,r=0,i={height:e};for(t=t?1:0;4>r;r+=2-t)n=Yt[r],i["margin"+n]=i["padding"+n]=e;return t&&(i.opacity=i.width=e),i}function $(e,t,n){for(var r,i=(K.tweeners[t]||[]).concat(K.tweeners["*"]),o=0,a=i.length;a>o;o++)if(r=i[o].call(n,t,e))return r}function Y(e,t,n){var r,i,o,a,s,l,u,c,h="width"in t||"height"in t,d=this,f={},p=e.style,m=e.nodeType&&Gt(e),g=Bt.get(e,"fxshow");n.queue||(a=xt._queueHooks(e,"fx"),null==a.unqueued&&(a.unqueued=0,s=a.empty.fire,a.empty.fire=function(){a.unqueued||s()}),a.unqueued++,d.always(function(){d.always(function(){a.unqueued--,xt.queue(e,"fx").length||a.empty.fire()})}));for(r in t)if(i=t[r],xn.test(i)){if(delete t[r],o=o||"toggle"===i,i===(m?"hide":"show")){if("show"!==i||!g||void 0===g[r])continue;m=!0}f[r]=g&&g[r]||xt.style(e,r)}if(l=!xt.isEmptyObject(t),l||!xt.isEmptyObject(f)){h&&1===e.nodeType&&(n.overflow=[p.overflow,p.overflowX,p.overflowY],u=g&&g.display,null==u&&(u=Bt.get(e,"display")),c=xt.css(e,"display"),"none"===c&&(u?c=u:(w([e],!0),u=e.style.display||u,c=xt.css(e,"display"),w([e]))),("inline"===c||"inline-block"===c&&null!=u)&&"none"===xt.css(e,"float")&&(l||(d.done(function(){p.display=u}),null==u&&(c=p.display,u="none"===c?"":c)),p.display="inline-block")),n.overflow&&(p.overflow="hidden",d.always(function(){p.overflow=n.overflow[0],p.overflowX=n.overflow[1],p.overflowY=n.overflow[2]})),l=!1;for(r in f)l||(g?"hidden"in g&&(m=g.hidden):g=Bt.access(e,"fxshow",{display:u}),o&&(g.hidden=!m),m&&w([e],!0),d.done(function(){m||w([e]),Bt.remove(e,"fxshow");for(r in f)xt.style(e,r,f[r])})),l=$(m?g[r]:0,r,d),r in g||(g[r]=l.start,m&&(l.end=l.start,l.start=0))}}function G(e,t){var n,r,i,o,a;for(n in e)if(r=p(n),i=t[r],o=e[n],Array.isArray(o)&&(i=o[1],o=e[n]=o[0]),n!==r&&(e[r]=o,delete e[n]),a=xt.cssHooks[r],a&&"expand"in a){o=a.expand(o),delete e[r];for(n in o)n in e||(e[n]=o[n],t[n]=i)}else t[r]=i}function K(e,t,n){var r,i,o=0,a=K.prefilters.length,s=xt.Deferred().always(function(){delete l.elem}),l=function(){if(i)return!1;for(var t=wn||V(),n=Math.max(0,u.startTime+u.duration-t),r=n/u.duration||0,o=1-r,a=0,l=u.tweens.length;l>a;a++)u.tweens[a].run(o);return s.notifyWith(e,[u,o,n]),1>o&&l?n:(l||s.notifyWith(e,[u,1,0]),s.resolveWith(e,[u]),!1)},u=s.promise({elem:e,props:xt.extend({},t),opts:xt.extend(!0,{specialEasing:{},easing:xt.easing._default},n),originalProperties:t,originalOptions:n,startTime:wn||V(),duration:n.duration,tweens:[],createTween:function(t,n){var r=xt.Tween(e,u.opts,t,n,u.opts.specialEasing[t]||u.opts.easing);return u.tweens.push(r),r},stop:function(t){var n=0,r=t?u.tweens.length:0;if(i)return this;for(i=!0;r>n;n++)u.tweens[n].run(1);return t?(s.notifyWith(e,[u,1,0]),s.resolveWith(e,[u,t])):s.rejectWith(e,[u,t]),this}}),c=u.props;for(G(c,u.opts.specialEasing);a>o;o++)if(r=K.prefilters[o].call(u,e,c,u.opts))return yt(r.stop)&&(xt._queueHooks(u.elem,u.opts.queue).stop=r.stop.bind(r)),r;return xt.map(c,$,u),yt(u.opts.start)&&u.opts.start.call(e,u),u.progress(u.opts.progress).done(u.opts.done,u.opts.complete).fail(u.opts.fail).always(u.opts.always),xt.fx.timer(xt.extend(l,{elem:e,anim:u,queue:u.opts.queue})),u}function X(e){var t=e.match(Pt)||[];return t.join(" ")}function J(e){return e.getAttribute&&e.getAttribute("class")||""}function Z(e){return Array.isArray(e)?e:"string"==typeof e?e.match(Pt)||[]:[]}function Q(e,t,n,i){var o;if(Array.isArray(t))xt.each(t,function(t,r){n||Pn.test(e)?i(e,r):Q(e+"["+("object"==typeof r&&null!=r?t:"")+"]",r,n,i)});else if(n||"object"!==r(t))i(e,t);else for(o in t)Q(e+"["+o+"]",t[o],n,i)}function et(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var r,i=0,o=t.toLowerCase().match(Pt)||[];if(yt(n))for(;r=o[i++];)"+"===r[0]?(r=r.slice(1)||"*",(e[r]=e[r]||[]).unshift(n)):(e[r]=e[r]||[]).push(n)}}function tt(e,t,n,r){function i(s){var l;return o[s]=!0,xt.each(e[s]||[],function(e,s){var u=s(t,n,r);return"string"!=typeof u||a||o[u]?a?!(l=u):void 0:(t.dataTypes.unshift(u),i(u),!1)}),l}var o={},a=e===$n;return i(t.dataTypes[0])||!o["*"]&&i("*")}function nt(e,t){var n,r,i=xt.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((i[n]?e:r||(r={}))[n]=t[n]);return r&&xt.extend(!0,e,r),e}function rt(e,t,n){for(var r,i,o,a,s=e.contents,l=e.dataTypes;"*"===l[0];)l.shift(),void 0===r&&(r=e.mimeType||t.getResponseHeader("Content-Type"));if(r)for(i in s)if(s[i]&&s[i].test(r)){l.unshift(i);break}if(l[0]in n)o=l[0];else{for(i in n){if(!l[0]||e.converters[i+" "+l[0]]){o=i;break}a||(a=i)}o=o||a}return o?(o!==l[0]&&l.unshift(o),n[o]):void 0}function it(e,t,n,r){var i,o,a,s,l,u={},c=e.dataTypes.slice();if(c[1])for(a in e.converters)u[a.toLowerCase()]=e.converters[a];for(o=c.shift();o;)if(e.responseFields[o]&&(n[e.responseFields[o]]=t),!l&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=o,o=c.shift())if("*"===o)o=l;else if("*"!==l&&l!==o){if(a=u[l+" "+o]||u["* "+o],!a)for(i in u)if(s=i.split(" "),s[1]===o&&(a=u[l+" "+s[0]]||u["* "+s[0]])){a===!0?a=u[i]:u[i]!==!0&&(o=s[0],c.unshift(s[1]));break}if(a!==!0)if(a&&e.throws)t=a(t);else try{t=a(t)}catch(h){return{state:"parsererror",error:a?h:"No conversion from "+l+" to "+o}}}return{state:"success",data:t}}var ot=[],at=e.document,st=Object.getPrototypeOf,lt=ot.slice,ut=ot.concat,ct=ot.push,ht=ot.indexOf,dt={},ft=dt.toString,pt=dt.hasOwnProperty,mt=pt.toString,gt=mt.call(Object),vt={},yt=function(e){return"function"==typeof e&&"number"!=typeof e.nodeType},bt=function(e){return null!=e&&e===e.window},wt={type:!0,src:!0,noModule:!0},Ct="3.3.1",xt=function(e,t){return new xt.fn.init(e,t)},kt=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;xt.fn=xt.prototype={jquery:Ct,constructor:xt,length:0,toArray:function(){return lt.call(this)},get:function(e){return null==e?lt.call(this):0>e?this[e+this.length]:this[e]},pushStack:function(e){var t=xt.merge(this.constructor(),e);return t.prevObject=this,t},each:function(e){return xt.each(this,e)},map:function(e){return this.pushStack(xt.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return this.pushStack(lt.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(0>e?t:0);return this.pushStack(n>=0&&t>n?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:ct,sort:ot.sort,splice:ot.splice},xt.extend=xt.fn.extend=function(){var e,t,n,r,i,o,a=arguments[0]||{},s=1,l=arguments.length,u=!1;for("boolean"==typeof a&&(u=a,a=arguments[s]||{},s++),"object"==typeof a||yt(a)||(a={}),s===l&&(a=this,s--);l>s;s++)if(null!=(e=arguments[s]))for(t in e)n=a[t],r=e[t],a!==r&&(u&&r&&(xt.isPlainObject(r)||(i=Array.isArray(r)))?(i?(i=!1,o=n&&Array.isArray(n)?n:[]):o=n&&xt.isPlainObject(n)?n:{},a[t]=xt.extend(u,o,r)):void 0!==r&&(a[t]=r));return a},xt.extend({expando:"jQuery"+(Ct+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isPlainObject:function(e){var t,n;return e&&"[object Object]"===ft.call(e)?(t=st(e))?(n=pt.call(t,"constructor")&&t.constructor,"function"==typeof n&&mt.call(n)===gt):!0:!1},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},globalEval:function(e){n(e)},each:function(e,t){var n,r=0;if(i(e))for(n=e.length;n>r&&t.call(e[r],r,e[r])!==!1;r++);else for(r in e)if(t.call(e[r],r,e[r])===!1)break;return e},trim:function(e){return null==e?"":(e+"").replace(kt,"")},makeArray:function(e,t){var n=t||[];return null!=e&&(i(Object(e))?xt.merge(n,"string"==typeof e?[e]:e):ct.call(n,e)),n},inArray:function(e,t,n){return null==t?-1:ht.call(t,e,n)},merge:function(e,t){for(var n=+t.length,r=0,i=e.length;n>r;r++)e[i++]=t[r];return e.length=i,e},grep:function(e,t,n){for(var r,i=[],o=0,a=e.length,s=!n;a>o;o++)r=!t(e[o],o),r!==s&&i.push(e[o]);return i},map:function(e,t,n){var r,o,a=0,s=[];if(i(e))for(r=e.length;r>a;a++)o=t(e[a],a,n),null!=o&&s.push(o);else for(a in e)o=t(e[a],a,n),null!=o&&s.push(o);return ut.apply([],s)},guid:1,support:vt}),"function"==typeof Symbol&&(xt.fn[Symbol.iterator]=ot[Symbol.iterator]),xt.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){dt["[object "+t+"]"]=t.toLowerCase()});var St=function(e){function t(e,t,n,r){var i,o,a,s,l,u,c,d=t&&t.ownerDocument,p=t?t.nodeType:9;if(n=n||[],"string"!=typeof e||!e||1!==p&&9!==p&&11!==p)return n;if(!r&&((t?t.ownerDocument||t:B)!==D&&L(t),t=t||D,H)){if(11!==p&&(l=vt.exec(e)))if(i=l[1]){if(9===p){if(!(a=t.getElementById(i)))return n;if(a.id===i)return n.push(a),n}else if(d&&(a=d.getElementById(i))&&F(t,a)&&a.id===i)return n.push(a),n}else{if(l[2])return Z.apply(n,t.getElementsByTagName(e)),n;if((i=l[3])&&x.getElementsByClassName&&t.getElementsByClassName)return Z.apply(n,t.getElementsByClassName(i)),n}if(!(!x.qsa||$[e+" "]||N&&N.test(e))){if(1!==p)d=t,c=e;else if("object"!==t.nodeName.toLowerCase()){for((s=t.getAttribute("id"))?s=s.replace(Ct,xt):t.setAttribute("id",s=W),u=T(e),o=u.length;o--;)u[o]="#"+s+" "+f(u[o]);c=u.join(","),d=yt.test(e)&&h(t.parentNode)||t}if(c)try{return Z.apply(n,d.querySelectorAll(c)),n}catch(m){}finally{s===W&&t.removeAttribute("id")}}}return M(e.replace(st,"$1"),t,n,r)}function n(){function e(n,r){return t.push(n+" ")>k.cacheLength&&delete e[t.shift()],e[n+" "]=r}var t=[];return e}function r(e){return e[W]=!0,e}function i(e){var t=D.createElement("fieldset");try{return!!e(t)}catch(n){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function o(e,t){for(var n=e.split("|"),r=n.length;r--;)k.attrHandle[n[r]]=t}function a(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&e.sourceIndex-t.sourceIndex;if(r)return r;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function s(e){return function(t){var n=t.nodeName.toLowerCase();return"input"===n&&t.type===e}}function l(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function u(e){return function(t){return"form"in t?t.parentNode&&t.disabled===!1?"label"in t?"label"in t.parentNode?t.parentNode.disabled===e:t.disabled===e:t.isDisabled===e||t.isDisabled!==!e&&St(t)===e:t.disabled===e:"label"in t?t.disabled===e:!1}}function c(e){return r(function(t){return t=+t,r(function(n,r){for(var i,o=e([],n.length,t),a=o.length;a--;)n[i=o[a]]&&(n[i]=!(r[i]=n[i]))})})}function h(e){return e&&"undefined"!=typeof e.getElementsByTagName&&e}function d(){}function f(e){for(var t=0,n=e.length,r="";n>t;t++)r+=e[t].value;return r}function p(e,t,n){var r=t.dir,i=t.next,o=i||r,a=n&&"parentNode"===o,s=U++;return t.first?function(t,n,i){for(;t=t[r];)if(1===t.nodeType||a)return e(t,n,i);return!1}:function(t,n,l){var u,c,h,d=[z,s];if(l){for(;t=t[r];)if((1===t.nodeType||a)&&e(t,n,l))return!0}else for(;t=t[r];)if(1===t.nodeType||a)if(h=t[W]||(t[W]={}),c=h[t.uniqueID]||(h[t.uniqueID]={}),i&&i===t.nodeName.toLowerCase())t=t[r]||t;else{if((u=c[o])&&u[0]===z&&u[1]===s)return d[2]=u[2];if(c[o]=d,d[2]=e(t,n,l))return!0}return!1}}function m(e){return e.length>1?function(t,n,r){for(var i=e.length;i--;)if(!e[i](t,n,r))return!1;return!0}:e[0]}function g(e,n,r){for(var i=0,o=n.length;o>i;i++)t(e,n[i],r);return r}function v(e,t,n,r,i){for(var o,a=[],s=0,l=e.length,u=null!=t;l>s;s++)(o=e[s])&&(!n||n(o,r,i))&&(a.push(o),u&&t.push(s));return a}function y(e,t,n,i,o,a){return i&&!i[W]&&(i=y(i)),o&&!o[W]&&(o=y(o,a)),r(function(r,a,s,l){var u,c,h,d=[],f=[],p=a.length,m=r||g(t||"*",s.nodeType?[s]:s,[]),y=!e||!r&&t?m:v(m,d,e,s,l),b=n?o||(r?e:p||i)?[]:a:y;if(n&&n(y,b,s,l),i)for(u=v(b,f),i(u,[],s,l),c=u.length;c--;)(h=u[c])&&(b[f[c]]=!(y[f[c]]=h));if(r){if(o||e){if(o){for(u=[],c=b.length;c--;)(h=b[c])&&u.push(y[c]=h);o(null,b=[],u,l)}for(c=b.length;c--;)(h=b[c])&&(u=o?et(r,h):d[c])>-1&&(r[u]=!(a[u]=h))}}else b=v(b===a?b.splice(p,b.length):b),o?o(null,a,b,l):Z.apply(a,b)})}function b(e){for(var t,n,r,i=e.length,o=k.relative[e[0].type],a=o||k.relative[" "],s=o?1:0,l=p(function(e){return e===t},a,!0),u=p(function(e){return et(t,e)>-1},a,!0),c=[function(e,n,r){var i=!o&&(r||n!==R)||((t=n).nodeType?l(e,n,r):u(e,n,r));return t=null,i}];i>s;s++)if(n=k.relative[e[s].type])c=[p(m(c),n)];else{if(n=k.filter[e[s].type].apply(null,e[s].matches),n[W]){for(r=++s;i>r&&!k.relative[e[r].type];r++);return y(s>1&&m(c),s>1&&f(e.slice(0,s-1).concat({value:" "===e[s-2].type?"*":""})).replace(st,"$1"),n,r>s&&b(e.slice(s,r)),i>r&&b(e=e.slice(r)),i>r&&f(e))}c.push(n)}return m(c)}function w(e,n){var i=n.length>0,o=e.length>0,a=function(r,a,s,l,u){var c,h,d,f=0,p="0",m=r&&[],g=[],y=R,b=r||o&&k.find.TAG("*",u),w=z+=null==y?1:Math.random()||.1,C=b.length;for(u&&(R=a===D||a||u);p!==C&&null!=(c=b[p]);p++){if(o&&c){for(h=0,a||c.ownerDocument===D||(L(c),s=!H);d=e[h++];)if(d(c,a||D,s)){l.push(c);break}u&&(z=w)}i&&((c=!d&&c)&&f--,r&&m.push(c))}if(f+=p,i&&p!==f){for(h=0;d=n[h++];)d(m,g,a,s);if(r){if(f>0)for(;p--;)m[p]||g[p]||(g[p]=X.call(l));g=v(g)}Z.apply(l,g),u&&!r&&g.length>0&&f+n.length>1&&t.uniqueSort(l)}return u&&(z=w,R=y),m};return i?r(a):a}var C,x,k,S,_,T,E,M,R,O,A,L,D,P,H,N,I,j,F,W="sizzle"+1*new Date,B=e.document,z=0,U=0,V=n(),q=n(),$=n(),Y=function(e,t){return e===t&&(A=!0),0},G={}.hasOwnProperty,K=[],X=K.pop,J=K.push,Z=K.push,Q=K.slice,et=function(e,t){for(var n=0,r=e.length;r>n;n++)if(e[n]===t)return n;return-1},tt="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",nt="[\\x20\\t\\r\\n\\f]",rt="(?:\\\\.|[\\w-]|[^\x00-\\xa0])+",it="\\["+nt+"*("+rt+")(?:"+nt+"*([*^$|!~]?=)"+nt+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+rt+"))|)"+nt+"*\\]",ot=":("+rt+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+it+")*)|.*)\\)|)",at=new RegExp(nt+"+","g"),st=new RegExp("^"+nt+"+|((?:^|[^\\\\])(?:\\\\.)*)"+nt+"+$","g"),lt=new RegExp("^"+nt+"*,"+nt+"*"),ut=new RegExp("^"+nt+"*([>+~]|"+nt+")"+nt+"*"),ct=new RegExp("="+nt+"*([^\\]'\"]*?)"+nt+"*\\]","g"),ht=new RegExp(ot),dt=new RegExp("^"+rt+"$"),ft={ID:new RegExp("^#("+rt+")"),CLASS:new RegExp("^\\.("+rt+")"),TAG:new RegExp("^("+rt+"|[*])"),ATTR:new RegExp("^"+it),PSEUDO:new RegExp("^"+ot),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+nt+"*(even|odd|(([+-]|)(\\d*)n|)"+nt+"*(?:([+-]|)"+nt+"*(\\d+)|))"+nt+"*\\)|)","i"),bool:new RegExp("^(?:"+tt+")$","i"),needsContext:new RegExp("^"+nt+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+nt+"*((?:-\\d)?\\d*)"+nt+"*\\)|)(?=[^-]|$)","i")},pt=/^(?:input|select|textarea|button)$/i,mt=/^h\d$/i,gt=/^[^{]+\{\s*\[native \w/,vt=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,yt=/[+~]/,bt=new RegExp("\\\\([\\da-f]{1,6}"+nt+"?|("+nt+")|.)","ig"),wt=function(e,t,n){var r="0x"+t-65536;return r!==r||n?t:0>r?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320)},Ct=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,xt=function(e,t){return t?"\x00"===e?"�":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e},kt=function(){L()},St=p(function(e){return e.disabled===!0&&("form"in e||"label"in e)},{dir:"parentNode",next:"legend"});try{Z.apply(K=Q.call(B.childNodes),B.childNodes),K[B.childNodes.length].nodeType}catch(_t){Z={apply:K.length?function(e,t){J.apply(e,Q.call(t))}:function(e,t){for(var n=e.length,r=0;e[n++]=t[r++];);e.length=n-1}}}x=t.support={},_=t.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return t?"HTML"!==t.nodeName:!1},L=t.setDocument=function(e){var t,n,r=e?e.ownerDocument||e:B;return r!==D&&9===r.nodeType&&r.documentElement?(D=r,P=D.documentElement,H=!_(D),B!==D&&(n=D.defaultView)&&n.top!==n&&(n.addEventListener?n.addEventListener("unload",kt,!1):n.attachEvent&&n.attachEvent("onunload",kt)),x.attributes=i(function(e){return e.className="i",!e.getAttribute("className")}),x.getElementsByTagName=i(function(e){return e.appendChild(D.createComment("")),!e.getElementsByTagName("*").length}),x.getElementsByClassName=gt.test(D.getElementsByClassName),x.getById=i(function(e){return P.appendChild(e).id=W,!D.getElementsByName||!D.getElementsByName(W).length}),x.getById?(k.filter.ID=function(e){var t=e.replace(bt,wt);return function(e){return e.getAttribute("id")===t}},k.find.ID=function(e,t){if("undefined"!=typeof t.getElementById&&H){var n=t.getElementById(e);return n?[n]:[]}}):(k.filter.ID=function(e){var t=e.replace(bt,wt);return function(e){var n="undefined"!=typeof e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}},k.find.ID=function(e,t){if("undefined"!=typeof t.getElementById&&H){var n,r,i,o=t.getElementById(e);if(o){if(n=o.getAttributeNode("id"),n&&n.value===e)return[o];for(i=t.getElementsByName(e),r=0;o=i[r++];)if(n=o.getAttributeNode("id"),n&&n.value===e)return[o]}return[]}}),k.find.TAG=x.getElementsByTagName?function(e,t){return"undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName(e):x.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,r=[],i=0,o=t.getElementsByTagName(e);if("*"===e){for(;n=o[i++];)1===n.nodeType&&r.push(n);return r}return o},k.find.CLASS=x.getElementsByClassName&&function(e,t){return"undefined"!=typeof t.getElementsByClassName&&H?t.getElementsByClassName(e):void 0},I=[],N=[],(x.qsa=gt.test(D.querySelectorAll))&&(i(function(e){P.appendChild(e).innerHTML="<a id='"+W+"'></a><select id='"+W+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&N.push("[*^$]="+nt+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||N.push("\\["+nt+"*(?:value|"+tt+")"),e.querySelectorAll("[id~="+W+"-]").length||N.push("~="),e.querySelectorAll(":checked").length||N.push(":checked"),e.querySelectorAll("a#"+W+"+*").length||N.push(".#.+[+~]")}),i(function(e){e.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var t=D.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&N.push("name"+nt+"*[*^$|!~]?="),2!==e.querySelectorAll(":enabled").length&&N.push(":enabled",":disabled"),P.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&N.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),N.push(",.*:")})),(x.matchesSelector=gt.test(j=P.matches||P.webkitMatchesSelector||P.mozMatchesSelector||P.oMatchesSelector||P.msMatchesSelector))&&i(function(e){x.disconnectedMatch=j.call(e,"*"),j.call(e,"[s!='']:x"),I.push("!=",ot)}),N=N.length&&new RegExp(N.join("|")),I=I.length&&new RegExp(I.join("|")),t=gt.test(P.compareDocumentPosition),F=t||gt.test(P.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},Y=t?function(e,t){if(e===t)return A=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n?n:(n=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1,1&n||!x.sortDetached&&t.compareDocumentPosition(e)===n?e===D||e.ownerDocument===B&&F(B,e)?-1:t===D||t.ownerDocument===B&&F(B,t)?1:O?et(O,e)-et(O,t):0:4&n?-1:1)}:function(e,t){if(e===t)return A=!0,0;var n,r=0,i=e.parentNode,o=t.parentNode,s=[e],l=[t];if(!i||!o)return e===D?-1:t===D?1:i?-1:o?1:O?et(O,e)-et(O,t):0;if(i===o)return a(e,t);for(n=e;n=n.parentNode;)s.unshift(n);for(n=t;n=n.parentNode;)l.unshift(n);for(;s[r]===l[r];)r++;return r?a(s[r],l[r]):s[r]===B?-1:l[r]===B?1:0},D):D},t.matches=function(e,n){return t(e,null,null,n)},t.matchesSelector=function(e,n){if((e.ownerDocument||e)!==D&&L(e),n=n.replace(ct,"='$1']"),!(!x.matchesSelector||!H||$[n+" "]||I&&I.test(n)||N&&N.test(n)))try{var r=j.call(e,n);if(r||x.disconnectedMatch||e.document&&11!==e.document.nodeType)return r}catch(i){}return t(n,D,null,[e]).length>0},t.contains=function(e,t){return(e.ownerDocument||e)!==D&&L(e),F(e,t)},t.attr=function(e,t){(e.ownerDocument||e)!==D&&L(e);var n=k.attrHandle[t.toLowerCase()],r=n&&G.call(k.attrHandle,t.toLowerCase())?n(e,t,!H):void 0;return void 0!==r?r:x.attributes||!H?e.getAttribute(t):(r=e.getAttributeNode(t))&&r.specified?r.value:null},t.escape=function(e){return(e+"").replace(Ct,xt)},t.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},t.uniqueSort=function(e){var t,n=[],r=0,i=0;if(A=!x.detectDuplicates,O=!x.sortStable&&e.slice(0),e.sort(Y),A){for(;t=e[i++];)t===e[i]&&(r=n.push(i));for(;r--;)e.splice(n[r],1)}return O=null,e},S=t.getText=function(e){var t,n="",r=0,i=e.nodeType;if(i){if(1===i||9===i||11===i){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=S(e)}else if(3===i||4===i)return e.nodeValue}else for(;t=e[r++];)n+=S(t);return n},k=t.selectors={cacheLength:50,createPseudo:r,match:ft,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(bt,wt),e[3]=(e[3]||e[4]||e[5]||"").replace(bt,wt),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||t.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&t.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return ft.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&ht.test(n)&&(t=T(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(bt,wt).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=V[e+" "];return t||(t=new RegExp("(^|"+nt+")"+e+"("+nt+"|$)"))&&V(e,function(e){return t.test("string"==typeof e.className&&e.className||"undefined"!=typeof e.getAttribute&&e.getAttribute("class")||"")
})},ATTR:function(e,n,r){return function(i){var o=t.attr(i,e);return null==o?"!="===n:n?(o+="","="===n?o===r:"!="===n?o!==r:"^="===n?r&&0===o.indexOf(r):"*="===n?r&&o.indexOf(r)>-1:"$="===n?r&&o.slice(-r.length)===r:"~="===n?(" "+o.replace(at," ")+" ").indexOf(r)>-1:"|="===n?o===r||o.slice(0,r.length+1)===r+"-":!1):!0}},CHILD:function(e,t,n,r,i){var o="nth"!==e.slice(0,3),a="last"!==e.slice(-4),s="of-type"===t;return 1===r&&0===i?function(e){return!!e.parentNode}:function(t,n,l){var u,c,h,d,f,p,m=o!==a?"nextSibling":"previousSibling",g=t.parentNode,v=s&&t.nodeName.toLowerCase(),y=!l&&!s,b=!1;if(g){if(o){for(;m;){for(d=t;d=d[m];)if(s?d.nodeName.toLowerCase()===v:1===d.nodeType)return!1;p=m="only"===e&&!p&&"nextSibling"}return!0}if(p=[a?g.firstChild:g.lastChild],a&&y){for(d=g,h=d[W]||(d[W]={}),c=h[d.uniqueID]||(h[d.uniqueID]={}),u=c[e]||[],f=u[0]===z&&u[1],b=f&&u[2],d=f&&g.childNodes[f];d=++f&&d&&d[m]||(b=f=0)||p.pop();)if(1===d.nodeType&&++b&&d===t){c[e]=[z,f,b];break}}else if(y&&(d=t,h=d[W]||(d[W]={}),c=h[d.uniqueID]||(h[d.uniqueID]={}),u=c[e]||[],f=u[0]===z&&u[1],b=f),b===!1)for(;(d=++f&&d&&d[m]||(b=f=0)||p.pop())&&((s?d.nodeName.toLowerCase()!==v:1!==d.nodeType)||!++b||(y&&(h=d[W]||(d[W]={}),c=h[d.uniqueID]||(h[d.uniqueID]={}),c[e]=[z,b]),d!==t)););return b-=i,b===r||b%r===0&&b/r>=0}}},PSEUDO:function(e,n){var i,o=k.pseudos[e]||k.setFilters[e.toLowerCase()]||t.error("unsupported pseudo: "+e);return o[W]?o(n):o.length>1?(i=[e,e,"",n],k.setFilters.hasOwnProperty(e.toLowerCase())?r(function(e,t){for(var r,i=o(e,n),a=i.length;a--;)r=et(e,i[a]),e[r]=!(t[r]=i[a])}):function(e){return o(e,0,i)}):o}},pseudos:{not:r(function(e){var t=[],n=[],i=E(e.replace(st,"$1"));return i[W]?r(function(e,t,n,r){for(var o,a=i(e,null,r,[]),s=e.length;s--;)(o=a[s])&&(e[s]=!(t[s]=o))}):function(e,r,o){return t[0]=e,i(t,null,o,n),t[0]=null,!n.pop()}}),has:r(function(e){return function(n){return t(e,n).length>0}}),contains:r(function(e){return e=e.replace(bt,wt),function(t){return(t.textContent||t.innerText||S(t)).indexOf(e)>-1}}),lang:r(function(e){return dt.test(e||"")||t.error("unsupported lang: "+e),e=e.replace(bt,wt).toLowerCase(),function(t){var n;do if(n=H?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return n=n.toLowerCase(),n===e||0===n.indexOf(e+"-");while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===P},focus:function(e){return e===D.activeElement&&(!D.hasFocus||D.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:u(!1),disabled:u(!0),checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!k.pseudos.empty(e)},header:function(e){return mt.test(e.nodeName)},input:function(e){return pt.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:c(function(){return[0]}),last:c(function(e,t){return[t-1]}),eq:c(function(e,t,n){return[0>n?n+t:n]}),even:c(function(e,t){for(var n=0;t>n;n+=2)e.push(n);return e}),odd:c(function(e,t){for(var n=1;t>n;n+=2)e.push(n);return e}),lt:c(function(e,t,n){for(var r=0>n?n+t:n;--r>=0;)e.push(r);return e}),gt:c(function(e,t,n){for(var r=0>n?n+t:n;++r<t;)e.push(r);return e})}},k.pseudos.nth=k.pseudos.eq;for(C in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})k.pseudos[C]=s(C);for(C in{submit:!0,reset:!0})k.pseudos[C]=l(C);return d.prototype=k.filters=k.pseudos,k.setFilters=new d,T=t.tokenize=function(e,n){var r,i,o,a,s,l,u,c=q[e+" "];if(c)return n?0:c.slice(0);for(s=e,l=[],u=k.preFilter;s;){(!r||(i=lt.exec(s)))&&(i&&(s=s.slice(i[0].length)||s),l.push(o=[])),r=!1,(i=ut.exec(s))&&(r=i.shift(),o.push({value:r,type:i[0].replace(st," ")}),s=s.slice(r.length));for(a in k.filter)!(i=ft[a].exec(s))||u[a]&&!(i=u[a](i))||(r=i.shift(),o.push({value:r,type:a,matches:i}),s=s.slice(r.length));if(!r)break}return n?s.length:s?t.error(e):q(e,l).slice(0)},E=t.compile=function(e,t){var n,r=[],i=[],o=$[e+" "];if(!o){for(t||(t=T(e)),n=t.length;n--;)o=b(t[n]),o[W]?r.push(o):i.push(o);o=$(e,w(i,r)),o.selector=e}return o},M=t.select=function(e,t,n,r){var i,o,a,s,l,u="function"==typeof e&&e,c=!r&&T(e=u.selector||e);if(n=n||[],1===c.length){if(o=c[0]=c[0].slice(0),o.length>2&&"ID"===(a=o[0]).type&&9===t.nodeType&&H&&k.relative[o[1].type]){if(t=(k.find.ID(a.matches[0].replace(bt,wt),t)||[])[0],!t)return n;u&&(t=t.parentNode),e=e.slice(o.shift().value.length)}for(i=ft.needsContext.test(e)?0:o.length;i--&&(a=o[i],!k.relative[s=a.type]);)if((l=k.find[s])&&(r=l(a.matches[0].replace(bt,wt),yt.test(o[0].type)&&h(t.parentNode)||t))){if(o.splice(i,1),e=r.length&&f(o),!e)return Z.apply(n,r),n;break}}return(u||E(e,c))(r,t,!H,n,!t||yt.test(e)&&h(t.parentNode)||t),n},x.sortStable=W.split("").sort(Y).join("")===W,x.detectDuplicates=!!A,L(),x.sortDetached=i(function(e){return 1&e.compareDocumentPosition(D.createElement("fieldset"))}),i(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||o("type|href|height|width",function(e,t,n){return n?void 0:e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),x.attributes&&i(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||o("value",function(e,t,n){return n||"input"!==e.nodeName.toLowerCase()?void 0:e.defaultValue}),i(function(e){return null==e.getAttribute("disabled")})||o(tt,function(e,t,n){var r;return n?void 0:e[t]===!0?t.toLowerCase():(r=e.getAttributeNode(t))&&r.specified?r.value:null}),t}(e);xt.find=St,xt.expr=St.selectors,xt.expr[":"]=xt.expr.pseudos,xt.uniqueSort=xt.unique=St.uniqueSort,xt.text=St.getText,xt.isXMLDoc=St.isXML,xt.contains=St.contains,xt.escapeSelector=St.escape;var _t=function(e,t,n){for(var r=[],i=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(i&&xt(e).is(n))break;r.push(e)}return r},Tt=function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n},Et=xt.expr.match.needsContext,Mt=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;xt.filter=function(e,t,n){var r=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===r.nodeType?xt.find.matchesSelector(r,e)?[r]:[]:xt.find.matches(e,xt.grep(t,function(e){return 1===e.nodeType}))},xt.fn.extend({find:function(e){var t,n,r=this.length,i=this;if("string"!=typeof e)return this.pushStack(xt(e).filter(function(){for(t=0;r>t;t++)if(xt.contains(i[t],this))return!0}));for(n=this.pushStack([]),t=0;r>t;t++)xt.find(e,i[t],n);return r>1?xt.uniqueSort(n):n},filter:function(e){return this.pushStack(a(this,e||[],!1))},not:function(e){return this.pushStack(a(this,e||[],!0))},is:function(e){return!!a(this,"string"==typeof e&&Et.test(e)?xt(e):e||[],!1).length}});var Rt,Ot=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,At=xt.fn.init=function(e,t,n){var r,i;if(!e)return this;if(n=n||Rt,"string"==typeof e){if(r="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:Ot.exec(e),!r||!r[1]&&t)return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e);if(r[1]){if(t=t instanceof xt?t[0]:t,xt.merge(this,xt.parseHTML(r[1],t&&t.nodeType?t.ownerDocument||t:at,!0)),Mt.test(r[1])&&xt.isPlainObject(t))for(r in t)yt(this[r])?this[r](t[r]):this.attr(r,t[r]);return this}return i=at.getElementById(r[2]),i&&(this[0]=i,this.length=1),this}return e.nodeType?(this[0]=e,this.length=1,this):yt(e)?void 0!==n.ready?n.ready(e):e(xt):xt.makeArray(e,this)};At.prototype=xt.fn,Rt=xt(at);var Lt=/^(?:parents|prev(?:Until|All))/,Dt={children:!0,contents:!0,next:!0,prev:!0};xt.fn.extend({has:function(e){var t=xt(e,this),n=t.length;return this.filter(function(){for(var e=0;n>e;e++)if(xt.contains(this,t[e]))return!0})},closest:function(e,t){var n,r=0,i=this.length,o=[],a="string"!=typeof e&&xt(e);if(!Et.test(e))for(;i>r;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(a?a.index(n)>-1:1===n.nodeType&&xt.find.matchesSelector(n,e))){o.push(n);break}return this.pushStack(o.length>1?xt.uniqueSort(o):o)},index:function(e){return e?"string"==typeof e?ht.call(xt(e),this[0]):ht.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(xt.uniqueSort(xt.merge(this.get(),xt(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),xt.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return _t(e,"parentNode")},parentsUntil:function(e,t,n){return _t(e,"parentNode",n)},next:function(e){return s(e,"nextSibling")},prev:function(e){return s(e,"previousSibling")},nextAll:function(e){return _t(e,"nextSibling")},prevAll:function(e){return _t(e,"previousSibling")},nextUntil:function(e,t,n){return _t(e,"nextSibling",n)},prevUntil:function(e,t,n){return _t(e,"previousSibling",n)},siblings:function(e){return Tt((e.parentNode||{}).firstChild,e)},children:function(e){return Tt(e.firstChild)},contents:function(e){return o(e,"iframe")?e.contentDocument:(o(e,"template")&&(e=e.content||e),xt.merge([],e.childNodes))}},function(e,t){xt.fn[e]=function(n,r){var i=xt.map(this,t,n);return"Until"!==e.slice(-5)&&(r=n),r&&"string"==typeof r&&(i=xt.filter(r,i)),this.length>1&&(Dt[e]||xt.uniqueSort(i),Lt.test(e)&&i.reverse()),this.pushStack(i)}});var Pt=/[^\x20\t\r\n\f]+/g;xt.Callbacks=function(e){e="string"==typeof e?l(e):xt.extend({},e);var t,n,i,o,a=[],s=[],u=-1,c=function(){for(o=o||e.once,i=t=!0;s.length;u=-1)for(n=s.shift();++u<a.length;)a[u].apply(n[0],n[1])===!1&&e.stopOnFalse&&(u=a.length,n=!1);e.memory||(n=!1),t=!1,o&&(a=n?[]:"")},h={add:function(){return a&&(n&&!t&&(u=a.length-1,s.push(n)),function i(t){xt.each(t,function(t,n){yt(n)?e.unique&&h.has(n)||a.push(n):n&&n.length&&"string"!==r(n)&&i(n)})}(arguments),n&&!t&&c()),this},remove:function(){return xt.each(arguments,function(e,t){for(var n;(n=xt.inArray(t,a,n))>-1;)a.splice(n,1),u>=n&&u--}),this},has:function(e){return e?xt.inArray(e,a)>-1:a.length>0},empty:function(){return a&&(a=[]),this},disable:function(){return o=s=[],a=n="",this},disabled:function(){return!a},lock:function(){return o=s=[],n||t||(a=n=""),this},locked:function(){return!!o},fireWith:function(e,n){return o||(n=n||[],n=[e,n.slice?n.slice():n],s.push(n),t||c()),this},fire:function(){return h.fireWith(this,arguments),this},fired:function(){return!!i}};return h},xt.extend({Deferred:function(t){var n=[["notify","progress",xt.Callbacks("memory"),xt.Callbacks("memory"),2],["resolve","done",xt.Callbacks("once memory"),xt.Callbacks("once memory"),0,"resolved"],["reject","fail",xt.Callbacks("once memory"),xt.Callbacks("once memory"),1,"rejected"]],r="pending",i={state:function(){return r},always:function(){return o.done(arguments).fail(arguments),this},"catch":function(e){return i.then(null,e)},pipe:function(){var e=arguments;return xt.Deferred(function(t){xt.each(n,function(n,r){var i=yt(e[r[4]])&&e[r[4]];o[r[1]](function(){var e=i&&i.apply(this,arguments);e&&yt(e.promise)?e.promise().progress(t.notify).done(t.resolve).fail(t.reject):t[r[0]+"With"](this,i?[e]:arguments)})}),e=null}).promise()},then:function(t,r,i){function o(t,n,r,i){return function(){var s=this,l=arguments,h=function(){var e,h;if(!(a>t)){if(e=r.apply(s,l),e===n.promise())throw new TypeError("Thenable self-resolution");h=e&&("object"==typeof e||"function"==typeof e)&&e.then,yt(h)?i?h.call(e,o(a,n,u,i),o(a,n,c,i)):(a++,h.call(e,o(a,n,u,i),o(a,n,c,i),o(a,n,u,n.notifyWith))):(r!==u&&(s=void 0,l=[e]),(i||n.resolveWith)(s,l))}},d=i?h:function(){try{h()}catch(e){xt.Deferred.exceptionHook&&xt.Deferred.exceptionHook(e,d.stackTrace),t+1>=a&&(r!==c&&(s=void 0,l=[e]),n.rejectWith(s,l))}};t?d():(xt.Deferred.getStackHook&&(d.stackTrace=xt.Deferred.getStackHook()),e.setTimeout(d))}}var a=0;return xt.Deferred(function(e){n[0][3].add(o(0,e,yt(i)?i:u,e.notifyWith)),n[1][3].add(o(0,e,yt(t)?t:u)),n[2][3].add(o(0,e,yt(r)?r:c))}).promise()},promise:function(e){return null!=e?xt.extend(e,i):i}},o={};return xt.each(n,function(e,t){var a=t[2],s=t[5];i[t[1]]=a.add,s&&a.add(function(){r=s},n[3-e][2].disable,n[3-e][3].disable,n[0][2].lock,n[0][3].lock),a.add(t[3].fire),o[t[0]]=function(){return o[t[0]+"With"](this===o?void 0:this,arguments),this},o[t[0]+"With"]=a.fireWith}),i.promise(o),t&&t.call(o,o),o},when:function(e){var t=arguments.length,n=t,r=Array(n),i=lt.call(arguments),o=xt.Deferred(),a=function(e){return function(n){r[e]=this,i[e]=arguments.length>1?lt.call(arguments):n,--t||o.resolveWith(r,i)}};if(1>=t&&(h(e,o.done(a(n)).resolve,o.reject,!t),"pending"===o.state()||yt(i[n]&&i[n].then)))return o.then();for(;n--;)h(i[n],a(n),o.reject);return o.promise()}});var Ht=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;xt.Deferred.exceptionHook=function(t,n){e.console&&e.console.warn&&t&&Ht.test(t.name)&&e.console.warn("jQuery.Deferred exception: "+t.message,t.stack,n)},xt.readyException=function(t){e.setTimeout(function(){throw t})};var Nt=xt.Deferred();xt.fn.ready=function(e){return Nt.then(e).catch(function(e){xt.readyException(e)}),this},xt.extend({isReady:!1,readyWait:1,ready:function(e){(e===!0?--xt.readyWait:xt.isReady)||(xt.isReady=!0,e!==!0&&--xt.readyWait>0||Nt.resolveWith(at,[xt]))}}),xt.ready.then=Nt.then,"complete"===at.readyState||"loading"!==at.readyState&&!at.documentElement.doScroll?e.setTimeout(xt.ready):(at.addEventListener("DOMContentLoaded",d),e.addEventListener("load",d));var It=function(e,t,n,i,o,a,s){var l=0,u=e.length,c=null==n;if("object"===r(n)){o=!0;for(l in n)It(e,t,l,n[l],!0,a,s)}else if(void 0!==i&&(o=!0,yt(i)||(s=!0),c&&(s?(t.call(e,i),t=null):(c=t,t=function(e,t,n){return c.call(xt(e),n)})),t))for(;u>l;l++)t(e[l],n,s?i:i.call(e[l],l,t(e[l],n)));return o?e:c?t.call(e):u?t(e[0],n):a},jt=/^-ms-/,Ft=/-([a-z])/g,Wt=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};m.uid=1,m.prototype={cache:function(e){var t=e[this.expando];return t||(t={},Wt(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,n){var r,i=this.cache(e);if("string"==typeof t)i[p(t)]=n;else for(r in t)i[p(r)]=t[r];return i},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][p(t)]},access:function(e,t,n){return void 0===t||t&&"string"==typeof t&&void 0===n?this.get(e,t):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,r=e[this.expando];if(void 0!==r){if(void 0!==t){Array.isArray(t)?t=t.map(p):(t=p(t),t=t in r?[t]:t.match(Pt)||[]),n=t.length;for(;n--;)delete r[t[n]]}(void 0===t||xt.isEmptyObject(r))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!xt.isEmptyObject(t)}};var Bt=new m,zt=new m,Ut=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Vt=/[A-Z]/g;xt.extend({hasData:function(e){return zt.hasData(e)||Bt.hasData(e)},data:function(e,t,n){return zt.access(e,t,n)},removeData:function(e,t){zt.remove(e,t)},_data:function(e,t,n){return Bt.access(e,t,n)},_removeData:function(e,t){Bt.remove(e,t)}}),xt.fn.extend({data:function(e,t){var n,r,i,o=this[0],a=o&&o.attributes;if(void 0===e){if(this.length&&(i=zt.get(o),1===o.nodeType&&!Bt.get(o,"hasDataAttrs"))){for(n=a.length;n--;)a[n]&&(r=a[n].name,0===r.indexOf("data-")&&(r=p(r.slice(5)),v(o,r,i[r])));Bt.set(o,"hasDataAttrs",!0)}return i}return"object"==typeof e?this.each(function(){zt.set(this,e)}):It(this,function(t){var n;if(o&&void 0===t){if(n=zt.get(o,e),void 0!==n)return n;if(n=v(o,e),void 0!==n)return n}else this.each(function(){zt.set(this,e,t)})},null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){zt.remove(this,e)})}}),xt.extend({queue:function(e,t,n){var r;return e?(t=(t||"fx")+"queue",r=Bt.get(e,t),n&&(!r||Array.isArray(n)?r=Bt.access(e,t,xt.makeArray(n)):r.push(n)),r||[]):void 0},dequeue:function(e,t){t=t||"fx";var n=xt.queue(e,t),r=n.length,i=n.shift(),o=xt._queueHooks(e,t),a=function(){xt.dequeue(e,t)};"inprogress"===i&&(i=n.shift(),r--),i&&("fx"===t&&n.unshift("inprogress"),delete o.stop,i.call(e,a,o)),!r&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return Bt.get(e,n)||Bt.access(e,n,{empty:xt.Callbacks("once memory").add(function(){Bt.remove(e,[t+"queue",n])})})}}),xt.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?xt.queue(this[0],e):void 0===t?this:this.each(function(){var n=xt.queue(this,e,t);xt._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&xt.dequeue(this,e)})},dequeue:function(e){return this.each(function(){xt.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,r=1,i=xt.Deferred(),o=this,a=this.length,s=function(){--r||i.resolveWith(o,[o])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";a--;)n=Bt.get(o[a],e+"queueHooks"),n&&n.empty&&(r++,n.empty.add(s));return s(),i.promise(t)}});var qt=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,$t=new RegExp("^(?:([+-])=|)("+qt+")([a-z%]*)$","i"),Yt=["Top","Right","Bottom","Left"],Gt=function(e,t){return e=t||e,"none"===e.style.display||""===e.style.display&&xt.contains(e.ownerDocument,e)&&"none"===xt.css(e,"display")},Kt=function(e,t,n,r){var i,o,a={};for(o in t)a[o]=e.style[o],e.style[o]=t[o];i=n.apply(e,r||[]);for(o in t)e.style[o]=a[o];return i},Xt={};xt.fn.extend({show:function(){return w(this,!0)},hide:function(){return w(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){Gt(this)?xt(this).show():xt(this).hide()})}});var Jt=/^(?:checkbox|radio)$/i,Zt=/<([a-z][^\/\0>\x20\t\r\n\f]+)/i,Qt=/^$|^module$|\/(?:java|ecma)script/i,en={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};en.optgroup=en.option,en.tbody=en.tfoot=en.colgroup=en.caption=en.thead,en.th=en.td;var tn=/<|&#?\w+;/;!function(){var e=at.createDocumentFragment(),t=e.appendChild(at.createElement("div")),n=at.createElement("input");n.setAttribute("type","radio"),n.setAttribute("checked","checked"),n.setAttribute("name","t"),t.appendChild(n),vt.checkClone=t.cloneNode(!0).cloneNode(!0).lastChild.checked,t.innerHTML="<textarea>x</textarea>",vt.noCloneChecked=!!t.cloneNode(!0).lastChild.defaultValue}();var nn=at.documentElement,rn=/^key/,on=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,an=/^([^.]*)(?:\.(.+)|)/;xt.event={global:{},add:function(e,t,n,r,i){var o,a,s,l,u,c,h,d,f,p,m,g=Bt.get(e);if(g)for(n.handler&&(o=n,n=o.handler,i=o.selector),i&&xt.find.matchesSelector(nn,i),n.guid||(n.guid=xt.guid++),(l=g.events)||(l=g.events={}),(a=g.handle)||(a=g.handle=function(t){return"undefined"!=typeof xt&&xt.event.triggered!==t.type?xt.event.dispatch.apply(e,arguments):void 0}),t=(t||"").match(Pt)||[""],u=t.length;u--;)s=an.exec(t[u])||[],f=m=s[1],p=(s[2]||"").split(".").sort(),f&&(h=xt.event.special[f]||{},f=(i?h.delegateType:h.bindType)||f,h=xt.event.special[f]||{},c=xt.extend({type:f,origType:m,data:r,handler:n,guid:n.guid,selector:i,needsContext:i&&xt.expr.match.needsContext.test(i),namespace:p.join(".")},o),(d=l[f])||(d=l[f]=[],d.delegateCount=0,h.setup&&h.setup.call(e,r,p,a)!==!1||e.addEventListener&&e.addEventListener(f,a)),h.add&&(h.add.call(e,c),c.handler.guid||(c.handler.guid=n.guid)),i?d.splice(d.delegateCount++,0,c):d.push(c),xt.event.global[f]=!0)},remove:function(e,t,n,r,i){var o,a,s,l,u,c,h,d,f,p,m,g=Bt.hasData(e)&&Bt.get(e);if(g&&(l=g.events)){for(t=(t||"").match(Pt)||[""],u=t.length;u--;)if(s=an.exec(t[u])||[],f=m=s[1],p=(s[2]||"").split(".").sort(),f){for(h=xt.event.special[f]||{},f=(r?h.delegateType:h.bindType)||f,d=l[f]||[],s=s[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=o=d.length;o--;)c=d[o],!i&&m!==c.origType||n&&n.guid!==c.guid||s&&!s.test(c.namespace)||r&&r!==c.selector&&("**"!==r||!c.selector)||(d.splice(o,1),c.selector&&d.delegateCount--,h.remove&&h.remove.call(e,c));a&&!d.length&&(h.teardown&&h.teardown.call(e,p,g.handle)!==!1||xt.removeEvent(e,f,g.handle),delete l[f])}else for(f in l)xt.event.remove(e,f+t[u],n,r,!0);xt.isEmptyObject(l)&&Bt.remove(e,"handle events")}},dispatch:function(e){var t,n,r,i,o,a,s=xt.event.fix(e),l=new Array(arguments.length),u=(Bt.get(this,"events")||{})[s.type]||[],c=xt.event.special[s.type]||{};for(l[0]=s,t=1;t<arguments.length;t++)l[t]=arguments[t];if(s.delegateTarget=this,!c.preDispatch||c.preDispatch.call(this,s)!==!1){for(a=xt.event.handlers.call(this,s,u),t=0;(i=a[t++])&&!s.isPropagationStopped();)for(s.currentTarget=i.elem,n=0;(o=i.handlers[n++])&&!s.isImmediatePropagationStopped();)(!s.rnamespace||s.rnamespace.test(o.namespace))&&(s.handleObj=o,s.data=o.data,r=((xt.event.special[o.origType]||{}).handle||o.handler).apply(i.elem,l),void 0!==r&&(s.result=r)===!1&&(s.preventDefault(),s.stopPropagation()));return c.postDispatch&&c.postDispatch.call(this,s),s.result}},handlers:function(e,t){var n,r,i,o,a,s=[],l=t.delegateCount,u=e.target;if(l&&u.nodeType&&!("click"===e.type&&e.button>=1))for(;u!==this;u=u.parentNode||this)if(1===u.nodeType&&("click"!==e.type||u.disabled!==!0)){for(o=[],a={},n=0;l>n;n++)r=t[n],i=r.selector+" ",void 0===a[i]&&(a[i]=r.needsContext?xt(i,this).index(u)>-1:xt.find(i,this,null,[u]).length),a[i]&&o.push(r);o.length&&s.push({elem:u,handlers:o})}return u=this,l<t.length&&s.push({elem:u,handlers:t.slice(l)}),s},addProp:function(e,t){Object.defineProperty(xt.Event.prototype,e,{enumerable:!0,configurable:!0,get:yt(t)?function(){return this.originalEvent?t(this.originalEvent):void 0}:function(){return this.originalEvent?this.originalEvent[e]:void 0},set:function(t){Object.defineProperty(this,e,{enumerable:!0,configurable:!0,writable:!0,value:t})}})},fix:function(e){return e[xt.expando]?e:new xt.Event(e)},special:{load:{noBubble:!0},focus:{trigger:function(){return this!==T()&&this.focus?(this.focus(),!1):void 0},delegateType:"focusin"},blur:{trigger:function(){return this===T()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return"checkbox"===this.type&&this.click&&o(this,"input")?(this.click(),!1):void 0},_default:function(e){return o(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},xt.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)},xt.Event=function(e,t){return this instanceof xt.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&e.returnValue===!1?S:_,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&xt.extend(this,t),this.timeStamp=e&&e.timeStamp||Date.now(),this[xt.expando]=!0,void 0):new xt.Event(e,t)},xt.Event.prototype={constructor:xt.Event,isDefaultPrevented:_,isPropagationStopped:_,isImmediatePropagationStopped:_,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=S,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=S,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=S,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},xt.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,"char":!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(e){var t=e.button;return null==e.which&&rn.test(e.type)?null!=e.charCode?e.charCode:e.keyCode:!e.which&&void 0!==t&&on.test(e.type)?1&t?1:2&t?3:4&t?2:0:e.which}},xt.event.addProp),xt.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){xt.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,r=this,i=e.relatedTarget,o=e.handleObj;return(!i||i!==r&&!xt.contains(r,i))&&(e.type=o.origType,n=o.handler.apply(this,arguments),e.type=t),n}}}),xt.fn.extend({on:function(e,t,n,r){return E(this,e,t,n,r)},one:function(e,t,n,r){return E(this,e,t,n,r,1)},off:function(e,t,n){var r,i;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,xt(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof e){for(i in e)this.off(i,t,e[i]);return this}return(t===!1||"function"==typeof t)&&(n=t,t=void 0),n===!1&&(n=_),this.each(function(){xt.event.remove(this,e,n,t)})}});var sn=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,ln=/<script|<style|<link/i,un=/checked\s*(?:[^=]|=\s*.checked.)/i,cn=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;xt.extend({htmlPrefilter:function(e){return e.replace(sn,"<$1></$2>")},clone:function(e,t,n){var r,i,o,a,s=e.cloneNode(!0),l=xt.contains(e.ownerDocument,e);if(!(vt.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||xt.isXMLDoc(e)))for(a=C(s),o=C(e),r=0,i=o.length;i>r;r++)L(o[r],a[r]);if(t)if(n)for(o=o||C(e),a=a||C(s),r=0,i=o.length;i>r;r++)A(o[r],a[r]);else A(e,s);return a=C(s,"script"),a.length>0&&x(a,!l&&C(e,"script")),s},cleanData:function(e){for(var t,n,r,i=xt.event.special,o=0;void 0!==(n=e[o]);o++)if(Wt(n)){if(t=n[Bt.expando]){if(t.events)for(r in t.events)i[r]?xt.event.remove(n,r):xt.removeEvent(n,r,t.handle);n[Bt.expando]=void 0}n[zt.expando]&&(n[zt.expando]=void 0)}}}),xt.fn.extend({detach:function(e){return P(this,e,!0)},remove:function(e){return P(this,e)},text:function(e){return It(this,function(e){return void 0===e?xt.text(this):this.empty().each(function(){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&(this.textContent=e)})},null,e,arguments.length)},append:function(){return D(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=M(this,e);t.appendChild(e)}})},prepend:function(){return D(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=M(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return D(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return D(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(xt.cleanData(C(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null==e?!1:e,t=null==t?e:t,this.map(function(){return xt.clone(this,e,t)})},html:function(e){return It(this,function(e){var t=this[0]||{},n=0,r=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!ln.test(e)&&!en[(Zt.exec(e)||["",""])[1].toLowerCase()]){e=xt.htmlPrefilter(e);try{for(;r>n;n++)t=this[n]||{},1===t.nodeType&&(xt.cleanData(C(t,!1)),t.innerHTML=e);t=0}catch(i){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=[];return D(this,arguments,function(t){var n=this.parentNode;xt.inArray(this,e)<0&&(xt.cleanData(C(this)),n&&n.replaceChild(t,this))},e)}}),xt.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){xt.fn[e]=function(e){for(var n,r=[],i=xt(e),o=i.length-1,a=0;o>=a;a++)n=a===o?this:this.clone(!0),xt(i[a])[t](n),ct.apply(r,n.get());return this.pushStack(r)}});var hn=new RegExp("^("+qt+")(?!px)[a-z%]+$","i"),dn=function(t){var n=t.ownerDocument.defaultView;return n&&n.opener||(n=e),n.getComputedStyle(t)},fn=new RegExp(Yt.join("|"),"i");!function(){function t(){if(u){l.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",u.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",nn.appendChild(l).appendChild(u);var t=e.getComputedStyle(u);r="1%"!==t.top,s=12===n(t.marginLeft),u.style.right="60%",a=36===n(t.right),i=36===n(t.width),u.style.position="absolute",o=36===u.offsetWidth||"absolute",nn.removeChild(l),u=null}}function n(e){return Math.round(parseFloat(e))}var r,i,o,a,s,l=at.createElement("div"),u=at.createElement("div");u.style&&(u.style.backgroundClip="content-box",u.cloneNode(!0).style.backgroundClip="",vt.clearCloneStyle="content-box"===u.style.backgroundClip,xt.extend(vt,{boxSizingReliable:function(){return t(),i},pixelBoxStyles:function(){return t(),a},pixelPosition:function(){return t(),r},reliableMarginLeft:function(){return t(),s},scrollboxSize:function(){return t(),o}}))}();var pn=/^(none|table(?!-c[ea]).+)/,mn=/^--/,gn={position:"absolute",visibility:"hidden",display:"block"},vn={letterSpacing:"0",fontWeight:"400"},yn=["Webkit","Moz","ms"],bn=at.createElement("div").style;xt.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=H(e,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(e,t,n,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var i,o,a,s=p(t),l=mn.test(t),u=e.style;return l||(t=j(s)),a=xt.cssHooks[t]||xt.cssHooks[s],void 0===n?a&&"get"in a&&void 0!==(i=a.get(e,!1,r))?i:u[t]:(o=typeof n,"string"===o&&(i=$t.exec(n))&&i[1]&&(n=y(e,t,i),o="number"),null!=n&&n===n&&("number"===o&&(n+=i&&i[3]||(xt.cssNumber[s]?"":"px")),vt.clearCloneStyle||""!==n||0!==t.indexOf("background")||(u[t]="inherit"),a&&"set"in a&&void 0===(n=a.set(e,n,r))||(l?u.setProperty(t,n):u[t]=n)),void 0)}},css:function(e,t,n,r){var i,o,a,s=p(t),l=mn.test(t);return l||(t=j(s)),a=xt.cssHooks[t]||xt.cssHooks[s],a&&"get"in a&&(i=a.get(e,!0,n)),void 0===i&&(i=H(e,t,r)),"normal"===i&&t in vn&&(i=vn[t]),""===n||n?(o=parseFloat(i),n===!0||isFinite(o)?o||0:i):i}}),xt.each(["height","width"],function(e,t){xt.cssHooks[t]={get:function(e,n,r){return n?!pn.test(xt.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?B(e,t,r):Kt(e,gn,function(){return B(e,t,r)}):void 0},set:function(e,n,r){var i,o=dn(e),a="border-box"===xt.css(e,"boxSizing",!1,o),s=r&&W(e,t,r,a,o);return a&&vt.scrollboxSize()===o.position&&(s-=Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-parseFloat(o[t])-W(e,t,"border",!1,o)-.5)),s&&(i=$t.exec(n))&&"px"!==(i[3]||"px")&&(e.style[t]=n,n=xt.css(e,t)),F(e,n,s)}}}),xt.cssHooks.marginLeft=N(vt.reliableMarginLeft,function(e,t){return t?(parseFloat(H(e,"marginLeft"))||e.getBoundingClientRect().left-Kt(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}))+"px":void 0}),xt.each({margin:"",padding:"",border:"Width"},function(e,t){xt.cssHooks[e+t]={expand:function(n){for(var r=0,i={},o="string"==typeof n?n.split(" "):[n];4>r;r++)i[e+Yt[r]+t]=o[r]||o[r-2]||o[0];return i}},"margin"!==e&&(xt.cssHooks[e+t].set=F)}),xt.fn.extend({css:function(e,t){return It(this,function(e,t,n){var r,i,o={},a=0;if(Array.isArray(t)){for(r=dn(e),i=t.length;i>a;a++)o[t[a]]=xt.css(e,t[a],!1,r);return o}return void 0!==n?xt.style(e,t,n):xt.css(e,t)},e,t,arguments.length>1)}}),xt.Tween=z,z.prototype={constructor:z,init:function(e,t,n,r,i,o){this.elem=e,this.prop=n,this.easing=i||xt.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=o||(xt.cssNumber[n]?"":"px")},cur:function(){var e=z.propHooks[this.prop];return e&&e.get?e.get(this):z.propHooks._default.get(this)},run:function(e){var t,n=z.propHooks[this.prop];return this.pos=t=this.options.duration?xt.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):z.propHooks._default.set(this),this
}},z.prototype.init.prototype=z.prototype,z.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=xt.css(e.elem,e.prop,""),t&&"auto"!==t?t:0)},set:function(e){xt.fx.step[e.prop]?xt.fx.step[e.prop](e):1!==e.elem.nodeType||null==e.elem.style[xt.cssProps[e.prop]]&&!xt.cssHooks[e.prop]?e.elem[e.prop]=e.now:xt.style(e.elem,e.prop,e.now+e.unit)}}},z.propHooks.scrollTop=z.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},xt.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},xt.fx=z.prototype.init,xt.fx.step={};var wn,Cn,xn=/^(?:toggle|show|hide)$/,kn=/queueHooks$/;xt.Animation=xt.extend(K,{tweeners:{"*":[function(e,t){var n=this.createTween(e,t);return y(n.elem,e,$t.exec(t),n),n}]},tweener:function(e,t){yt(e)?(t=e,e=["*"]):e=e.match(Pt);for(var n,r=0,i=e.length;i>r;r++)n=e[r],K.tweeners[n]=K.tweeners[n]||[],K.tweeners[n].unshift(t)},prefilters:[Y],prefilter:function(e,t){t?K.prefilters.unshift(e):K.prefilters.push(e)}}),xt.speed=function(e,t,n){var r=e&&"object"==typeof e?xt.extend({},e):{complete:n||!n&&t||yt(e)&&e,duration:e,easing:n&&t||t&&!yt(t)&&t};return xt.fx.off?r.duration=0:"number"!=typeof r.duration&&(r.duration=r.duration in xt.fx.speeds?xt.fx.speeds[r.duration]:xt.fx.speeds._default),(null==r.queue||r.queue===!0)&&(r.queue="fx"),r.old=r.complete,r.complete=function(){yt(r.old)&&r.old.call(this),r.queue&&xt.dequeue(this,r.queue)},r},xt.fn.extend({fadeTo:function(e,t,n,r){return this.filter(Gt).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(e,t,n,r){var i=xt.isEmptyObject(e),o=xt.speed(t,n,r),a=function(){var t=K(this,xt.extend({},e),o);(i||Bt.get(this,"finish"))&&t.stop(!0)};return a.finish=a,i||o.queue===!1?this.each(a):this.queue(o.queue,a)},stop:function(e,t,n){var r=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=void 0),t&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){var t=!0,i=null!=e&&e+"queueHooks",o=xt.timers,a=Bt.get(this);if(i)a[i]&&a[i].stop&&r(a[i]);else for(i in a)a[i]&&a[i].stop&&kn.test(i)&&r(a[i]);for(i=o.length;i--;)o[i].elem!==this||null!=e&&o[i].queue!==e||(o[i].anim.stop(n),t=!1,o.splice(i,1));(t||!n)&&xt.dequeue(this,e)})},finish:function(e){return e!==!1&&(e=e||"fx"),this.each(function(){var t,n=Bt.get(this),r=n[e+"queue"],i=n[e+"queueHooks"],o=xt.timers,a=r?r.length:0;for(n.finish=!0,xt.queue(this,e,[]),i&&i.stop&&i.stop.call(this,!0),t=o.length;t--;)o[t].elem===this&&o[t].queue===e&&(o[t].anim.stop(!0),o.splice(t,1));for(t=0;a>t;t++)r[t]&&r[t].finish&&r[t].finish.call(this);delete n.finish})}}),xt.each(["toggle","show","hide"],function(e,t){var n=xt.fn[t];xt.fn[t]=function(e,r,i){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(q(t,!0),e,r,i)}}),xt.each({slideDown:q("show"),slideUp:q("hide"),slideToggle:q("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){xt.fn[e]=function(e,n,r){return this.animate(t,e,n,r)}}),xt.timers=[],xt.fx.tick=function(){var e,t=0,n=xt.timers;for(wn=Date.now();t<n.length;t++)e=n[t],e()||n[t]!==e||n.splice(t--,1);n.length||xt.fx.stop(),wn=void 0},xt.fx.timer=function(e){xt.timers.push(e),xt.fx.start()},xt.fx.interval=13,xt.fx.start=function(){Cn||(Cn=!0,U())},xt.fx.stop=function(){Cn=null},xt.fx.speeds={slow:600,fast:200,_default:400},xt.fn.delay=function(t,n){return t=xt.fx?xt.fx.speeds[t]||t:t,n=n||"fx",this.queue(n,function(n,r){var i=e.setTimeout(n,t);r.stop=function(){e.clearTimeout(i)}})},function(){var e=at.createElement("input"),t=at.createElement("select"),n=t.appendChild(at.createElement("option"));e.type="checkbox",vt.checkOn=""!==e.value,vt.optSelected=n.selected,e=at.createElement("input"),e.value="t",e.type="radio",vt.radioValue="t"===e.value}();var Sn,_n=xt.expr.attrHandle;xt.fn.extend({attr:function(e,t){return It(this,xt.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){xt.removeAttr(this,e)})}}),xt.extend({attr:function(e,t,n){var r,i,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return"undefined"==typeof e.getAttribute?xt.prop(e,t,n):(1===o&&xt.isXMLDoc(e)||(i=xt.attrHooks[t.toLowerCase()]||(xt.expr.match.bool.test(t)?Sn:void 0)),void 0!==n?null===n?(xt.removeAttr(e,t),void 0):i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:(e.setAttribute(t,n+""),n):i&&"get"in i&&null!==(r=i.get(e,t))?r:(r=xt.find.attr(e,t),null==r?void 0:r))},attrHooks:{type:{set:function(e,t){if(!vt.radioValue&&"radio"===t&&o(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n,r=0,i=t&&t.match(Pt);if(i&&1===e.nodeType)for(;n=i[r++];)e.removeAttribute(n)}}),Sn={set:function(e,t,n){return t===!1?xt.removeAttr(e,n):e.setAttribute(n,n),n}},xt.each(xt.expr.match.bool.source.match(/\w+/g),function(e,t){var n=_n[t]||xt.find.attr;_n[t]=function(e,t,r){var i,o,a=t.toLowerCase();return r||(o=_n[a],_n[a]=i,i=null!=n(e,t,r)?a:null,_n[a]=o),i}});var Tn=/^(?:input|select|textarea|button)$/i,En=/^(?:a|area)$/i;xt.fn.extend({prop:function(e,t){return It(this,xt.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each(function(){delete this[xt.propFix[e]||e]})}}),xt.extend({prop:function(e,t,n){var r,i,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&xt.isXMLDoc(e)||(t=xt.propFix[t]||t,i=xt.propHooks[t]),void 0!==n?i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:e[t]=n:i&&"get"in i&&null!==(r=i.get(e,t))?r:e[t]},propHooks:{tabIndex:{get:function(e){var t=xt.find.attr(e,"tabindex");return t?parseInt(t,10):Tn.test(e.nodeName)||En.test(e.nodeName)&&e.href?0:-1}}},propFix:{"for":"htmlFor","class":"className"}}),vt.optSelected||(xt.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),xt.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){xt.propFix[this.toLowerCase()]=this}),xt.fn.extend({addClass:function(e){var t,n,r,i,o,a,s,l=0;if(yt(e))return this.each(function(t){xt(this).addClass(e.call(this,t,J(this)))});if(t=Z(e),t.length)for(;n=this[l++];)if(i=J(n),r=1===n.nodeType&&" "+X(i)+" "){for(a=0;o=t[a++];)r.indexOf(" "+o+" ")<0&&(r+=o+" ");s=X(r),i!==s&&n.setAttribute("class",s)}return this},removeClass:function(e){var t,n,r,i,o,a,s,l=0;if(yt(e))return this.each(function(t){xt(this).removeClass(e.call(this,t,J(this)))});if(!arguments.length)return this.attr("class","");if(t=Z(e),t.length)for(;n=this[l++];)if(i=J(n),r=1===n.nodeType&&" "+X(i)+" "){for(a=0;o=t[a++];)for(;r.indexOf(" "+o+" ")>-1;)r=r.replace(" "+o+" "," ");s=X(r),i!==s&&n.setAttribute("class",s)}return this},toggleClass:function(e,t){var n=typeof e,r="string"===n||Array.isArray(e);return"boolean"==typeof t&&r?t?this.addClass(e):this.removeClass(e):yt(e)?this.each(function(n){xt(this).toggleClass(e.call(this,n,J(this),t),t)}):this.each(function(){var t,i,o,a;if(r)for(i=0,o=xt(this),a=Z(e);t=a[i++];)o.hasClass(t)?o.removeClass(t):o.addClass(t);else(void 0===e||"boolean"===n)&&(t=J(this),t&&Bt.set(this,"__className__",t),this.setAttribute&&this.setAttribute("class",t||e===!1?"":Bt.get(this,"__className__")||""))})},hasClass:function(e){var t,n,r=0;for(t=" "+e+" ";n=this[r++];)if(1===n.nodeType&&(" "+X(J(n))+" ").indexOf(t)>-1)return!0;return!1}});var Mn=/\r/g;xt.fn.extend({val:function(e){var t,n,r,i=this[0];{if(arguments.length)return r=yt(e),this.each(function(n){var i;1===this.nodeType&&(i=r?e.call(this,n,xt(this).val()):e,null==i?i="":"number"==typeof i?i+="":Array.isArray(i)&&(i=xt.map(i,function(e){return null==e?"":e+""})),t=xt.valHooks[this.type]||xt.valHooks[this.nodeName.toLowerCase()],t&&"set"in t&&void 0!==t.set(this,i,"value")||(this.value=i))});if(i)return t=xt.valHooks[i.type]||xt.valHooks[i.nodeName.toLowerCase()],t&&"get"in t&&void 0!==(n=t.get(i,"value"))?n:(n=i.value,"string"==typeof n?n.replace(Mn,""):null==n?"":n)}}}),xt.extend({valHooks:{option:{get:function(e){var t=xt.find.attr(e,"value");return null!=t?t:X(xt.text(e))}},select:{get:function(e){var t,n,r,i=e.options,a=e.selectedIndex,s="select-one"===e.type,l=s?null:[],u=s?a+1:i.length;for(r=0>a?u:s?a:0;u>r;r++)if(n=i[r],!(!n.selected&&r!==a||n.disabled||n.parentNode.disabled&&o(n.parentNode,"optgroup"))){if(t=xt(n).val(),s)return t;l.push(t)}return l},set:function(e,t){for(var n,r,i=e.options,o=xt.makeArray(t),a=i.length;a--;)r=i[a],(r.selected=xt.inArray(xt.valHooks.option.get(r),o)>-1)&&(n=!0);return n||(e.selectedIndex=-1),o}}}}),xt.each(["radio","checkbox"],function(){xt.valHooks[this]={set:function(e,t){return Array.isArray(t)?e.checked=xt.inArray(xt(e).val(),t)>-1:void 0}},vt.checkOn||(xt.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})}),vt.focusin="onfocusin"in e;var Rn=/^(?:focusinfocus|focusoutblur)$/,On=function(e){e.stopPropagation()};xt.extend(xt.event,{trigger:function(t,n,r,i){var o,a,s,l,u,c,h,d,f=[r||at],p=pt.call(t,"type")?t.type:t,m=pt.call(t,"namespace")?t.namespace.split("."):[];if(a=d=s=r=r||at,3!==r.nodeType&&8!==r.nodeType&&!Rn.test(p+xt.event.triggered)&&(p.indexOf(".")>-1&&(m=p.split("."),p=m.shift(),m.sort()),u=p.indexOf(":")<0&&"on"+p,t=t[xt.expando]?t:new xt.Event(p,"object"==typeof t&&t),t.isTrigger=i?2:3,t.namespace=m.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+m.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=r),n=null==n?[t]:xt.makeArray(n,[t]),h=xt.event.special[p]||{},i||!h.trigger||h.trigger.apply(r,n)!==!1)){if(!i&&!h.noBubble&&!bt(r)){for(l=h.delegateType||p,Rn.test(l+p)||(a=a.parentNode);a;a=a.parentNode)f.push(a),s=a;s===(r.ownerDocument||at)&&f.push(s.defaultView||s.parentWindow||e)}for(o=0;(a=f[o++])&&!t.isPropagationStopped();)d=a,t.type=o>1?l:h.bindType||p,c=(Bt.get(a,"events")||{})[t.type]&&Bt.get(a,"handle"),c&&c.apply(a,n),c=u&&a[u],c&&c.apply&&Wt(a)&&(t.result=c.apply(a,n),t.result===!1&&t.preventDefault());return t.type=p,i||t.isDefaultPrevented()||h._default&&h._default.apply(f.pop(),n)!==!1||!Wt(r)||u&&yt(r[p])&&!bt(r)&&(s=r[u],s&&(r[u]=null),xt.event.triggered=p,t.isPropagationStopped()&&d.addEventListener(p,On),r[p](),t.isPropagationStopped()&&d.removeEventListener(p,On),xt.event.triggered=void 0,s&&(r[u]=s)),t.result}},simulate:function(e,t,n){var r=xt.extend(new xt.Event,n,{type:e,isSimulated:!0});xt.event.trigger(r,null,t)}}),xt.fn.extend({trigger:function(e,t){return this.each(function(){xt.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];return n?xt.event.trigger(e,t,n,!0):void 0}}),vt.focusin||xt.each({focus:"focusin",blur:"focusout"},function(e,t){var n=function(e){xt.event.simulate(t,e.target,xt.event.fix(e))};xt.event.special[t]={setup:function(){var r=this.ownerDocument||this,i=Bt.access(r,t);i||r.addEventListener(e,n,!0),Bt.access(r,t,(i||0)+1)},teardown:function(){var r=this.ownerDocument||this,i=Bt.access(r,t)-1;i?Bt.access(r,t,i):(r.removeEventListener(e,n,!0),Bt.remove(r,t))}}});var An=e.location,Ln=Date.now(),Dn=/\?/;xt.parseXML=function(t){var n;if(!t||"string"!=typeof t)return null;try{n=(new e.DOMParser).parseFromString(t,"text/xml")}catch(r){n=void 0}return(!n||n.getElementsByTagName("parsererror").length)&&xt.error("Invalid XML: "+t),n};var Pn=/\[\]$/,Hn=/\r?\n/g,Nn=/^(?:submit|button|image|reset|file)$/i,In=/^(?:input|select|textarea|keygen)/i;xt.param=function(e,t){var n,r=[],i=function(e,t){var n=yt(t)?t():t;r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==n?"":n)};if(Array.isArray(e)||e.jquery&&!xt.isPlainObject(e))xt.each(e,function(){i(this.name,this.value)});else for(n in e)Q(n,e[n],t,i);return r.join("&")},xt.fn.extend({serialize:function(){return xt.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=xt.prop(this,"elements");return e?xt.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!xt(this).is(":disabled")&&In.test(this.nodeName)&&!Nn.test(e)&&(this.checked||!Jt.test(e))}).map(function(e,t){var n=xt(this).val();return null==n?null:Array.isArray(n)?xt.map(n,function(e){return{name:t.name,value:e.replace(Hn,"\r\n")}}):{name:t.name,value:n.replace(Hn,"\r\n")}}).get()}});var jn=/%20/g,Fn=/#.*$/,Wn=/([?&])_=[^&]*/,Bn=/^(.*?):[ \t]*([^\r\n]*)$/gm,zn=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Un=/^(?:GET|HEAD)$/,Vn=/^\/\//,qn={},$n={},Yn="*/".concat("*"),Gn=at.createElement("a");Gn.href=An.href,xt.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:An.href,type:"GET",isLocal:zn.test(An.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Yn,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":xt.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?nt(nt(e,xt.ajaxSettings),t):nt(xt.ajaxSettings,e)},ajaxPrefilter:et(qn),ajaxTransport:et($n),ajax:function(t,n){function r(t,n,r,s){var u,d,f,w,C,x=n;c||(c=!0,l&&e.clearTimeout(l),i=void 0,a=s||"",k.readyState=t>0?4:0,u=t>=200&&300>t||304===t,r&&(w=rt(p,k,r)),w=it(p,w,k,u),u?(p.ifModified&&(C=k.getResponseHeader("Last-Modified"),C&&(xt.lastModified[o]=C),C=k.getResponseHeader("etag"),C&&(xt.etag[o]=C)),204===t||"HEAD"===p.type?x="nocontent":304===t?x="notmodified":(x=w.state,d=w.data,f=w.error,u=!f)):(f=x,(t||!x)&&(x="error",0>t&&(t=0))),k.status=t,k.statusText=(n||x)+"",u?v.resolveWith(m,[d,x,k]):v.rejectWith(m,[k,x,f]),k.statusCode(b),b=void 0,h&&g.trigger(u?"ajaxSuccess":"ajaxError",[k,p,u?d:f]),y.fireWith(m,[k,x]),h&&(g.trigger("ajaxComplete",[k,p]),--xt.active||xt.event.trigger("ajaxStop")))}"object"==typeof t&&(n=t,t=void 0),n=n||{};var i,o,a,s,l,u,c,h,d,f,p=xt.ajaxSetup({},n),m=p.context||p,g=p.context&&(m.nodeType||m.jquery)?xt(m):xt.event,v=xt.Deferred(),y=xt.Callbacks("once memory"),b=p.statusCode||{},w={},C={},x="canceled",k={readyState:0,getResponseHeader:function(e){var t;if(c){if(!s)for(s={};t=Bn.exec(a);)s[t[1].toLowerCase()]=t[2];t=s[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return c?a:null},setRequestHeader:function(e,t){return null==c&&(e=C[e.toLowerCase()]=C[e.toLowerCase()]||e,w[e]=t),this},overrideMimeType:function(e){return null==c&&(p.mimeType=e),this},statusCode:function(e){var t;if(e)if(c)k.always(e[k.status]);else for(t in e)b[t]=[b[t],e[t]];return this},abort:function(e){var t=e||x;return i&&i.abort(t),r(0,t),this}};if(v.promise(k),p.url=((t||p.url||An.href)+"").replace(Vn,An.protocol+"//"),p.type=n.method||n.type||p.method||p.type,p.dataTypes=(p.dataType||"*").toLowerCase().match(Pt)||[""],null==p.crossDomain){u=at.createElement("a");try{u.href=p.url,u.href=u.href,p.crossDomain=Gn.protocol+"//"+Gn.host!=u.protocol+"//"+u.host}catch(S){p.crossDomain=!0}}if(p.data&&p.processData&&"string"!=typeof p.data&&(p.data=xt.param(p.data,p.traditional)),tt(qn,p,n,k),c)return k;h=xt.event&&p.global,h&&0===xt.active++&&xt.event.trigger("ajaxStart"),p.type=p.type.toUpperCase(),p.hasContent=!Un.test(p.type),o=p.url.replace(Fn,""),p.hasContent?p.data&&p.processData&&0===(p.contentType||"").indexOf("application/x-www-form-urlencoded")&&(p.data=p.data.replace(jn,"+")):(f=p.url.slice(o.length),p.data&&(p.processData||"string"==typeof p.data)&&(o+=(Dn.test(o)?"&":"?")+p.data,delete p.data),p.cache===!1&&(o=o.replace(Wn,"$1"),f=(Dn.test(o)?"&":"?")+"_="+Ln++ +f),p.url=o+f),p.ifModified&&(xt.lastModified[o]&&k.setRequestHeader("If-Modified-Since",xt.lastModified[o]),xt.etag[o]&&k.setRequestHeader("If-None-Match",xt.etag[o])),(p.data&&p.hasContent&&p.contentType!==!1||n.contentType)&&k.setRequestHeader("Content-Type",p.contentType),k.setRequestHeader("Accept",p.dataTypes[0]&&p.accepts[p.dataTypes[0]]?p.accepts[p.dataTypes[0]]+("*"!==p.dataTypes[0]?", "+Yn+"; q=0.01":""):p.accepts["*"]);for(d in p.headers)k.setRequestHeader(d,p.headers[d]);if(p.beforeSend&&(p.beforeSend.call(m,k,p)===!1||c))return k.abort();if(x="abort",y.add(p.complete),k.done(p.success),k.fail(p.error),i=tt($n,p,n,k)){if(k.readyState=1,h&&g.trigger("ajaxSend",[k,p]),c)return k;p.async&&p.timeout>0&&(l=e.setTimeout(function(){k.abort("timeout")},p.timeout));try{c=!1,i.send(w,r)}catch(S){if(c)throw S;r(-1,S)}}else r(-1,"No Transport");return k},getJSON:function(e,t,n){return xt.get(e,t,n,"json")},getScript:function(e,t){return xt.get(e,void 0,t,"script")}}),xt.each(["get","post"],function(e,t){xt[t]=function(e,n,r,i){return yt(n)&&(i=i||r,r=n,n=void 0),xt.ajax(xt.extend({url:e,type:t,dataType:i,data:n,success:r},xt.isPlainObject(e)&&e))}}),xt._evalUrl=function(e){return xt.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,"throws":!0})},xt.fn.extend({wrapAll:function(e){var t;return this[0]&&(yt(e)&&(e=e.call(this[0])),t=xt(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this},wrapInner:function(e){return yt(e)?this.each(function(t){xt(this).wrapInner(e.call(this,t))}):this.each(function(){var t=xt(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=yt(e);return this.each(function(n){xt(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(e){return this.parent(e).not("body").each(function(){xt(this).replaceWith(this.childNodes)}),this}}),xt.expr.pseudos.hidden=function(e){return!xt.expr.pseudos.visible(e)},xt.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},xt.ajaxSettings.xhr=function(){try{return new e.XMLHttpRequest}catch(t){}};var Kn={0:200,1223:204},Xn=xt.ajaxSettings.xhr();vt.cors=!!Xn&&"withCredentials"in Xn,vt.ajax=Xn=!!Xn,xt.ajaxTransport(function(t){var n,r;return vt.cors||Xn&&!t.crossDomain?{send:function(i,o){var a,s=t.xhr();if(s.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(a in t.xhrFields)s[a]=t.xhrFields[a];t.mimeType&&s.overrideMimeType&&s.overrideMimeType(t.mimeType),t.crossDomain||i["X-Requested-With"]||(i["X-Requested-With"]="XMLHttpRequest");for(a in i)s.setRequestHeader(a,i[a]);n=function(e){return function(){n&&(n=r=s.onload=s.onerror=s.onabort=s.ontimeout=s.onreadystatechange=null,"abort"===e?s.abort():"error"===e?"number"!=typeof s.status?o(0,"error"):o(s.status,s.statusText):o(Kn[s.status]||s.status,s.statusText,"text"!==(s.responseType||"text")||"string"!=typeof s.responseText?{binary:s.response}:{text:s.responseText},s.getAllResponseHeaders()))}},s.onload=n(),r=s.onerror=s.ontimeout=n("error"),void 0!==s.onabort?s.onabort=r:s.onreadystatechange=function(){4===s.readyState&&e.setTimeout(function(){n&&r()})},n=n("abort");try{s.send(t.hasContent&&t.data||null)}catch(l){if(n)throw l}},abort:function(){n&&n()}}:void 0}),xt.ajaxPrefilter(function(e){e.crossDomain&&(e.contents.script=!1)}),xt.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return xt.globalEval(e),e}}}),xt.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),xt.ajaxTransport("script",function(e){if(e.crossDomain){var t,n;return{send:function(r,i){t=xt("<script>").prop({charset:e.scriptCharset,src:e.url}).on("load error",n=function(e){t.remove(),n=null,e&&i("error"===e.type?404:200,e.type)}),at.head.appendChild(t[0])},abort:function(){n&&n()}}}});var Jn=[],Zn=/(=)\?(?=&|$)|\?\?/;xt.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Jn.pop()||xt.expando+"_"+Ln++;return this[e]=!0,e}}),xt.ajaxPrefilter("json jsonp",function(t,n,r){var i,o,a,s=t.jsonp!==!1&&(Zn.test(t.url)?"url":"string"==typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&Zn.test(t.data)&&"data");return s||"jsonp"===t.dataTypes[0]?(i=t.jsonpCallback=yt(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,s?t[s]=t[s].replace(Zn,"$1"+i):t.jsonp!==!1&&(t.url+=(Dn.test(t.url)?"&":"?")+t.jsonp+"="+i),t.converters["script json"]=function(){return a||xt.error(i+" was not called"),a[0]},t.dataTypes[0]="json",o=e[i],e[i]=function(){a=arguments},r.always(function(){void 0===o?xt(e).removeProp(i):e[i]=o,t[i]&&(t.jsonpCallback=n.jsonpCallback,Jn.push(i)),a&&yt(o)&&o(a[0]),a=o=void 0}),"script"):void 0}),vt.createHTMLDocument=function(){var e=at.implementation.createHTMLDocument("").body;return e.innerHTML="<form></form><form></form>",2===e.childNodes.length}(),xt.parseHTML=function(e,t,n){if("string"!=typeof e)return[];"boolean"==typeof t&&(n=t,t=!1);var r,i,o;return t||(vt.createHTMLDocument?(t=at.implementation.createHTMLDocument(""),r=t.createElement("base"),r.href=at.location.href,t.head.appendChild(r)):t=at),i=Mt.exec(e),o=!n&&[],i?[t.createElement(i[1])]:(i=k([e],t,o),o&&o.length&&xt(o).remove(),xt.merge([],i.childNodes))},xt.fn.load=function(e,t,n){var r,i,o,a=this,s=e.indexOf(" ");return s>-1&&(r=X(e.slice(s)),e=e.slice(0,s)),yt(t)?(n=t,t=void 0):t&&"object"==typeof t&&(i="POST"),a.length>0&&xt.ajax({url:e,type:i||"GET",dataType:"html",data:t}).done(function(e){o=arguments,a.html(r?xt("<div>").append(xt.parseHTML(e)).find(r):e)}).always(n&&function(e,t){a.each(function(){n.apply(this,o||[e.responseText,t,e])})}),this},xt.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){xt.fn[t]=function(e){return this.on(t,e)}}),xt.expr.pseudos.animated=function(e){return xt.grep(xt.timers,function(t){return e===t.elem}).length},xt.offset={setOffset:function(e,t,n){var r,i,o,a,s,l,u,c=xt.css(e,"position"),h=xt(e),d={};"static"===c&&(e.style.position="relative"),s=h.offset(),o=xt.css(e,"top"),l=xt.css(e,"left"),u=("absolute"===c||"fixed"===c)&&(o+l).indexOf("auto")>-1,u?(r=h.position(),a=r.top,i=r.left):(a=parseFloat(o)||0,i=parseFloat(l)||0),yt(t)&&(t=t.call(e,n,xt.extend({},s))),null!=t.top&&(d.top=t.top-s.top+a),null!=t.left&&(d.left=t.left-s.left+i),"using"in t?t.using.call(e,d):h.css(d)}},xt.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){xt.offset.setOffset(this,e,t)});var t,n,r=this[0];if(r)return r.getClientRects().length?(t=r.getBoundingClientRect(),n=r.ownerDocument.defaultView,{top:t.top+n.pageYOffset,left:t.left+n.pageXOffset}):{top:0,left:0}},position:function(){if(this[0]){var e,t,n,r=this[0],i={top:0,left:0};if("fixed"===xt.css(r,"position"))t=r.getBoundingClientRect();else{for(t=this.offset(),n=r.ownerDocument,e=r.offsetParent||n.documentElement;e&&(e===n.body||e===n.documentElement)&&"static"===xt.css(e,"position");)e=e.parentNode;e&&e!==r&&1===e.nodeType&&(i=xt(e).offset(),i.top+=xt.css(e,"borderTopWidth",!0),i.left+=xt.css(e,"borderLeftWidth",!0))}return{top:t.top-i.top-xt.css(r,"marginTop",!0),left:t.left-i.left-xt.css(r,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent;e&&"static"===xt.css(e,"position");)e=e.offsetParent;return e||nn})}}),xt.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var n="pageYOffset"===t;xt.fn[e]=function(r){return It(this,function(e,r,i){var o;return bt(e)?o=e:9===e.nodeType&&(o=e.defaultView),void 0===i?o?o[t]:e[r]:(o?o.scrollTo(n?o.pageXOffset:i,n?i:o.pageYOffset):e[r]=i,void 0)},e,r,arguments.length)}}),xt.each(["top","left"],function(e,t){xt.cssHooks[t]=N(vt.pixelPosition,function(e,n){return n?(n=H(e,t),hn.test(n)?xt(e).position()[t]+"px":n):void 0})}),xt.each({Height:"height",Width:"width"},function(e,t){xt.each({padding:"inner"+e,content:t,"":"outer"+e},function(n,r){xt.fn[r]=function(i,o){var a=arguments.length&&(n||"boolean"!=typeof i),s=n||(i===!0||o===!0?"margin":"border");return It(this,function(t,n,i){var o;return bt(t)?0===r.indexOf("outer")?t["inner"+e]:t.document.documentElement["client"+e]:9===t.nodeType?(o=t.documentElement,Math.max(t.body["scroll"+e],o["scroll"+e],t.body["offset"+e],o["offset"+e],o["client"+e])):void 0===i?xt.css(t,n,s):xt.style(t,n,i,s)},t,a?i:void 0,a)}})}),xt.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(e,t){xt.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),xt.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),xt.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}}),xt.proxy=function(e,t){var n,r,i;return"string"==typeof t&&(n=e[t],t=e,e=n),yt(e)?(r=lt.call(arguments,2),i=function(){return e.apply(t||this,r.concat(lt.call(arguments)))},i.guid=e.guid=e.guid||xt.guid++,i):void 0},xt.holdReady=function(e){e?xt.readyWait++:xt.ready(!0)},xt.isArray=Array.isArray,xt.parseJSON=JSON.parse,xt.nodeName=o,xt.isFunction=yt,xt.isWindow=bt,xt.camelCase=p,xt.type=r,xt.now=Date.now,xt.isNumeric=function(e){var t=xt.type(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))},"function"==typeof define&&define.amd&&define("jquery",[],function(){return xt});var Qn=e.jQuery,er=e.$;return xt.noConflict=function(t){return e.$===xt&&(e.$=er),t&&e.jQuery===xt&&(e.jQuery=Qn),xt},t||(e.jQuery=e.$=xt),xt})},{}],88:[function(e,t){t.exports=e("./lib/js-yaml.js")},{"./lib/js-yaml.js":89}],89:[function(e,t){"use strict";function n(e){return function(){throw new Error("Function "+e+" is deprecated and cannot be used.")}}var r=e("./js-yaml/loader"),i=e("./js-yaml/dumper");t.exports.NIL=e("./js-yaml/common").NIL,t.exports.Type=e("./js-yaml/type"),t.exports.Schema=e("./js-yaml/schema"),t.exports.FAILSAFE_SCHEMA=e("./js-yaml/schema/failsafe"),t.exports.JSON_SCHEMA=e("./js-yaml/schema/json"),t.exports.CORE_SCHEMA=e("./js-yaml/schema/core"),t.exports.DEFAULT_SAFE_SCHEMA=e("./js-yaml/schema/default_safe"),t.exports.DEFAULT_FULL_SCHEMA=e("./js-yaml/schema/default_full"),t.exports.load=r.load,t.exports.loadAll=r.loadAll,t.exports.safeLoad=r.safeLoad,t.exports.safeLoadAll=r.safeLoadAll,t.exports.dump=i.dump,t.exports.safeDump=i.safeDump,t.exports.YAMLException=e("./js-yaml/exception"),t.exports.MINIMAL_SCHEMA=e("./js-yaml/schema/failsafe"),t.exports.SAFE_SCHEMA=e("./js-yaml/schema/default_safe"),t.exports.DEFAULT_SCHEMA=e("./js-yaml/schema/default_full"),t.exports.scan=n("scan"),t.exports.parse=n("parse"),t.exports.compose=n("compose"),t.exports.addConstructor=n("addConstructor"),e("./js-yaml/require")},{"./js-yaml/common":90,"./js-yaml/dumper":91,"./js-yaml/exception":92,"./js-yaml/loader":93,"./js-yaml/require":95,"./js-yaml/schema":96,"./js-yaml/schema/core":97,"./js-yaml/schema/default_full":98,"./js-yaml/schema/default_safe":99,"./js-yaml/schema/failsafe":100,"./js-yaml/schema/json":101,"./js-yaml/type":102}],90:[function(e,t){"use strict";function n(e){return void 0===e||null===e}function r(e){return"object"==typeof e&&null!==e}function i(e){return Array.isArray(e)?e:n(e)?[]:[e]}function o(e,t){var n,r,i,o;if(t)for(o=Object.keys(t),n=0,r=o.length;r>n;n+=1)i=o[n],e[i]=t[i];return e}function a(e,t){var n,r="";for(n=0;t>n;n+=1)r+=e;return r}var s={};t.exports.NIL=s,t.exports.isNothing=n,t.exports.isObject=r,t.exports.toArray=i,t.exports.repeat=a,t.exports.extend=o},{}],91:[function(e,t){"use strict";function n(e){var t=typeof e;return null===e?"null":"number"===t?0===e%1?"integer":"float":"object"===t&&Array.isArray(e)?"array":t}function r(e,t){var n,r,i,o,a,s,l;if(null===t)return{};for(n={},r=Object.keys(t),i=0,o=r.length;o>i;i+=1)a=r[i],s=String(t[a]),"!!"===a.slice(0,2)&&(a="tag:yaml.org,2002:"+a.slice(2)),l=e.compiledTypeMap[a],l&&l.dumper&&d.call(l.dumper.styleAliases,s)&&(s=l.dumper.styleAliases[s]),n[a]=s;return n}function i(e){var t,n,r;if(t=e.toString(16).toUpperCase(),255>=e)n="x",r=2;else if(65535>=e)n="u",r=4;else{if(!(4294967295>=e))throw new u("code point within a string may not be greater than 0xFFFFFFFF");n="U",r=8}return"\\"+n+s.repeat("0",r-t.length)+t}function o(e,t){function o(e){return"\n"+s.repeat(" ",Y*e)}function a(e){var t,n,r;for(t=0,n=J.length;n>t;t+=1)if(r=J[t],null!==r.loader&&l!==r.loader.resolver(e,!1))return!0;return!1}function h(e){var t,n,r,o,s,l;for(q="",t=!1,n=0,l=/^(y|Y|yes|Yes|YES|n|N|no|No|NO|true|True|TRUE|false|False|FALSE|on|On|ON|off|Off|OFF)$/,(0===e.length||g===e.charCodeAt(0)||g===e.charCodeAt(e.length-1))&&(t=!0),r=0,o=e.length;o>r;r+=1)s=e.charCodeAt(r),t||(f===s||p===s||m===s||S===s||O===s||A===s||D===s||H===s||b===s||C===s||k===s||v===s||P===s||E===s||x===s||y===s||w===s||R===s||L===s||M===s||T===s||_===s)&&(t=!0),(N[s]||!(s>=32&&126>=s||133===s||s>=160&&55295>=s||s>=57344&&65533>=s||s>=65536&&1114111>=s))&&(q+=e.slice(n,r),q+=N[s]||i(s),n=r+1,t=!0);r>n&&(q+=e.slice(n,r)),!t&&a(q)&&(t=!0),!t&&l.test(e)&&(t=!0),t&&(q='"'+q+'"')}function I(e,t){var n,r,i="",o=V;for(n=0,r=t.length;r>n;n+=1)z(e,t[n],!1,!1)&&(0!==n&&(i+=", "),i+=q);V=o,q="["+i+"]"}function j(e,t,n){var r,i,a="",s=V;for(r=0,i=t.length;i>r;r+=1)z(e+1,t[r],!0,!0)&&(n&&0===r||(a+=o(e)),a+="- "+q);V=s,q=a||"[]"}function F(e,t){var n,r,i,o,a,s="",l=V,u=Object.keys(t);for(n=0,r=u.length;r>n;n+=1)a="",0!==n&&(a+=", "),i=u[n],o=t[i],z(e,i,!1,!1)&&(q.length>1024&&(a+="? "),a+=q+": ",z(e,o,!1,!1)&&(a+=q,s+=a));V=l,q="{"+s+"}"}function W(e,t,n){var r,i,a,s,l,u,c="",h=V,d=Object.keys(t);for(r=0,i=d.length;i>r;r+=1)u="",n&&0===r||(u+=o(e)),a=d[r],s=t[a],z(e+1,a,!0,!0)&&(l=null!==V&&"?"!==V&&q.length<=1024,l&&(u+="? "),u+=q,l&&(u+=o(e)),z(e+1,s,!0,l)&&(u+=": "+q,c+=u));V=h,q=c||"{}"}function B(e,t){var r,i,o,a,s,c;for(i=t?Z:J,U=n(e),o=0,a=i.length;a>o;o+=1)if(s=i[o],null!==s.dumper&&(null===s.dumper.kind||U===s.dumper.kind)&&(null===s.dumper.instanceOf||e instanceof s.dumper.instanceOf)&&(null===s.dumper.predicate||s.dumper.predicate(e))){if(V=t?s.tag:"?",null!==s.dumper.representer){if(c=X[s.tag]||s.dumper.defaultStyle,"function"==typeof s.dumper.representer)r=s.dumper.representer(e,c);else{if(!d.call(s.dumper.representer,c))throw new u("!<"+s.tag+'> tag resolver accepts not "'+c+'" style');r=s.dumper.representer[c](e,c)}if(l===r){if(t)throw new u("cannot represent an object of !<"+s.tag+"> type");continue}U=n(r),q=r}return!0}return!1}function z(e,t,n,r){if(V=null,q=t,B(t,!1)||B(t,!0),n&&(n=0>K||K>e),(null!==V&&"?"!==V||2!==Y&&e>0)&&(r=!1),"object"===U)n&&0!==Object.keys(q).length?W(e,q,r):F(e,q);else if("array"===U)n&&0!==q.length?j(e,q,r):I(e,q);else{if("string"!==U){if(G)return!1;throw new u("unacceptabe kind of an object to dump ("+U+")")}"?"!==V&&h(q)}return null!==V&&"?"!==V&&(q="!<"+V+"> "+q),!0}t=t||{};var U,V,q,$=t.schema||c,Y=Math.max(1,t.indent||2),G=t.skipInvalid||!1,K=s.isNothing(t.flowLevel)?-1:t.flowLevel,X=r($,t.styles||null),J=$.compiledImplicit,Z=$.compiledExplicit;return z(0,e,!0,!0)?q+"\n":""}function a(e,t){return o(e,s.extend({schema:h},t))}var s=e("./common"),l=s.NIL,u=e("./exception"),c=e("./schema/default_full"),h=e("./schema/default_safe"),d=Object.prototype.hasOwnProperty,f=9,p=10,m=13,g=32,v=33,y=34,b=35,w=37,C=38,x=39,k=42,S=44,_=45,T=58,E=62,M=63,R=64,O=91,A=93,L=96,D=123,P=124,H=125,N={};N[0]="\\0",N[7]="\\a",N[8]="\\b",N[9]="\\t",N[10]="\\n",N[11]="\\v",N[12]="\\f",N[13]="\\r",N[27]="\\e",N[34]='\\"',N[92]="\\\\",N[133]="\\N",N[160]="\\_",N[8232]="\\L",N[8233]="\\P",t.exports.dump=o,t.exports.safeDump=a},{"./common":90,"./exception":92,"./schema/default_full":98,"./schema/default_safe":99}],92:[function(e,t){"use strict";function n(e,t){this.name="YAMLException",this.reason=e,this.mark=t,this.message=this.toString(!1)}n.prototype.toString=function(e){var t;
return t="JS-YAML: "+(this.reason||"(unknown reason)"),!e&&this.mark&&(t+=" "+this.mark.toString()),t},t.exports=n},{}],93:[function(e,t){"use strict";function n(e,t,n){function r(t){return new s(t,new l(Nt,e,$t,Yt,$t-Gt))}function i(e){throw r(e)}function o(e){var t=r(e);if(Wt)throw t;console.warn(t.toString())}function c(t,n,r){var o,a,s,l;if(n>t){if(l=e.slice(t,n),r&&Ft)for(o=0,a=l.length;a>o;o+=1)s=l.charCodeAt(o),9===s||s>=32&&1114111>=s||i("expected valid JSON character");Ht+=l}}function j(e,t){var n,r,o,s;for(a.isObject(t)||i("cannot merge mappings; the provided source object is unacceptable"),n=Object.keys(t),o=0,s=n.length;s>o;o+=1)r=n[o],d.call(e,r)||(e[r]=t[r])}function K(e,t,n,r){var i,o;if(n=String(n),null===e&&(e={}),"tag:yaml.org,2002:merge"===t)if(Array.isArray(r))for(i=0,o=r.length;o>i;i+=1)j(e,r[i]);else j(e,r);else e[n]=r;return e}function X(){S===Xt?$t+=1:_===Xt?$t+=S===e.charCodeAt($t+1)?2:1:i("a line break is expected"),Yt+=1,Gt=$t,Xt=e.charCodeAt($t)}function J(t,n){for(var r=0;qt>$t;){for(;T===Xt||k===Xt;)Xt=e.charCodeAt(++$t);if(t&&R===Xt)do Xt=e.charCodeAt(++$t);while(qt>$t&&S!==Xt&&_!==Xt);if(S!==Xt&&_!==Xt)break;for(X(),r+=1,Kt=0;T===Xt;)Kt+=1,Xt=e.charCodeAt(++$t);n>Kt&&o("deficient indentation")}return r}function Z(){var t,n;return $t===Gt&&(N===Xt||I===Xt)&&e.charCodeAt($t+1)===Xt&&e.charCodeAt($t+2)===Xt&&(t=$t+3,n=e.charCodeAt(t),t>=qt||T===n||k===n||S===n||_===n)?!0:!1}function nt(e){1===e?Ht+=" ":e>1&&(Ht+=a.repeat("\n",e-1))}function ot(t,n){var r,i,o,a,s,l,u,h,d=Pt,p=Ht;if(T===Xt||k===Xt||S===Xt||_===Xt||H===Xt||Q===Xt||tt===Xt||pt===Xt||gt===Xt||R===Xt||A===Xt||D===Xt||E===Xt||mt===Xt||V===Xt||L===Xt||M===Xt||O===Xt||$===Xt||rt===Xt)return!1;if((q===Xt||N===Xt)&&(i=e.charCodeAt($t+1),T===i||k===i||S===i||_===i||n&&(H===i||Q===i||tt===i||pt===i||gt===i)))return!1;for(Pt=f,Ht="",o=a=$t,s=!1;qt>$t;){if(z===Xt){if(i=e.charCodeAt($t+1),T===i||k===i||S===i||_===i||n&&(H===i||Q===i||tt===i||pt===i||gt===i))break}else if(R===Xt){if(r=e.charCodeAt($t-1),T===r||k===r||S===r||_===r)break}else{if($t===Gt&&Z()||n&&(H===Xt||Q===Xt||tt===Xt||pt===Xt||gt===Xt))break;if(S===Xt||_===Xt){if(l=Yt,u=Gt,h=Kt,J(!1,-1),Kt>=t){s=!0;continue}$t=a,Yt=l,Gt=u,Kt=h,Xt=e.charCodeAt($t);break}}s&&(c(o,a,!1),nt(Yt-l),o=a=$t,s=!1),T!==Xt&&k!==Xt&&(a=$t+1),Xt=e.charCodeAt(++$t)}return c(o,a,!1),Ht?!0:(Pt=d,Ht=p,!1)}function at(t){var n,r;if(L!==Xt)return!1;for(Pt=f,Ht="",Xt=e.charCodeAt(++$t),n=r=$t;qt>$t;)if(L===Xt){if(c(n,$t,!0),Xt=e.charCodeAt(++$t),L!==Xt)return!0;n=r=$t,Xt=e.charCodeAt(++$t)}else S===Xt||_===Xt?(c(n,r,!0),nt(J(!1,t)),n=r=$t,Xt=e.charCodeAt($t)):$t===Gt&&Z()?i("unexpected end of the document within a single quoted scalar"):(Xt=e.charCodeAt(++$t),r=$t);i("unexpected end of the stream within a single quoted scalar")}function lt(t){var n,r,o,a,s,l;if(M!==Xt)return!1;for(Pt=f,Ht="",Xt=e.charCodeAt(++$t),n=r=$t;qt>$t;){if(M===Xt)return c(n,$t,!0),Xt=e.charCodeAt(++$t),!0;if(et===Xt){if(c(n,$t,!0),Xt=e.charCodeAt(++$t),S===Xt||_===Xt)J(!1,t);else if(vt[Xt])Ht+=vt[Xt],Xt=e.charCodeAt(++$t);else if(yt[Xt]){for(o=yt[Xt],l=0,a=1;o>=a;a+=1)s=4*(o-a),Xt=e.charCodeAt(++$t),Xt>=F&&B>=Xt?l|=Xt-F<<s:Xt>=Y&&G>=Xt?l|=Xt-Y+10<<s:Xt>=it&&st>=Xt?l|=Xt-it+10<<s:i("expected hexadecimal character");Ht+=String.fromCharCode(l),Xt=e.charCodeAt(++$t)}else i("unknown escape sequence");n=r=$t}else S===Xt||_===Xt?(c(n,r,!0),nt(J(!1,t)),n=r=$t,Xt=e.charCodeAt($t)):$t===Gt&&Z()?i("unexpected end of the document within a double quoted scalar"):(Xt=e.charCodeAt(++$t),r=$t)}i("unexpected end of the stream within a double quoted scalar")}function ut(t){var n,r,o,a,s,l,u,c,h,d,f=!0,v=Lt;switch(Xt){case Q:a=tt,u=!1,r=[];break;case pt:a=gt,u=!0,r={};break;default:return!1}for(null!==Dt&&(At[Dt]=r),Xt=e.charCodeAt(++$t);qt>$t;){if(J(!0,t),Xt===a)return Xt=e.charCodeAt(++$t),Lt=v,Pt=u?m:p,Ht=r,!0;f||i("missed comma between flow collection entries"),h=c=d=null,s=l=!1,q===Xt&&(o=e.charCodeAt($t+1),(T===o||k===o||S===o||_===o)&&(s=l=!0,$t+=1,Xt=o,J(!0,t))),n=Yt,Tt(t,g,!1,!0),h=Lt,c=Ht,!l&&Yt!==n||z!==Xt||(s=!0,Xt=e.charCodeAt(++$t),J(!0,t),Tt(t,g,!1,!0),d=Ht),u?K(r,h,c,d):s?r.push(K(null,h,c,d)):r.push(c),J(!0,t),H===Xt?(f=!0,Xt=e.charCodeAt(++$t)):f=!1}i("unexpected end of the stream within a flow collection")}function ct(t){var n,r,o=w,s=!1,l=t,u=-1;switch(Xt){case mt:r=!1;break;case V:r=!0;break;default:return!1}for(Pt=f,Ht="";qt>$t;)if(Xt=e.charCodeAt(++$t),P===Xt||N===Xt)w===o?o=P===Xt?x:C:i("repeat of a chomping mode identifier");else{if(!(Xt>=F&&B>=Xt))break;F===Xt?i("bad explicit indentation width of a block scalar; it cannot be less than one"):s?i("repeat of an indentation width identifier"):(l=t+(Xt-W),s=!0)}if(T===Xt||k===Xt){do Xt=e.charCodeAt(++$t);while(T===Xt||k===Xt);if(R===Xt)do Xt=e.charCodeAt(++$t);while(qt>$t&&S!==Xt&&_!==Xt)}for(;qt>$t;){for(X(),Kt=0;(!s||l>Kt)&&T===Xt;)Kt+=1,Xt=e.charCodeAt(++$t);if(!s&&Kt>l&&(l=Kt),S!==Xt&&_!==Xt){if(l>Kt){x===o?Ht+=a.repeat("\n",u+1):w===o&&(Ht+="\n");break}s=!0,r?T===Xt||k===Xt?(Ht+=a.repeat("\n",u+1),u=1):0===u?(Ht+=" ",u=0):(Ht+=a.repeat("\n",u),u=0):(Ht+=a.repeat("\n",u+1),u=0),n=$t;do Xt=e.charCodeAt(++$t);while(qt>$t&&S!==Xt&&_!==Xt);c(n,$t,!1)}else u+=1}return!0}function ht(t){var n,r,o=Lt,a=[],s=!1;for(null!==Dt&&(At[Dt]=a);qt>$t&&N===Xt&&(r=e.charCodeAt($t+1),T===r||k===r||S===r||_===r);)if(s=!0,$t+=1,Xt=r,J(!0,-1)&&t>=Kt)a.push(null);else if(n=Yt,Tt(t,y,!1,!0),a.push(Ht),J(!0,-1),(Yt===n||Kt>t)&&qt>$t)i("bad indentation of a sequence entry");else if(t>Kt)break;return s?(Lt=o,Pt=p,Ht=a,!0):!1}function dt(t){var n,r,o,a=Lt,s={},l=null,u=null,c=null,h=!1,d=!1;for(null!==Dt&&(At[Dt]=s);qt>$t;){if(n=e.charCodeAt($t+1),o=Yt,q!==Xt&&z!==Xt||T!==n&&k!==n&&S!==n&&_!==n){if(!Tt(t,v,!1,!0))break;if(Yt===o){for(;T===Xt||k===Xt;)Xt=e.charCodeAt(++$t);if(z===Xt)Xt=e.charCodeAt(++$t),T!==Xt&&k!==Xt&&S!==Xt&&_!==Xt&&i("a whitespace character is expected after the key-value separator within a block mapping"),h&&(K(s,l,u,null),l=u=c=null),d=!0,h=!1,r=!1,l=Lt,u=Ht;else{if(!d)return Lt=a,!0;i("can not read an implicit mapping pair; a colon is missed")}}else{if(!d)return Lt=a,!0;i("can not read a block mapping entry; a multiline key may not be an implicit key")}}else q===Xt?(h&&(K(s,l,u,null),l=u=c=null),d=!0,h=!0,r=!0):h?(h=!1,r=!0):i("incomplete explicit mapping pair; a key node is missed"),$t+=1,Xt=n;if((Yt===o||Kt>t)&&(Tt(t,b,!0,r)&&(h?u=Ht:c=Ht),h||(K(s,l,u,c),l=u=c=null),J(!0,-1)),Kt>t&&qt>$t)i("bad indentation of a mapping entry");else if(t>Kt)break}return h&&K(s,l,u,null),d&&(Lt=a,Pt=m,Ht=s),d}function ft(){var t,n,r,o=!1,a=!1;if(E!==Xt)return!1;if(null!==Lt&&i("duplication of a tag property"),Xt=e.charCodeAt(++$t),U===Xt?(o=!0,Xt=e.charCodeAt(++$t)):E===Xt?(a=!0,n="!!",Xt=e.charCodeAt(++$t)):n="!",t=$t,o){do Xt=e.charCodeAt(++$t);while(qt>$t&&V!==Xt);qt>$t?(r=e.slice(t,$t),Xt=e.charCodeAt(++$t)):i("unexpected end of the stream within a verbatim tag")}else{for(;qt>$t&&T!==Xt&&k!==Xt&&S!==Xt&&_!==Xt;)E===Xt&&(a?i("tag suffix cannot contain exclamation marks"):(n=e.slice(t-1,$t+1),Ft&&!xt.test(n)&&i("named tag handle cannot contain such characters"),a=!0,t=$t+1)),Xt=e.charCodeAt(++$t);r=e.slice(t,$t),Ft&&Ct.test(r)&&i("tag suffix cannot contain flow indicator characters")}return Ft&&r&&!kt.test(r)&&i("tag name cannot contain such characters: "+r),o?Lt=r:d.call(Ot,n)?Lt=Ot[n]+r:"!"===n?Lt="!"+r:"!!"===n?Lt="tag:yaml.org,2002:"+r:i('undeclared tag handle "'+n+'"'),!0}function St(){var t;if(A!==Xt)return!1;for(null!==Dt&&i("duplication of an anchor property"),Xt=e.charCodeAt(++$t),t=$t;qt>$t&&T!==Xt&&k!==Xt&&S!==Xt&&_!==Xt&&H!==Xt&&Q!==Xt&&tt!==Xt&&pt!==Xt&&gt!==Xt;)Xt=e.charCodeAt(++$t);return $t===t&&i("name of an anchor node must contain at least one character"),Dt=e.slice(t,$t),!0}function _t(){var t,n;if(D!==Xt)return!1;for(Xt=e.charCodeAt(++$t),t=$t;qt>$t&&T!==Xt&&k!==Xt&&S!==Xt&&_!==Xt&&H!==Xt&&Q!==Xt&&tt!==Xt&&pt!==Xt&&gt!==Xt;)Xt=e.charCodeAt(++$t);return $t===t&&i("name of an alias node must contain at least one character"),n=e.slice(t,$t),At.hasOwnProperty(n)||i('unidentified alias "'+n+'"'),Ht=At[n],J(!0,-1),!0}function Tt(e,t,n,r){var a,s,l,c,h,f,p,m,w,C,x=!1,k=!0,S=!1;if(Lt=null,Dt=null,Pt=null,Ht=null,a=s=l=b===t||y===t,n&&J(!0,-1))if(x=!0,Kt===e)k=!1;else{if(!(Kt>e))return!1;k=!0}if(k)for(;ft()||St();)if(J(!0,-1))if(x=!0,Kt>e)k=!0,l=a;else{if(Kt!==e)return!0;k=!1,l=a}else l=!1;if(l&&(l=x||r),(k||b===t)&&(m=g===t||v===t?e:e+1,w=$t-Gt,k?l&&(ht(w)||dt(w))||ut(m)?S=!0:(s&&ct(m)||at(m)||lt(m)?S=!0:_t()?(S=!0,(null!==Lt||null!==Dt)&&i("alias node should not have any properties")):ot(m,g===t)&&(S=!0,null===Lt&&(Lt="?")),null!==Dt&&(At[Dt]=Ht)):S=l&&ht(w)),null!==Lt&&"!"!==Lt)if("?"===Lt){if(jt)for(c=0,h=Ut.length;h>c;c+=1)if(f=Ut[c],C=f.loader.resolver(Ht,!1),u!==C){Lt=f.tag,Ht=C;break}}else d.call(Vt,Lt)?(p=Vt[Lt].loader,null!==Ht&&p.kind!==Pt&&i("unacceptable node kind for !<"+Lt+'> tag; it should be "'+p.kind+'", not "'+Pt+'"'),p.resolver&&(C=p.resolver(Ht,!0),u!==C?Ht=C:i("cannot resolve a node with !<"+Lt+"> explicit tag"))):o("unknown tag !<"+Lt+">");return null!==Lt||null!==Dt||S}function Et(){var n,r,a,s=$t,l=!1;for(Mt=null,Rt=Bt,Ot={},At={};qt>$t&&(J(!0,-1),!(Kt>0||O!==Xt));){for(l=!0,Xt=e.charCodeAt(++$t),n=$t;qt>$t&&T!==Xt&&k!==Xt&&S!==Xt&&_!==Xt;)Xt=e.charCodeAt(++$t);for(r=e.slice(n,$t),a=[],r.length<1&&i("directive name must not be less than one character in length");qt>$t;){for(;T===Xt||k===Xt;)Xt=e.charCodeAt(++$t);if(R===Xt){do Xt=e.charCodeAt(++$t);while(qt>$t&&S!==Xt&&_!==Xt);break}if(S===Xt||_===Xt)break;for(n=$t;qt>$t&&T!==Xt&&k!==Xt&&S!==Xt&&_!==Xt;)Xt=e.charCodeAt(++$t);a.push(e.slice(n,$t))}qt>$t&&X(),d.call(zt,r)?zt[r](r,a):o('unknown document directive "'+r+'"')}return J(!0,-1),0===Kt&&N===Xt&&N===e.charCodeAt($t+1)&&N===e.charCodeAt($t+2)?($t+=3,Xt=e.charCodeAt($t),J(!0,-1)):l&&i("directives end mark is expected"),Tt(Kt-1,b,!1,!0),J(!0,-1),Ft&&Rt&&wt.test(e.slice(s,$t))&&o("non-ASCII line breaks are interpreted as content"),t(Ht),$t===Gt&&Z()?(I===Xt&&($t+=3,Xt=e.charCodeAt($t),J(!0,-1)),void 0):(qt>$t&&i("end of the stream or a document separator is expected"),void 0)}n=n||{};var Mt,Rt,Ot,At,Lt,Dt,Pt,Ht,Nt=n.filename||null,It=n.schema||h,jt=n.resolve||!0,Ft=n.validate||!0,Wt=n.strict||!1,Bt=n.legacy||!1,zt={},Ut=It.compiledImplicit,Vt=It.compiledTypeMap,qt=e.length,$t=0,Yt=0,Gt=0,Kt=0,Xt=e.charCodeAt($t);for(zt.YAML=function(e,t){var n,r,a;null!==Mt&&i("duplication of %YAML directive"),1!==t.length&&i("YAML directive accepts exactly one argument"),n=/^([0-9]+)\.([0-9]+)$/.exec(t[0]),null===n&&i("ill-formed argument of the YAML directive"),r=parseInt(n[1],10),a=parseInt(n[2],10),1!==r&&i("unacceptable YAML version of the document"),Mt=t[0],Rt=2>a,1!==a&&2!==a&&o("unsupported YAML version of the document")},zt.TAG=function(e,t){var n,r;2!==t.length&&i("TAG directive accepts exactly two arguments"),n=t[0],r=t[1],xt.test(n)||i("ill-formed tag handle (first argument) of the TAG directive"),d.call(Ot,n)&&i('there is a previously declared suffix for "'+n+'" tag handle'),kt.test(r)||i("ill-formed tag prefix (second argument) of the TAG directive"),Ot[n]=r},Ft&&bt.test(e)&&i("the stream contains non-printable characters");T===Xt;)Kt+=1,Xt=e.charCodeAt(++$t);for(;qt>$t;)Et()}function r(e,t){function r(e){if(o)throw new s("expected a single document in the stream, but found more");i=e,o=!0}var i=null,o=!1;return n(e,r,t),i}function i(e,t,r){n(e,t,a.extend({schema:c},r))}function o(e,t){return r(e,a.extend({schema:c},t))}var a=e("./common"),s=e("./exception"),l=e("./mark"),u=a.NIL,c=e("./schema/default_safe"),h=e("./schema/default_full"),d=Object.prototype.hasOwnProperty,f="string",p="array",m="object",g=1,v=2,y=3,b=4,w=1,C=2,x=3,k=9,S=10,_=13,T=32,E=33,M=34,R=35,O=37,A=38,L=39,D=42,P=43,H=44,N=45,I=46,j=47,F=48,W=49,B=57,z=58,U=60,V=62,q=63,$=64,Y=65,G=70,K=76,X=78,J=80,Z=85,Q=91,et=92,tt=93,nt=95,rt=96,it=97,ot=98,at=101,st=102,lt=110,ut=114,ct=116,ht=117,dt=118,ft=120,pt=123,mt=124,gt=125,vt={};vt[F]="\x00",vt[it]="",vt[ot]="\b",vt[ct]="	",vt[k]="	",vt[lt]="\n",vt[dt]="",vt[st]="\f",vt[ut]="\r",vt[at]="",vt[T]=" ",vt[M]='"',vt[j]="/",vt[et]="\\",vt[X]="",vt[nt]=" ",vt[K]="\u2028",vt[J]="\u2029";var yt={};yt[ft]=2,yt[ht]=4,yt[Z]=8;var bt=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uD800-\uDFFF\uFFFE\uFFFF]/,wt=/[\x85\u2028\u2029]/,Ct=/[,\[\]\{\}]/,xt=/^(?:!|!!|![a-z\-]+!)$/i,kt=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;t.exports.loadAll=n,t.exports.load=r,t.exports.safeLoadAll=i,t.exports.safeLoad=o},{"./common":90,"./exception":92,"./mark":94,"./schema/default_full":98,"./schema/default_safe":99}],94:[function(e,t){"use strict";function n(e,t,n,r,i){this.name=e,this.buffer=t,this.position=n,this.line=r,this.column=i}var r=e("./common");n.prototype.getSnippet=function(e,t){var n,i,o,a,s;if(!this.buffer)return null;for(e=e||4,t=t||75,n="",i=this.position;i>0&&-1==="\x00\r\n\u2028\u2029".indexOf(this.buffer.charAt(i-1));)if(i-=1,this.position-i>t/2-1){n=" ... ",i+=5;break}for(o="",a=this.position;a<this.buffer.length&&-1==="\x00\r\n\u2028\u2029".indexOf(this.buffer.charAt(a));)if(a+=1,a-this.position>t/2-1){o=" ... ",a-=5;break}return s=this.buffer.slice(i,a),r.repeat(" ",e)+n+s+o+"\n"+r.repeat(" ",e+this.position-i+n.length)+"^"},n.prototype.toString=function(e){var t,n="";return this.name&&(n+='in "'+this.name+'" '),n+="at line "+(this.line+1)+", column "+(this.column+1),e||(t=this.getSnippet(),t&&(n+=":\n"+t)),n},t.exports=n},{"./common":90}],95:[function(e,t){"use strict";function n(e,t){var n=r.readFileSync(t,"utf8");e.exports=i.safeLoad(n,{filename:t})}var r=e("fs"),i=e("./loader");void 0!==e.extensions&&(e.extensions[".yml"]=n,e.extensions[".yaml"]=n),t.exports=e},{"./loader":93,fs:62}],96:[function(e,t){"use strict";function n(e,t,r){var i=[];return e.include.forEach(function(e){r=n(e,t,r)}),e[t].forEach(function(e){r.forEach(function(t,n){t.tag===e.tag&&i.push(n)}),r.push(e)}),r.filter(function(e,t){return-1===i.indexOf(t)})}function r(){function e(e){r[e.tag]=e}var t,n,r={};for(t=0,n=arguments.length;n>t;t+=1)arguments[t].forEach(e);return r}function i(e){this.include=e.include||[],this.implicit=e.implicit||[],this.explicit=e.explicit||[],this.implicit.forEach(function(e){if(null!==e.loader&&"string"!==e.loader.kind)throw new a("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.")}),this.compiledImplicit=n(this,"implicit",[]),this.compiledExplicit=n(this,"explicit",[]),this.compiledTypeMap=r(this.compiledImplicit,this.compiledExplicit)}var o=e("./common"),a=e("./exception"),s=e("./type");i.DEFAULT=null,i.create=function(){var e,t;switch(arguments.length){case 1:e=i.DEFAULT,t=arguments[0];break;case 2:e=arguments[0],t=arguments[1];break;default:throw new a("Wrong number of arguments for Schema.create function")}if(e=o.toArray(e),t=o.toArray(t),!e.every(function(e){return e instanceof i}))throw new a("Specified list of super schemas (or a single Schema object) contains a non-Schema object.");if(!t.every(function(e){return e instanceof s}))throw new a("Specified list of YAML types (or a single Type object) contains a non-Type object.");return new i({include:e,explicit:t})},t.exports=i},{"./common":90,"./exception":92,"./type":102}],97:[function(e,t){"use strict";var n=e("../schema");t.exports=new n({include:[e("./json")]})},{"../schema":96,"./json":101}],98:[function(e,t){"use strict";var n=e("../schema");t.exports=n.DEFAULT=new n({include:[e("./default_safe")],explicit:[e("../type/js/undefined"),e("../type/js/regexp"),e("../type/js/function")]})},{"../schema":96,"../type/js/function":107,"../type/js/regexp":108,"../type/js/undefined":109,"./default_safe":99}],99:[function(e,t){"use strict";var n=e("../schema");t.exports=new n({include:[e("./core")],implicit:[e("../type/timestamp"),e("../type/merge")],explicit:[e("../type/binary"),e("../type/omap"),e("../type/pairs"),e("../type/set")]})},{"../schema":96,"../type/binary":103,"../type/merge":111,"../type/omap":113,"../type/pairs":114,"../type/set":116,"../type/timestamp":118,"./core":97}],100:[function(e,t){"use strict";var n=e("../schema");t.exports=new n({explicit:[e("../type/str"),e("../type/seq"),e("../type/map")]})},{"../schema":96,"../type/map":110,"../type/seq":115,"../type/str":117}],101:[function(e,t){"use strict";var n=e("../schema");t.exports=new n({include:[e("./failsafe")],implicit:[e("../type/null"),e("../type/bool"),e("../type/int"),e("../type/float")]})},{"../schema":96,"../type/bool":104,"../type/float":105,"../type/int":106,"../type/null":112,"./failsafe":100}],102:[function(e,t){"use strict";function n(e,t){if(t=t||{},this.tag=e,this.loader=t.loader||null,this.dumper=t.dumper||null,null===this.loader&&null===this.dumper)throw new i('Incomplete YAML type definition. "loader" or "dumper" setting must be specified.');null!==this.loader&&(this.loader=new n.Loader(this.loader)),null!==this.dumper&&(this.dumper=new n.Dumper(this.dumper))}function r(e){var t={};return null!==e&&Object.keys(e).forEach(function(n){e[n].forEach(function(e){t[String(e)]=n})}),t}var i=e("./exception");n.Loader=function(e){if(e=e||{},this.kind=e.kind||null,this.resolver=e.resolver||null,"string"!==this.kind&&"array"!==this.kind&&"object"!==this.kind)throw new i('Unacceptable "kind" setting of a type loader.')},n.Dumper=function(e){if(e=e||{},this.kind=e.kind||null,this.defaultStyle=e.defaultStyle||null,this.instanceOf=e.instanceOf||null,this.predicate=e.predicate||null,this.representer=e.representer||null,this.styleAliases=r(e.styleAliases||null),"undefined"!==this.kind&&"null"!==this.kind&&"boolean"!==this.kind&&"integer"!==this.kind&&"float"!==this.kind&&"string"!==this.kind&&"array"!==this.kind&&"object"!==this.kind&&"function"!==this.kind)throw new i('Unacceptable "kind" setting of a type dumper.')},t.exports=n},{"./exception":92}],103:[function(e,t){"use strict";function n(e){var t,n,r,o,s=0,c=[];for(r=0,o=0,s=0;s<e.length;s+=1)if(n=e.charCodeAt(s),t=u[127&n],10!==n&&13!==n){if(-1===t)return a;o=o<<6|t,r+=6,r>=8&&(r-=8,l!==e.charAt(s)&&c.push(o>>r&255),o&=(1<<r)-1)}return r?a:new i(c)}function r(e){var t,n,r,i="";for(t=0,n=e.length-2;n>t;t+=3)i+=c[e[t+0]>>2],i+=c[((3&e[t+0])<<4)+(e[t+1]>>4)],i+=c[((15&e[t+1])<<2)+(e[t+2]>>6)],i+=c[63&e[t+2]];return r=e.length%3,0!==r&&(t=e.length-r,i+=c[e[t+0]>>2],2===r?(i+=c[((3&e[t+0])<<4)+(e[t+1]>>4)],i+=c[(15&e[t+1])<<2],i+=l):(i+=c[(3&e[t+0])<<4],i+=l+l)),i}var i=e("buffer").Buffer,o=e("../common"),a=o.NIL,s=e("../type"),l="=",u=[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,62,-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,0,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,-1,-1,-1,-1,-1],c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split("");t.exports=new s("tag:yaml.org,2002:binary",{loader:{kind:"string",resolver:n},dumper:{kind:"object",instanceOf:i,representer:r}})},{"../common":90,"../type":102,buffer:63}],104:[function(e,t){"use strict";function n(e,t){return t?a.hasOwnProperty(e)?a[e]:r:o.hasOwnProperty(e)?o[e]:r}var r=e("../common").NIL,i=e("../type"),o={"true":!0,True:!0,TRUE:!0,"false":!1,False:!1,FALSE:!1},a={"true":!0,True:!0,TRUE:!0,"false":!1,False:!1,FALSE:!1,y:!0,Y:!0,yes:!0,Yes:!0,YES:!0,n:!1,N:!1,no:!1,No:!1,NO:!1,on:!0,On:!0,ON:!0,off:!1,Off:!1,OFF:!1};t.exports=new i("tag:yaml.org,2002:bool",{loader:{kind:"string",resolver:n},dumper:{kind:"boolean",defaultStyle:"lowercase",representer:{lowercase:function(e){return e?"true":"false"},uppercase:function(e){return e?"TRUE":"FALSE"},camelcase:function(e){return e?"True":"False"}}}})},{"../common":90,"../type":102}],105:[function(e,t){"use strict";function n(e){var t,n,r,o;return a.test(e)?(t=e.replace(/_/g,"").toLowerCase(),n="-"===t[0]?-1:1,o=[],0<="+-".indexOf(t[0])&&(t=t.slice(1)),".inf"===t?1===n?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:".nan"===t?0/0:0<=t.indexOf(":")?(t.split(":").forEach(function(e){o.unshift(parseFloat(e,10))}),t=0,r=1,o.forEach(function(e){t+=e*r,r*=60}),n*t):n*parseFloat(t,10)):i}function r(e,t){if(isNaN(e))switch(t){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===e)switch(t){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else{if(Number.NEGATIVE_INFINITY!==e)return e.toString(10);switch(t){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}}}var i=e("../common").NIL,o=e("../type"),a=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)\\.[0-9_]*(?:[eE][-+][0-9]+)?|\\.[0-9_]+(?:[eE][-+][0-9]+)?|[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+\\.[0-9_]*|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$");t.exports=new o("tag:yaml.org,2002:float",{loader:{kind:"string",resolver:n},dumper:{kind:"float",defaultStyle:"lowercase",representer:r}})},{"../common":90,"../type":102}],106:[function(e,t){"use strict";function n(e){var t,n,i,a;return o.test(e)?(t=e.replace(/_/g,""),n="-"===t[0]?-1:1,a=[],0<="+-".indexOf(t[0])&&(t=t.slice(1)),"0"===t?0:/^0b/.test(t)?n*parseInt(t.slice(2),2):/^0x/.test(t)?n*parseInt(t,16):"0"===t[0]?n*parseInt(t,8):0<=t.indexOf(":")?(t.split(":").forEach(function(e){a.unshift(parseInt(e,10))}),t=0,i=1,a.forEach(function(e){t+=e*i,i*=60}),n*t):n*parseInt(t,10)):r}var r=e("../common").NIL,i=e("../type"),o=new RegExp("^(?:[-+]?0b[0-1_]+|[-+]?0[0-7_]+|[-+]?(?:0|[1-9][0-9_]*)|[-+]?0x[0-9a-fA-F_]+|[-+]?[1-9][0-9_]*(?::[0-5]?[0-9])+)$");t.exports=new i("tag:yaml.org,2002:int",{loader:{kind:"string",resolver:n},dumper:{kind:"integer",defaultStyle:"decimal",representer:{binary:function(e){return"0b"+e.toString(2)},octal:function(e){return"0"+e.toString(8)},decimal:function(e){return e.toString(10)},hexadecimal:function(e){return"0x"+e.toString(16).toUpperCase()}},styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}}})},{"../common":90,"../type":102}],107:[function(e,t){"use strict";function n(e){try{var t,n="("+e+")",r=i.parse(n,{range:!0}),a=[];return"Program"!==r.type||1!==r.body.length||"ExpressionStatement"!==r.body[0].type||"FunctionExpression"!==r.body[0].expression.type?o:(r.body[0].expression.params.forEach(function(e){a.push(e.name)}),t=r.body[0].expression.body.range,new Function(a,n.slice(t[0]+1,t[1]-1)))}catch(s){return o}}function r(e){return e.toString()}var i=e("esprima"),o=e("../../common").NIL,a=e("../../type");t.exports=new a("tag:yaml.org,2002:js/function",{loader:{kind:"string",resolver:n},dumper:{kind:"function",representer:r}})},{"../../common":90,"../../type":102,esprima:81}],108:[function(e,t){"use strict";function n(e){var t,n=e,r=/\/([gim]*)$/.exec(e);"/"===n[0]&&r&&4>=r[0].length&&(n=n.slice(1,n.length-r[0].length),t=r[1]);try{return new RegExp(n,t)}catch(o){return i}}function r(e){var t="/"+e.source+"/";return e.global&&(t+="g"),e.multiline&&(t+="m"),e.ignoreCase&&(t+="i"),t}var i=e("../../common").NIL,o=e("../../type");t.exports=new o("tag:yaml.org,2002:js/regexp",{loader:{kind:"string",resolver:n},dumper:{kind:"object",instanceOf:RegExp,representer:r}})},{"../../common":90,"../../type":102}],109:[function(e,t){"use strict";function n(){var e;return e}function r(){return""}var i=e("../../type");t.exports=new i("tag:yaml.org,2002:js/undefined",{loader:{kind:"string",resolver:n},dumper:{kind:"undefined",representer:r}})},{"../../type":102}],110:[function(e,t){"use strict";var n=e("../type");t.exports=new n("tag:yaml.org,2002:map",{loader:{kind:"object"}})},{"../type":102}],111:[function(e,t){"use strict";function n(e){return"<<"===e?e:r}var r=e("../common").NIL,i=e("../type");t.exports=new i("tag:yaml.org,2002:merge",{loader:{kind:"string",resolver:n}})},{"../common":90,"../type":102}],112:[function(e,t){"use strict";function n(e){return o[e]?null:r}var r=e("../common").NIL,i=e("../type"),o={"~":!0,"null":!0,Null:!0,NULL:!0};t.exports=new i("tag:yaml.org,2002:null",{loader:{kind:"string",resolver:n},dumper:{kind:"null",defaultStyle:"lowercase",representer:{canonical:function(){return"~"},lowercase:function(){return"null"},uppercase:function(){return"NULL"},camelcase:function(){return"Null"}}}})},{"../common":90,"../type":102}],113:[function(e,t){"use strict";function n(e){var t,n,i,s,l,u=[];for(t=0,n=e.length;n>t;t+=1){if(i=e[t],l=!1,"[object Object]"!==a.call(i))return r;for(s in i)if(o.call(i,s)){if(l)return r;l=!0}if(!l)return r;if(-1!==u.indexOf(s))return r;u.push(s)}return e}var r=e("../common").NIL,i=e("../type"),o=Object.prototype.hasOwnProperty,a=Object.prototype.toString;t.exports=new i("tag:yaml.org,2002:omap",{loader:{kind:"array",resolver:n}})},{"../common":90,"../type":102}],114:[function(e,t){"use strict";function n(e){var t,n,i,a,s;for(s=new Array(e.length),t=0,n=e.length;n>t;t+=1){if(i=e[t],"[object Object]"!==o.call(i))return r;if(a=Object.keys(i),1!==a.length)return r;s[t]=[a[0],i[a[0]]]}return s}var r=e("../common").NIL,i=e("../type"),o=Object.prototype.toString;t.exports=new i("tag:yaml.org,2002:pairs",{loader:{kind:"array",resolver:n}})},{"../common":90,"../type":102}],115:[function(e,t){"use strict";var n=e("../type");t.exports=new n("tag:yaml.org,2002:seq",{loader:{kind:"array"}})},{"../type":102}],116:[function(e,t){"use strict";function n(e){var t;for(t in e)if(o.call(e,t)&&null!==e[t])return r;return e}var r=e("../common").NIL,i=e("../type"),o=Object.prototype.hasOwnProperty;t.exports=new i("tag:yaml.org,2002:set",{loader:{kind:"object",resolver:n}})},{"../common":90,"../type":102}],117:[function(e,t){"use strict";var n=e("../type");t.exports=new n("tag:yaml.org,2002:str",{loader:{kind:"string"}})},{"../type":102}],118:[function(e,t){"use strict";function n(e){var t,n,r,o,s,l,u,c,h,d,f=0,p=null;if(t=a.exec(e),null===t)return i;if(n=+t[1],r=+t[2]-1,o=+t[3],!t[4])return new Date(Date.UTC(n,r,o));if(s=+t[4],l=+t[5],u=+t[6],t[7]){for(f=t[7].slice(0,3);f.length<3;)f+="0";f=+f}return t[9]&&(c=+t[10],h=+(t[11]||0),p=6e4*(60*c+h),"-"===t[9]&&(p=-p)),d=new Date(Date.UTC(n,r,o,s,l,u,f)),p&&d.setTime(d.getTime()-p),d}function r(e){return e.toISOString()}var i=e("../common").NIL,o=e("../type"),a=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?)?$");t.exports=new o("tag:yaml.org,2002:timestamp",{loader:{kind:"string",resolver:n},dumper:{kind:"object",instanceOf:Date,representer:r}})},{"../common":90,"../type":102}],119:[function(e,t){!function(e){function n(e,t){for(var n=e.length;n--;)if(e[n]===t)return n;return-1}function r(e,t){if(e.length!=t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function i(e){for(w in x)x[w]=e[M[w]]}function o(e){var t,r,o,a,s,u;if(t=e.keyCode,-1==n(E,t)&&E.push(t),(93==t||224==t)&&(t=91),t in x){x[t]=!0;for(o in S)S[o]==t&&(l[o]=!0)}else if(i(e),l.filter.call(this,e)&&t in C)for(u=p(),a=0;a<C[t].length;a++)if(r=C[t][a],r.scope==u||"all"==r.scope){s=r.mods.length>0;for(o in x)(!x[o]&&n(r.mods,+o)>-1||x[o]&&-1==n(r.mods,+o))&&(s=!1);(0!=r.mods.length||x[16]||x[18]||x[17]||x[91])&&!s||r.method(e,r)===!1&&(e.preventDefault?e.preventDefault():e.returnValue=!1,e.stopPropagation&&e.stopPropagation(),e.cancelBubble&&(e.cancelBubble=!0))}}function a(e){var t,r=e.keyCode,i=n(E,r);if(i>=0&&E.splice(i,1),(93==r||224==r)&&(r=91),r in x){x[r]=!1;for(t in S)S[t]==r&&(l[t]=!1)}}function s(){for(w in x)x[w]=!1;for(w in S)l[w]=!1}function l(e,t,n){var r,i;r=g(e),void 0===n&&(n=t,t="all");for(var o=0;o<r.length;o++)i=[],e=r[o].split("+"),e.length>1&&(i=v(e),e=[e[e.length-1]]),e=e[0],e=T(e),e in C||(C[e]=[]),C[e].push({shortcut:r[o],scope:t,method:n,key:r[o],mods:i})}function u(e,t){var n,i,o,a,s,l=[];for(n=g(e),a=0;a<n.length;a++){if(i=n[a].split("+"),i.length>1&&(l=v(i),e=i[i.length-1]),e=T(e),void 0===t&&(t=p()),!C[e])return;for(o=0;o<C[e].length;o++)s=C[e][o],s.scope===t&&r(s.mods,l)&&(C[e][o]={})}}function c(e){return"string"==typeof e&&(e=T(e)),-1!=n(E,e)}function h(){return E.slice(0)}function d(e){var t=(e.target||e.srcElement).tagName;return!("INPUT"==t||"SELECT"==t||"TEXTAREA"==t)}function f(e){k=e||"all"}function p(){return k||"all"}function m(e){var t,n,r;for(t in C)for(n=C[t],r=0;r<n.length;)n[r].scope===e?n.splice(r,1):r++}function g(e){var t;return e=e.replace(/\s/g,""),t=e.split(","),""==t[t.length-1]&&(t[t.length-2]+=","),t}function v(e){for(var t=e.slice(0,e.length-1),n=0;n<t.length;n++)t[n]=S[t[n]];return t}function y(e,t,n){e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent&&e.attachEvent("on"+t,function(){n(window.event)})}function b(){var t=e.key;return e.key=R,t}var w,C={},x={16:!1,18:!1,17:!1,91:!1},k="all",S={"⇧":16,shift:16,"⌥":18,alt:18,option:18,"⌃":17,ctrl:17,control:17,"⌘":91,command:91},_={backspace:8,tab:9,clear:12,enter:13,"return":13,esc:27,escape:27,space:32,left:37,up:38,right:39,down:40,del:46,"delete":46,home:36,end:35,pageup:33,pagedown:34,",":188,".":190,"/":191,"`":192,"-":189,"=":187,";":186,"'":222,"[":219,"]":221,"\\":220},T=function(e){return _[e]||e.toUpperCase().charCodeAt(0)},E=[];for(w=1;20>w;w++)_["f"+w]=111+w;var M={16:"shiftKey",18:"altKey",17:"ctrlKey",91:"metaKey"};for(w in S)l[w]=!1;y(document,"keydown",function(e){o(e)}),y(document,"keyup",a),y(window,"focus",s);var R=e.key;e.key=l,e.key.setScope=f,e.key.getScope=p,e.key.deleteScope=m,e.key.filter=d,e.key.isPressed=c,e.key.getPressedKeyCodes=h,e.key.noConflict=b,e.key.unbind=u,"undefined"!=typeof t&&(t.exports=l)}(this)},{}],120:[function(e,t,n){(function(e){(function(){function e(e){this.tokens=[],this.tokens.links={},this.options=e||u.defaults,this.rules=c.normal,this.options.gfm&&(this.rules=this.options.tables?c.tables:c.gfm)}function r(e,t){if(this.options=t||u.defaults,this.links=e,this.rules=h.normal,!this.links)throw new Error("Tokens array requires a `links` property.");this.options.gfm?this.rules=this.options.breaks?h.breaks:h.gfm:this.options.pedantic&&(this.rules=h.pedantic)}function i(e){this.tokens=[],this.token=null,this.options=e||u.defaults}function o(e,t){return e.replace(t?/&/g:/&(?!#?\w+;)/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}function a(e,t){return e=e.source,t=t||"",function n(r,i){return r?(i=i.source||i,i=i.replace(/(^|[^\[])\^/g,"$1"),e=e.replace(r,i),n):new RegExp(e,t)}}function s(){}function l(e){for(var t,n,r=1;r<arguments.length;r++){t=arguments[r];for(n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e}function u(t,n,r){if(r||"function"==typeof n){r||(r=n,n=null),n=l({},u.defaults,n||{});var a,s,c=n.highlight,h=0;try{a=e.lex(t,n)}catch(d){return r(d)}s=a.length;var f=function(){var e,t;try{e=i.parse(a,n)}catch(o){t=o}return n.highlight=c,t?r(t):r(null,e)};if(!c||c.length<3)return f();if(delete n.highlight,!s)return f();for(;h<a.length;h++)!function(e){return"code"!==e.type?--s||f():c(e.text,e.lang,function(t,n){return null==n||n===e.text?--s||f():(e.text=n,e.escaped=!0,--s||f(),void 0)})}(a[h])}else try{return n&&(n=l({},u.defaults,n)),i.parse(e.lex(t,n),n)}catch(d){if(d.message+="\nPlease report this to https://github.com/chjj/marked.",(n||u.defaults).silent)return"<p>An error occured:</p><pre>"+o(d.message+"",!0)+"</pre>";throw d}}var c={newline:/^\n+/,code:/^( {4}[^\n]+\n*)+/,fences:s,hr:/^( *[-*_]){3,} *(?:\n+|$)/,heading:/^ *(#{1,6}) *([^\n]+?) *#* *(?:\n+|$)/,nptable:s,lheading:/^([^\n]+)\n *(=|-){2,} *(?:\n+|$)/,blockquote:/^( *>[^\n]+(\n[^\n]+)*\n*)+/,list:/^( *)(bull) [\s\S]+?(?:hr|\n{2,}(?! )(?!\1bull )\n*|\s*$)/,html:/^ *(?:comment|closed|closing) *(?:\n{2,}|\s*$)/,def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +["(]([^\n]+)[")])? *(?:\n+|$)/,table:s,paragraph:/^((?:[^\n]+\n?(?!hr|heading|lheading|blockquote|tag|def))+)\n*/,text:/^[^\n]+/};c.bullet=/(?:[*+-]|\d+\.)/,c.item=/^( *)(bull) [^\n]*(?:\n(?!\1bull )[^\n]*)*/,c.item=a(c.item,"gm")(/bull/g,c.bullet)(),c.list=a(c.list)(/bull/g,c.bullet)("hr",/\n+(?=(?: *[-*_]){3,} *(?:\n+|$))/)(),c._tag="(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:/|@)\\b",c.html=a(c.html)("comment",/<!--[\s\S]*?-->/)("closed",/<(tag)[\s\S]+?<\/\1>/)("closing",/<tag(?:"[^"]*"|'[^']*'|[^'">])*?>/)(/tag/g,c._tag)(),c.paragraph=a(c.paragraph)("hr",c.hr)("heading",c.heading)("lheading",c.lheading)("blockquote",c.blockquote)("tag","<"+c._tag)("def",c.def)(),c.normal=l({},c),c.gfm=l({},c.normal,{fences:/^ *(`{3,}|~{3,}) *(\S+)? *\n([\s\S]+?)\s*\1 *(?:\n+|$)/,paragraph:/^/}),c.gfm.paragraph=a(c.paragraph)("(?!","(?!"+c.gfm.fences.source.replace("\\1","\\2")+"|"+c.list.source.replace("\\1","\\3")+"|")(),c.tables=l({},c.gfm,{nptable:/^ *(\S.*\|.*)\n *([-:]+ *\|[-| :]*)\n((?:.*\|.*(?:\n|$))*)\n*/,table:/^ *\|(.+)\n *\|( *[-:]+[-| :]*)\n((?: *\|.*(?:\n|$))*)\n*/}),e.rules=c,e.lex=function(t,n){var r=new e(n);
return r.lex(t)},e.prototype.lex=function(e){return e=e.replace(/\r\n|\r/g,"\n").replace(/\t/g,"    ").replace(/\u00a0/g," ").replace(/\u2424/g,"\n"),this.token(e,!0)},e.prototype.token=function(e,t){for(var n,r,i,o,a,s,l,u,h,e=e.replace(/^ +$/gm,"");e;)if((i=this.rules.newline.exec(e))&&(e=e.substring(i[0].length),i[0].length>1&&this.tokens.push({type:"space"})),i=this.rules.code.exec(e))e=e.substring(i[0].length),i=i[0].replace(/^ {4}/gm,""),this.tokens.push({type:"code",text:this.options.pedantic?i:i.replace(/\n+$/,"")});else if(i=this.rules.fences.exec(e))e=e.substring(i[0].length),this.tokens.push({type:"code",lang:i[2],text:i[3]});else if(i=this.rules.heading.exec(e))e=e.substring(i[0].length),this.tokens.push({type:"heading",depth:i[1].length,text:i[2]});else if(t&&(i=this.rules.nptable.exec(e))){for(e=e.substring(i[0].length),s={type:"table",header:i[1].replace(/^ *| *\| *$/g,"").split(/ *\| */),align:i[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:i[3].replace(/\n$/,"").split("\n")},u=0;u<s.align.length;u++)s.align[u]=/^ *-+: *$/.test(s.align[u])?"right":/^ *:-+: *$/.test(s.align[u])?"center":/^ *:-+ *$/.test(s.align[u])?"left":null;for(u=0;u<s.cells.length;u++)s.cells[u]=s.cells[u].split(/ *\| */);this.tokens.push(s)}else if(i=this.rules.lheading.exec(e))e=e.substring(i[0].length),this.tokens.push({type:"heading",depth:"="===i[2]?1:2,text:i[1]});else if(i=this.rules.hr.exec(e))e=e.substring(i[0].length),this.tokens.push({type:"hr"});else if(i=this.rules.blockquote.exec(e))e=e.substring(i[0].length),this.tokens.push({type:"blockquote_start"}),i=i[0].replace(/^ *> ?/gm,""),this.token(i,t),this.tokens.push({type:"blockquote_end"});else if(i=this.rules.list.exec(e)){for(e=e.substring(i[0].length),o=i[2],this.tokens.push({type:"list_start",ordered:o.length>1}),i=i[0].match(this.rules.item),n=!1,h=i.length,u=0;h>u;u++)s=i[u],l=s.length,s=s.replace(/^ *([*+-]|\d+\.) +/,""),~s.indexOf("\n ")&&(l-=s.length,s=this.options.pedantic?s.replace(/^ {1,4}/gm,""):s.replace(new RegExp("^ {1,"+l+"}","gm"),"")),this.options.smartLists&&u!==h-1&&(a=c.bullet.exec(i[u+1])[0],o===a||o.length>1&&a.length>1||(e=i.slice(u+1).join("\n")+e,u=h-1)),r=n||/\n\n(?!\s*$)/.test(s),u!==h-1&&(n="\n"===s.charAt(s.length-1),r||(r=n)),this.tokens.push({type:r?"loose_item_start":"list_item_start"}),this.token(s,!1),this.tokens.push({type:"list_item_end"});this.tokens.push({type:"list_end"})}else if(i=this.rules.html.exec(e))e=e.substring(i[0].length),this.tokens.push({type:this.options.sanitize?"paragraph":"html",pre:"pre"===i[1]||"script"===i[1]||"style"===i[1],text:i[0]});else if(t&&(i=this.rules.def.exec(e)))e=e.substring(i[0].length),this.tokens.links[i[1].toLowerCase()]={href:i[2],title:i[3]};else if(t&&(i=this.rules.table.exec(e))){for(e=e.substring(i[0].length),s={type:"table",header:i[1].replace(/^ *| *\| *$/g,"").split(/ *\| */),align:i[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:i[3].replace(/(?: *\| *)?\n$/,"").split("\n")},u=0;u<s.align.length;u++)s.align[u]=/^ *-+: *$/.test(s.align[u])?"right":/^ *:-+: *$/.test(s.align[u])?"center":/^ *:-+ *$/.test(s.align[u])?"left":null;for(u=0;u<s.cells.length;u++)s.cells[u]=s.cells[u].replace(/^ *\| *| *\| *$/g,"").split(/ *\| */);this.tokens.push(s)}else if(t&&(i=this.rules.paragraph.exec(e)))e=e.substring(i[0].length),this.tokens.push({type:"paragraph",text:"\n"===i[1].charAt(i[1].length-1)?i[1].slice(0,-1):i[1]});else if(i=this.rules.text.exec(e))e=e.substring(i[0].length),this.tokens.push({type:"text",text:i[0]});else if(e)throw new Error("Infinite loop on byte: "+e.charCodeAt(0));return this.tokens};var h={escape:/^\\([\\`*{}\[\]()#+\-.!_>])/,autolink:/^<([^ >]+(@|:\/)[^ >]+)>/,url:s,tag:/^<!--[\s\S]*?-->|^<\/?\w+(?:"[^"]*"|'[^']*'|[^'">])*?>/,link:/^!?\[(inside)\]\(href\)/,reflink:/^!?\[(inside)\]\s*\[([^\]]*)\]/,nolink:/^!?\[((?:\[[^\]]*\]|[^\[\]])*)\]/,strong:/^__([\s\S]+?)__(?!_)|^\*\*([\s\S]+?)\*\*(?!\*)/,em:/^\b_((?:__|[\s\S])+?)_\b|^\*((?:\*\*|[\s\S])+?)\*(?!\*)/,code:/^(`+)\s*([\s\S]*?[^`])\s*\1(?!`)/,br:/^ {2,}\n(?!\s*$)/,del:s,text:/^[\s\S]+?(?=[\\<!\[_*`]| {2,}\n|$)/};h._inside=/(?:\[[^\]]*\]|[^\[\]]|\](?=[^\[]*\]))*/,h._href=/\s*<?([\s\S]*?)>?(?:\s+['"]([\s\S]*?)['"])?\s*/,h.link=a(h.link)("inside",h._inside)("href",h._href)(),h.reflink=a(h.reflink)("inside",h._inside)(),h.normal=l({},h),h.pedantic=l({},h.normal,{strong:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,em:/^_(?=\S)([\s\S]*?\S)_(?!_)|^\*(?=\S)([\s\S]*?\S)\*(?!\*)/}),h.gfm=l({},h.normal,{escape:a(h.escape)("])","~|])")(),url:/^(https?:\/\/[^\s<]+[^<.,:;"')\]\s])/,del:/^~~(?=\S)([\s\S]*?\S)~~/,text:a(h.text)("]|","~]|")("|","|https?://|")()}),h.breaks=l({},h.gfm,{br:a(h.br)("{2,}","*")(),text:a(h.gfm.text)("{2,}","*")()}),r.rules=h,r.output=function(e,t,n){var i=new r(t,n);return i.output(e)},r.prototype.output=function(e){for(var t,n,r,i,a="";e;)if(i=this.rules.escape.exec(e))e=e.substring(i[0].length),a+=i[1];else if(i=this.rules.autolink.exec(e))e=e.substring(i[0].length),"@"===i[2]?(n=":"===i[1].charAt(6)?this.mangle(i[1].substring(7)):this.mangle(i[1]),r=this.mangle("mailto:")+n):(n=o(i[1]),r=n),a+='<a href="'+r+'">'+n+"</a>";else if(i=this.rules.url.exec(e))e=e.substring(i[0].length),n=o(i[1]),r=n,a+='<a href="'+r+'">'+n+"</a>";else if(i=this.rules.tag.exec(e))e=e.substring(i[0].length),a+=this.options.sanitize?o(i[0]):i[0];else if(i=this.rules.link.exec(e))e=e.substring(i[0].length),a+=this.outputLink(i,{href:i[2],title:i[3]});else if((i=this.rules.reflink.exec(e))||(i=this.rules.nolink.exec(e))){if(e=e.substring(i[0].length),t=(i[2]||i[1]).replace(/\s+/g," "),t=this.links[t.toLowerCase()],!t||!t.href){a+=i[0].charAt(0),e=i[0].substring(1)+e;continue}a+=this.outputLink(i,t)}else if(i=this.rules.strong.exec(e))e=e.substring(i[0].length),a+="<strong>"+this.output(i[2]||i[1])+"</strong>";else if(i=this.rules.em.exec(e))e=e.substring(i[0].length),a+="<em>"+this.output(i[2]||i[1])+"</em>";else if(i=this.rules.code.exec(e))e=e.substring(i[0].length),a+="<code>"+o(i[2],!0)+"</code>";else if(i=this.rules.br.exec(e))e=e.substring(i[0].length),a+="<br>";else if(i=this.rules.del.exec(e))e=e.substring(i[0].length),a+="<del>"+this.output(i[1])+"</del>";else if(i=this.rules.text.exec(e))e=e.substring(i[0].length),a+=o(this.smartypants(i[0]));else if(e)throw new Error("Infinite loop on byte: "+e.charCodeAt(0));return a},r.prototype.outputLink=function(e,t){return"!"!==e[0].charAt(0)?'<a href="'+o(t.href)+'"'+(t.title?' title="'+o(t.title)+'"':"")+">"+this.output(e[1])+"</a>":'<img src="'+o(t.href)+'" alt="'+o(e[1])+'"'+(t.title?' title="'+o(t.title)+'"':"")+">"},r.prototype.smartypants=function(e){return this.options.smartypants?e.replace(/--/g,"—").replace(/(^|[-\u2014\/(\[{"\s])'/g,"$1‘").replace(/'/g,"’").replace(/(^|[-\u2014\/(\[{\u2018\s])"/g,"$1“").replace(/"/g,"”").replace(/\.{3}/g,"…"):e},r.prototype.mangle=function(e){for(var t,n="",r=e.length,i=0;r>i;i++)t=e.charCodeAt(i),Math.random()>.5&&(t="x"+t.toString(16)),n+="&#"+t+";";return n},i.parse=function(e,t){var n=new i(t);return n.parse(e)},i.prototype.parse=function(e){this.inline=new r(e.links,this.options),this.tokens=e.reverse();for(var t="";this.next();)t+=this.tok();return t},i.prototype.next=function(){return this.token=this.tokens.pop()},i.prototype.peek=function(){return this.tokens[this.tokens.length-1]||0},i.prototype.parseText=function(){for(var e=this.token.text;"text"===this.peek().type;)e+="\n"+this.next().text;return this.inline.output(e)},i.prototype.tok=function(){switch(this.token.type){case"space":return"";case"hr":return"<hr>\n";case"heading":return"<h"+this.token.depth+' id="'+this.token.text.toLowerCase().replace(/[^\w]+/g,"-")+'">'+this.inline.output(this.token.text)+"</h"+this.token.depth+">\n";case"code":if(this.options.highlight){var e=this.options.highlight(this.token.text,this.token.lang);null!=e&&e!==this.token.text&&(this.token.escaped=!0,this.token.text=e)}return this.token.escaped||(this.token.text=o(this.token.text,!0)),"<pre><code"+(this.token.lang?' class="'+this.options.langPrefix+this.token.lang+'"':"")+">"+this.token.text+"</code></pre>\n";case"table":var t,n,r,i,a,s="";for(s+="<thead>\n<tr>\n",n=0;n<this.token.header.length;n++)t=this.inline.output(this.token.header[n]),s+="<th",this.token.align[n]&&(s+=' style="text-align:'+this.token.align[n]+'"'),s+=">"+t+"</th>\n";for(s+="</tr>\n</thead>\n",s+="<tbody>\n",n=0;n<this.token.cells.length;n++){for(r=this.token.cells[n],s+="<tr>\n",a=0;a<r.length;a++)i=this.inline.output(r[a]),s+="<td",this.token.align[a]&&(s+=' style="text-align:'+this.token.align[a]+'"'),s+=">"+i+"</td>\n";s+="</tr>\n"}return s+="</tbody>\n","<table>\n"+s+"</table>\n";case"blockquote_start":for(var s="";"blockquote_end"!==this.next().type;)s+=this.tok();return"<blockquote>\n"+s+"</blockquote>\n";case"list_start":for(var l=this.token.ordered?"ol":"ul",s="";"list_end"!==this.next().type;)s+=this.tok();return"<"+l+">\n"+s+"</"+l+">\n";case"list_item_start":for(var s="";"list_item_end"!==this.next().type;)s+="text"===this.token.type?this.parseText():this.tok();return"<li>"+s+"</li>\n";case"loose_item_start":for(var s="";"list_item_end"!==this.next().type;)s+=this.tok();return"<li>"+s+"</li>\n";case"html":return this.token.pre||this.options.pedantic?this.token.text:this.inline.output(this.token.text);case"paragraph":return"<p>"+this.inline.output(this.token.text)+"</p>\n";case"text":return"<p>"+this.parseText()+"</p>\n"}},s.exec=s,u.options=u.setOptions=function(e){return l(u.defaults,e),u},u.defaults={gfm:!0,tables:!0,breaks:!1,pedantic:!1,sanitize:!1,smartLists:!1,silent:!1,highlight:null,langPrefix:"lang-",smartypants:!1},u.Parser=i,u.parser=i.parse,u.Lexer=e,u.lexer=e.lex,u.InlineLexer=r,u.inlineLexer=r.output,u.parse=u,"object"==typeof n?t.exports=u:"function"==typeof define&&define.amd?define(function(){return u}):this.marked=u}).call(function(){return this||("undefined"!=typeof window?window:e)}())}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],121:[function(e,t,n){!function(e,r){"function"==typeof define&&define.amd?define([],r):"object"==typeof t&&"undefined"!=typeof n?t.exports=r():e.Papa=r()}(this,function(){"use strict";function e(e,t){t=t||{};var n=t.dynamicTyping||!1;if(v(n)&&(t.dynamicTypingFunction=n,n={}),t.dynamicTyping=n,t.worker&&_.WORKERS_SUPPORTED){var s=c();return s.userStep=t.step,s.userChunk=t.chunk,s.userComplete=t.complete,s.userError=t.error,t.step=v(t.step),t.chunk=v(t.chunk),t.complete=v(t.complete),t.error=v(t.error),delete t.worker,s.postMessage({input:e,config:t,workerId:s.id}),void 0}var l=null;return"string"==typeof e?l=t.download?new r(t):new o(t):e.readable===!0&&v(e.read)&&v(e.on)?l=new a(t):(b.File&&e instanceof File||e instanceof Object)&&(l=new i(t)),l.stream(e)}function t(e,t){function n(){"object"==typeof t&&("string"==typeof t.delimiter&&1===t.delimiter.length&&-1===_.BAD_DELIMITERS.indexOf(t.delimiter)&&(u=t.delimiter),("boolean"==typeof t.quotes||t.quotes instanceof Array)&&(s=t.quotes),"string"==typeof t.newline&&(c=t.newline),"string"==typeof t.quoteChar&&(h=t.quoteChar),"boolean"==typeof t.header&&(l=t.header))}function r(e){if("object"!=typeof e)return[];var t=[];for(var n in e)t.push(n);return t}function i(e,t){var n="";"string"==typeof e&&(e=JSON.parse(e)),"string"==typeof t&&(t=JSON.parse(t));var r=e instanceof Array&&e.length>0,i=!(t[0]instanceof Array);if(r&&l){for(var a=0;a<e.length;a++)a>0&&(n+=u),n+=o(e[a],a);t.length>0&&(n+=c)}for(var s=0;s<t.length;s++){for(var h=r?e.length:t[s].length,d=0;h>d;d++){d>0&&(n+=u);var f=r&&i?e[d]:d;n+=o(t[s][f],d)}s<t.length-1&&(n+=c)}return n}function o(e,t){if("undefined"==typeof e||null===e)return"";e=e.toString().replace(d,h+h);var n="boolean"==typeof s&&s||s instanceof Array&&s[t]||a(e,_.BAD_DELIMITERS)||e.indexOf(u)>-1||" "===e.charAt(0)||" "===e.charAt(e.length-1);return n?h+e+h:e}function a(e,t){for(var n=0;n<t.length;n++)if(e.indexOf(t[n])>-1)return!0;return!1}var s=!1,l=!0,u=",",c="\r\n",h='"';n();var d=new RegExp(h,"g");if("string"==typeof e&&(e=JSON.parse(e)),e instanceof Array){if(!e.length||e[0]instanceof Array)return i(null,e);if("object"==typeof e[0])return i(r(e[0]),e)}else if("object"==typeof e)return"string"==typeof e.data&&(e.data=JSON.parse(e.data)),e.data instanceof Array&&(e.fields||(e.fields=e.meta&&e.meta.fields),e.fields||(e.fields=e.data[0]instanceof Array?e.fields:r(e.data[0])),e.data[0]instanceof Array||"object"==typeof e.data[0]||(e.data=[e.data])),i(e.fields||[],e.data||[]);throw"exception: Unable to serialize unrecognized input"}function n(e){function t(e){var t=m(e);t.chunkSize=parseInt(t.chunkSize),e.step||e.chunk||(t.chunkSize=null),this._handle=new s(t),this._handle.streamer=this,this._config=t}this._handle=null,this._paused=!1,this._finished=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},t.call(this,e),this.parseChunk=function(e){if(this.isFirstChunk&&v(this._config.beforeFirstChunk)){var t=this._config.beforeFirstChunk(e);void 0!==t&&(e=t)}this.isFirstChunk=!1;var n=this._partialLine+e;this._partialLine="";var r=this._handle.parse(n,this._baseIndex,!this._finished);if(!this._handle.paused()&&!this._handle.aborted()){var i=r.meta.cursor;this._finished||(this._partialLine=n.substring(i-this._baseIndex),this._baseIndex=i),r&&r.data&&(this._rowCount+=r.data.length);var o=this._finished||this._config.preview&&this._rowCount>=this._config.preview;if(C)b.postMessage({results:r,workerId:_.WORKER_ID,finished:o});else if(v(this._config.chunk)){if(this._config.chunk(r,this._handle),this._paused)return;r=void 0,this._completeResults=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(r.data),this._completeResults.errors=this._completeResults.errors.concat(r.errors),this._completeResults.meta=r.meta),!o||!v(this._config.complete)||r&&r.meta.aborted||this._config.complete(this._completeResults,this._input),o||r&&r.meta.paused||this._nextChunk(),r}},this._sendError=function(e){v(this._config.error)?this._config.error(e):C&&this._config.error&&b.postMessage({workerId:_.WORKER_ID,error:e,finished:!1})}}function r(e){function t(e){var t=e.getResponseHeader("Content-Range");return null===t?-1:parseInt(t.substr(t.lastIndexOf("/")+1))}e=e||{},e.chunkSize||(e.chunkSize=_.RemoteChunkSize),n.call(this,e);var r;this._nextChunk=w?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(e){this._input=e,this._nextChunk()},this._readChunk=function(){if(this._finished)return this._chunkLoaded(),void 0;if(r=new XMLHttpRequest,this._config.withCredentials&&(r.withCredentials=this._config.withCredentials),w||(r.onload=g(this._chunkLoaded,this),r.onerror=g(this._chunkError,this)),r.open("GET",this._input,!w),this._config.downloadRequestHeaders){var e=this._config.downloadRequestHeaders;for(var t in e)r.setRequestHeader(t,e[t])}if(this._config.chunkSize){var n=this._start+this._config.chunkSize-1;r.setRequestHeader("Range","bytes="+this._start+"-"+n),r.setRequestHeader("If-None-Match","webkit-no-cache")}try{r.send()}catch(i){this._chunkError(i.message)}w&&0===r.status?this._chunkError():this._start+=this._config.chunkSize},this._chunkLoaded=function(){if(4==r.readyState){if(r.status<200||r.status>=400)return this._chunkError(),void 0;this._finished=!this._config.chunkSize||this._start>t(r),this.parseChunk(r.responseText)}},this._chunkError=function(e){var t=r.statusText||e;this._sendError(t)}}function i(e){e=e||{},e.chunkSize||(e.chunkSize=_.LocalChunkSize),n.call(this,e);var t,r,i="undefined"!=typeof FileReader;this.stream=function(e){this._input=e,r=e.slice||e.webkitSlice||e.mozSlice,i?(t=new FileReader,t.onload=g(this._chunkLoaded,this),t.onerror=g(this._chunkError,this)):t=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var e=this._input;if(this._config.chunkSize){var n=Math.min(this._start+this._config.chunkSize,this._input.size);e=r.call(e,this._start,n)}var o=t.readAsText(e,this._config.encoding);i||this._chunkLoaded({target:{result:o}})},this._chunkLoaded=function(e){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(e.target.result)},this._chunkError=function(){this._sendError(t.error.message)}}function o(e){e=e||{},n.call(this,e);var t,r;this.stream=function(e){return t=e,r=e,this._nextChunk()},this._nextChunk=function(){if(!this._finished){var e=this._config.chunkSize,t=e?r.substr(0,e):r;return r=e?r.substr(e):"",this._finished=!r,this.parseChunk(t)}}}function a(e){e=e||{},n.call(this,e);var t=[],r=!0;this.stream=function(e){this._input=e,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._nextChunk=function(){t.length?this.parseChunk(t.shift()):r=!0},this._streamData=g(function(e){try{t.push("string"==typeof e?e:e.toString(this._config.encoding)),r&&(r=!1,this.parseChunk(t.shift()))}catch(n){this._streamError(n)}},this),this._streamError=g(function(e){this._streamCleanUp(),this._sendError(e.message)},this),this._streamEnd=g(function(){this._streamCleanUp(),this._finished=!0,this._streamData("")},this),this._streamCleanUp=g(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function s(e){function t(){if(k&&p&&(h("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+_.DefaultDelimiter+"'"),p=!1),e.skipEmptyLines)for(var t=0;t<k.data.length;t++)1===k.data[t].length&&""===k.data[t][0]&&k.data.splice(t--,1);return n()&&r(),a()}function n(){return e.header&&0===x.length}function r(){if(k){for(var e=0;n()&&e<k.data.length;e++)for(var t=0;t<k.data[e].length;t++)x.push(k.data[e][t]);k.data.splice(0,1)}}function i(t){return e.dynamicTypingFunction&&void 0===e.dynamicTyping[t]&&(e.dynamicTyping[t]=e.dynamicTypingFunction(t)),(e.dynamicTyping[t]||e.dynamicTyping)===!0}function o(e,t){return i(e)?"true"===t||"TRUE"===t?!0:"false"===t||"FALSE"===t?!1:c(t):t}function a(){if(!k||!e.header&&!e.dynamicTyping)return k;for(var t=0;t<k.data.length;t++){for(var n=e.header?{}:[],r=0;r<k.data[t].length;r++){var i=r,a=k.data[t][r];e.header&&(i=r>=x.length?"__parsed_extra":x[r]),a=o(i,a),"__parsed_extra"===i?(n[i]=n[i]||[],n[i].push(a)):n[i]=a}k.data[t]=n,e.header&&(r>x.length?h("FieldMismatch","TooManyFields","Too many fields: expected "+x.length+" fields but parsed "+r,t):r<x.length&&h("FieldMismatch","TooFewFields","Too few fields: expected "+x.length+" fields but parsed "+r,t))}return e.header&&k.meta&&(k.meta.fields=x),k}function s(t,n,r){for(var i,o,a,s=[",","	","|",";",_.RECORD_SEP,_.UNIT_SEP],u=0;u<s.length;u++){var c=s[u],h=0,d=0,f=0;a=void 0;for(var p=new l({delimiter:c,newline:n,preview:10}).parse(t),m=0;m<p.data.length;m++)if(r&&1===p.data[m].length&&0===p.data[m][0].length)f++;else{var g=p.data[m].length;d+=g,"undefined"!=typeof a?g>1&&(h+=Math.abs(g-a),a=g):a=g}p.data.length>0&&(d/=p.data.length-f),("undefined"==typeof o||o>h)&&d>1.99&&(o=h,i=c)}return e.delimiter=i,{successful:!!i,bestDelimiter:i}}function u(e){e=e.substr(0,1048576);var t=e.split("\r"),n=e.split("\n"),r=n.length>1&&n[0].length<t[0].length;if(1===t.length||r)return"\n";for(var i=0,o=0;o<t.length;o++)"\n"===t[o][0]&&i++;return i>=t.length/2?"\r\n":"\r"}function c(e){var t=g.test(e);return t?parseFloat(e):e}function h(e,t,n,r){k.errors.push({type:e,code:t,message:n,row:r})}var d,f,p,g=/^\s*-?(\d*\.?\d+|\d+\.?\d*)(e[-+]?\d+)?\s*$/i,y=this,b=0,w=!1,C=!1,x=[],k={data:[],errors:[],meta:{}};if(v(e.step)){var S=e.step;e.step=function(r){if(k=r,n())t();else{if(t(),0===k.data.length)return;b+=r.data.length,e.preview&&b>e.preview?f.abort():S(k,y)}}}this.parse=function(n,r,i){if(e.newline||(e.newline=u(n)),p=!1,e.delimiter)v(e.delimiter)&&(e.delimiter=e.delimiter(n),k.meta.delimiter=e.delimiter);else{var o=s(n,e.newline,e.skipEmptyLines);o.successful?e.delimiter=o.bestDelimiter:(p=!0,e.delimiter=_.DefaultDelimiter),k.meta.delimiter=e.delimiter}var a=m(e);return e.preview&&e.header&&a.preview++,d=n,f=new l(a),k=f.parse(d,r,i),t(),w?{meta:{paused:!0}}:k||{meta:{paused:!1}}},this.paused=function(){return w},this.pause=function(){w=!0,f.abort(),d=d.substr(f.getCharIndex())},this.resume=function(){w=!1,y.streamer.parseChunk(d)},this.aborted=function(){return C},this.abort=function(){C=!0,f.abort(),k.meta.aborted=!0,v(e.complete)&&e.complete(k),d=""}}function l(e){e=e||{};var t=e.delimiter,n=e.newline,r=e.comments,i=e.step,o=e.preview,a=e.fastMode;if(void 0===e.quoteChar)var s='"';else var s=e.quoteChar;if(("string"!=typeof t||_.BAD_DELIMITERS.indexOf(t)>-1)&&(t=","),r===t)throw"Comment character same as delimiter";r===!0?r="#":("string"!=typeof r||_.BAD_DELIMITERS.indexOf(r)>-1)&&(r=!1),"\n"!=n&&"\r"!=n&&"\r\n"!=n&&(n="\n");var l=0,u=!1;this.parse=function(e,c,h){function d(e){k.push(e),T=l}function f(t){return h?m():("undefined"==typeof t&&(t=e.substr(l)),_.push(t),l=y,d(_),x&&g(),m())}function p(t){l=t,d(_),_=[],O=e.indexOf(n,l)}function m(e){return{data:k,errors:S,meta:{delimiter:t,linebreak:n,aborted:u,truncated:!!e,cursor:T+(c||0)}}}function g(){i(m()),k=[],S=[]}if("string"!=typeof e)throw"Input must be a string";var y=e.length,b=t.length,w=n.length,C=r.length,x=v(i);l=0;var k=[],S=[],_=[],T=0;if(!e)return m();if(a||a!==!1&&-1===e.indexOf(s)){for(var E=e.split(n),M=0;M<E.length;M++){var _=E[M];if(l+=_.length,M!==E.length-1)l+=n.length;else if(h)return m();if(!r||_.substr(0,C)!==r){if(x){if(k=[],d(_.split(t)),g(),u)return m()}else d(_.split(t));if(o&&M>=o)return k=k.slice(0,o),m(!0)}}return m()}for(var R=e.indexOf(t,l),O=e.indexOf(n,l),A=new RegExp(s+s,"g");;)if(e[l]!==s)if(r&&0===_.length&&e.substr(l,C)===r){if(-1===O)return m();l=O+w,O=e.indexOf(n,l),R=e.indexOf(t,l)}else if(-1!==R&&(O>R||-1===O))_.push(e.substring(l,R)),l=R+b,R=e.indexOf(t,l);else{if(-1===O)break;if(_.push(e.substring(l,O)),p(O+w),x&&(g(),u))return m();if(o&&k.length>=o)return m(!0)}else{var L=l;for(l++;;){var L=e.indexOf(s,L+1);if(-1===L)return h||S.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:k.length,index:l}),f();if(L===y-1){var D=e.substring(l,L).replace(A,s);return f(D)}if(e[L+1]!==s){if(e[L+1]===t){_.push(e.substring(l,L).replace(A,s)),l=L+1+b,R=e.indexOf(t,l),O=e.indexOf(n,l);break}if(e.substr(L+1,w)===n){if(_.push(e.substring(l,L).replace(A,s)),p(L+1+w),R=e.indexOf(t,l),x&&(g(),u))return m();if(o&&k.length>=o)return m(!0);break}S.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:k.length,index:l}),L++}else L++}}return f()},this.abort=function(){u=!0},this.getCharIndex=function(){return l}}function u(){var e=document.getElementsByTagName("script");return e.length?e[e.length-1].src:""}function c(){if(!_.WORKERS_SUPPORTED)return!1;if(!x&&null===_.SCRIPT_PATH)throw new Error("Script path cannot be determined automatically when Papa Parse is loaded asynchronously. You need to set Papa.SCRIPT_PATH manually.");var e=_.SCRIPT_PATH||y;e+=(-1!==e.indexOf("?")?"&":"?")+"papaworker";var t=new b.Worker(e);return t.onmessage=h,t.id=S++,k[t.id]=t,t}function h(e){var t=e.data,n=k[t.workerId],r=!1;if(t.error)n.userError(t.error,t.file);else if(t.results&&t.results.data){var i=function(){r=!0,d(t.workerId,{data:[],errors:[],meta:{aborted:!0}})},o={abort:i,pause:f,resume:f};if(v(n.userStep)){for(var a=0;a<t.results.data.length&&(n.userStep({data:[t.results.data[a]],errors:t.results.errors,meta:t.results.meta},o),!r);a++);delete t.results}else v(n.userChunk)&&(n.userChunk(t.results,o,t.file),delete t.results)}t.finished&&!r&&d(t.workerId,t.results)}function d(e,t){var n=k[e];v(n.userComplete)&&n.userComplete(t),n.terminate(),delete k[e]}function f(){throw"Not implemented."}function p(e){var t=e.data;if("undefined"==typeof _.WORKER_ID&&t&&(_.WORKER_ID=t.workerId),"string"==typeof t.input)b.postMessage({workerId:_.WORKER_ID,results:_.parse(t.input,t.config),finished:!0});else if(b.File&&t.input instanceof File||t.input instanceof Object){var n=_.parse(t.input,t.config);n&&b.postMessage({workerId:_.WORKER_ID,results:n,finished:!0})}}function m(e){if("object"!=typeof e)return e;var t=e instanceof Array?[]:{};for(var n in e)t[n]=m(e[n]);return t}function g(e,t){return function(){e.apply(t,arguments)}}function v(e){return"function"==typeof e}var y,b=function(){return"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof b?b:{}}(),w=!b.document&&!!b.postMessage,C=w&&/(\?|&)papaworker(=|&|$)/.test(b.location.search),x=!1,k={},S=0,_={};if(_.parse=e,_.unparse=t,_.RECORD_SEP=String.fromCharCode(30),_.UNIT_SEP=String.fromCharCode(31),_.BYTE_ORDER_MARK="﻿",_.BAD_DELIMITERS=["\r","\n",'"',_.BYTE_ORDER_MARK],_.WORKERS_SUPPORTED=!w&&!!b.Worker,_.SCRIPT_PATH=null,_.LocalChunkSize=10485760,_.RemoteChunkSize=5242880,_.DefaultDelimiter=",",_.Parser=l,_.ParserHandle=s,_.NetworkStreamer=r,_.FileStreamer=i,_.StringStreamer=o,_.ReadableStreamStreamer=a,b.jQuery){var T=b.jQuery;T.fn.parse=function(e){function t(){if(0===o.length)return v(e.complete)&&e.complete(),void 0;var t=o[0];if(v(e.before)){var i=e.before(t.file,t.inputElem);if("object"==typeof i){if("abort"===i.action)return n("AbortError",t.file,t.inputElem,i.reason),void 0;if("skip"===i.action)return r(),void 0;"object"==typeof i.config&&(t.instanceConfig=T.extend(t.instanceConfig,i.config))}else if("skip"===i)return r(),void 0}var a=t.instanceConfig.complete;t.instanceConfig.complete=function(e){v(a)&&a(e,t.file,t.inputElem),r()},_.parse(t.file,t.instanceConfig)}function n(t,n,r,i){v(e.error)&&e.error({name:t},n,r,i)}function r(){o.splice(0,1),t()}var i=e.config||{},o=[];return this.each(function(){var e="INPUT"===T(this).prop("tagName").toUpperCase()&&"file"===T(this).attr("type").toLowerCase()&&b.FileReader;if(!e||!this.files||0===this.files.length)return!0;for(var t=0;t<this.files.length;t++)o.push({file:this.files[t],inputElem:this,instanceConfig:T.extend({},i)})}),t(),this}}return C?b.onmessage=p:_.WORKERS_SUPPORTED&&(y=u(),document.body?document.addEventListener("DOMContentLoaded",function(){x=!0},!0):x=!0),r.prototype=Object.create(n.prototype),r.prototype.constructor=r,i.prototype=Object.create(n.prototype),i.prototype.constructor=i,o.prototype=Object.create(o.prototype),o.prototype.constructor=o,a.prototype=Object.create(n.prototype),a.prototype.constructor=a,_})},{}],122:[function(e,t,n){(function(e){function t(e,t){for(var n=0,r=e.length-1;r>=0;r--){var i=e[r];"."===i?e.splice(r,1):".."===i?(e.splice(r,1),n++):n&&(e.splice(r,1),n--)}if(t)for(;n--;n)e.unshift("..");return e}function r(e,t){if(e.filter)return e.filter(t);for(var n=[],r=0;r<e.length;r++)t(e[r],r,e)&&n.push(e[r]);return n}var i=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,o=function(e){return i.exec(e).slice(1)};n.resolve=function(){for(var n="",i=!1,o=arguments.length-1;o>=-1&&!i;o--){var a=o>=0?arguments[o]:e.cwd();if("string"!=typeof a)throw new TypeError("Arguments to path.resolve must be strings");a&&(n=a+"/"+n,i="/"===a.charAt(0))}return n=t(r(n.split("/"),function(e){return!!e}),!i).join("/"),(i?"/":"")+n||"."},n.normalize=function(e){var i=n.isAbsolute(e),o="/"===a(e,-1);return e=t(r(e.split("/"),function(e){return!!e}),!i).join("/"),e||i||(e="."),e&&o&&(e+="/"),(i?"/":"")+e},n.isAbsolute=function(e){return"/"===e.charAt(0)},n.join=function(){var e=Array.prototype.slice.call(arguments,0);return n.normalize(r(e,function(e){if("string"!=typeof e)throw new TypeError("Arguments to path.join must be strings");return e}).join("/"))},n.relative=function(e,t){function r(e){for(var t=0;t<e.length&&""===e[t];t++);for(var n=e.length-1;n>=0&&""===e[n];n--);return t>n?[]:e.slice(t,n-t+1)}e=n.resolve(e).substr(1),t=n.resolve(t).substr(1);for(var i=r(e.split("/")),o=r(t.split("/")),a=Math.min(i.length,o.length),s=a,l=0;a>l;l++)if(i[l]!==o[l]){s=l;break}for(var u=[],l=s;l<i.length;l++)u.push("..");return u=u.concat(o.slice(s)),u.join("/")},n.sep="/",n.delimiter=":",n.dirname=function(e){var t=o(e),n=t[0],r=t[1];return n||r?(r&&(r=r.substr(0,r.length-1)),n+r):"."},n.basename=function(e,t){var n=o(e)[2];return t&&n.substr(-1*t.length)===t&&(n=n.substr(0,n.length-t.length)),n},n.extname=function(e){return o(e)[3]};var a="b"==="ab".substr(-1)?function(e,t,n){return e.substr(t,n)}:function(e,t,n){return 0>t&&(t=e.length+t),e.substr(t,n)}}).call(this,e("_process"))},{_process:123}],123:[function(e,t){function n(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function i(e){if(c===setTimeout)return setTimeout(e,0);if((c===n||!c)&&setTimeout)return c=setTimeout,setTimeout(e,0);try{return c(e,0)}catch(t){try{return c.call(null,e,0)}catch(t){return c.call(this,e,0)}}}function o(e){if(h===clearTimeout)return clearTimeout(e);if((h===r||!h)&&clearTimeout)return h=clearTimeout,clearTimeout(e);try{return h(e)}catch(t){try{return h.call(null,e)}catch(t){return h.call(this,e)}}}function a(){m&&f&&(m=!1,f.length?p=f.concat(p):g=-1,p.length&&s())}function s(){if(!m){var e=i(a);m=!0;for(var t=p.length;t;){for(f=p,p=[];++g<t;)f&&f[g].run();g=-1,t=p.length}f=null,m=!1,o(e)}}function l(e,t){this.fun=e,this.array=t}function u(){}var c,h,d=t.exports={};!function(){try{c="function"==typeof setTimeout?setTimeout:n}catch(e){c=n}try{h="function"==typeof clearTimeout?clearTimeout:r}catch(e){h=r}}();var f,p=[],m=!1,g=-1;d.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];p.push(new l(e,t)),1!==p.length||m||i(s)},l.prototype.run=function(){this.fun.apply(null,this.array)},d.title="browser",d.browser=!0,d.env={},d.argv=[],d.version="",d.versions={},d.on=u,d.addListener=u,d.once=u,d.off=u,d.removeListener=u,d.removeAllListeners=u,d.emit=u,d.prependListener=u,d.prependOnceListener=u,d.listeners=function(){return[]},d.binding=function(){throw new Error("process.binding is not supported")},d.cwd=function(){return"/"},d.chdir=function(){throw new Error("process.chdir is not supported")},d.umask=function(){return 0}},{}],124:[function(e,t,n){(function(e){!function(r){function i(e){throw new RangeError(D[e])}function o(e,t){for(var n=e.length,r=[];n--;)r[n]=t(e[n]);return r}function a(e,t){var n=e.split("@"),r="";n.length>1&&(r=n[0]+"@",e=n[1]),e=e.replace(L,".");var i=e.split("."),a=o(i,t).join(".");return r+a}function s(e){for(var t,n,r=[],i=0,o=e.length;o>i;)t=e.charCodeAt(i++),t>=55296&&56319>=t&&o>i?(n=e.charCodeAt(i++),56320==(64512&n)?r.push(((1023&t)<<10)+(1023&n)+65536):(r.push(t),i--)):r.push(t);return r}function l(e){return o(e,function(e){var t="";return e>65535&&(e-=65536,t+=N(e>>>10&1023|55296),e=56320|1023&e),t+=N(e)}).join("")}function u(e){return 10>e-48?e-22:26>e-65?e-65:26>e-97?e-97:x}function c(e,t){return e+22+75*(26>e)-((0!=t)<<5)}function h(e,t,n){var r=0;for(e=n?H(e/T):e>>1,e+=H(e/t);e>P*S>>1;r+=x)e=H(e/P);return H(r+(P+1)*e/(e+_))}function d(e){var t,n,r,o,a,s,c,d,f,p,m=[],g=e.length,v=0,y=M,b=E;for(n=e.lastIndexOf(R),0>n&&(n=0),r=0;n>r;++r)e.charCodeAt(r)>=128&&i("not-basic"),m.push(e.charCodeAt(r));for(o=n>0?n+1:0;g>o;){for(a=v,s=1,c=x;o>=g&&i("invalid-input"),d=u(e.charCodeAt(o++)),(d>=x||d>H((C-v)/s))&&i("overflow"),v+=d*s,f=b>=c?k:c>=b+S?S:c-b,!(f>d);c+=x)p=x-f,s>H(C/p)&&i("overflow"),s*=p;t=m.length+1,b=h(v-a,t,0==a),H(v/t)>C-y&&i("overflow"),y+=H(v/t),v%=t,m.splice(v++,0,y)}return l(m)}function f(e){var t,n,r,o,a,l,u,d,f,p,m,g,v,y,b,w=[];for(e=s(e),g=e.length,t=M,n=0,a=E,l=0;g>l;++l)m=e[l],128>m&&w.push(N(m));for(r=o=w.length,o&&w.push(R);g>r;){for(u=C,l=0;g>l;++l)m=e[l],m>=t&&u>m&&(u=m);for(v=r+1,u-t>H((C-n)/v)&&i("overflow"),n+=(u-t)*v,t=u,l=0;g>l;++l)if(m=e[l],t>m&&++n>C&&i("overflow"),m==t){for(d=n,f=x;p=a>=f?k:f>=a+S?S:f-a,!(p>d);f+=x)b=d-p,y=x-p,w.push(N(c(p+b%y,0))),d=H(b/y);
w.push(N(c(d,0))),a=h(n,v,r==o),n=0,++r}++n,++t}return w.join("")}function p(e){return a(e,function(e){return O.test(e)?d(e.slice(4).toLowerCase()):e})}function m(e){return a(e,function(e){return A.test(e)?"xn--"+f(e):e})}var g="object"==typeof n&&n&&!n.nodeType&&n,v="object"==typeof t&&t&&!t.nodeType&&t,y="object"==typeof e&&e;(y.global===y||y.window===y||y.self===y)&&(r=y);var b,w,C=2147483647,x=36,k=1,S=26,_=38,T=700,E=72,M=128,R="-",O=/^xn--/,A=/[^\x20-\x7E]/,L=/[\x2E\u3002\uFF0E\uFF61]/g,D={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},P=x-k,H=Math.floor,N=String.fromCharCode;if(b={version:"1.4.1",ucs2:{decode:s,encode:l},decode:d,encode:f,toASCII:m,toUnicode:p},"function"==typeof define&&"object"==typeof define.amd&&define.amd)define("punycode",function(){return b});else if(g&&v)if(t.exports==g)v.exports=b;else for(w in b)b.hasOwnProperty(w)&&(g[w]=b[w]);else r.punycode=b}(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],125:[function(e,t){"use strict";function n(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.exports=function(e,t,i,o){t=t||"&",i=i||"=";var a={};if("string"!=typeof e||0===e.length)return a;var s=/\+/g;e=e.split(t);var l=1e3;o&&"number"==typeof o.maxKeys&&(l=o.maxKeys);var u=e.length;l>0&&u>l&&(u=l);for(var c=0;u>c;++c){var h,d,f,p,m=e[c].replace(s,"%20"),g=m.indexOf(i);g>=0?(h=m.substr(0,g),d=m.substr(g+1)):(h=m,d=""),f=decodeURIComponent(h),p=decodeURIComponent(d),n(a,f)?r(a[f])?a[f].push(p):a[f]=[a[f],p]:a[f]=p}return a};var r=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},{}],126:[function(e,t){"use strict";function n(e,t){if(e.map)return e.map(t);for(var n=[],r=0;r<e.length;r++)n.push(t(e[r],r));return n}var r=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};t.exports=function(e,t,a,s){return t=t||"&",a=a||"=",null===e&&(e=void 0),"object"==typeof e?n(o(e),function(o){var s=encodeURIComponent(r(o))+a;return i(e[o])?n(e[o],function(e){return s+encodeURIComponent(r(e))}).join(t):s+encodeURIComponent(r(e[o]))}).join(t):s?encodeURIComponent(r(s))+a+encodeURIComponent(r(e)):""};var i=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},o=Object.keys||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(n);return t}},{}],127:[function(e,t,n){"use strict";n.decode=n.parse=e("./decode"),n.encode=n.stringify=e("./encode")},{"./decode":125,"./encode":126}],128:[function(e,t,n){!function(e,r){"object"==typeof n&&"undefined"!=typeof t?t.exports=r():"function"==typeof define&&define.amd?define("queue",r):e.queue=r()}(this,function(){"use strict";function e(){}function t(t){function n(){if(!c)for(;c=p&&t>m;){var e=g+m,n=d[e],r=n.length-1,o=n[r];n[r]=a(e),--p,++m,d[e]=o.apply(null,n)||i}}function a(e){return function(t,r){if(!d[e])throw new Error;--m,++g,d[e]=null,null==h&&(null!=t?s(t):(f[e]=r,p?n():m||l()))}}function s(e){h=e,p=0/0,l()}function l(){null!=h?v(h):y?v(null,f):v.apply(null,o.concat(f))}if(!(t>=1))throw new Error;var u,c,h,d=[],f=[],p=0,m=0,g=0,v=e,y=!0;return u={defer:function(t){if(v!==e)throw new Error;var i=r.call(arguments,1);return i.push(t),++p,d.push(i),n(),u},abort:function(){if(null==h){for(var e,t=g+m;--t>=0;)(e=d[t])&&e.abort&&e.abort();s(new Error("abort"))}return u},await:function(t){if(v!==e)throw new Error;return v=t,y=!1,p||m||l(),u},awaitAll:function(t){if(v!==e)throw new Error;return v=t,y=!0,p||m||l(),u}}}function n(e){return t(arguments.length?+e:1/0)}var r=[].slice,i={},o=[null];return n.version="1.2.1",n})},{}],129:[function(e,t,n){(function(){function e(e){function t(t,n,r,i,o,a){for(;o>=0&&a>o;o+=e){var s=i?i[o]:o;r=n(r,t[s],s,t)}return r}return function(n,r,i,o){r=C(r,o,4);var a=!M(n)&&w.keys(n),s=(a||n).length,l=e>0?0:s-1;return arguments.length<3&&(i=n[a?a[l]:l],l+=e),t(n,r,i,a,l,s)}}function r(e){return function(t,n,r){n=x(n,r);for(var i=E(t),o=e>0?0:i-1;o>=0&&i>o;o+=e)if(n(t[o],o,t))return o;return-1}}function i(e,t,n){return function(r,i,o){var a=0,s=E(r);if("number"==typeof o)e>0?a=o>=0?o:Math.max(o+s,a):s=o>=0?Math.min(o+1,s):o+s+1;else if(n&&o&&s)return o=n(r,i),r[o]===i?o:-1;if(i!==i)return o=t(d.call(r,a,s),w.isNaN),o>=0?o+a:-1;for(o=e>0?a:s-1;o>=0&&s>o;o+=e)if(r[o]===i)return o;return-1}}function o(e,t){var n=D.length,r=e.constructor,i=w.isFunction(r)&&r.prototype||u,o="constructor";for(w.has(e,o)&&!w.contains(t,o)&&t.push(o);n--;)o=D[n],o in e&&e[o]!==i[o]&&!w.contains(t,o)&&t.push(o)}var a=this,s=a._,l=Array.prototype,u=Object.prototype,c=Function.prototype,h=l.push,d=l.slice,f=u.toString,p=u.hasOwnProperty,m=Array.isArray,g=Object.keys,v=c.bind,y=Object.create,b=function(){},w=function(e){return e instanceof w?e:this instanceof w?(this._wrapped=e,void 0):new w(e)};"undefined"!=typeof n?("undefined"!=typeof t&&t.exports&&(n=t.exports=w),n._=w):a._=w,w.VERSION="1.8.3";var C=function(e,t,n){if(void 0===t)return e;switch(null==n?3:n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)};case 4:return function(n,r,i,o){return e.call(t,n,r,i,o)}}return function(){return e.apply(t,arguments)}},x=function(e,t,n){return null==e?w.identity:w.isFunction(e)?C(e,t,n):w.isObject(e)?w.matcher(e):w.property(e)};w.iteratee=function(e,t){return x(e,t,1/0)};var k=function(e,t){return function(n){var r=arguments.length;if(2>r||null==n)return n;for(var i=1;r>i;i++)for(var o=arguments[i],a=e(o),s=a.length,l=0;s>l;l++){var u=a[l];t&&void 0!==n[u]||(n[u]=o[u])}return n}},S=function(e){if(!w.isObject(e))return{};if(y)return y(e);b.prototype=e;var t=new b;return b.prototype=null,t},_=function(e){return function(t){return null==t?void 0:t[e]}},T=Math.pow(2,53)-1,E=_("length"),M=function(e){var t=E(e);return"number"==typeof t&&t>=0&&T>=t};w.each=w.forEach=function(e,t,n){t=C(t,n);var r,i;if(M(e))for(r=0,i=e.length;i>r;r++)t(e[r],r,e);else{var o=w.keys(e);for(r=0,i=o.length;i>r;r++)t(e[o[r]],o[r],e)}return e},w.map=w.collect=function(e,t,n){t=x(t,n);for(var r=!M(e)&&w.keys(e),i=(r||e).length,o=Array(i),a=0;i>a;a++){var s=r?r[a]:a;o[a]=t(e[s],s,e)}return o},w.reduce=w.foldl=w.inject=e(1),w.reduceRight=w.foldr=e(-1),w.find=w.detect=function(e,t,n){var r;return r=M(e)?w.findIndex(e,t,n):w.findKey(e,t,n),void 0!==r&&-1!==r?e[r]:void 0},w.filter=w.select=function(e,t,n){var r=[];return t=x(t,n),w.each(e,function(e,n,i){t(e,n,i)&&r.push(e)}),r},w.reject=function(e,t,n){return w.filter(e,w.negate(x(t)),n)},w.every=w.all=function(e,t,n){t=x(t,n);for(var r=!M(e)&&w.keys(e),i=(r||e).length,o=0;i>o;o++){var a=r?r[o]:o;if(!t(e[a],a,e))return!1}return!0},w.some=w.any=function(e,t,n){t=x(t,n);for(var r=!M(e)&&w.keys(e),i=(r||e).length,o=0;i>o;o++){var a=r?r[o]:o;if(t(e[a],a,e))return!0}return!1},w.contains=w.includes=w.include=function(e,t,n,r){return M(e)||(e=w.values(e)),("number"!=typeof n||r)&&(n=0),w.indexOf(e,t,n)>=0},w.invoke=function(e,t){var n=d.call(arguments,2),r=w.isFunction(t);return w.map(e,function(e){var i=r?t:e[t];return null==i?i:i.apply(e,n)})},w.pluck=function(e,t){return w.map(e,w.property(t))},w.where=function(e,t){return w.filter(e,w.matcher(t))},w.findWhere=function(e,t){return w.find(e,w.matcher(t))},w.max=function(e,t,n){var r,i,o=-1/0,a=-1/0;if(null==t&&null!=e){e=M(e)?e:w.values(e);for(var s=0,l=e.length;l>s;s++)r=e[s],r>o&&(o=r)}else t=x(t,n),w.each(e,function(e,n,r){i=t(e,n,r),(i>a||i===-1/0&&o===-1/0)&&(o=e,a=i)});return o},w.min=function(e,t,n){var r,i,o=1/0,a=1/0;if(null==t&&null!=e){e=M(e)?e:w.values(e);for(var s=0,l=e.length;l>s;s++)r=e[s],o>r&&(o=r)}else t=x(t,n),w.each(e,function(e,n,r){i=t(e,n,r),(a>i||1/0===i&&1/0===o)&&(o=e,a=i)});return o},w.shuffle=function(e){for(var t,n=M(e)?e:w.values(e),r=n.length,i=Array(r),o=0;r>o;o++)t=w.random(0,o),t!==o&&(i[o]=i[t]),i[t]=n[o];return i},w.sample=function(e,t,n){return null==t||n?(M(e)||(e=w.values(e)),e[w.random(e.length-1)]):w.shuffle(e).slice(0,Math.max(0,t))},w.sortBy=function(e,t,n){return t=x(t,n),w.pluck(w.map(e,function(e,n,r){return{value:e,index:n,criteria:t(e,n,r)}}).sort(function(e,t){var n=e.criteria,r=t.criteria;if(n!==r){if(n>r||void 0===n)return 1;if(r>n||void 0===r)return-1}return e.index-t.index}),"value")};var R=function(e){return function(t,n,r){var i={};return n=x(n,r),w.each(t,function(r,o){var a=n(r,o,t);e(i,r,a)}),i}};w.groupBy=R(function(e,t,n){w.has(e,n)?e[n].push(t):e[n]=[t]}),w.indexBy=R(function(e,t,n){e[n]=t}),w.countBy=R(function(e,t,n){w.has(e,n)?e[n]++:e[n]=1}),w.toArray=function(e){return e?w.isArray(e)?d.call(e):M(e)?w.map(e,w.identity):w.values(e):[]},w.size=function(e){return null==e?0:M(e)?e.length:w.keys(e).length},w.partition=function(e,t,n){t=x(t,n);var r=[],i=[];return w.each(e,function(e,n,o){(t(e,n,o)?r:i).push(e)}),[r,i]},w.first=w.head=w.take=function(e,t,n){return null==e?void 0:null==t||n?e[0]:w.initial(e,e.length-t)},w.initial=function(e,t,n){return d.call(e,0,Math.max(0,e.length-(null==t||n?1:t)))},w.last=function(e,t,n){return null==e?void 0:null==t||n?e[e.length-1]:w.rest(e,Math.max(0,e.length-t))},w.rest=w.tail=w.drop=function(e,t,n){return d.call(e,null==t||n?1:t)},w.compact=function(e){return w.filter(e,w.identity)};var O=function(e,t,n,r){for(var i=[],o=0,a=r||0,s=E(e);s>a;a++){var l=e[a];if(M(l)&&(w.isArray(l)||w.isArguments(l))){t||(l=O(l,t,n));var u=0,c=l.length;for(i.length+=c;c>u;)i[o++]=l[u++]}else n||(i[o++]=l)}return i};w.flatten=function(e,t){return O(e,t,!1)},w.without=function(e){return w.difference(e,d.call(arguments,1))},w.uniq=w.unique=function(e,t,n,r){w.isBoolean(t)||(r=n,n=t,t=!1),null!=n&&(n=x(n,r));for(var i=[],o=[],a=0,s=E(e);s>a;a++){var l=e[a],u=n?n(l,a,e):l;t?(a&&o===u||i.push(l),o=u):n?w.contains(o,u)||(o.push(u),i.push(l)):w.contains(i,l)||i.push(l)}return i},w.union=function(){return w.uniq(O(arguments,!0,!0))},w.intersection=function(e){for(var t=[],n=arguments.length,r=0,i=E(e);i>r;r++){var o=e[r];if(!w.contains(t,o)){for(var a=1;n>a&&w.contains(arguments[a],o);a++);a===n&&t.push(o)}}return t},w.difference=function(e){var t=O(arguments,!0,!0,1);return w.filter(e,function(e){return!w.contains(t,e)})},w.zip=function(){return w.unzip(arguments)},w.unzip=function(e){for(var t=e&&w.max(e,E).length||0,n=Array(t),r=0;t>r;r++)n[r]=w.pluck(e,r);return n},w.object=function(e,t){for(var n={},r=0,i=E(e);i>r;r++)t?n[e[r]]=t[r]:n[e[r][0]]=e[r][1];return n},w.findIndex=r(1),w.findLastIndex=r(-1),w.sortedIndex=function(e,t,n,r){n=x(n,r,1);for(var i=n(t),o=0,a=E(e);a>o;){var s=Math.floor((o+a)/2);n(e[s])<i?o=s+1:a=s}return o},w.indexOf=i(1,w.findIndex,w.sortedIndex),w.lastIndexOf=i(-1,w.findLastIndex),w.range=function(e,t,n){null==t&&(t=e||0,e=0),n=n||1;for(var r=Math.max(Math.ceil((t-e)/n),0),i=Array(r),o=0;r>o;o++,e+=n)i[o]=e;return i};var A=function(e,t,n,r,i){if(!(r instanceof t))return e.apply(n,i);var o=S(e.prototype),a=e.apply(o,i);return w.isObject(a)?a:o};w.bind=function(e,t){if(v&&e.bind===v)return v.apply(e,d.call(arguments,1));if(!w.isFunction(e))throw new TypeError("Bind must be called on a function");var n=d.call(arguments,2),r=function(){return A(e,r,t,this,n.concat(d.call(arguments)))};return r},w.partial=function(e){var t=d.call(arguments,1),n=function(){for(var r=0,i=t.length,o=Array(i),a=0;i>a;a++)o[a]=t[a]===w?arguments[r++]:t[a];for(;r<arguments.length;)o.push(arguments[r++]);return A(e,n,this,this,o)};return n},w.bindAll=function(e){var t,n,r=arguments.length;if(1>=r)throw new Error("bindAll must be passed function names");for(t=1;r>t;t++)n=arguments[t],e[n]=w.bind(e[n],e);return e},w.memoize=function(e,t){var n=function(r){var i=n.cache,o=""+(t?t.apply(this,arguments):r);return w.has(i,o)||(i[o]=e.apply(this,arguments)),i[o]};return n.cache={},n},w.delay=function(e,t){var n=d.call(arguments,2);return setTimeout(function(){return e.apply(null,n)},t)},w.defer=w.partial(w.delay,w,1),w.throttle=function(e,t,n){var r,i,o,a=null,s=0;n||(n={});var l=function(){s=n.leading===!1?0:w.now(),a=null,o=e.apply(r,i),a||(r=i=null)};return function(){var u=w.now();s||n.leading!==!1||(s=u);var c=t-(u-s);return r=this,i=arguments,0>=c||c>t?(a&&(clearTimeout(a),a=null),s=u,o=e.apply(r,i),a||(r=i=null)):a||n.trailing===!1||(a=setTimeout(l,c)),o}},w.debounce=function(e,t,n){var r,i,o,a,s,l=function(){var u=w.now()-a;t>u&&u>=0?r=setTimeout(l,t-u):(r=null,n||(s=e.apply(o,i),r||(o=i=null)))};return function(){o=this,i=arguments,a=w.now();var u=n&&!r;return r||(r=setTimeout(l,t)),u&&(s=e.apply(o,i),o=i=null),s}},w.wrap=function(e,t){return w.partial(t,e)},w.negate=function(e){return function(){return!e.apply(this,arguments)}},w.compose=function(){var e=arguments,t=e.length-1;return function(){for(var n=t,r=e[t].apply(this,arguments);n--;)r=e[n].call(this,r);return r}},w.after=function(e,t){return function(){return--e<1?t.apply(this,arguments):void 0}},w.before=function(e,t){var n;return function(){return--e>0&&(n=t.apply(this,arguments)),1>=e&&(t=null),n}},w.once=w.partial(w.before,2);var L=!{toString:null}.propertyIsEnumerable("toString"),D=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];w.keys=function(e){if(!w.isObject(e))return[];if(g)return g(e);var t=[];for(var n in e)w.has(e,n)&&t.push(n);return L&&o(e,t),t},w.allKeys=function(e){if(!w.isObject(e))return[];var t=[];for(var n in e)t.push(n);return L&&o(e,t),t},w.values=function(e){for(var t=w.keys(e),n=t.length,r=Array(n),i=0;n>i;i++)r[i]=e[t[i]];return r},w.mapObject=function(e,t,n){t=x(t,n);for(var r,i=w.keys(e),o=i.length,a={},s=0;o>s;s++)r=i[s],a[r]=t(e[r],r,e);return a},w.pairs=function(e){for(var t=w.keys(e),n=t.length,r=Array(n),i=0;n>i;i++)r[i]=[t[i],e[t[i]]];return r},w.invert=function(e){for(var t={},n=w.keys(e),r=0,i=n.length;i>r;r++)t[e[n[r]]]=n[r];return t},w.functions=w.methods=function(e){var t=[];for(var n in e)w.isFunction(e[n])&&t.push(n);return t.sort()},w.extend=k(w.allKeys),w.extendOwn=w.assign=k(w.keys),w.findKey=function(e,t,n){t=x(t,n);for(var r,i=w.keys(e),o=0,a=i.length;a>o;o++)if(r=i[o],t(e[r],r,e))return r},w.pick=function(e,t,n){var r,i,o={},a=e;if(null==a)return o;w.isFunction(t)?(i=w.allKeys(a),r=C(t,n)):(i=O(arguments,!1,!1,1),r=function(e,t,n){return t in n},a=Object(a));for(var s=0,l=i.length;l>s;s++){var u=i[s],c=a[u];r(c,u,a)&&(o[u]=c)}return o},w.omit=function(e,t,n){if(w.isFunction(t))t=w.negate(t);else{var r=w.map(O(arguments,!1,!1,1),String);t=function(e,t){return!w.contains(r,t)}}return w.pick(e,t,n)},w.defaults=k(w.allKeys,!0),w.create=function(e,t){var n=S(e);return t&&w.extendOwn(n,t),n},w.clone=function(e){return w.isObject(e)?w.isArray(e)?e.slice():w.extend({},e):e},w.tap=function(e,t){return t(e),e},w.isMatch=function(e,t){var n=w.keys(t),r=n.length;if(null==e)return!r;for(var i=Object(e),o=0;r>o;o++){var a=n[o];if(t[a]!==i[a]||!(a in i))return!1}return!0};var P=function(e,t,n,r){if(e===t)return 0!==e||1/e===1/t;if(null==e||null==t)return e===t;e instanceof w&&(e=e._wrapped),t instanceof w&&(t=t._wrapped);var i=f.call(e);if(i!==f.call(t))return!1;switch(i){case"[object RegExp]":case"[object String]":return""+e==""+t;case"[object Number]":return+e!==+e?+t!==+t:0===+e?1/+e===1/t:+e===+t;case"[object Date]":case"[object Boolean]":return+e===+t}var o="[object Array]"===i;if(!o){if("object"!=typeof e||"object"!=typeof t)return!1;var a=e.constructor,s=t.constructor;if(a!==s&&!(w.isFunction(a)&&a instanceof a&&w.isFunction(s)&&s instanceof s)&&"constructor"in e&&"constructor"in t)return!1}n=n||[],r=r||[];for(var l=n.length;l--;)if(n[l]===e)return r[l]===t;if(n.push(e),r.push(t),o){if(l=e.length,l!==t.length)return!1;for(;l--;)if(!P(e[l],t[l],n,r))return!1}else{var u,c=w.keys(e);if(l=c.length,w.keys(t).length!==l)return!1;for(;l--;)if(u=c[l],!w.has(t,u)||!P(e[u],t[u],n,r))return!1}return n.pop(),r.pop(),!0};w.isEqual=function(e,t){return P(e,t)},w.isEmpty=function(e){return null==e?!0:M(e)&&(w.isArray(e)||w.isString(e)||w.isArguments(e))?0===e.length:0===w.keys(e).length},w.isElement=function(e){return!(!e||1!==e.nodeType)},w.isArray=m||function(e){return"[object Array]"===f.call(e)},w.isObject=function(e){var t=typeof e;return"function"===t||"object"===t&&!!e},w.each(["Arguments","Function","String","Number","Date","RegExp","Error"],function(e){w["is"+e]=function(t){return f.call(t)==="[object "+e+"]"}}),w.isArguments(arguments)||(w.isArguments=function(e){return w.has(e,"callee")}),"function"!=typeof/./&&"object"!=typeof Int8Array&&(w.isFunction=function(e){return"function"==typeof e||!1}),w.isFinite=function(e){return isFinite(e)&&!isNaN(parseFloat(e))},w.isNaN=function(e){return w.isNumber(e)&&e!==+e},w.isBoolean=function(e){return e===!0||e===!1||"[object Boolean]"===f.call(e)},w.isNull=function(e){return null===e},w.isUndefined=function(e){return void 0===e},w.has=function(e,t){return null!=e&&p.call(e,t)},w.noConflict=function(){return a._=s,this},w.identity=function(e){return e},w.constant=function(e){return function(){return e}},w.noop=function(){},w.property=_,w.propertyOf=function(e){return null==e?function(){}:function(t){return e[t]}},w.matcher=w.matches=function(e){return e=w.extendOwn({},e),function(t){return w.isMatch(t,e)}},w.times=function(e,t,n){var r=Array(Math.max(0,e));t=C(t,n,1);for(var i=0;e>i;i++)r[i]=t(i);return r},w.random=function(e,t){return null==t&&(t=e,e=0),e+Math.floor(Math.random()*(t-e+1))},w.now=Date.now||function(){return(new Date).getTime()};var H={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},N=w.invert(H),I=function(e){var t=function(t){return e[t]},n="(?:"+w.keys(e).join("|")+")",r=RegExp(n),i=RegExp(n,"g");return function(e){return e=null==e?"":""+e,r.test(e)?e.replace(i,t):e}};w.escape=I(H),w.unescape=I(N),w.result=function(e,t,n){var r=null==e?void 0:e[t];return void 0===r&&(r=n),w.isFunction(r)?r.call(e):r};var j=0;w.uniqueId=function(e){var t=++j+"";return e?e+t:t},w.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var F=/(.)^/,W={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},B=/\\|'|\r|\n|\u2028|\u2029/g,z=function(e){return"\\"+W[e]};w.template=function(e,t,n){!t&&n&&(t=n),t=w.defaults({},t,w.templateSettings);var r=RegExp([(t.escape||F).source,(t.interpolate||F).source,(t.evaluate||F).source].join("|")+"|$","g"),i=0,o="__p+='";e.replace(r,function(t,n,r,a,s){return o+=e.slice(i,s).replace(B,z),i=s+t.length,n?o+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'":r?o+="'+\n((__t=("+r+"))==null?'':__t)+\n'":a&&(o+="';\n"+a+"\n__p+='"),t}),o+="';\n",t.variable||(o="with(obj||{}){\n"+o+"}\n"),o="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+o+"return __p;\n";try{var a=new Function(t.variable||"obj","_",o)}catch(s){throw s.source=o,s}var l=function(e){return a.call(this,e,w)},u=t.variable||"obj";return l.source="function("+u+"){\n"+o+"}",l},w.chain=function(e){var t=w(e);return t._chain=!0,t};var U=function(e,t){return e._chain?w(t).chain():t};w.mixin=function(e){w.each(w.functions(e),function(t){var n=w[t]=e[t];w.prototype[t]=function(){var e=[this._wrapped];return h.apply(e,arguments),U(this,n.apply(w,e))}})},w.mixin(w),w.each(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var t=l[e];w.prototype[e]=function(){var n=this._wrapped;return t.apply(n,arguments),"shift"!==e&&"splice"!==e||0!==n.length||delete n[0],U(this,n)}}),w.each(["concat","join","slice"],function(e){var t=l[e];w.prototype[e]=function(){return U(this,t.apply(this._wrapped,arguments))}}),w.prototype.value=function(){return this._wrapped},w.prototype.valueOf=w.prototype.toJSON=w.prototype.value,w.prototype.toString=function(){return""+this._wrapped},"function"==typeof define&&define.amd&&define("underscore",[],function(){return w})}).call(this)},{}],130:[function(e,t,n){"use strict";function r(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}function i(e,t,n){if(e&&u.isObject(e)&&e instanceof r)return e;var i=new r;return i.parse(e,t,n),i}function o(e){return u.isString(e)&&(e=i(e)),e instanceof r?e.format():r.prototype.format.call(e)}function a(e,t){return i(e,!1,!0).resolve(t)}function s(e,t){return e?i(e,!1,!0).resolveObject(t):t}var l=e("punycode"),u=e("./util");n.parse=i,n.resolve=a,n.resolveObject=s,n.format=o,n.Url=r;var c=/^([a-z0-9.+-]+:)/i,h=/:[0-9]*$/,d=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,f=["<",">",'"',"`"," ","\r","\n","	"],p=["{","}","|","\\","^","`"].concat(f),m=["'"].concat(p),g=["%","/","?",";","#"].concat(m),v=["/","?","#"],y=255,b=/^[+a-z0-9A-Z_-]{0,63}$/,w=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,C={javascript:!0,"javascript:":!0},x={javascript:!0,"javascript:":!0},k={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},S=e("querystring");r.prototype.parse=function(e,t,n){if(!u.isString(e))throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var r=e.indexOf("?"),i=-1!==r&&r<e.indexOf("#")?"?":"#",o=e.split(i),a=/\\/g;o[0]=o[0].replace(a,"/"),e=o.join(i);var s=e;if(s=s.trim(),!n&&1===e.split("#").length){var h=d.exec(s);if(h)return this.path=s,this.href=s,this.pathname=h[1],h[2]?(this.search=h[2],this.query=t?S.parse(this.search.substr(1)):this.search.substr(1)):t&&(this.search="",this.query={}),this}var f=c.exec(s);if(f){f=f[0];var p=f.toLowerCase();this.protocol=p,s=s.substr(f.length)}if(n||f||s.match(/^\/\/[^@\/]+@[^@\/]+/)){var _="//"===s.substr(0,2);!_||f&&x[f]||(s=s.substr(2),this.slashes=!0)}if(!x[f]&&(_||f&&!k[f])){for(var T=-1,E=0;E<v.length;E++){var M=s.indexOf(v[E]);-1!==M&&(-1===T||T>M)&&(T=M)}var R,O;O=-1===T?s.lastIndexOf("@"):s.lastIndexOf("@",T),-1!==O&&(R=s.slice(0,O),s=s.slice(O+1),this.auth=decodeURIComponent(R)),T=-1;for(var E=0;E<g.length;E++){var M=s.indexOf(g[E]);-1!==M&&(-1===T||T>M)&&(T=M)}-1===T&&(T=s.length),this.host=s.slice(0,T),s=s.slice(T),this.parseHost(),this.hostname=this.hostname||"";var A="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!A)for(var L=this.hostname.split(/\./),E=0,D=L.length;D>E;E++){var P=L[E];if(P&&!P.match(b)){for(var H="",N=0,I=P.length;I>N;N++)H+=P.charCodeAt(N)>127?"x":P[N];if(!H.match(b)){var j=L.slice(0,E),F=L.slice(E+1),W=P.match(w);W&&(j.push(W[1]),F.unshift(W[2])),F.length&&(s="/"+F.join(".")+s),this.hostname=j.join(".");break}}}this.hostname=this.hostname.length>y?"":this.hostname.toLowerCase(),A||(this.hostname=l.toASCII(this.hostname));var B=this.port?":"+this.port:"",z=this.hostname||"";this.host=z+B,this.href+=this.host,A&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==s[0]&&(s="/"+s))}if(!C[p])for(var E=0,D=m.length;D>E;E++){var U=m[E];if(-1!==s.indexOf(U)){var V=encodeURIComponent(U);V===U&&(V=escape(U)),s=s.split(U).join(V)}}var q=s.indexOf("#");-1!==q&&(this.hash=s.substr(q),s=s.slice(0,q));var $=s.indexOf("?");if(-1!==$?(this.search=s.substr($),this.query=s.substr($+1),t&&(this.query=S.parse(this.query)),s=s.slice(0,$)):t&&(this.search="",this.query={}),s&&(this.pathname=s),k[p]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var B=this.pathname||"",Y=this.search||"";this.path=B+Y}return this.href=this.format(),this},r.prototype.format=function(){var e=this.auth||"";e&&(e=encodeURIComponent(e),e=e.replace(/%3A/i,":"),e+="@");var t=this.protocol||"",n=this.pathname||"",r=this.hash||"",i=!1,o="";this.host?i=e+this.host:this.hostname&&(i=e+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(i+=":"+this.port)),this.query&&u.isObject(this.query)&&Object.keys(this.query).length&&(o=S.stringify(this.query));var a=this.search||o&&"?"+o||"";return t&&":"!==t.substr(-1)&&(t+=":"),this.slashes||(!t||k[t])&&i!==!1?(i="//"+(i||""),n&&"/"!==n.charAt(0)&&(n="/"+n)):i||(i=""),r&&"#"!==r.charAt(0)&&(r="#"+r),a&&"?"!==a.charAt(0)&&(a="?"+a),n=n.replace(/[?#]/g,function(e){return encodeURIComponent(e)}),a=a.replace("#","%23"),t+i+n+a+r},r.prototype.resolve=function(e){return this.resolveObject(i(e,!1,!0)).format()},r.prototype.resolveObject=function(e){if(u.isString(e)){var t=new r;t.parse(e,!1,!0),e=t}for(var n=new r,i=Object.keys(this),o=0;o<i.length;o++){var a=i[o];n[a]=this[a]}if(n.hash=e.hash,""===e.href)return n.href=n.format(),n;if(e.slashes&&!e.protocol){for(var s=Object.keys(e),l=0;l<s.length;l++){var c=s[l];"protocol"!==c&&(n[c]=e[c])}return k[n.protocol]&&n.hostname&&!n.pathname&&(n.path=n.pathname="/"),n.href=n.format(),n}if(e.protocol&&e.protocol!==n.protocol){if(!k[e.protocol]){for(var h=Object.keys(e),d=0;d<h.length;d++){var f=h[d];n[f]=e[f]}return n.href=n.format(),n}if(n.protocol=e.protocol,e.host||x[e.protocol])n.pathname=e.pathname;else{for(var p=(e.pathname||"").split("/");p.length&&!(e.host=p.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),""!==p[0]&&p.unshift(""),p.length<2&&p.unshift(""),n.pathname=p.join("/")}if(n.search=e.search,n.query=e.query,n.host=e.host||"",n.auth=e.auth,n.hostname=e.hostname||e.host,n.port=e.port,n.pathname||n.search){var m=n.pathname||"",g=n.search||"";n.path=m+g}return n.slashes=n.slashes||e.slashes,n.href=n.format(),n}var v=n.pathname&&"/"===n.pathname.charAt(0),y=e.host||e.pathname&&"/"===e.pathname.charAt(0),b=y||v||n.host&&e.pathname,w=b,C=n.pathname&&n.pathname.split("/")||[],p=e.pathname&&e.pathname.split("/")||[],S=n.protocol&&!k[n.protocol];if(S&&(n.hostname="",n.port=null,n.host&&(""===C[0]?C[0]=n.host:C.unshift(n.host)),n.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(""===p[0]?p[0]=e.host:p.unshift(e.host)),e.host=null),b=b&&(""===p[0]||""===C[0])),y)n.host=e.host||""===e.host?e.host:n.host,n.hostname=e.hostname||""===e.hostname?e.hostname:n.hostname,n.search=e.search,n.query=e.query,C=p;else if(p.length)C||(C=[]),C.pop(),C=C.concat(p),n.search=e.search,n.query=e.query;else if(!u.isNullOrUndefined(e.search)){if(S){n.hostname=n.host=C.shift();var _=n.host&&n.host.indexOf("@")>0?n.host.split("@"):!1;_&&(n.auth=_.shift(),n.host=n.hostname=_.shift())}return n.search=e.search,n.query=e.query,u.isNull(n.pathname)&&u.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.href=n.format(),n}if(!C.length)return n.pathname=null,n.path=n.search?"/"+n.search:null,n.href=n.format(),n;for(var T=C.slice(-1)[0],E=(n.host||e.host||C.length>1)&&("."===T||".."===T)||""===T,M=0,R=C.length;R>=0;R--)T=C[R],"."===T?C.splice(R,1):".."===T?(C.splice(R,1),M++):M&&(C.splice(R,1),M--);if(!b&&!w)for(;M--;M)C.unshift("..");!b||""===C[0]||C[0]&&"/"===C[0].charAt(0)||C.unshift(""),E&&"/"!==C.join("/").substr(-1)&&C.push("");var O=""===C[0]||C[0]&&"/"===C[0].charAt(0);if(S){n.hostname=n.host=O?"":C.length?C.shift():"";var _=n.host&&n.host.indexOf("@")>0?n.host.split("@"):!1;_&&(n.auth=_.shift(),n.host=n.hostname=_.shift())}return b=b||n.host&&C.length,b&&!O&&C.unshift(""),C.length?n.pathname=C.join("/"):(n.pathname=null,n.path=null),u.isNull(n.pathname)&&u.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.auth=e.auth||n.auth,n.slashes=n.slashes||e.slashes,n.href=n.format(),n},r.prototype.parseHost=function(){var e=this.host,t=h.exec(e);t&&(t=t[0],":"!==t&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)}},{"./util":131,punycode:124,querystring:127}],131:[function(e,t){"use strict";t.exports={isString:function(e){return"string"==typeof e},isObject:function(e){return"object"==typeof e&&null!==e},isNull:function(e){return null===e},isNullOrUndefined:function(e){return null==e}}},{}],132:[function(e,t){t.exports="function"==typeof Object.create?function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},{}],133:[function(e,t){t.exports=function(e){return e&&"object"==typeof e&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8}},{}],134:[function(e,t,n){(function(t,r){function i(e,t){var r={seen:[],stylize:a};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),m(t)?r.showHidden=t:t&&n._extend(r,t),C(r.showHidden)&&(r.showHidden=!1),C(r.depth)&&(r.depth=2),C(r.colors)&&(r.colors=!1),C(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=o),l(r,e,r.depth)}function o(e,t){var n=i.styles[t];return n?"["+i.colors[n][0]+"m"+e+"["+i.colors[n][1]+"m":e}function a(e){return e}function s(e){var t={};return e.forEach(function(e){t[e]=!0}),t}function l(e,t,r){if(e.customInspect&&t&&T(t.inspect)&&t.inspect!==n.inspect&&(!t.constructor||t.constructor.prototype!==t)){var i=t.inspect(r,e);return b(i)||(i=l(e,i,r)),i}var o=u(e,t);if(o)return o;var a=Object.keys(t),m=s(a);if(e.showHidden&&(a=Object.getOwnPropertyNames(t)),_(t)&&(a.indexOf("message")>=0||a.indexOf("description")>=0))return c(t);if(0===a.length){if(T(t)){var g=t.name?": "+t.name:"";return e.stylize("[Function"+g+"]","special")}if(x(t))return e.stylize(RegExp.prototype.toString.call(t),"regexp");if(S(t))return e.stylize(Date.prototype.toString.call(t),"date");if(_(t))return c(t)}var v="",y=!1,w=["{","}"];if(p(t)&&(y=!0,w=["[","]"]),T(t)){var C=t.name?": "+t.name:"";v=" [Function"+C+"]"}if(x(t)&&(v=" "+RegExp.prototype.toString.call(t)),S(t)&&(v=" "+Date.prototype.toUTCString.call(t)),_(t)&&(v=" "+c(t)),0===a.length&&(!y||0==t.length))return w[0]+v+w[1];if(0>r)return x(t)?e.stylize(RegExp.prototype.toString.call(t),"regexp"):e.stylize("[Object]","special");e.seen.push(t);var k;return k=y?h(e,t,r,m,a):a.map(function(n){return d(e,t,r,m,n,y)}),e.seen.pop(),f(k,v,w)}function u(e,t){if(C(t))return e.stylize("undefined","undefined");if(b(t)){var n="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(n,"string")}return y(t)?e.stylize(""+t,"number"):m(t)?e.stylize(""+t,"boolean"):g(t)?e.stylize("null","null"):void 0}function c(e){return"["+Error.prototype.toString.call(e)+"]"}function h(e,t,n,r,i){for(var o=[],a=0,s=t.length;s>a;++a)A(t,String(a))?o.push(d(e,t,n,r,String(a),!0)):o.push("");return i.forEach(function(i){i.match(/^\d+$/)||o.push(d(e,t,n,r,i,!0))}),o}function d(e,t,n,r,i,o){var a,s,u;if(u=Object.getOwnPropertyDescriptor(t,i)||{value:t[i]},u.get?s=u.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):u.set&&(s=e.stylize("[Setter]","special")),A(r,i)||(a="["+i+"]"),s||(e.seen.indexOf(u.value)<0?(s=g(n)?l(e,u.value,null):l(e,u.value,n-1),s.indexOf("\n")>-1&&(s=o?s.split("\n").map(function(e){return"  "+e}).join("\n").substr(2):"\n"+s.split("\n").map(function(e){return"   "+e}).join("\n"))):s=e.stylize("[Circular]","special")),C(a)){if(o&&i.match(/^\d+$/))return s;a=JSON.stringify(""+i),a.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(a=a.substr(1,a.length-2),a=e.stylize(a,"name")):(a=a.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),a=e.stylize(a,"string"))}return a+": "+s}function f(e,t,n){var r=0,i=e.reduce(function(e,t){return r++,t.indexOf("\n")>=0&&r++,e+t.replace(/\u001b\[\d\d?m/g,"").length+1},0);return i>60?n[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+n[1]:n[0]+t+" "+e.join(", ")+" "+n[1]}function p(e){return Array.isArray(e)}function m(e){return"boolean"==typeof e}function g(e){return null===e}function v(e){return null==e}function y(e){return"number"==typeof e}function b(e){return"string"==typeof e}function w(e){return"symbol"==typeof e}function C(e){return void 0===e}function x(e){return k(e)&&"[object RegExp]"===M(e)}function k(e){return"object"==typeof e&&null!==e}function S(e){return k(e)&&"[object Date]"===M(e)}function _(e){return k(e)&&("[object Error]"===M(e)||e instanceof Error)}function T(e){return"function"==typeof e
}function E(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||"undefined"==typeof e}function M(e){return Object.prototype.toString.call(e)}function R(e){return 10>e?"0"+e.toString(10):e.toString(10)}function O(){var e=new Date,t=[R(e.getHours()),R(e.getMinutes()),R(e.getSeconds())].join(":");return[e.getDate(),H[e.getMonth()],t].join(" ")}function A(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var L=/%[sdj%]/g;n.format=function(e){if(!b(e)){for(var t=[],n=0;n<arguments.length;n++)t.push(i(arguments[n]));return t.join(" ")}for(var n=1,r=arguments,o=r.length,a=String(e).replace(L,function(e){if("%%"===e)return"%";if(n>=o)return e;switch(e){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch(t){return"[Circular]"}default:return e}}),s=r[n];o>n;s=r[++n])a+=g(s)||!k(s)?" "+s:" "+i(s);return a},n.deprecate=function(e,i){function o(){if(!a){if(t.throwDeprecation)throw new Error(i);t.traceDeprecation?console.trace(i):console.error(i),a=!0}return e.apply(this,arguments)}if(C(r.process))return function(){return n.deprecate(e,i).apply(this,arguments)};if(t.noDeprecation===!0)return e;var a=!1;return o};var D,P={};n.debuglog=function(e){if(C(D)&&(D=t.env.NODE_DEBUG||""),e=e.toUpperCase(),!P[e])if(new RegExp("\\b"+e+"\\b","i").test(D)){var r=t.pid;P[e]=function(){var t=n.format.apply(n,arguments);console.error("%s %d: %s",e,r,t)}}else P[e]=function(){};return P[e]},n.inspect=i,i.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},i.styles={special:"cyan",number:"yellow","boolean":"yellow",undefined:"grey","null":"bold",string:"green",date:"magenta",regexp:"red"},n.isArray=p,n.isBoolean=m,n.isNull=g,n.isNullOrUndefined=v,n.isNumber=y,n.isString=b,n.isSymbol=w,n.isUndefined=C,n.isRegExp=x,n.isObject=k,n.isDate=S,n.isError=_,n.isFunction=T,n.isPrimitive=E,n.isBuffer=e("./support/isBuffer");var H=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];n.log=function(){console.log("%s - %s",O(),n.format.apply(n,arguments))},n.inherits=e("inherits"),n._extend=function(e,t){if(!t||!k(t))return e;for(var n=Object.keys(t),r=n.length;r--;)e[n[r]]=t[n[r]];return e}}).call(this,e("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./support/isBuffer":133,_process:123,inherits:132}],135:[function(e,t){t.exports={api:"https://code.iilab.org/api/v3",host:"code.iilab.org",clientId:"ccaee7d09ab99c8772a9eaf2a8af0821689024cd4429cd3f334d9a9169edf756",gatekeeperUrl:"https://sleepy-river-59955.herokuapp.com"}},{}],136:[function(e,t){var n=e("underscore"),r=e("./dist/templates"),i=r.reduce(function(e,t){function r(e,t,n){for(var r=t.length-1,i=0;r>i;++i){var o=t[i];o in e||(e[o]={}),e=e[o]}e[t[r]]=n}var i=n.template(t.html,{variable:"data"}),o=t.dir,a=t.id;return o[0].length>1?(o.push(a),r(e,o,i)):e[a]=i,e},{});t.exports=i},{"./dist/templates":59,underscore:129}],137:[function(e,t){t.exports=[{name:"Basque",code:"eu"},{name:"Bengali",code:"bn"},{name:"Catalan",code:"ca"},{name:"Chinese",code:"zh"},{name:"Chinese (China)",code:"zh-CN"},{name:"Danish",code:"da"},{name:"Dutch",code:"nl"},{name:"English",code:"en"},{name:"French",code:"fr"},{name:"German",code:"de"},{name:"Hebrew (Israel)",code:"he-IL"},{name:"Italian",code:"it"},{name:"Japanese",code:"ja"},{name:"Korean",code:"ko"},{name:"Polish",code:"pl"},{name:"Portuguese (Brazil)",code:"pt-BR"},{name:"Romanian",code:"ro"},{name:"Russian",code:"ru"},{name:"Spanish",code:"es"},{name:"Swedish",code:"sv"},{name:"Turkish",code:"tr"},{name:"Vietnamese",code:"vi"}]},{}],138:[function(e,t){t.exports=function(){Liquid.readTemplateFile=function(e){var t=this.collection.findWhere({path:"_includes/"+e});if(t)return t.getContentSync().responseText;throw"File Not Found:"+e}.bind(this),Liquid.Template.registerTag("include",Liquid.Tag.extend({paramSyntax:/([\w-]+)\s*=\s*(?:"([^"\\]*(?:\\.[^"\\]*)*)"|'([^'\\]*(?:\\.[^'\\]*)*)'|([\w\.-]+))/,init:function(e,t,n){var r=(t||"").strip().split(/\s+(.+)?/);if(!r)throw"Error in tag 'include "+t+"' - Valid syntax: {% include file.ext param='value' param2='value' %}";this.templateName=r[0],this.rawParams=r[1],this._super(e,t,n)},render:function(e){var t=this.retrieve_variable(this.templateName,e)||this.templateName,n=Liquid.readTemplateFile(t),r=Liquid.parse(n),i=this.parseParams(this.rawParams,e);e.set("include",i);var o=r.render(e);return o=[o].flatten().join("")},retrieve_variable:function(e,t){var n=e.match(/\{\{([\w\-\.]+)\}\}/);if(n){var r=t.get(n[1]);if(r)return r;throw"No variable "+n[1]+"was found in include tag"}},parseParams:function(e,t){for(var n,r={},i=e||"";n=i.match(this.paramSyntax);){i=i.substr(n[0].length);var o;n[2]?o=n[2].replace(/\\"/g,'"'):n[3]?o=n[3].replace(/\\'/g,"'"):n[4]&&(o=t.get(n[4])),r[n[1]]=o}return r}})),Liquid.Block.prototype.renderAll=function(e,t){return(e||[]).map(function(e){var n="";try{n=e.render?e.render(t):e}catch(r){console.log(t.handleError(r))}return n})},Liquid.Template.registerTag("highlight",Liquid.Block.extend({tagSyntax:/(\w+)/,init:function(e,t,n){var r=t.match(this.tagSyntax);if(!r)throw"Syntax error in 'highlight' - Valid syntax: hightlight [language]";this.to=r[1],this._super(e,t,n)},render:function(e){var t=this._super(e);return"<pre>"+t[0]+"</pre>"}})),Liquid.Template.registerTag("unless",Liquid.Template.tags["if"].extend({render:function(e){var t=this,n="";return e.stack(function(){var r=t.blocks[0];if(!r.evaluate(e))return n=t.renderAll(r.attachment,e),void 0;for(var i=1;i<t.blocks.length;i++){var r=t.blocks[i];if(r.evaluate(e))return n=t.renderAll(r.attachment,e),void 0}}),[n].flatten().join("")}})),Liquid.Block.prototype.unknownTag=function(e){switch(e){case"else":console.log(this.blockName+" tag does not expect else tag");break;case"end":console.log("'end' is not a valid delimiter for "+this.blockName+" tags. use "+this.blockDelimiter);break;default:console.log("Unknown tag: "+e)}},Liquid.Condition.operators.contains=function(e,t){return"object"==typeof e?e.include(t):-1!==e.indexOf(t)},Liquid.Template.registerFilter({replace:function(e,t,n){return n=n||"",e?e.toString().split(t).join(n):""},replace_first:function(e,t,n){return n=n||"",e?e.toString().replace(t,n):""}})}},{}]},{},[11]);